/*
 howler.js v2.2.4 | (c) 2013-2020, James Simpson of GoldFire Studios | MIT License | howlerjs.com  Spatial Plugin  @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(I,n,z){I!=Array.prototype&&I!=Object.prototype&&(I[n]=z.value)};
$jscomp.getGlobal=function(I){I=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,I];for(var n=0;n<I.length;++n){var z=I[n];if(z&&z.Math==Math)return z}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(I,n,z,B){if(n){z=$jscomp.global;I=I.split(".");for(B=0;B<I.length-1;B++){var x=I[B];x in z||(z[x]={});z=z[x]}I=I[I.length-1];B=z[I];n=n(B);n!=B&&null!=n&&$jscomp.defineProperty(z,I,{configurable:!0,writable:!0,value:n})}};$jscomp.underscoreProtoCanBeSet=function(){var I={a:!0},n={};try{return n.__proto__=I,n.a}catch(z){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(I,n){I.__proto__=n;if(I.__proto__!==n)throw new TypeError(I+" is not extensible");return I}:null;$jscomp.polyfill("Object.setPrototypeOf",function(I){return I||$jscomp.setPrototypeOf},"es6","es5");$jscomp.owns=function(I,n){return Object.prototype.hasOwnProperty.call(I,n)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(I,n){for(var z=1;z<arguments.length;z++){var B=arguments[z];if(B)for(var x in B)$jscomp.owns(B,x)&&(I[x]=B[x])}return I};$jscomp.polyfill("Object.assign",function(I){return I||$jscomp.assign},"es6","es3");$jscomp.arrayIteratorImpl=function(I){var n=0;return function(){return n<I.length?{done:!1,value:I[n++]}:{done:!0}}};$jscomp.arrayIterator=function(I){return{next:$jscomp.arrayIteratorImpl(I)}};
$jscomp.makeIterator=function(I){var n="undefined"!=typeof Symbol&&Symbol.iterator&&I[Symbol.iterator];return n?n.call(I):$jscomp.arrayIterator(I)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(I){function n(){this.batch_=null}function z(k){return k instanceof x?k:new x(function(n,v){n(k)})}if(I&&!$jscomp.FORCE_POLYFILL_PROMISE)return I;n.prototype.asyncExecute=function(k){if(null==this.batch_){this.batch_=[];var n=this;this.asyncExecuteFunction(function(){n.executeBatch_()})}this.batch_.push(k)};var B=$jscomp.global.setTimeout;n.prototype.asyncExecuteFunction=function(k){B(k,0)};n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var k=
this.batch_;this.batch_=[];for(var n=0;n<k.length;++n){var v=k[n];k[n]=null;try{v()}catch(na){this.asyncThrow_(na)}}}this.batch_=null};n.prototype.asyncThrow_=function(k){this.asyncExecuteFunction(function(){throw k;})};var x=function(k){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var n=this.createResolveAndReject_();try{k(n.resolve,n.reject)}catch(W){n.reject(W)}};x.prototype.createResolveAndReject_=function(){function k(k){return function(c){v||(v=!0,k.call(n,c))}}var n=this,v=
!1;return{resolve:k(this.resolveTo_),reject:k(this.reject_)}};x.prototype.resolveTo_=function(k){if(k===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(k instanceof x)this.settleSameAsPromise_(k);else{a:switch(typeof k){case "object":var n=null!=k;break a;case "function":n=!0;break a;default:n=!1}n?this.resolveToNonPromiseObj_(k):this.fulfill_(k)}};x.prototype.resolveToNonPromiseObj_=function(k){var n=void 0;try{n=k.then}catch(W){this.reject_(W);return}"function"==typeof n?
this.settleSameAsThenable_(n,k):this.fulfill_(k)};x.prototype.reject_=function(k){this.settle_(2,k)};x.prototype.fulfill_=function(k){this.settle_(1,k)};x.prototype.settle_=function(k,n){if(0!=this.state_)throw Error("Cannot settle("+k+", "+n+"): Promise already settled in state"+this.state_);this.state_=k;this.result_=n;this.executeOnSettledCallbacks_()};x.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var k=0;k<this.onSettledCallbacks_.length;++k)v.asyncExecute(this.onSettledCallbacks_[k]);
this.onSettledCallbacks_=null}};var v=new n;x.prototype.settleSameAsPromise_=function(k){var n=this.createResolveAndReject_();k.callWhenSettled_(n.resolve,n.reject)};x.prototype.settleSameAsThenable_=function(k,n){var v=this.createResolveAndReject_();try{k.call(n,v.resolve,v.reject)}catch(na){v.reject(na)}};x.prototype.then=function(k,n){function v(f,k){return"function"==typeof f?function(k){try{na(f(k))}catch(fa){c(fa)}}:k}var na,c,f=new x(function(f,k){na=f;c=k});this.callWhenSettled_(v(k,na),v(n,
c));return f};x.prototype.catch=function(k){return this.then(void 0,k)};x.prototype.callWhenSettled_=function(k,n){function W(){switch(x.state_){case 1:k(x.result_);break;case 2:n(x.result_);break;default:throw Error("Unexpected state: "+x.state_);}}var x=this;null==this.onSettledCallbacks_?v.asyncExecute(W):this.onSettledCallbacks_.push(W)};x.resolve=z;x.reject=function(k){return new x(function(n,v){v(k)})};x.race=function(k){return new x(function(n,v){for(var x=$jscomp.makeIterator(k),c=x.next();!c.done;c=
x.next())z(c.value).callWhenSettled_(n,v)})};x.all=function(k){var n=$jscomp.makeIterator(k),v=n.next();return v.done?z([]):new x(function(k,c){function f(c){return function(f){r[c]=f;x--;0==x&&k(r)}}var r=[],x=0;do r.push(void 0),x++,z(v.value).callWhenSettled_(f(r.length-1),c),v=n.next();while(!v.done)})};return x},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(I,n){this.$jscomp$symbol$id_=I;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function I(z){if(this instanceof I)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(z||"")+"_"+n++,z)}var n=0;return I}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var I=$jscomp.global.Symbol.iterator;I||(I=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[I]&&$jscomp.defineProperty(Array.prototype,I,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var I=$jscomp.global.Symbol.asyncIterator;I||(I=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(I){$jscomp.initSymbolIterator();I={next:I};I[$jscomp.global.Symbol.iterator]=function(){return this};return I};
$jscomp.iteratorFromArray=function(I,n){$jscomp.initSymbolIterator();I instanceof String&&(I+="");var z=0,B={next:function(){if(z<I.length){var x=z++;return{value:n(x,I[x]),done:!1}}B.next=function(){return{done:!0,value:void 0}};return B.next()}};B[Symbol.iterator]=function(){return B};return B};$jscomp.polyfill("Array.prototype.entries",function(I){return I?I:function(){return $jscomp.iteratorFromArray(this,function(n,z){return[n,z]})}},"es6","es3");
$jscomp.polyfill("Array.from",function(I){return I?I:function(n,z,B){z=null!=z?z:function(k){return k};var x=[],v="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];if("function"==typeof v){n=v.call(n);for(var k=0;!(v=n.next()).done;)x.push(z.call(B,v.value,k++))}else for(v=n.length,k=0;k<v;k++)x.push(z.call(B,n[k],k));return x}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(I){return I?I:function(){return $jscomp.iteratorFromArray(this,function(n,z){return z})}},"es8","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var I={},n=Object.create(new $jscomp.global.Proxy(I,{get:function(z,B,x){return z==I&&"q"==B&&x==n}}));return!0===n.q}catch(z){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(I){function n(){if(!I||!Object.seal)return!1;try{var k=Object.seal({}),c=Object.seal({}),f=new I([[k,2],[c,3]]);if(2!=f.get(k)||3!=f.get(c))return!1;f.delete(k);f.set(c,4);return!f.has(k)&&4==f.get(c)}catch(r){return!1}}function z(){}function B(k){var c=typeof k;return"object"===c&&null!==k||"function"===c}function x(n){if(!$jscomp.owns(n,k)){var c=new z;$jscomp.defineProperty(n,k,{value:c})}}function v(k){var c=Object[k];c&&(Object[k]=function(f){if(f instanceof
z)return f;x(f);return c(f)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(I&&$jscomp.ES6_CONFORMANCE)return I}else if(n())return I;var k="$jscomp_hidden_"+Math.random();v("freeze");v("preventExtensions");v("seal");var ma=0,W=function(k){this.id_=(ma+=Math.random()+1).toString();if(k){k=$jscomp.makeIterator(k);for(var c;!(c=k.next()).done;)c=c.value,this.set(c[0],c[1])}};W.prototype.set=function(n,c){if(!B(n))throw Error("Invalid WeakMap key");x(n);if(!$jscomp.owns(n,k))throw Error("WeakMap key fail: "+
n);n[k][this.id_]=c;return this};W.prototype.get=function(n){return B(n)&&$jscomp.owns(n,k)?n[k][this.id_]:void 0};W.prototype.has=function(n){return B(n)&&$jscomp.owns(n,k)&&$jscomp.owns(n[k],this.id_)};W.prototype.delete=function(n){return B(n)&&$jscomp.owns(n,k)&&$jscomp.owns(n[k],this.id_)?delete n[k][this.id_]:!1};return W},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(I){function n(){if($jscomp.ASSUME_NO_NATIVE_MAP||!I||"function"!=typeof I||!I.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),n=new I($jscomp.makeIterator([[k,"s"]]));if("s"!=n.get(k)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var c=n.entries(),f=c.next();if(f.done||f.value[0]!=k||"s"!=f.value[1])return!1;f=c.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!c.next().done?!1:!0}catch(r){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(I&&$jscomp.ES6_CONFORMANCE)return I}else if(n())return I;$jscomp.initSymbolIterator();var z=new WeakMap,B=function(n){this.data_={};this.head_=k();this.size=0;if(n){n=$jscomp.makeIterator(n);for(var v;!(v=n.next()).done;)v=v.value,this.set(v[0],v[1])}};B.prototype.set=function(k,n){k=0===k?0:k;var c=x(this,k);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=n:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:k,
value:n},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};B.prototype.delete=function(k){k=x(this,k);return k.entry&&k.list?(k.list.splice(k.index,1),k.list.length||delete this.data_[k.id],k.entry.previous.next=k.entry.next,k.entry.next.previous=k.entry.previous,k.entry.head=null,this.size--,!0):!1};B.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=k();this.size=0};B.prototype.has=function(k){return!!x(this,k).entry};
B.prototype.get=function(k){return(k=x(this,k).entry)&&k.value};B.prototype.entries=function(){return v(this,function(k){return[k.key,k.value]})};B.prototype.keys=function(){return v(this,function(k){return k.key})};B.prototype.values=function(){return v(this,function(k){return k.value})};B.prototype.forEach=function(k,n){for(var c=this.entries(),f;!(f=c.next()).done;)f=f.value,k.call(n,f[1],f[0],this)};B.prototype[Symbol.iterator]=B.prototype.entries;var x=function(k,n){var c=n&&typeof n;"object"==
c||"function"==c?z.has(n)?c=z.get(n):(c=""+ ++ma,z.set(n,c)):c="p_"+n;var f=k.data_[c];if(f&&$jscomp.owns(k.data_,c))for(k=0;k<f.length;k++){var r=f[k];if(n!==n&&r.key!==r.key||n===r.key)return{id:c,list:f,index:k,entry:r}}return{id:c,list:f,index:-1,entry:void 0}},v=function(k,n){var c=k.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=k.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:n(c)};c=null}return{done:!0,value:void 0}})},k=function(){var k={};return k.previous=
k.next=k.head=k},ma=0;return B},"es6","es3");
$jscomp.polyfill("Set",function(I){function n(){if($jscomp.ASSUME_NO_NATIVE_SET||!I||"function"!=typeof I||!I.prototype.entries||"function"!=typeof Object.seal)return!1;try{var n=Object.seal({x:4}),x=new I($jscomp.makeIterator([n]));if(!x.has(n)||1!=x.size||x.add(n)!=x||1!=x.size||x.add({x:4})!=x||2!=x.size)return!1;var v=x.entries(),k=v.next();if(k.done||k.value[0]!=n||k.value[1]!=n)return!1;k=v.next();return k.done||k.value[0]==n||4!=k.value[0].x||k.value[1]!=k.value[0]?!1:v.next().done}catch(ma){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(I&&$jscomp.ES6_CONFORMANCE)return I}else if(n())return I;$jscomp.initSymbolIterator();var z=function(n){this.map_=new Map;if(n){n=$jscomp.makeIterator(n);for(var x;!(x=n.next()).done;)this.add(x.value)}this.size=this.map_.size};z.prototype.add=function(n){n=0===n?0:n;this.map_.set(n,n);this.size=this.map_.size;return this};z.prototype.delete=function(n){n=this.map_.delete(n);this.size=this.map_.size;return n};z.prototype.clear=function(){this.map_.clear();
this.size=0};z.prototype.has=function(n){return this.map_.has(n)};z.prototype.entries=function(){return this.map_.entries()};z.prototype.values=function(){return this.map_.values()};z.prototype.keys=z.prototype.values;z.prototype[Symbol.iterator]=z.prototype.values;z.prototype.forEach=function(n,x){var v=this;this.map_.forEach(function(k){return n.call(x,k,k,v)})};return z},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(I){return I?I:function(){return $jscomp.iteratorFromArray(this,function(n){return n})}},"es6","es3");$jscomp.polyfill("globalThis",function(I){return I||$jscomp.global},"es_next","es3");$jscomp.polyfill("Object.entries",function(I){return I?I:function(n){var z=[],B;for(B in n)$jscomp.owns(n,B)&&z.push([B,n[B]]);return z}},"es8","es3");
$jscomp.findInternal=function(I,n,z){I instanceof String&&(I=String(I));for(var B=I.length,x=0;x<B;x++){var v=I[x];if(n.call(z,v,x,I))return{i:x,v:v}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(I){return I?I:function(n,z){return $jscomp.findInternal(this,n,z).v}},"es6","es3");
$jscomp.checkStringArgs=function(I,n,z){if(null==I)throw new TypeError("The 'this' value for String.prototype."+z+" must not be null or undefined");if(n instanceof RegExp)throw new TypeError("First argument to String.prototype."+z+" must not be a regular expression");return I+""};
$jscomp.polyfill("String.prototype.repeat",function(I){return I?I:function(n){var z=$jscomp.checkStringArgs(this,null,"repeat");if(0>n||1342177279<n)throw new RangeError("Invalid count value");n|=0;for(var B="";n;)if(n&1&&(B+=z),n>>>=1)z+=z;return B}},"es6","es3");$jscomp.polyfill("Array.prototype.findIndex",function(I){return I?I:function(n,z){return $jscomp.findInternal(this,n,z).i}},"es6","es3");
$jscomp.polyfill("Object.is",function(I){return I?I:function(n,z){return n===z?0!==n||1/n===1/z:n!==n&&z!==z}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(I){return I?I:function(n,z){var B=this;B instanceof String&&(B=String(B));var x=B.length;z=z||0;for(0>z&&(z=Math.max(z+x,0));z<x;z++){var v=B[z];if(v===n||Object.is(v,n))return!0}return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(I){return I?I:function(n,z){return-1!==$jscomp.checkStringArgs(this,n,"includes").indexOf(n,z||0)}},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(I){return I?I:function(n,z){var B=$jscomp.checkStringArgs(this,n,"startsWith");n+="";var x=B.length,v=n.length;z=Math.max(0,Math.min(z|0,B.length));for(var k=0;k<v&&z<x;)if(B[z++]!=n[k++])return!1;return k>=v}},"es6","es3");
$jscomp.polyfill("String.prototype.matchAll",function(I){if(I)return I;$jscomp.initSymbolIterator();return function(n){if(n instanceof RegExp&&!n.global)throw new TypeError("RegExp passed into String.prototype.matchAll() must have global tag.");var z=new RegExp(n,n instanceof RegExp?void 0:"g"),B=this,x=!1,v={next:function(){var k={},n=z.lastIndex;if(x)return{value:void 0,done:!0};var v=z.exec(B);if(!v)return x=!0,{value:void 0,done:!0};z.lastIndex===n&&(z.lastIndex+=1);k.value=v;k.done=!1;return k}};
v[Symbol.iterator]=function(){return v};return v}},"es_next","es3");$jscomp.polyfill("String.prototype.endsWith",function(I){return I?I:function(n,z){var B=$jscomp.checkStringArgs(this,n,"endsWith");n+="";void 0===z&&(z=B.length);z=Math.max(0,Math.min(z|0,B.length));for(var x=n.length;0<x&&0<z;)if(B[--z]!=n[--x])return!1;return 0>=x}},"es6","es3");
$jscomp.polyfill("String.fromCodePoint",function(I){return I?I:function(n){for(var z="",B=0;B<arguments.length;B++){var x=Number(arguments[B]);if(0>x||1114111<x||x!==Math.floor(x))throw new RangeError("invalid_code_point "+x);65535>=x?z+=String.fromCharCode(x):(x-=65536,z+=String.fromCharCode(x>>>10&1023|55296),z+=String.fromCharCode(x&1023|56320))}return z}},"es6","es3");
(function(I,n){I.lime=I.lime||{};I.lime.$scripts=I.lime.$scripts||{};I.lime.$scripts.zoo=function(n,B){!function(x,v){"object"==typeof n&&"undefined"!=typeof module?module.exports=v():"function"==typeof define&&define.amd?define(v):(x="undefined"!=typeof globalThis?globalThis:x||self).firebase=v()}(this,function(){function n(c,f,h,k){return new (h=h||Promise)(function(M,ea){function g(g){try{r(k.next(g))}catch(Sa){ea(Sa)}}function n(g){try{r(k.throw(g))}catch(Sa){ea(Sa)}}function r(c){var f;c.done?
M(c.value):((f=c.value)instanceof h?f:new h(function(g){g(f)})).then(g,n)}r((k=k.apply(c,f||[])).next())})}function v(c,f){function h(h){return function(ea){return function(h){if(k)throw new TypeError("Generator is already executing.");for(;g;)try{if(k=1,M&&(n=2&h[0]?M.return:h[0]?M.throw||((n=M.return)&&n.call(M),0):M.next)&&!(n=n.call(M,h[1])).done)return n;switch(M=0,(h=n?[2&h[0],n.value]:h)[0]){case 0:case 1:n=h;break;case 4:return g.label++,{value:h[1],done:!1};case 5:g.label++;M=h[1];h=[0];
continue;case 7:h=g.ops.pop();g.trys.pop();continue;default:if(!(n=0<(n=g.trys).length&&n[n.length-1])&&(6===h[0]||2===h[0])){g=0;continue}if(3===h[0]&&(!n||h[1]>n[0]&&h[1]<n[3]))g.label=h[1];else if(6===h[0]&&g.label<n[1])g.label=n[1],n=h;else if(n&&g.label<n[2])g.label=n[2],g.ops.push(h);else{n[2]&&g.ops.pop();g.trys.pop();continue}}h=f.call(c,g)}catch(Ma){h=[6,Ma],M=0}finally{k=n=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([h,ea])}}var k,M,n,g={label:0,sent:function(){if(1&n[0])throw n[1];
return n[1]},trys:[],ops:[]},r={next:h(0),throw:h(1),return:h(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function k(c){var f="function"==typeof Symbol&&Symbol.iterator,h=f&&c[f],k=0;if(h)return h.call(c);if(c&&"number"==typeof c.length)return{next:function(){return{value:(c=c&&k>=c.length?void 0:c)&&c[k++],done:!c}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.");}function z(c,f){var h="function"==typeof Symbol&&c[Symbol.iterator];
if(!h)return c;var k;c=h.call(c);var M=[];try{for(;(void 0===f||0<f--)&&!(k=c.next()).done;)M.push(k.value)}catch(g){var n={error:g}}finally{try{k&&!k.done&&(h=c.return)&&h.call(c)}finally{if(n)throw n.error;}}return M}function W(c,f){for(var h=0,k=f.length,M=c.length;h<k;h++,M++)c[M]=f[h];return c}function I(c,f){if(!(f instanceof Object))return f;switch(f.constructor){case Date:return new Date(f.getTime());case Object:void 0===c&&(c={});break;case Array:c=[];break;default:return f}for(var h in f)f.hasOwnProperty(h)&&
"__proto__"!==h&&(c[h]=I(c[h],f[h]));return c}function c(){var c=this;this.reject=function(){};this.resolve=function(){};this.promise=new Promise(function(f,h){c.resolve=f;c.reject=h})}function f(c,h,k){h=R.call(this,h)||this;return h.code=c,h.customData=k,h.name="FirebaseError",Object.setPrototypeOf(h,f.prototype),Error.captureStackTrace&&Error.captureStackTrace(h,Gb.prototype.create),h}function r(c,f,h){this.service=c;this.serviceName=f;this.errors=h}function ra(c,f){f=new jb(c,f);return f.subscribe.bind(f)}
function sa(c,f){var h=this;this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=!1;this.onNoObservers=f;this.task.then(function(){c(h)}).catch(function(c){h.error(c)})}function fa(){}function ad(c,f,h){this.name=c;this.instanceFactory=f;this.type=h;this.multipleInstances=!1;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}function vb(c,f){this.name=c;this.container=f;this.component=null;this.instances=new Map;this.instancesDeferred=
new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}function db(c){this.name=c;this.providers=new Map}function J(c,f){for(var h=[],k=2;k<arguments.length;k++)h[k-2]=arguments[k];if(!(f<c.logLevel)){k=(new Date).toISOString();var M=kb[f];if(!M)throw Error("Attempted to log a message with an invalid logType (value: "+f+")");console[M].apply(console,W(["["+k+"]  "+c.name+":"],h))}}function fb(c){this.name=c;this._logLevel=Fa;this._logHandler=J;this._userLogHandler=null;wb.push(this)}function ya(c){wb.forEach(function(f){f.setLogLevel(c)})}
function Ka(c,f){for(var h=0,k=wb;h<k.length;h++)!function(h){var k=null;f&&f.level&&(k=Ha[f.level]);h.userLogHandler=null===c?null:function(g,f){for(var h=[],M=2;M<arguments.length;M++)h[M-2]=arguments[M];M=h.map(function(g){if(null==g)return null;if("string"==typeof g)return g;if("number"==typeof g||"boolean"==typeof g)return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch(Ma){return null}}).filter(function(g){return g}).join(" ");f>=(null!=k?k:g.logLevel)&&
c({level:Q[f].toLowerCase(),message:M,args:h,type:g.name})}}(k[h])}function E(c,f,h){var k=this;this.firebase_=h;this.isDeleted_=!1;this.name_=f.name;this.automaticDataCollectionEnabled_=f.automaticDataCollectionEnabled||!1;this.options_=I(void 0,c);this.container=new A(f.name);this._addComponent(new Ca("app",function(){return k},"PUBLIC"));this.firebase_.INTERNAL.components.forEach(function(c){return k._addComponent(c)})}function ta(c){function f(g){var c=g=g||"[DEFAULT]";if(!Object.prototype.hasOwnProperty.call(k,
c))throw Y.create("no-app",{appName:g});return k[g]}function h(g){var h,M=g.name;if(n.has(M))return sb.debug("There were multiple attempts to register component "+M+"."),"PUBLIC"===g.type?r[M]:null;n.set(M,g);"PUBLIC"===g.type&&(h=function(g){if("function"!=typeof(g=void 0===g?f():g)[M])throw Y.create("invalid-app-argument",{appName:M});return g[M]()},void 0!==g.serviceProps&&I(h,g.serviceProps),r[M]=h,c.prototype[M]=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return this._getService.bind(this,
M).apply(this,g.multipleInstances?c:[])});h=0;for(var ea=Object.keys(k);h<ea.length;h++)k[ea[h]]._addComponent(g);return"PUBLIC"===g.type?r[M]:null}var k={},n=new Map,r={__esModule:!0,initializeApp:function(g,f){void 0===f&&(f={});"object"==typeof f&&null!==f||(f={name:f});var h=f;void 0===h.name&&(h.name="[DEFAULT]");f=h.name;if("string"!=typeof f||!f)throw Y.create("bad-app-name",{appName:String(f)});if(Object.prototype.hasOwnProperty.call(k,f))throw Y.create("duplicate-app",{appName:f});h=new c(g,
h,r);return k[f]=h},app:f,registerVersion:function(g,c,f){var k=null!==(M=Db[g])&&void 0!==M?M:g;f&&(k+="-"+f);var M=k.match(/\s|\//);g=c.match(/\s|\//);M||g?(f=['Unable to register library "'+k+'" with version "'+c+'":'],M&&f.push('library name "'+k+'" contains illegal characters (whitespace or "/")'),M&&g&&f.push("and"),g&&f.push('version name "'+c+'" contains illegal characters (whitespace or "/")'),sb.warn(f.join(" "))):h(new Ca(k+"-version",function(){return{library:k,version:c}},"VERSION"))},
setLogLevel:ya,onLog:function(g,c){if(null!==g&&"function"!=typeof g)throw Y.create("invalid-log-argument");Ka(g,c)},apps:null,SDK_VERSION:"8.10.1",INTERNAL:{registerComponent:h,removeApp:function(g){delete k[g]},components:n,useAsService:function(g,c){return"serverAuth"!==c?c:null}}};return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(k).map(function(g){return k[g]})}}),f.App=c,r}function Da(c){this.container=c}var $a=function(c,f){return($a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])})(c,f)},da=function(){return(da=Object.assign||function(c){for(var f,h=1,k=arguments.length;h<k;h++)for(var n in f=arguments[h])Object.prototype.hasOwnProperty.call(f,n)&&(c[n]=f[n]);return c}).apply(this,arguments)},w=(c.prototype.wrapCallback=function(c){var f=this;return function(h,k){h?f.reject(h):f.resolve(k);"function"==typeof c&&(f.promise.catch(function(){}),
1===c.length?c(h):c(h,k))}},c),R,Pb=(function(c,f){function h(){this.constructor=c}if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");$a(c,f);c.prototype=null===f?Object.create(f):(h.prototype=f.prototype,new h)}(f,R=Error),f),Gb=(r.prototype.create=function(c){for(var f=[],h=1;h<arguments.length;h++)f[h-1]=arguments[h];var k=f[0]||{};f=this.service+"/"+c;c=(c=this.errors[c])?c.replace(ka,function(c,f){c=k[f];return null!=c?String(c):
"<"+f+"?>"}):"Error";c=this.serviceName+": "+c+" ("+f+").";return new Pb(f,c,k)},r),ka=/\{\$([^}]+)}/g,jb=(sa.prototype.next=function(c){this.forEachObserver(function(f){f.next(c)})},sa.prototype.error=function(c){this.forEachObserver(function(f){f.error(c)});this.close(c)},sa.prototype.complete=function(){this.forEachObserver(function(c){c.complete()});this.close()},sa.prototype.subscribe=function(c,f,h){var k,M=this;if(void 0===c&&void 0===f&&void 0===h)throw Error("Missing Observer.");void 0===
(k=function(c,g){if("object"!=typeof c||null===c)return!1;for(var f=0;f<g.length;f++){var h=g[f];if(h in c&&"function"==typeof c[h])return!0}return!1}(c,["next","error","complete"])?c:{next:c,error:f,complete:h}).next&&(k.next=fa);void 0===k.error&&(k.error=fa);void 0===k.complete&&(k.complete=fa);h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{M.finalError?k.error(M.finalError):k.complete()}catch(Ba){}}),this.observers.push(k),h},sa.prototype.unsubscribeOne=
function(c){void 0!==this.observers&&void 0!==this.observers[c]&&(delete this.observers[c],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},sa.prototype.forEachObserver=function(c){if(!this.finalized)for(var f=0;f<this.observers.length;f++)this.sendOne(f,c)},sa.prototype.sendOne=function(c,f){var h=this;this.task.then(function(){if(void 0!==h.observers&&void 0!==h.observers[c])try{f(h.observers[c])}catch(ac){"undefined"!=typeof console&&console.error&&
console.error(ac)}})},sa.prototype.close=function(c){var f=this;this.finalized||(this.finalized=!0,void 0!==c&&(this.finalError=c),this.task.then(function(){f.observers=void 0;f.onNoObservers=void 0}))},sa),Ca=(ad.prototype.setInstantiationMode=function(c){return this.instantiationMode=c,this},ad.prototype.setMultipleInstances=function(c){return this.multipleInstances=c,this},ad.prototype.setServiceProps=function(c){return this.serviceProps=c,this},ad.prototype.setInstanceCreatedCallback=function(c){return this.onInstanceCreated=
c,this},ad),U=(vb.prototype.get=function(c){var f=this.normalizeInstanceIdentifier(c);if(!this.instancesDeferred.has(f)&&(c=new w,this.instancesDeferred.set(f,c),this.isInitialized(f)||this.shouldAutoInitialize()))try{var h=this.getOrInitializeService({instanceIdentifier:f});h&&c.resolve(h)}catch(ac){}return this.instancesDeferred.get(f).promise},vb.prototype.getImmediate=function(c){var f=this.normalizeInstanceIdentifier(null==c?void 0:c.identifier);c=null!==(c=null==c?void 0:c.optional)&&void 0!==
c&&c;if(!this.isInitialized(f)&&!this.shouldAutoInitialize()){if(c)return null;throw Error("Service "+this.name+" is not available");}try{return this.getOrInitializeService({instanceIdentifier:f})}catch(ea){if(c)return null;throw ea;}},vb.prototype.getComponent=function(){return this.component},vb.prototype.setComponent=function(c){var f;if(c.name!==this.name)throw Error("Mismatching Component "+c.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");
if(this.component=c,this.shouldAutoInitialize()){if("EAGER"===c.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(Qc){}try{for(var h=k(this.instancesDeferred.entries()),n=h.next();!n.done;n=h.next()){var r=z(n.value,2),w=r[1],g=this.normalizeInstanceIdentifier(r[0]);try{var A=this.getOrInitializeService({instanceIdentifier:g});w.resolve(A)}catch(Qc){}}}catch(Qc){var v={error:Qc}}finally{try{n&&!n.done&&(f=h.return)&&f.call(h)}finally{if(v)throw v.error;}}}},
vb.prototype.clearInstance=function(c){this.instancesDeferred.delete(c=void 0===c?"[DEFAULT]":c);this.instancesOptions.delete(c);this.instances.delete(c)},vb.prototype.delete=function(){return n(this,void 0,void 0,function(){var c;return v(this,function(f){switch(f.label){case 0:return c=Array.from(this.instances.values()),[4,Promise.all(W(W([],z(c.filter(function(c){return"INTERNAL"in c}).map(function(c){return c.INTERNAL.delete()}))),z(c.filter(function(c){return"_delete"in c}).map(function(c){return c._delete()}))))];
case 1:return f.sent(),[2]}})})},vb.prototype.isComponentSet=function(){return null!=this.component},vb.prototype.isInitialized=function(c){return this.instances.has(void 0===c?"[DEFAULT]":c)},vb.prototype.getOptions=function(c){return this.instancesOptions.get(void 0===c?"[DEFAULT]":c)||{}},vb.prototype.initialize=function(c){var f,h=(c=void 0===c?{}:c).options;h=void 0===h?{}:h;c=this.normalizeInstanceIdentifier(c.instanceIdentifier);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");
if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");h=this.getOrInitializeService({instanceIdentifier:c,options:h});try{for(var n=k(this.instancesDeferred.entries()),r=n.next();!r.done;r=n.next()){var w=z(r.value,2),g=w[1];c===this.normalizeInstanceIdentifier(w[0])&&g.resolve(h)}}catch(La){var A={error:La}}finally{try{r&&!r.done&&(f=n.return)&&f.call(n)}finally{if(A)throw A.error;}}return h},vb.prototype.onInit=function(c,f){var h=this.normalizeInstanceIdentifier(f),
k=null!==(f=this.onInitCallbacks.get(h))&&void 0!==f?f:new Set;k.add(c);this.onInitCallbacks.set(h,k);f=this.instances.get(h);return f&&c(f,h),function(){k.delete(c)}},vb.prototype.invokeOnInitCallbacks=function(c,f){var h,n=this.onInitCallbacks.get(f);if(n)try{for(var M=k(n),r=M.next();!r.done;r=M.next()){var g=r.value;try{g(c,f)}catch(La){}}}catch(La){var w={error:La}}finally{try{r&&!r.done&&(h=M.return)&&h.call(M)}finally{if(w)throw w.error;}}},vb.prototype.getOrInitializeService=function(c){var f=
c.instanceIdentifier,h=c.options,k=void 0===h?{}:h;c=this.instances.get(f);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:"[DEFAULT]"===(h=f)?void 0:h,options:k}),this.instances.set(f,c),this.instancesOptions.set(f,k),this.invokeOnInitCallbacks(c,f),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,f,c)}catch(Ie){}return c||null},vb.prototype.normalizeInstanceIdentifier=function(c){return void 0===c&&(c="[DEFAULT]"),
!this.component||this.component.multipleInstances?c:"[DEFAULT]"},vb.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},vb),A=(db.prototype.addComponent=function(c){var f=this.getProvider(c.name);if(f.isComponentSet())throw Error("Component "+c.name+" has already been registered with "+this.name);f.setComponent(c)},db.prototype.addOrOverwriteComponent=function(c){this.getProvider(c.name).isComponentSet()&&this.providers.delete(c.name);this.addComponent(c)},
db.prototype.getProvider=function(c){if(this.providers.has(c))return this.providers.get(c);var f=new U(c,this);return this.providers.set(c,f),f},db.prototype.getProviders=function(){return Array.from(this.providers.values())},db),Q,wb=[];(ja=Q=Q||{})[ja.DEBUG=0]="DEBUG";ja[ja.VERBOSE=1]="VERBOSE";ja[ja.INFO=2]="INFO";ja[ja.WARN=3]="WARN";ja[ja.ERROR=4]="ERROR";ja[ja.SILENT=5]="SILENT";var Ha={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Fa=Q.INFO,kb=((H={})[Q.DEBUG]=
"log",H[Q.VERBOSE]="log",H[Q.INFO]="info",H[Q.WARN]="warn",H[Q.ERROR]="error",H),ja=(Object.defineProperty(fb.prototype,"logLevel",{get:function(){return this._logLevel},set:function(c){if(!(c in Q))throw new TypeError('Invalid value "'+c+'" assigned to `logLevel`');this._logLevel=c},enumerable:!1,configurable:!0}),fb.prototype.setLogLevel=function(c){this._logLevel="string"==typeof c?Ha[c]:c},Object.defineProperty(fb.prototype,"logHandler",{get:function(){return this._logHandler},set:function(c){if("function"!=
typeof c)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=c},enumerable:!1,configurable:!0}),Object.defineProperty(fb.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(c){this._userLogHandler=c},enumerable:!1,configurable:!0}),fb.prototype.debug=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];this._userLogHandler&&this._userLogHandler.apply(this,W([this,Q.DEBUG],c));this._logHandler.apply(this,W([this,
Q.DEBUG],c))},fb.prototype.log=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];this._userLogHandler&&this._userLogHandler.apply(this,W([this,Q.VERBOSE],c));this._logHandler.apply(this,W([this,Q.VERBOSE],c))},fb.prototype.info=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];this._userLogHandler&&this._userLogHandler.apply(this,W([this,Q.INFO],c));this._logHandler.apply(this,W([this,Q.INFO],c))},fb.prototype.warn=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=
arguments[f];this._userLogHandler&&this._userLogHandler.apply(this,W([this,Q.WARN],c));this._logHandler.apply(this,W([this,Q.WARN],c))},fb.prototype.error=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];this._userLogHandler&&this._userLogHandler.apply(this,W([this,Q.ERROR],c));this._logHandler.apply(this,W([this,Q.ERROR],c))},fb),H=((H={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",H["bad-app-name"]="Illegal App name: '{$appName}",
H["duplicate-app"]="Firebase App named '{$appName}' already exists",H["app-deleted"]="Firebase App named '{$appName}' already deleted",H["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",H["invalid-log-argument"]="First argument to `onLog` must be null or a function.",H),Y=new Gb("app","Firebase",H),Db=((H={})["@firebase/app"]="fire-core",H["@firebase/analytics"]="fire-analytics",H["@firebase/app-check"]="fire-app-check",H["@firebase/auth"]="fire-auth",
H["@firebase/database"]="fire-rtdb",H["@firebase/functions"]="fire-fn",H["@firebase/installations"]="fire-iid",H["@firebase/messaging"]="fire-fcm",H["@firebase/performance"]="fire-perf",H["@firebase/remote-config"]="fire-rc",H["@firebase/storage"]="fire-gcs",H["@firebase/firestore"]="fire-fst",H["fire-js"]="fire-js",H["firebase-wrapper"]="fire-js-all",H),sb=new ja("@firebase/app"),Va=(Object.defineProperty(E.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),
this.automaticDataCollectionEnabled_},set:function(c){this.checkDestroyed_();this.automaticDataCollectionEnabled_=c},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),E.prototype.delete=function(){var c=this;return(new Promise(function(f){c.checkDestroyed_();
f()})).then(function(){return c.firebase_.INTERNAL.removeApp(c.name_),Promise.all(c.container.getProviders().map(function(c){return c.delete()}))}).then(function(){c.isDeleted_=!0})},E.prototype._getService=function(c,f){void 0===f&&(f="[DEFAULT]");this.checkDestroyed_();var h=this.container.getProvider(c);return h.isInitialized()||"EXPLICIT"!==(null===(c=h.getComponent())||void 0===c?void 0:c.instantiationMode)||h.initialize(),h.getImmediate({identifier:f})},E.prototype._removeServiceInstance=function(c,
f){void 0===f&&(f="[DEFAULT]");this.container.getProvider(c).clearInstance(f)},E.prototype._addComponent=function(c){try{this.container.addComponent(c)}catch(M){sb.debug("Component "+c.name+" failed to register with FirebaseApp "+this.name,M)}},E.prototype._addOrOverwriteComponent=function(c){this.container.addOrOverwriteComponent(c)},E.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},E.prototype.checkDestroyed_=
function(){if(this.isDeleted_)throw Y.create("app-deleted",{appName:this.name_});},E);Va.prototype.name&&Va.prototype.options||Va.prototype.delete||console.log("dc");H=function M(){var c=ta(Va);return c.INTERNAL=da(da({},c.INTERNAL),{createFirebaseNamespace:M,extendNamespace:function(f){I(c,f)},createSubscribe:ra,ErrorFactory:Gb,deepExtend:I}),c}();var gb=(Da.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(c){var f=c.getComponent();return"VERSION"===(null==
f?void 0:f.type)?(c=c.getImmediate(),c.library+"/"+c.version):null}).filter(function(c){return c}).join(" ")},Da);"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(sb.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(ja=self.firebase.SDK_VERSION)&&0<=ja.indexOf("LITE")&&sb.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));
var h=H.initializeApp;H.initializeApp=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];try{var k="[object process]"===Object.prototype.toString.call(B.process)}catch(Ie){k=void 0}return k&&sb.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),
h.apply(void 0,c)};ja=H;ja.INTERNAL.registerComponent(new Ca("platform-logger",function(c){return new gb(c)},"PRIVATE"));ja.registerVersion("@firebase/app","0.6.30",void 0);ja.registerVersion("fire-js","");return ja.registerVersion("firebase","8.10.1","app"),ja.SDK_VERSION="8.10.1",ja});!function(x,v){"object"==typeof n&&"undefined"!=typeof module?v(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],v):v(("undefined"!=typeof globalThis?globalThis:x||self).firebase)}(this,
function(n){try{!function(){var v=n&&"object"==typeof n&&"default"in n?n:{default:n};!function(){function k(a){var b,d="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return d?d.call(a):{next:(b=0,function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}}function n(a){return(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&jg.test(a)?a:""}function x(){}function z(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}
function c(a){var b=z(a);return"array"==b||"object"==b&&"number"==typeof a.length}function f(a){return"function"==z(a)}function r(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ra(a,b,d){return a.call.apply(a.bind,arguments)}function sa(a,b,d){if(!a)throw Error();if(2<arguments.length){var l=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,l),a.apply(b,d)}}return function(){return a.apply(b,
arguments)}}function fa(a,b,d){return(fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa).apply(null,arguments)}function ad(a){var b=Array.prototype.slice.call(arguments,1);return function(){var d=b.slice();return d.push.apply(d,arguments),a.apply(this,d)}}function I(a,b){function d(){}d.prototype=b.prototype;a.bb=b.prototype;a.prototype=new d;a.prototype.constructor=a}function db(a){return a}function J(a,b,d){this.code=pi+a;this.message=b||e[a]||"";this.a=
d||null}function fb(a){var b=a&&a.code;return b?new J(b.substring(pi.length),a.message,a.serverResponse):null}function ya(a){for(var b in m)if(m[b].id===a)return a=m[b],{firebaseEndpoint:a.Ua,secureTokenEndpoint:a.$a,identityPlatformEndpoint:a.Xa};return null}function Ka(a){if(a)try{return a.$goog_Thenable}catch(xh){}}function E(a){var b;Error.captureStackTrace?Error.captureStackTrace(this,E):(b=Error().stack)&&(this.stack=b);a&&(this.message=String(a))}function ta(a,b){for(var d="",l=(a=a.split("%s")).length-
1,p=0;p<l;p++)d+=a[p]+(p<b.length?b[p]:"%s");E.call(this,d+a[l])}function Da(a){throw new ta("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));}function $a(a,b){this.c=a;this.f=b;this.b=0;this.a=null}function da(a,b){a.f(b);100>a.b&&(a.b++,b.next=a.a,a.a=b)}function w(){this.b=this.a=null}function R(){this.next=this.b=this.a=null}function Pb(a,b){return 0<=tb(a,b)}function Gb(a,b){var d;return(d=0<=(b=tb(a,b)))&&Array.prototype.splice.call(a,b,1),d}function ka(a,b){!function(a,b){for(var d=
"string"==typeof a?a.split(""):a,l=a.length-1;0<=l;--l)l in d&&b.call(void 0,d[l],l,a)}(a,function(d,l){b.call(void 0,d,l,a)&&1==Array.prototype.splice.call(a,l,1).length&&0})}function jb(){return Array.prototype.concat.apply([],arguments)}function Ca(a){var b=a.length;if(0<b){for(var d=Array(b),l=0;l<b;l++)d[l]=a[l];return d}return[]}function U(a,b){return-1!=a.indexOf(b)}function A(a,b){return a<b?-1:b<a?1:0}function Q(a){return U(O,a)}function wb(a,b){for(var d in a)b.call(void 0,a[d],d,a)}function Ha(a){for(var b in a)return;
return 1}function Fa(a){var b,d={};for(b in a)d[b]=a[b];return d}function kb(a){for(var b,d,l=1;l<arguments.length;l++){for(b in d=arguments[l])a[b]=d[b];for(var p=0;p<se.length;p++)b=se[p],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}}function ja(a,b){a:{try{var d,l=a&&a.ownerDocument;if((d=(d=l&&(l.defaultView||l.parentWindow))||aa).Element&&d.Location)break a}catch(Qj){}d=null}if(d&&void 0!==d[b]&&(!a||!(a instanceof d[b])&&(a instanceof d.Location||a instanceof d.Element))){if(r(a))try{var p=
a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(Qj){p="<object could not be stringified>"}else p=void 0===a?"undefined":null===a?"null":typeof a;Da("Argument is not a %s (or a non-Element, non-Location mock); got: %s",b,p)}}function H(a,b){this.a=a===uj&&b||"";this.b=xk}function Y(a){return a instanceof H&&a.constructor===H&&a.b===xk?a.a:(Da("expected object of type Const, got '"+a+"'"),"type_error:Const")}function Db(){if(void 0===Ff){var a=null,b=aa.trustedTypes;
if(b&&b.createPolicy)try{a=b.createPolicy("goog#html",{createHTML:db,createScript:db,createScriptURL:db})}catch(Pj){aa.console&&aa.console.error(Pj.message)}Ff=a}return Ff}function sb(a,b){this.a=b===qi?a:""}function Va(a){return a instanceof sb&&a.constructor===sb?a.a:(Da("expected object of type TrustedResourceUrl, got '"+a+"' of type "+z(a)),"type_error:TrustedResourceUrl")}function gb(a,b){var d,l=Y(a);if(!Pd.test(l))throw Error("Invalid TrustedResourceUrl format: "+l);return a=l.replace(yk,function(a,
d){if(!Object.prototype.hasOwnProperty.call(b,d))throw Error('Found marker, "'+d+'", in format string, "'+l+'", but no valid label mapping found in args: '+JSON.stringify(b));return(a=b[d])instanceof H?Y(a):encodeURIComponent(String(a))}),d=a,a=Db(),new sb(d=a?a.createScriptURL(d):d,qi)}function h(a,b){this.a=b===yh?a:""}function Jb(a){return a instanceof h&&a.constructor===h?a.a:(Da("expected object of type SafeUrl, got '"+a+"' of type "+z(a)),"type_error:SafeUrl")}function M(a){return a instanceof
h?a:(a="object"==typeof a&&a.ta?a.sa():String(a),zk.test(a)||(b=(a=(a=String(a)).replace(/(%0A|%0D)/g,"")).match(Sk))&&pa.test(b[1])?new h(a,yh):null);var b}function ea(a){return a instanceof h?a:(a="object"==typeof a&&a.ta?a.sa():String(a),new h(zk.test(a)?a:"about:invalid#zClosurez",yh))}function ac(a,b,d){this.a=d===Ak?a:""}function Ie(a,b,d,l){return a=a instanceof h?a:ea(a),b=b||aa,d=d instanceof H?Y(d):d||"",b.open(Jb(a),d,l,void 0)}function Ba(a){for(var b=a.split("%s"),d="",l=Array.prototype.slice.call(arguments,
1);l.length&&1<b.length;)d+=b.shift()+l.shift();return d+b.join("%s")}function g(a){return zc.test(a)&&-1!=(a=-1!=(a=-1!=(a=-1!=(a=-1!=(a=-1!=a.indexOf("&")?a.replace(bf,"&amp;"):a).indexOf("<")?a.replace(Gf,"&lt;"):a).indexOf(">")?a.replace(Bk,"&gt;"):a).indexOf('"')?a.replace(kg,"&quot;"):a).indexOf("'")?a.replace(Rj,"&#39;"):a).indexOf("\x00")&&(a=a.replace(Sj,"&#0;")),a}function ca(a){return ca[" "](a),a}function La(){var a=aa.document;return a?a.documentMode:void 0}function Qc(a){return b=a,
d=function(){for(var b=0,d=Rc(String(gk)).split("."),l=Rc(String(a)).split("."),p=Math.max(d.length,l.length),za=0;0==b&&za<p;za++)for(var e=d[za]||"",D=l[za]||"";e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""],D=/(\d*)(\D*)(.*)/.exec(D)||["","","",""],(0!=e[0].length||0!=D[0].length)&&(b=A(0==e[1].length?0:parseInt(e[1],10),0==D[1].length?0:parseInt(D[1],10))||A(0==e[2].length,0==D[2].length)||A(e[2],D[2]),e=e[3],D=D[3],0==b););return 0<=b},l=qc,Object.prototype.hasOwnProperty.call(l,b)?l[b]:l[b]=d(b);
var b,d,l}function Sa(a){var b=document;return"string"==typeof a?b.getElementById(a):a}function Ma(a,b){wb(b,function(b,d){b&&"object"==typeof b&&b.ta&&(b=b.sa());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:wj.hasOwnProperty(d)?a.setAttribute(wj[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}function Nb(){var a,b=arguments,d=document,l=String(b[0]),p=b[1];return!Lg&&p&&(p.name||p.type)&&(l=["<",l],p.name&&l.push(' name="',
g(p.name),'"'),p.type&&(l.push(' type="',g(p.type),'"'),kb(a={},p),delete a.type,p=a),l.push(">"),l=l.join("")),l=xd(d,l),p&&("string"==typeof p?l.className=p:Array.isArray(p)?l.className=p.join(" "):Ma(l,p)),2<b.length&&function(a,b,d){function l(d){d&&b.appendChild("string"==typeof d?a.createTextNode(d):d)}for(var p=2;p<d.length;p++){var za=d[p];if(!c(za)||r(za)&&0<za.nodeType)l(za);else{a:{if(za&&"number"==typeof za.length){if(r(za)){var e="function"==typeof za.item||"string"==typeof za.item;break a}if(f(za)){e=
"function"==typeof za.item;break a}}e=!1}Ac(e?Ca(za):za,l)}}}(d,l,b),l}function xd(a,b){return b=String(b),"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase()),a.createElement(b)}function X(a){aa.setTimeout(function(){throw a;},0)}function bd(a,b){mc||function(){var a;mc=aa.Promise&&aa.Promise.resolve?(a=aa.Promise.resolve(void 0),function(){a.then(Eb)}):function(){var a=Eb;!f(aa.setImmediate)||aa.Window&&aa.Window.prototype&&!Q("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?(Tj=
Tj||function(){var a=aa.MessageChannel;if(void 0===(a=void 0===a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Q("Presto")?function(){var a=xd(document,"IFRAME");a.style.display="none";document.documentElement.appendChild(a);var b=a.contentWindow;(a=b.document).open();a.close();var d="callImmediate"+Math.random(),l="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=fa(function(a){"*"!=l&&a.origin!=l||a.data!=d||this.port1.onmessage()},this);b.addEventListener("message",
a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(d,l)}}}:a)||Q("Trident")||Q("MSIE"))return function(a){aa.setTimeout(a,0)};var b=new a,d={},l=d;return b.port1.onmessage=function(){var a;void 0!==d.next&&(a=(d=d.next).Hb,d.Hb=null,a())},function(a){l.next={Hb:a};l=l.next;b.port2.postMessage(0)}}())(a):aa.setImmediate(a)}}();xj||(mc(),xj=!0);Ic.add(a,b)}function Eb(){for(var a,b;b=a=void 0,b=null,(a=Ic).a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null),b;){try{b.a.call(b.b)}catch(Pj){X(Pj)}da(S,
b)}xj=!1}function wa(a,b){if(this.a=y,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,a!=x)try{var d=this;a.call(b,function(a){Hb(d,Ti,a)},function(a){if(!(a instanceof mb))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(Xk){}Hb(d,Hf,a)})}catch(Kg){Hb(this,Hf,Kg)}}function L(){this.next=this.f=this.b=this.g=this.a=null;this.c=!1}function fc(a,b,d){var l=ik.get();return l.g=a,l.b=b,l.f=d,l}function Ga(a){if(a instanceof wa)return a;var b=new wa(x);return Hb(b,Ti,
a),b}function hb(a){return new wa(function(b,d){d(a)})}function Je(a,b,d){zh(a,b,d,null)||bd(ad(b,a))}function od(a){return new wa(function(b){var d=a.length,l=[];if(d)for(var p=function(a,p,za){d--;l[a]=p?{Qb:!0,value:za}:{Qb:!1,reason:za};0==d&&b(l)},za=0;za<a.length;za++)Je(a[za],ad(p,za,!0),ad(p,za,!1));else b(l)})}function qb(a,b){a.b||a.a!=Ti&&a.a!=Hf||ee(a);a.f?a.f.next=b:a.b=b;a.f=b}function nb(a,b,d,l){var p=fc(null,null,null);return p.a=new wa(function(a,za){p.g=b?function(d){try{var p=
b.call(l,d);a(p)}catch(Dk){za(Dk)}}:a;p.b=d?function(b){try{var p=d.call(l,b);void 0===p&&b instanceof mb?za(b):a(p)}catch(Dk){za(Dk)}}:za}),qb(p.a.c=a,p),p.a}function Hb(a,b,d){var l;a.a==y&&(a===d&&(b=Hf,d=new TypeError("Promise cannot resolve to itself")),a.a=1,zh(d,a.$c,a.ad,a)||(a.i=d,a.a=b,a.c=null,ee(a),b!=Hf||d instanceof mb||(l=d,a.g=!0,bd(function(){a.g&&jk.call(null,l)}))))}function zh(a,b,d,l){if(a instanceof wa)return qb(a,fc(b||x,d||null,l)),1;if(Ka(a))return a.then(b,d,l),1;if(r(a))try{var p=
a.then;if(f(p))return function(a,b,d,l,p){function e(a){za||(za=!0,l.call(p,a))}var za=!1;try{b.call(a,function(a){za||(za=!0,d.call(p,a))},e)}catch(sl){e(sl)}}(a,p,b,d,l),1}catch(Qj){return d.call(l,Qj),1}}function ee(a){a.h||(a.h=!0,bd(a.gc,a))}function jd(a){var b=null;return a.b&&(b=a.b,a.b=b.next,b.next=null),a.b||(a.f=null),b}function Ah(a,b,d,l){if(d==Hf&&b.b&&!b.c)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,te(b,d,l);else try{b.c?b.g.call(b.f):te(b,d,l)}catch(Xk){jk.call(null,Xk)}da(ik,b)}
function te(a,b,d){b==Ti?a.g.call(a.f,d):a.b&&a.b.call(a.f,d)}function mb(a){E.call(this,a)}function Ia(){this.ya=this.ya;this.pa=this.pa}function nc(a,b){this.type=a;this.b=this.target=b;this.defaultPrevented=!1}function Wa(a,b){if(nc.call(this,a?a.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,a){var d=this.type=
a.type,l=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.b=b,b=a.relatedTarget){if(Sc){a:{try{ca(b.nodeName);d=!0;break a}catch(Xk){}d=!1}d||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;l?(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"==typeof a.pointerType?a.pointerType:Ek[a.pointerType]||"";(this.a=a).defaultPrevented&&this.preventDefault()}}function G(a,b,d,l,p){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!l;this.Wa=
p;this.key=++Fk;this.wa=this.Qa=!1}function ue(a){a.wa=!0;a.listener=null;a.proxy=null;a.src=null;a.Wa=null}function xb(a){this.src=a;this.a={};this.b=0}function Na(a,b){var d=b.type;d in a.a&&Gb(a.a[d],b)&&(ue(b),0==a.a[d].length&&(delete a.a[d],a.b--))}function Ya(a,b,d,l){for(var p=0;p<a.length;++p){var e=a[p];if(!e.wa&&e.listener==b&&e.capture==!!d&&e.Wa==l)return p}return-1}function Jc(a,b,d,l,p){if(l&&l.once)Bh(a,b,d,l,p);else if(Array.isArray(b))for(var e=0;e<b.length;e++)Jc(a,b[e],d,l,p);
else d=Yc(d),a&&a[yd]?fe(a,b,d,r(l)?!!l.capture:!!l,p):cd(a,b,d,!1,l,p)}function cd(a,b,d,l,p,e){if(!b)throw Error("Invalid event type");var za,D,m=r(p)?!!p.capture:!!p,xa=Ta(a);if(xa||(a[Uj]=xa=new xb(a)),!(d=xa.add(b,d,l,m,e)).proxy)if(za=ba,D=kk?function(a){return za.call(D.src,D.listener,a)}:function(a){if(!(a=za.call(D.src,D.listener,a)))return a},(d.proxy=l=D).src=a,l.listener=d,a.addEventListener)void 0===(p=lk?p:m)&&(p=!1),a.addEventListener(b.toString(),l,p);else if(a.attachEvent)a.attachEvent(lg(b.toString()),
l);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(l)}}function Bh(a,b,d,l,p){if(Array.isArray(b))for(var e=0;e<b.length;e++)Bh(a,b[e],d,l,p);else d=Yc(d),a&&a[yd]?dc(a,b,d,r(l)?!!l.capture:!!l,p):cd(a,b,d,!0,l,p)}function V(a,b,d,l,p){if(Array.isArray(b))for(var e=0;e<b.length;e++)V(a,b[e],d,l,p);else l=r(l)?!!l.capture:!!l,d=Yc(d),a&&a[yd]?(a=a.v,(b=String(b).toString())in a.a&&-1<(d=Ya(e=a.a[b],d,l,p))&&(ue(e[d]),Array.prototype.splice.call(e,
d,1),0==e.length&&(delete a.a[b],a.b--))):(a=a&&Ta(a))&&(b=a.a[b.toString()],(d=(a=-1)<(a=b?Ya(b,d,l,p):a)?b[a]:null)&&u(d))}function u(a){var b,d,l;"number"!=typeof a&&a&&!a.wa&&((b=a.src)&&b[yd]?Na(b.v,a):(d=a.type,l=a.proxy,b.removeEventListener?b.removeEventListener(d,l,a.capture):b.detachEvent?b.detachEvent(lg(d),l):b.addListener&&b.removeListener&&b.removeListener(l),(d=Ta(b))?(Na(d,a),0==d.b&&(d.src=null,b[Uj]=null)):ue(a)))}function lg(a){return a in Qd?Qd[a]:Qd[a]="on"+a}function dd(a,b,
d,l){var p=!0;if((a=Ta(a))&&(b=a.a[b.toString()]))for(b=b.concat(),a=0;a<b.length;a++){var e=b[a];e&&e.capture==d&&!e.wa&&(e=C(e,l),p=p&&!1!==e)}return p}function C(a,b){var d=a.listener,l=a.Wa||a.src;return a.Qa&&u(a),d.call(l,b)}function ba(a,b){if(a.wa)return!0;if(kk)return C(a,new Wa(b,this));if(!b)a:{b=["window","event"];for(var d=aa,l=0;l<b.length;l++)if(null==(d=d[b[l]])){b=null;break a}b=d}if(b=new Wa(l=b,this),d=!0,!(0>l.keyCode||null!=l.returnValue)){a:{var p=!1;if(0==l.keyCode)try{l.keyCode=
-1;break a}catch(hk){p=!0}!p&&null!=l.returnValue||(l.returnValue=!0)}l=[];for(p=b.b;p;p=p.parentNode)l.push(p);a=a.type;for(p=l.length-1;0<=p;p--){b.b=l[p];var e=dd(l[p],a,!0,b);d=d&&e}for(p=0;p<l.length;p++)b.b=l[p],e=dd(l[p],a,!1,b),d=d&&e}return d}function Ta(a){return(a=a[Uj])instanceof xb?a:null}function Yc(a){return f(a)?a:(a[Ch]||(a[Ch]=function(b){return a.handleEvent(b)}),a[Ch])}function Mb(){Ia.call(this);this.v=new xb(this);(this.bc=this).hb=null}function fe(a,b,d,l,p){a.v.add(String(b),
d,!1,l,p)}function dc(a,b,d,l,p){a.v.add(String(b),d,!0,l,p)}function Za(a,b,d,l){if(!(b=a.v.a[String(b)]))return!0;b=b.concat();for(var p=!0,e=0;e<b.length;++e){var za,D,m=b[e];m&&!m.wa&&m.capture==d&&(za=m.listener,D=m.Wa||m.src,m.Qa&&Na(a.v,m),p=!1!==za.call(D,l)&&p)}return p&&!l.defaultPrevented}function zd(a,b,d){if(f(a))d&&(a=fa(a,d));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=fa(a.handleEvent,a)}return 2147483647<Number(b)?-1:aa.setTimeout(a,b||
0)}function ub(a){var b=null;return(new wa(function(d,l){-1==(b=zd(function(){d(void 0)},a))&&l(Error("Failed to schedule timer."))})).o(function(a){throw aa.clearTimeout(b),a;})}function cf(a){if(a.X&&"function"==typeof a.X)return a.X();if("string"==typeof a)return a.split("");if(c(a)){for(var b=[],d=a.length,l=0;l<d;l++)b.push(a[l]);return b}for(l in b=[],d=0,a)b[d++]=a[l];return b}function Gd(a){if(a.Y&&"function"==typeof a.Y)return a.Y();if(!a.X||"function"!=typeof a.X){if(c(a)||"string"==typeof a){var b=
[];a=a.length;for(var d=0;d<a;d++)b.push(d);return b}for(var l in b=[],d=0,a)b[d++]=l;return b}}function Hd(a,b){this.b={};this.a=[];this.c=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var l=0;l<d;l+=2)this.set(arguments[l],arguments[l+1])}else if(a)if(a instanceof Hd)for(d=a.Y(),l=0;l<d.length;l++)this.set(d[l],a.get(d[l]));else for(l in a)this.set(l,a[l])}function gc(a){if(a.c!=a.a.length){for(var b=0,d=0;b<a.a.length;){var l=a.a[b];ve(a.b,l)&&(a.a[d++]=
l);b++}a.a.length=d}if(a.c!=a.a.length){var p={};for(d=b=0;b<a.a.length;)ve(p,l=a.a[b])||(p[a.a[d++]=l]=1),b++;a.a.length=d}}function ve(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Ke(a,b){var d;this.a=this.l=this.c="";this.g=null;this.h=this.f="";this.i=!1;a instanceof Ke?(this.i=void 0!==b?b:a.i,Ad(this,a.c),this.l=a.l,this.a=a.a,mg(this,a.g),this.f=a.f,t(this,Le(a.b)),this.h=a.h):a&&(d=String(a).match(df))?(this.i=!!b,Ad(this,d[1]||"",!0),this.l=ef(d[2]||""),this.a=ef(d[3]||
"",!0),mg(this,d[4]),this.f=ef(d[5]||"",!0),t(this,d[6]||"",!0),this.h=ef(d[7]||"")):(this.i=!!b,this.b=new ff(null,this.i))}function Ad(a,b,d){a.c=d?ef(b,!0):b;a.c&&(a.c=a.c.replace(/:$/,""))}function mg(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.g=b}else a.g=null}function t(a,b,d){var l,p;b instanceof ff?(a.b=b,l=a.b,(p=a.i)&&!l.f&&(gf(l),l.c=null,l.a.forEach(function(a,b){var d=b.toLowerCase();b!=d&&(Rd(this,b),Dh(this,d,a))},l)),l.f=p):(d||(b=hf(b,Ui)),a.b=new ff(b,
a.i))}function Ob(a,b,d){a.b.set(b,d)}function ed(a,b){return a.b.get(b)}function rc(a){return a instanceof Ke?new Ke(a):new Ke(a,void 0)}function jf(a,b,d,l){var p=new Ke(null,void 0);return a&&Ad(p,a),b&&(p.a=b),d&&mg(p,d),l&&(p.f=l),p}function ef(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function hf(a,b,d){return"string"==typeof a?(a=encodeURI(a).replace(b,yj),d?a.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):a):null}function yj(a){return"%"+((a=a.charCodeAt(0))>>4&
15).toString(16)+(15&a).toString(16)}function ff(a,b){this.b=this.a=null;this.c=a||null;this.f=!!b}function gf(a){a.a||(a.a=new Hd,a.b=0,a.c&&function(a,b){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var l,p=a[d].indexOf("="),e=null;0<=p?(l=a[d].substring(0,p),e=a[d].substring(p+1)):l=a[d];b(l,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}(a.c,function(b,d){a.add(decodeURIComponent(b.replace(/\+/g," ")),d)}))}function ri(a){var b=Gd(a);if(void 0===b)throw Error("Keys are undefined");var d=
new ff(null,void 0);a=cf(a);for(var l=0;l<b.length;l++){var p=b[l],e=a[l];Array.isArray(e)?Dh(d,p,e):d.add(p,e)}return d}function Rd(a,b){gf(a);b=Z(a,b);ve(a.a.b,b)&&(a.c=null,a.b-=a.a.get(b).length,ve((a=a.a).b,b)&&(delete a.b[b],a.c--,a.a.length>2*a.c&&gc(a)))}function hc(a,b){return gf(a),b=Z(a,b),ve(a.a.b,b)}function Dh(a,b,d){Rd(a,b);0<d.length&&(a.c=null,a.a.set(Z(a,b),Ca(d)),a.b+=d.length)}function Le(a){var b=new ff;return b.c=a.c,a.a&&(b.a=new Hd(a.a),b.b=a.b),b}function Z(a,b){return b=
String(b),a.f?b.toLowerCase():b}function zj(a){var b=[];return function hk(a,b,d){if(null==b)d.push("null");else{if("object"==typeof b){if(Array.isArray(b)){var l=b;b=l.length;d.push("[");for(var p="",e=0;e<b;e++)d.push(p),hk(a,l[e],d),p=",";return void d.push("]")}if(!(b instanceof String||b instanceof Number||b instanceof Boolean)){for(l in d.push("{"),p="",b)Object.prototype.hasOwnProperty.call(b,l)&&(e=b[l],"function"!=typeof e&&(d.push(p),Eh(l,d),d.push(":"),hk(a,e,d),p=","));return void d.push("}")}b=
b.valueOf()}switch(typeof b){case "string":Eh(b,d);break;case "number":d.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":d.push(String(b));break;case "function":d.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}(new Fh,a,b),b.join("")}function Fh(){}function Eh(a,b){b.push('"',a.replace(Uk,function(a){var b=Id[a];return b||(b="\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1),Id[a]=b),b}),'"')}function ng(){var a=kd();return og&&Mg&&11==Mg||/Edge\/\d+/.test(a)}
function Ng(){return aa.window&&aa.window.location.href||self&&self.location&&self.location.href||""}function Gh(a,b){b=b||aa.window;var d="about:blank";a&&(d=Jb(M(a)||Gk));b.location.href=d}function If(a){return!!((a=(a||kd()).toLowerCase()).match(/android/)||a.match(/webos/)||a.match(/iphone|ipad|ipod/)||a.match(/blackberry/)||a.match(/windows phone/)||a.match(/iemobile/))}function yb(a){a=a||aa.window;try{a.close()}catch(xh){}}function si(a,b,d){var l=Math.floor(1E9*Math.random()).toString();b=
b||500;d=d||600;var p=(window.screen.availHeight-d)/2,e=(window.screen.availWidth-b)/2;for(D in b={width:b,height:d,top:0<p?p:0,left:0<e?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d=kd().toLowerCase(),l&&(b.target=l,U(d,"crios/")&&(b.target="_blank")),Sd(kd())==bb&&(a=a||"http://localhost",b.scrollbars=!0),d=a||"",(a=b)||(a={}),l=window,b=d instanceof h?d:M(void 0!==d.href?d.href:String(d))||Gk,d=a.target||d.target,p=[],a)switch(D){case "width":case "height":case "top":case "left":p.push(D+
"="+a[D]);break;case "target":case "noopener":case "noreferrer":break;default:p.push(D+"="+(a[D]?1:0))}var D=p.join(",");if((Q("iPhone")&&!Q("iPod")&&!Q("iPad")||Q("iPad")||Q("iPod"))&&l.navigator&&l.navigator.standalone&&d&&"_self"!=d?(ja(D=xd(document,"A"),"HTMLAnchorElement"),b=b instanceof h?b:ea(b),D.href=Jb(b),D.setAttribute("target",d),a.noreferrer&&D.setAttribute("rel","noreferrer"),(a=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,l,1),D.dispatchEvent(a),D={}):a.noreferrer?
(D=Ie("",l,d,D),a=Jb(b),D&&(Vk&&U(a,";")&&(a="'"+a.replace(/'/g,"%27")+"'"),D.opener=null,a='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+g(a)+'">',a=new ac(a=(l=Db())?l.createHTML(a):a,0,Ak),l=D.document)&&(l.write((e=a)instanceof ac&&e.constructor===ac?e.a:(Da("expected object of type SafeHtml, got '"+e+"' of type "+z(e)),"type_error:SafeHtml")),l.close())):(D=Ie(b,l,d,D))&&a.noopener&&(D.opener=null),D)try{D.focus()}catch(vj){}return D}function Jf(){var a=
null;return(new wa(function(b){"complete"==aa.document.readyState?b():(a=function(){b()},Bh(window,"load",a))})).o(function(b){throw V(window,"load",a),b;})}function Hh(a){return a=a||kd(),!("file:"!==kf()&&"ionic:"!==kf()||!a.toLowerCase().match(/iphone|ipad|ipod|android/))}function ti(){var a=aa.window;try{return a&&a!=a.top}catch(xh){}}function Td(){return void 0!==aa.WorkerGlobalScope&&"function"==typeof aa.importScripts}function ld(){return v.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":
v.default.INTERNAL.hasOwnProperty("node")?"Node":Td()?"Worker":"Browser"}function Vi(){var a=ld();return"ReactNative"===a||"Node"===a}function Sd(a){var b=a.toLowerCase();return U(b,"opera/")||U(b,"opr/")||U(b,"opios/")?"Opera":U(b,"iemobile")?"IEMobile":U(b,"msie")||U(b,"trident/")?"IE":U(b,"edge/")?"Edge":U(b,"firefox/")?bb:U(b,"silk/")?"Silk":U(b,"blackberry")?"Blackberry":U(b,"webos")?"Webos":!U(b,"safari/")||U(b,"chrome/")||U(b,"crios/")||U(b,"android")?!U(b,"chrome/")&&!U(b,"crios/")||U(b,"edge/")?
U(b,"android")?"Android":(a=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==a.length?a[1]:"Other":Og:"Safari"}function we(a,b){b=b||[];var d,l=[],p={};for(d in Ih)p[Ih[d]]=!0;for(d=0;d<b.length;d++)void 0!==p[b[d]]&&(delete p[b[d]],l.push(b[d]));return l.sort(),(b=l).length||(b=["FirebaseCore-web"]),"Browser"===(l=ld())?l=Sd(kd()):"Worker"===l&&(l=Sd(kd())+"-"+l),l+"/JsCore/"+a+"/"+b.join(",")}function kd(){return aa.navigator&&aa.navigator.userAgent||""}function oc(a,b){a=a.split(".");b=b||aa;for(var d=
0;d<a.length&&"object"==typeof b&&null!=b;d++)b=b[a[d]];return d!=a.length?void 0:b}function Wi(){try{var a=aa.localStorage,b=Kf();if(a)return a.setItem(b,"1"),a.removeItem(b),!ng()||!!aa.indexedDB}catch(Pj){return Td()&&!!aa.indexedDB}return!1}function Lf(){return(Jh()||"chrome-extension:"===kf()||Hh())&&!Vi()&&Wi()&&!Td()}function Jh(){return"http:"===kf()||"https:"===kf()}function kf(){return aa.location&&aa.location.protocol||null}function pg(a){return!If(a=a||kd())&&Sd(a)!=bb}function Pg(a){return void 0===
a?null:zj(a)}function Kh(a){var b,d={};for(b in a)a.hasOwnProperty(b)&&null!==a[b]&&void 0!==a[b]&&(d[b]=a[b]);return d}function Mf(a){if(null!==a)return JSON.parse(a)}function Kf(a){return a||Math.floor(1E9*Math.random()).toString()}function Qg(a){return"Safari"!=Sd(a=a||kd())&&!a.toLowerCase().match(/iphone|ipad|ipod/)}function ui(){var a=aa.___jsl;if(a&&a.H)for(var b in a.H)if(a.H[b].r=a.H[b].r||[],a.H[b].L=a.H[b].L||[],a.H[b].r=a.H[b].L.concat(),a.CP)for(var d=0;d<a.CP.length;d++)a.CP[d]=null}
function Me(a,b){if(b<a)throw Error("Short delay should be less than long delay!");this.a=a;this.c=b;a=kd();b=ld();this.b=If(a)||"ReactNative"===b}function Lh(){var a=aa.document;return!a||void 0===a.visibilityState||"visible"==a.visibilityState}function Aj(){var a=aa.document,b=null;return Lh()||!a?Ga():(new wa(function(d){b=function(){Lh()&&(a.removeEventListener("visibilitychange",b,!1),d())};a.addEventListener("visibilitychange",b,!1)})).o(function(d){throw a.removeEventListener("visibilitychange",
b,!1),d;})}function Nf(a){try{var b=new Date(parseInt(a,10));if(!isNaN(b.getTime())&&!/[^0-9]/.test(a))return b.toUTCString()}catch(Pj){}return null}function ib(){return oc("fireauth.oauthhelper",aa)||oc("fireauth.iframe",aa)}function Mh(a){Vb[a]||(Vb[a]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(a))}function Pa(a,b,d){fd?Object.defineProperty(a,b,{configurable:!0,enumerable:!0,value:d}):a[b]=d}function md(a,b){if(b)for(var d in b)b.hasOwnProperty(d)&&Pa(a,d,b[d])}
function Bc(a){var b={};return md(b,a),b}function vi(a){var b=a;if("object"==typeof a&&null!=a)for(var d in b="length"in a?[]:{},a)Pa(b,d,vi(a[d]));return b}function wi(a){var b=a&&(a[lf]?"phone":null);if(!(b&&a&&a[Nh]))throw new J("internal-error","Internal assert: invalid MultiFactorInfo object");Pa(this,"uid",a[Nh]);Pa(this,"displayName",a[Rg]||null);Pa(this,"enrollmentTime",a[Xi]?(new Date(a[Xi])).toUTCString():null);Pa(this,"factorId",b)}function Oh(a){try{var b=new qg(a)}catch(Pj){b=null}return b}
function qg(a){wi.call(this,a);Pa(this,"phoneNumber",a[lf])}function Yi(a){var b={},d=a[Hk],l=a[Zi],p=a[Vj];if(a=Oh(a[Ik]),!p||p!=Cc&&p!=Kc&&!d||p==Kc&&!l||p==Wj&&!a)throw Error("Invalid checkActionCode response!");p==Kc?(b[ge]=d||null,b[qa]=d||null,b[xi]=l):(b[ge]=l||null,b[qa]=l||null,b[xi]=d||null);b[mk]=a||null;Pa(this,mf,p);Pa(this,Jk,vi(b))}function Ud(a){var b=ed(a=rc(a),Kk)||null,d=ed(a,Lk)||null,l=(l=ed(a,xe)||null)&&Yk[l]||null;if(!b||!d||!l)throw new J("argument-error",Kk+", "+Lk+"and "+
xe+" are required in a valid action code URL.");md(this,{apiKey:b,operation:l,code:d,continueUrl:ed(a,Of)||null,languageCode:ed(a,Sg)||null,tenantId:ed(a,Tg)||null})}function ha(a){try{return new Ud(a)}catch(xh){return null}}function Ph(a){if(void 0===(b=a[N]))throw new J("missing-continue-uri");if("string"!=typeof b||"string"==typeof b&&!b.length)throw new J("invalid-continue-uri");if(this.h=b,this.b=this.a=null,this.g=!1,(l=a[nk])&&"object"==typeof l){var b=l[Xj],d=l[Mk],l=l[Bj];if("string"==typeof b&&
b.length){if(this.a=b,void 0!==d&&"boolean"!=typeof d)throw new J("argument-error",Mk+" property must be a boolean when specified.");if(this.g=!!d,void 0!==l&&("string"!=typeof l||"string"==typeof l&&!l.length))throw new J("argument-error",Bj+" property must be a non empty string when specified.");this.b=l||null}else{if(void 0!==b)throw new J("argument-error",Xj+" property must be a non empty string when specified.");if(void 0!==d||void 0!==l)throw new J("missing-android-pkg-name");}}else if(void 0!==
l)throw new J("argument-error",nk+" property must be a non null object when specified.");if(this.f=null,(b=a[Vd])&&"object"==typeof b)if("string"==typeof(b=b[Yj])&&b.length)this.f=b;else{if(void 0!==b)throw new J("argument-error",Yj+" property must be a non empty string when specified.");}else if(void 0!==b)throw new J("argument-error",Vd+" property must be a non null object when specified.");if(void 0!==(b=a[ok])&&"boolean"!=typeof b)throw new J("argument-error",ok+" property must be a boolean when specified.");
if(this.c=!!b,void 0!==(a=a[Cj])&&("string"!=typeof a||"string"==typeof a&&!a.length))throw new J("argument-error",Cj+" property must be a non empty string when specified.");this.i=a||null}function he(a){var b,d={};for(b in d.continueUrl=a.h,d.canHandleCodeInApp=a.c,(d.androidPackageName=a.a)&&(d.androidMinimumVersion=a.b,d.androidInstallApp=a.g),d.iOSBundleId=a.f,d.dynamicLinkDomain=a.i,d)null===d[b]&&delete d[b];return d}function $i(a){var b=[];return function(a,b){function d(b){for(;l<a.length;){var d=
a.charAt(l++),p=ye[d];if(null!=p)return p;if(!/^[\s\xa0]*$/.test(d))throw Error("Unknown base64 encoding at char: "+d);}return b}!function(){if(!ye){ye={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++)for(var l=a.concat(b[d].split("")),p=0;p<l.length;p++){var e=l[p];void 0===ye[e]&&(ye[e]=p)}}}();for(var l=0;;){var p=d(-1),e=d(0),D=d(64),za=d(64);if(64===za&&-1===p)break;b(p<<2|e>>4);64!=D&&(b(e<<4&240|D>>2),64!=za&&
b(D<<6&192|za))}}(a,function(a){b.push(a)}),b}function K(a){var b=Dj(a);if(!(b&&b.sub&&b.iss&&b.aud&&b.exp))throw Error("Invalid JWT");this.h=a;this.a=b.exp;this.i=b.sub;a=Date.now()/1E3;this.g=b.iat||(a>this.a?this.a:a);this.b=b.provider_id||b.firebase&&b.firebase.sign_in_provider||null;this.f=b.firebase&&b.firebase.tenant||null;this.c=!!b.is_anonymous||"anonymous"==this.b}function Ug(a){try{return new K(a)}catch(xh){return null}}function Dj(a){if(!a||3!=(a=a.split(".")).length)return null;for(var b=
(4-(a=a[1]).length%4)%4,d=0;d<b;d++)a+=".";try{var l=$i(a);a=[];for(d=b=0;b<l.length;){var p,e,D,za=l[b++];128>za?a[d++]=String.fromCharCode(za):191<za&&224>za?(p=l[b++],a[d++]=String.fromCharCode((31&za)<<6|63&p)):239<za&&365>za?(D=((7&za)<<18|(63&(p=l[b++]))<<12|(63&(e=l[b++]))<<6|63&l[b++])-65536,a[d++]=String.fromCharCode(55296+(D>>10)),a[d++]=String.fromCharCode(56320+(1023&D))):(p=l[b++],e=l[b++],a[d++]=String.fromCharCode((15&za)<<12|(63&p)<<6|63&e))}return JSON.parse(a.join(""))}catch(Ck){}return null}
function Cb(a){for(var b in Ej)if(Ej[b].fa==a)return Ej[b];return null}function ie(a){var b={};b["facebook.com"]=Wb;b["google.com"]=nf;b["github.com"]=Pf;b["twitter.com"]=pc;var d=a&&a[pk];try{if(d)return new (b[d]||je)(a);if(void 0!==a[Zj])return new rg(a)}catch(Kg){}return null}function rg(a){var b,d=a[pk];if(d||!a[Zj]||(b=Ug(a[Zj]))&&b.b&&(d=b.b),!d)throw Error("Invalid additional user info!");b=!1;void 0!==a.isNewUser?b=!!a.isNewUser:"identitytoolkit#SignupNewUserResponse"===a.kind&&(b=!0);Pa(this,
"providerId","anonymous"==d||"custom"==d?null:d);Pa(this,"isNewUser",b)}function je(a){rg.call(this,a);Pa(this,"profile",vi(Mf(a.rawUserInfo||"{}")||{}))}function Wb(a){if(je.call(this,a),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!");}function Pf(a){if(je.call(this,a),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Pa(this,"username",this.profile&&this.profile.login||null)}function nf(a){if(je.call(this,a),"google.com"!=this.providerId)throw Error("Invalid provider ID!");
}function pc(a){if(je.call(this,a),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Pa(this,"username",a.screenName||null)}function Qf(a){var b=ed(l=rc(a),"link"),d=ed(rc(b),"link"),l=ed(l,"deep_link_id");return ed(rc(l),"link")||l||d||b||a}function Ne(a,b){if(!a&&!b)throw new J("internal-error","Internal assert: no raw session string available");if(a&&b)throw new J("internal-error","Internal assert: unable to determine the session type");this.a=a||null;this.b=b||null;this.type=
this.a?of:Tc}function pf(){}function Rf(b,d){return b.then(function(b){if(b[a]){var l=Ug(b[a]);if(!l||d!=l.i)throw new J("user-mismatch");return b}throw new J("user-mismatch");}).o(function(a){throw a&&a.code&&a.code==pi+"user-not-found"?new J("user-mismatch"):a;})}function ic(a,b){if(!b)throw new J("internal-error","failed to construct a credential");this.a=b;Pa(this,"providerId",a);Pa(this,"signInMethod",a)}function Qh(a){return{pendingToken:a.a,requestUri:"http://localhost"}}function Rh(a){if(a&&
a.providerId&&a.signInMethod&&0==a.providerId.indexOf("saml.")&&a.pendingToken)try{return new ic(a.providerId,a.pendingToken)}catch(xh){}return null}function ke(a,b,d){if(this.a=null,b.idToken||b.accessToken)b.idToken&&Pa(this,"idToken",b.idToken),b.accessToken&&Pa(this,"accessToken",b.accessToken),b.nonce&&!b.pendingToken&&Pa(this,"nonce",b.nonce),b.pendingToken&&(this.a=b.pendingToken);else{if(!b.oauthToken||!b.oauthTokenSecret)throw new J("internal-error","failed to construct a credential");Pa(this,
"accessToken",b.oauthToken);Pa(this,"secret",b.oauthTokenSecret)}Pa(this,"providerId",a);Pa(this,"signInMethod",d)}function Vg(a){var b={};return a.idToken&&(b.id_token=a.idToken),a.accessToken&&(b.access_token=a.accessToken),a.secret&&(b.oauth_token_secret=a.secret),b.providerId=a.providerId,a.nonce&&!a.a&&(b.nonce=a.nonce),b={postBody:ri(b).toString(),requestUri:"http://localhost"},a.a&&(delete b.postBody,b.pendingToken=a.a),b}function Oe(a){if(a&&a.providerId&&a.signInMethod){var b={idToken:a.oauthIdToken,
accessToken:a.oauthTokenSecret?null:a.oauthAccessToken,oauthTokenSecret:a.oauthTokenSecret,oauthToken:a.oauthTokenSecret&&a.oauthAccessToken,nonce:a.nonce,pendingToken:a.pendingToken};try{return new ke(a.providerId,b,a.signInMethod)}catch(Pj){}}return null}function Pe(a,b){this.Qc=b||[];md(this,{providerId:a,isOAuthProvider:!0});this.Jb={};this.qb=(Cb(a)||{}).Ja||null;this.pb=null}function Wg(a){if("string"!=typeof a||0!=a.indexOf("saml."))throw new J("argument-error",'SAML provider IDs must be prefixed with "saml."');
Pe.call(this,a,[])}function pd(a){Pe.call(this,a,ak);this.a=[]}function ab(){pd.call(this,"facebook.com")}function yi(a){if(!a)throw new J("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return r(a)&&(b=a.accessToken),(new ab).credential({accessToken:b})}function Qe(){pd.call(this,"github.com")}function aj(a){if(!a)throw new J("argument-error","credential failed: expected 1 argument (the OAuth access token).");var b=a;return r(a)&&(b=a.accessToken),(new Qe).credential({accessToken:b})}
function Sf(){pd.call(this,"google.com");this.Ca("profile")}function zi(a,b){var d=a;return r(a)&&(d=a.idToken,b=a.accessToken),(new Sf).credential({idToken:d,accessToken:b})}function Jd(){Pe.call(this,"twitter.com",qk)}function Sh(a,b){var d=a;if(!(d=r(d)?d:{oauthToken:a,oauthTokenSecret:b}).oauthToken||!d.oauthTokenSecret)throw new J("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ke("twitter.com",d,"twitter.com")}function Re(a,b,d){this.a=
a;this.f=b;Pa(this,"providerId","password");Pa(this,"signInMethod",d===Kd.EMAIL_LINK_SIGN_IN_METHOD?Kd.EMAIL_LINK_SIGN_IN_METHOD:Kd.EMAIL_PASSWORD_SIGN_IN_METHOD)}function jc(a){return a&&a.email&&a.password?new Re(a.email,a.password,a.signInMethod):null}function Kd(){md(this,{providerId:"password",isOAuthProvider:!1})}function Ra(a,b){if(!(b=Ai(b)))throw new J("argument-error","Invalid email link!");return new Re(a,b.code,Kd.EMAIL_LINK_SIGN_IN_METHOD)}function Ai(a){return(a=ha(a=Qf(a)))&&a.operation===
Cc?a:null}function qf(a){if(!(a.fb&&a.eb||a.La&&a.ea))throw new J("internal-error");this.a=a;Pa(this,"providerId","phone");this.fa="phone";Pa(this,"signInMethod","phone")}function Xb(a){if(a&&"phone"===a.providerId&&(a.verificationId&&a.verificationCode||a.temporaryProof&&a.phoneNumber)){var b={};return Ac(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(d){a[d]&&(b[d]=a[d])}),new qf(b)}return null}function Tf(a){return a.a.La&&a.a.ea?{temporaryProof:a.a.La,phoneNumber:a.a.ea}:
{sessionInfo:a.a.fb,code:a.a.eb}}function ze(a){try{this.a=a||v.default.auth()}catch(xh){throw new J("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().");}md(this,{providerId:"phone",isOAuthProvider:!1})}function sg(a,b){if(!a)throw new J("missing-verification-id");if(!b)throw new J("missing-verification-code");return new qf({fb:a,
eb:b})}function Xg(a){if(a.temporaryProof&&a.phoneNumber)return new qf({La:a.temporaryProof,ea:a.phoneNumber});var b=a&&a.providerId;if(!b||"password"===b)return null;var d=a&&a.oauthAccessToken,l=a&&a.oauthTokenSecret,p=a&&a.nonce,e=a&&a.oauthIdToken,D=a&&a.pendingToken;try{switch(b){case "google.com":return zi(e,d);case "facebook.com":return yi(d);case "github.com":return aj(d);case "twitter.com":return Sh(d,l);default:return d||l||e||D?D?0==b.indexOf("saml.")?new ic(b,D):new ke(b,{pendingToken:D,
idToken:a.oauthIdToken,accessToken:a.oauthAccessToken},b):(new pd(b)).credential({idToken:e,accessToken:d,rawNonce:p}):null}}catch(vj){return null}}function bj(a){if(!a.isOAuthProvider)throw new J("invalid-oauth-provider");}function le(a,b,d,l,p,e,D){if(this.c=a,this.b=b||null,this.g=d||null,this.f=l||null,this.i=e||null,this.h=D||null,this.a=p||null,!this.g&&!this.a)throw new J("invalid-auth-event");if(this.g&&this.a)throw new J("invalid-auth-event");if(this.g&&!this.f)throw new J("invalid-auth-event");
}function Uf(a){return(a=a||{}).type?new le(a.type,a.eventId,a.urlResponse,a.sessionId,a.error&&fb(a.error),a.postBody,a.tenantId):null}function tg(){this.b=null;this.a=[]}function Se(a){var b="unauthorized-domain",d=void 0,l=rc(a);a=l.a;"chrome-extension"==(l=l.c)?d=Ba("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",a):"http"==l||"https"==l?d=Ba("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",
a):b="operation-not-supported-in-this-environment";J.call(this,b,d)}function me(a,b,d){J.call(this,a,d);(a=b||{}).Kb&&Pa(this,"email",a.Kb);a.ea&&Pa(this,"phoneNumber",a.ea);a.credential&&Pa(this,"credential",a.credential);a.$b&&Pa(this,"tenantId",a.$b)}function Bd(a){if(a.code){var b=a.code||"";0==b.indexOf(pi)&&(b=b.substring(pi.length));var d={credential:Xg(a),$b:a.tenantId};if(a.email)d.Kb=a.email;else if(a.phoneNumber)d.ea=a.phoneNumber;else if(!d.credential)return new J(b,a.message||void 0);
return new me(b,d,a.message)}return null}function Te(){}function cj(a){return a.c||(a.c=a.b())}function ug(){}function Th(a){if(a.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return a.f;for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<b.length;d++){var l=b[d];try{return new ActiveXObject(l),a.f=l}catch(Xk){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}function Yg(){}
function Zg(){this.a=new XDomainRequest;this.readyState=0;this.onreadystatechange=null;this.responseType=this.responseText=this.response="";this.status=-1;this.statusText="";this.a.onload=fa(this.qc,this);this.a.onerror=fa(this.Tb,this);this.a.onprogress=fa(this.rc,this);this.a.ontimeout=fa(this.vc,this)}function zb(a,b,d){this.reset(a,b,d,void 0,void 0)}function Vf(a){this.f=a;this.b=this.c=this.a=null}function Ue(a,b){this.name=a;this.value=b}function Ae(a){var b,d,l;return dl||(dl=new Vf(""),(Dc[""]=
dl).c=oa),(b=Dc[a])||(b=new Vf(a),l=a.lastIndexOf("."),d=a.substr(l+1),(l=Ae(a.substr(0,l))).b||(l.b={}),(l.b[d]=b).a=l,Dc[a]=b),b}function Cd(a,b){a&&a.log(Be,b,void 0)}function Ec(a){this.f=a}function rf(a){Mb.call(this);this.u=a;this.h=void 0;this.readyState=el;this.status=0;this.responseType=this.responseText=this.response=this.statusText="";this.onreadystatechange=null;this.l=new Headers;this.b=null;this.s="GET";this.f="";this.a=!1;this.i=Ae("goog.net.FetchXmlHttp");this.m=this.c=this.g=null}
function $g(a){a.c.read().then(a.pc.bind(a)).catch(a.Va.bind(a))}function Oa(a){a.readyState=4;a.g=null;a.c=null;a.m=null;sf(a)}function sf(a){a.onreadystatechange&&a.onreadystatechange.call(a)}function ah(a){Mb.call(this);this.headers=new Hd;this.D=a||null;this.c=!1;this.C=this.a=null;this.h=this.P=this.l="";this.f=this.N=this.i=this.J=!1;this.g=0;this.s=null;this.m=fl;this.u=this.S=!1}function vg(a,b,d,l,p){if(a.a)throw Error("[goog.net.XhrIo] Object is active with another request="+a.l+"; newUri="+
b);d=d?d.toUpperCase():"GET";a.l=b;a.h="";a.P=d;a.J=!1;a.c=!0;a.a=(a.D||Bi).a();a.C=a.D?cj(a.D):cj(Bi);a.a.onreadystatechange=fa(a.Wb,a);try{Cd(a.b,ne(a,"Opening Xhr")),a.N=!0,a.a.open(d,String(b),!0),a.N=!1}catch(vj){return Cd(a.b,ne(a,"Error opening Xhr: "+vj.message)),void Wd(a,vj)}b=l||"";var e,D=new Hd(a.headers);p&&function(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(c(a)||"string"==typeof a)Ac(a,b,void 0);else for(var d=Gd(a),l=cf(a),p=l.length,e=0;e<p;e++)b.call(void 0,
l[e],d&&d[e],a)}(p,function(a,b){D.set(b,a)});p=function(a){a:{for(var b=T,d=a.length,l="string"==typeof a?a.split(""):a,p=0;p<d;p++)if(p in l&&b.call(void 0,l[p],p,a)){b=p;break a}b=-1}return 0>b?null:"string"==typeof a?a.charAt(b):a[b]}(D.Y());l=aa.FormData&&b instanceof aa.FormData;!Pb(gl,d)||p||l||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");D.forEach(function(a,b){this.a.setRequestHeader(b,a)},a);a.m&&(a.a.responseType=a.m);"withCredentials"in a.a&&a.a.withCredentials!==
a.S&&(a.a.withCredentials=a.S);try{gd(a),0<a.g&&(a.u=(e=a.a,og&&Qc(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout),Cd(a.b,ne(a,"Will abort after "+a.g+"ms if incomplete, xhr2 "+a.u)),a.u?(a.a.timeout=a.g,a.a.ontimeout=fa(a.Ma,a)):a.s=zd(a.Ma,a.g,a)),Cd(a.b,ne(a,"Sending request")),a.i=!0,a.a.send(b),a.i=!1}catch(vj){Cd(a.b,ne(a,"Send error: "+vj.message)),Wd(a,vj)}}function T(a){return"content-type"==a.toLowerCase()}function Wd(a,b){a.c=!1;a.a&&(a.f=!0,a.a.abort(),a.f=!1);a.h=b;wg(a);Ce(a)}
function wg(a){a.J||(a.J=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}function Uc(a){if(a.c&&void 0!==bh)if(a.C[1]&&4==tf(a)&&2==ch(a))Cd(a.b,ne(a,"Local request error detected and ignored"));else if(a.i&&4==tf(a))zd(a.Wb,0,a);else if(a.dispatchEvent("readystatechange"),4==tf(a)){Cd(a.b,ne(a,"Request complete"));a.c=!1;try{var b,d,l,p,e=ch(a);a:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break a;default:D=!1}if((b=D)||((d=0===e)&&(!(p=String(a.l).match(df)[1]||
null)&&aa.self&&aa.self.location&&(p=(l=aa.self.location.protocol).substr(0,l.length-1)),d=!hl.test(p?p.toLowerCase():"")),b=d),b)a.dispatchEvent("complete"),a.dispatchEvent("success");else{try{var za=2<tf(a)?a.a.statusText:""}catch(Ck){Cd(a.b,"Can not get status: "+Ck.message),za=""}a.h=za+" ["+ch(a)+"]";wg(a)}}finally{Ce(a)}}}function Ce(a,b){if(a.a){gd(a);var d=a.a,l=a.C[0]?x:null;a.a=null;a.C=null;b||a.dispatchEvent("ready");try{d.onreadystatechange=l}catch(Xk){(a=a.b)&&a.log(Nk,"Problem encountered resetting onreadystatechange: "+
Xk.message,void 0)}}}function gd(a){a.a&&a.u&&(a.a.ontimeout=null);a.s&&(aa.clearTimeout(a.s),a.s=null)}function tf(a){return a.a?a.a.readyState:0}function ch(a){try{return 2<tf(a)?a.a.status:-1}catch(xh){return-1}}function ne(a,b){return b+" ["+a.P+" "+a.l+" "+ch(a)+"]"}function Xd(a){var b=Uh;this.g=[];this.u=b;this.s=a||null;this.f=this.a=!1;this.c=void 0;this.v=this.C=this.i=!1;this.h=0;this.b=null;this.l=0}function dh(a,b,d){a.a=!0;a.c=d;a.f=!b;Wf(a)}function Xf(a){if(a.a){if(!a.v)throw new eh;
a.v=!1}}function Yf(a,b,d,l){a.g.push([b,d,l]);a.a&&Wf(a)}function Yb(a){return Ve(a.g,function(a){return f(a[1])})}function Wf(a){var b;a.h&&a.a&&Yb(a)&&(d=a.h,(b=Wk[d])&&(aa.clearTimeout(b.a),delete Wk[d]),a.h=0);a.b&&(a.b.l--,delete a.b);for(var d=a.c,l=b=!1;a.g.length&&!a.i;){var p=(D=a.g.shift())[0],e=D[1],D=D[2];if(p=a.f?e:p)try{var za=p.call(D||a.s,d);void 0!==za&&(a.f=a.f&&(za==d||za instanceof Error),a.c=d=za);(Ka(d)||"function"==typeof aa.Promise&&d instanceof aa.Promise)&&(l=!0,a.i=!0)}catch(Ck){d=
Ck,a.f=!0,Yb(a)||(b=!0)}}a.c=d;l&&(za=fa(a.m,a,!0),l=fa(a.m,a,!1),d instanceof Xd?(Yf(d,za,l),d.C=!0):d.then(za,l));b&&(d=new cb(d),Wk[d.a]=d,a.h=d.a)}function eh(){E.call(this)}function oe(){E.call(this)}function cb(a){this.a=aa.setTimeout(fa(this.c,this),0);this.b=a}function xg(a){var b=document,d=Va(a).toString(),l=xd(document,"SCRIPT"),p={Xb:l,Ma:void 0},e=new Xd(p),D=window.setTimeout(function(){yg(l,!0);var a=new fh(rk,"Timeout reached for loading script "+d);Xf(e);dh(e,!1,a)},5E3);return p.Ma=
D,l.onload=l.onreadystatechange=function(){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||(yg(l,!1,D),Xf(e),dh(e,!0,null))},l.onerror=function(){yg(l,!0,D);var a=new fh(bk,"Error while loading script "+d);Xf(e);dh(e,!1,a)},kb(p={},{type:"text/javascript",charset:"UTF-8"}),Ma(l,p),p=a,ja(a=l,"HTMLScriptElement"),a.src=Va(p),(p=(p=a.ownerDocument&&a.ownerDocument.defaultView)&&p!=aa?n(p.document):We=null===We?n(aa.document):We)&&a.setAttribute("nonce",p),((b=((p=b)||document).getElementsByTagName("HEAD"))&&
0!=b.length?b[0]:p.documentElement).appendChild(l),e}function Uh(){var a;this&&this.Xb&&(a=this.Xb)&&"SCRIPT"==a.tagName&&yg(a,!0,this.Ma)}function yg(a,b,d){null!=d&&aa.clearTimeout(d);a.onload=x;a.onerror=x;a.onreadystatechange=x;b&&window.setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},0)}function fh(a,b){var d="Jsloader error (code #"+a+")";b&&(d+=": "+b);E.call(this,d);this.code=a}function gh(a){this.f=a}function Lc(a,e,D){if(this.c=a,this.l=(a=e||{}).secureTokenEndpoint||
"https://securetoken.googleapis.com/v1/token",this.m=a.secureTokenTimeout||b,this.g=Fa(a.secureTokenHeaders||d),this.h=a.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=a.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=a.firebaseTimeout||l,this.a=Fa(a.firebaseHeaders||p),D&&(this.a["X-Client-Version"]=D,this.g["X-Client-Version"]=D),D="Node"==ld(),!(D=aa.XMLHttpRequest||D&&v.default.INTERNAL.node&&v.default.INTERNAL.node.XMLHttpRequest)&&
!Td())throw new J("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0;Td()?this.f=new Ec(self):Vi()?this.f=new gh(D):this.f=new Yg;this.b=null}function dj(a,b){b?a.a["X-Firebase-Locale"]=b:delete a.a["X-Firebase-Locale"]}function Zf(a,b){b&&(a.l=Fj("https://securetoken.googleapis.com/v1/token",b),a.h=Fj("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",b),a.i=Fj("https://identitytoolkit.googleapis.com/v2/",b))}function Fj(a,b){return a=rc(a),b=rc(b.url),
a.f=a.a+a.f,Ad(a,b.c),a.a=b.a,mg(a,b.g),a.toString()}function ej(a,b){b?(a.a["X-Client-Version"]=b,a.g["X-Client-Version"]=b):(delete a.a["X-Client-Version"],delete a.g["X-Client-Version"])}function Ld(a,b,d,l,p,e,m){var za;(a=((za=Sd(za=kd())==Og&&(za=za.match(/\sChrome\/(\d+)/i))&&2==za.length?parseInt(za[1],10):null)&&30>za||og&&Mg&&!(9<Mg))&&!Td()?(Zk=Zk||new wa(function(a,b){((window.gapi||{}).client||{}).request?a():(aa[xa]=function(){((window.gapi||{}).client||{}).request?a():b(Error("CORS_UNSUPPORTED"))},
function(a,b){Yf(a,null,b,void 0)}(xg(gb(D,{onload:xa})),function(){b(Error("CORS_UNSUPPORTED"))}))}),fa(a.s,a)):fa(a.u,a))(b,d,l,p,e,m)}function $k(a,b,d,l,p,e,D){var za=rc(b+d);Ob(za,"key",a.c);D&&Ob(za,"cb",Date.now().toString());var m="GET"==l;if(m)for(var xa in p)p.hasOwnProperty(xa)&&Ob(za,xa,p[xa]);return new wa(function(b,d){Ld(a,za.toString(),function(a){a?a.error?d(Ci(a,e||{})):b(a):d(new J("network-request-failed"))},l,m?void 0:zj(Kh(p)),a.a,a.v.get())})}function kc(a){if("string"!=typeof(a=
a.email)||!Ok.test(a))throw new J("invalid-email");}function Ab(a){"email"in a&&kc(a)}function ob(b){if(!b[a]){if(b.mfaPendingCredential)throw new J("multi-factor-auth-required",null,Fa(b));throw new J("internal-error");}}function Vh(a){if(a.phoneNumber||a.temporaryProof){if(!a.phoneNumber||!a.temporaryProof)throw new J("internal-error");}else{if(!a.sessionInfo)throw new J("missing-verification-id");if(!a.code)throw new J("missing-verification-code");}}function al(a){if(!a.phoneVerificationInfo)throw new J("internal-error");
if(!a.phoneVerificationInfo.sessionInfo)throw new J("missing-verification-id");if(!a.phoneVerificationInfo.code)throw new J("missing-verification-code");}function Mc(a){if(!a.requestUri||!a.sessionId&&!a.postBody&&!a.pendingToken)throw new J("internal-error");}function De(a,b){return b.oauthIdToken&&b.providerId&&0==b.providerId.indexOf("oidc.")&&!b.pendingToken&&(a.sessionId?b.nonce=a.sessionId:a.postBody&&hc(a=new ff(a.postBody),"nonce")&&(b.nonce=a.get("nonce"))),b}function Wh(a){var b=null;if(a.needConfirmation?
(a.code="account-exists-with-different-credential",b=Bd(a)):"FEDERATED_USER_ID_ALREADY_LINKED"==a.errorMessage?(a.code="credential-already-in-use",b=Bd(a)):"EMAIL_EXISTS"==a.errorMessage?(a.code="email-already-in-use",b=Bd(a)):a.errorMessage&&(b=qd(a.errorMessage)),b)throw b;ob(a)}function va(a,b){return b.returnIdpCredential=!0,Ua(a,Ol,b)}function Dd(a,b){return b.returnIdpCredential=!0,Ua(a,Pl,b)}function Di(a,b){return b.returnIdpCredential=!0,b.autoCreate=!1,Ua(a,Ql,b)}function Ed(a){if(!a.oobCode)throw new J("invalid-action-code");
}function Ua(a,b,d){if(!function(a,b){if(!b||!b.length)return 1;if(a){for(var d=0;d<b.length;d++){var l=a[b[d]];if(null==l||""===l)return}return 1}}(d,b.O))return hb(new J("internal-error"));var l,p=!!b.Na,e=b.Vb||"POST";return Ga(d).then(b.A).then(function(){return b.V&&(d.returnSecureToken=!0),b.B&&a.b&&void 0===d.tenantId&&(d.tenantId=a.b),$k(a,p?a.i:a.h,b.endpoint,e,d,b.Ib,b.mb||!1)}).then(function(a){return l=a,b.Za?b.Za(d,l):l}).then(b.G).then(function(){if(!b.Z)return l;if(!(b.Z in l))throw new J("internal-error");
return l[b.Z]})}function qd(a){return Ci({error:{errors:[{message:a}],code:400,message:a}})}function Ci(a,b){var d,l=(a.error&&a.error.errors&&a.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(l=p[l]?new J(p[l]):null)return l;for(d in l=a.error&&a.error.message||"",kb(p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",
INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",
INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",
INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",
MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",
INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",
SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},b||{}),b=(b=l.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<b.length?b[1]:void 0,p)if(0===l.indexOf(d))return new J(p[d],b);return new J("internal-error",!b&&a?Pg(a):b)}function Ei(a){var b;this.b=a;this.a=null;this.sb=(b=this,(il=il||(new wa(function(a,b){function d(){ui();oc("gapi.load")("gapi.iframes",
{callback:a,ontimeout:function(){ui();b(Error("Network Error"))},timeout:Rl.get()})}var l;oc("gapi.iframes.Iframe")?a():oc("gapi.load")?d():(l="__iframefcb"+Math.floor(1E6*Math.random()).toString(),aa[l]=function(){oc("gapi.load")?d():b(Error("Network Error"))},Ga(xg(l=gb(Sl,{onload:l}))).o(function(){b(Error("Network Error"))}))})).o(function(a){throw il=null,a;})).then(function(){return new wa(function(a,d){oc("gapi.iframes.getContext")().open({where:document.body,url:b.b,messageHandlersFilter:oc("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),
attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(l){function p(){clearTimeout(e);a()}b.a=l;b.a.restyle({setHideOnLeave:!1});var e=setTimeout(function(){d(Error("Network Error"))},Tl.get());l.ping(p).then(p,function(){d(Error("Network Error"))})})})}))}function ck(a,b,d,l){this.l=a;this.h=b;this.i=d;this.g=l;this.f=null;this.a=a=this.g?jf((a=rc(this.g.url)).c,a.a,a.g,"/emulator/auth/iframe"):jf("https",this.l,null,"/__/auth/iframe");Ob(this.a,"apiKey",
this.h);Ob(this.a,"appName",this.i);this.b=null;this.c=[]}function fj(a,b,d,l,p,e){this.u=a;this.s=b;this.c=d;this.m=l;this.v=e;this.i=this.g=this.l=null;this.a=p;this.h=this.f=null}function Ja(a){try{return v.default.app(a).auth().Ga()}catch(xh){return[]}}function Zb(a,b,d,l,p,e){this.s=a;this.g=b;this.b=d;this.f=e;this.c=l||null;this.i=p||null;this.l=this.u=this.C=null;this.h=[];this.m=this.a=null}function $f(a){var b=Ng();return Ua(a,Ul,{}).then(function(a){return a.authorizedDomains||[]}).then(function(a){a:{for(var d=
(l=rc(b)).c,l=l.a,p=0;p<a.length;p++){var e=a[p],D=l,m=d;if(0==e.indexOf("chrome-extension://")?rc(e).a==D&&"chrome-extension"==m:("http"==m||"https"==m)&&(sk.test(e)?D==e:(e=e.split(".").join("\\."),(new RegExp("^(.+\\."+e+"|"+e+")$","i")).test(D)))){a=!0;break a}}a=!1}if(!a)throw new Se(Ng());})}function tk(a){return a.m||(a.m=Jf().then(function(){var b,d,l,p;a.u||(b=a.c,d=a.i,l=Ja(a.b),(p=new ck(a.s,a.g,a.b,a.f)).f=b,p.b=d,p.c=Ca(l||[]),a.u=p.toString());a.v=new Ei(a.u);(function(a){if(!a.v)throw Error("IfcHandler must be initialized!");
!function(a,b){a.sb.then(function(){a.a.register("authEvent",b,oc("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(a.v,function(b){var d={};if(b&&b.authEvent){var l=!1;b=Uf(b.authEvent);for(d=0;d<a.h.length;d++)l=a.h[d](b)||l;return(d={}).status=l?"ACK":"ERROR",Ga(d)}return d.status="ERROR",Ga(d)})})(a)}),a.m)}function uk(a){return a.l||(a.C=a.c?we(a.c,Ja(a.b)):null,a.l=new Lc(a.g,ya(a.i),a.C),a.f&&Zf(a.l,a.f)),a.l}function gj(a,b,d,l,p,e,D,m,xa,c,F,Od){return(a=new fj(a,b,d,l,p,Od)).l=e,a.g=D,a.i=
m,a.b=Fa(xa||null),a.f=c,a.zb(F).toString()}function hj(a){if(this.a=a||v.default.INTERNAL.reactNative&&v.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new J("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function rb(a){this.b=a;this.a={};this.f=fa(this.c,this)}function uf(a,b,d){Ha(a.a)&&a.b.addEventListener("message",a.f);void 0===a.a[b]&&(a.a[b]=[]);a.a[b].push(d)}function hh(a){this.a=a}function Rb(a){this.c=a;this.b=!1;this.a=[]}function Vc(a,
b,d,l){var p,e,D,m,za=d||{},xa=null;if(a.b)return hb(Error("connection_unavailable"));var c=l?800:50,F="undefined"!=typeof MessageChannel?new MessageChannel:null;return(new wa(function(d,l){F?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),F.port1.start(),D=setTimeout(function(){l(Error("unsupported_event"))},c),xa={messageChannel:F,onMessage:e=function(a){a.data.eventId===p&&("ack"===a.data.status?(clearTimeout(D),m=setTimeout(function(){l(Error("timeout"))},3E3)):"done"===a.data.status?
(clearTimeout(m),void 0!==a.data.response?d(a.data.response):l(Error("unknown_error"))):(clearTimeout(D),clearTimeout(m),l(Error("invalid_response"))))}},a.a.push(xa),F.port1.addEventListener("message",e),a.c.postMessage({eventType:b,eventId:p,data:za},[F.port2])):l(Error("connection_unavailable"))})).then(function(b){return Wc(a,xa),b}).o(function(b){throw Wc(a,xa),b;})}function Wc(a,b){var d,l;b&&(d=b.messageChannel,l=b.onMessage,d&&(d.port1.removeEventListener("message",l),d.port1.close()),ka(a.a,
function(a){return a==b}))}function ih(){if(!ag())throw new J("web-storage-unsupported");this.c={};this.a=[];this.b=0;this.m=aa.indexedDB;this.type="indexedDB";this.g=this.v=this.f=this.l=null;this.s=!1;this.h=null;var a,b,d,l=this;Td()&&self?(this.v=(d=Td()?self:null,Ac(tl,function(a){a.b==d&&(b=a)}),b||(b=new rb(d),tl.push(b)),b),uf(this.v,"keyChanged",function(a,b){return Nc(l).then(function(a){return 0<a.length&&Ac(l.a,function(b){b(a)}),{keyProcessed:Pb(a,b.key)}})}),uf(this.v,"ping",function(){return Ga(["keyChanged"])})):
((a=aa.navigator)&&a.serviceWorker?Ga().then(function(){return a.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ga(null)).then(function(a){(l.h=a)&&(l.g=new Rb(new hh(a)),Vc(l.g,"ping",null,!0).then(function(a){a[0].fulfilled&&Pb(a[0].value,"keyChanged")&&(l.s=!0)}).o(function(){}))})}function jh(a){return new wa(function(b,d){var l=a.m.open("firebaseLocalStorageDb",1);l.onerror=function(a){try{a.preventDefault()}catch(Qj){}d(Error(a.target.error))};l.onupgradeneeded=
function(a){a=a.target.result;try{a.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Qj){d(Qj)}};l.onsuccess=function(l){(l=l.target.result).objectStoreNames.contains("firebaseLocalStorage")?b(l):(new wa(function(b,d){var l=a.m.deleteDatabase("firebaseLocalStorageDb");l.onsuccess=function(){b()};l.onerror=function(a){d(Error(a.target.error))}})).then(function(){return jh(a)}).then(function(a){b(a)}).o(function(a){d(a)})}})}function ij(a){return a.i||(a.i=jh(a)),a.i}function vf(a,
b){var d=0;return new wa(function hk(l,p){ij(a).then(b).then(l).o(function(b){return 3<++d?void p(b):ij(a).then(function(b){return b.close(),a.i=void 0,hk(l,p)}).o(function(a){p(a)})})})}function ag(){try{return aa.indexedDB}catch(za){}}function Xh(a){return a.objectStore("firebaseLocalStorage")}function Oc(a,b){return a.transaction(["firebaseLocalStorage"],b?"readwrite":"readonly")}function wf(a){return new wa(function(b,d){a.onsuccess=function(a){a&&a.target?b(a.target.result):b()};a.onerror=function(a){d(a.target.error)}})}
function Ee(a,b){return a.g&&a.h&&((d=aa.navigator)&&d.serviceWorker&&d.serviceWorker.controller||null)===a.h?Vc(a.g,"keyChanged",{key:b},a.s).then(function(){}).o(function(){}):Ga();var d}function Nc(a){return ij(a).then(function(a){var b=Xh(Oc(a,!1));return b.getAll?wf(b.getAll()):new wa(function(a,d){var l=[],p=b.openCursor();p.onsuccess=function(b){(b=b.target.result)?(l.push(b.value),b.continue()):a(l)};p.onerror=function(a){d(a.target.error)}})}).then(function(b){var d={},l=[];if(0==a.b){for(l=
0;l<b.length;l++)d[b[l].fbase_key]=b[l].value;l=function vj(a,b){var d,l=[];for(d in a)d in b&&typeof a[d]==typeof b[d]?"object"==typeof a[d]&&null!=a[d]&&null!=b[d]?0<vj(a[d],b[d]).length&&l.push(d):a[d]!==b[d]&&l.push(d):l.push(d);for(d in b)d in a||l.push(d);return l}(a.c,d);a.c=d}return l})}function zg(a){a.l&&a.l.cancel("STOP_EVENT");a.f&&(clearTimeout(a.f),a.f=null)}function jj(a){var b=this,d=null;this.a=[];this.type="indexedDB";this.c=a;this.b=Ga().then(function(){if(ag()){var a=Kf(),l="__sak"+
a;return jl=jl||new ih,(d=jl).set(l,a).then(function(){return d.get(l)}).then(function(b){if(b!==a)throw Error("indexedDB not supported!");return d.U(l)}).then(function(){return d}).o(function(){return b.c})}return b.c}).then(function(a){return b.type=a.type,a.ca(function(a){Ac(b.a,function(b){b(a)})}),a})}function Yh(){this.a={};this.type="inMemory"}function sc(){if(!function(){var a="Node"==ld();if(!(a=Ag()||a&&v.default.INTERNAL.node&&v.default.INTERNAL.node.localStorage))return!1;try{return a.setItem("__sak",
"1"),a.removeItem("__sak"),!0}catch(xh){return!1}}()){if("Node"==ld())throw new J("internal-error","The LocalStorage compatibility library was not found.");throw new J("web-storage-unsupported");}this.a=Ag()||v.default.INTERNAL.node.localStorage;this.type="localStorage"}function Ag(){try{var a=aa.localStorage,b=Kf();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(Pj){return null}}function Gj(){this.type="nullStorage"}function kj(){if(!function(){var a="Node"==ld();if(!(a=Zh()||a&&v.default.INTERNAL.node&&
v.default.INTERNAL.node.sessionStorage))return!1;try{return a.setItem("__sak","1"),a.removeItem("__sak"),!0}catch(xh){return!1}}()){if("Node"==ld())throw new J("internal-error","The SessionStorage compatibility library was not found.");throw new J("web-storage-unsupported");}this.a=Zh()||v.default.INTERNAL.node.sessionStorage;this.type="sessionStorage"}function Zh(){try{var a=aa.sessionStorage,b=Kf();return a&&(a.setItem(b,"1"),a.removeItem(b)),a}catch(Pj){return null}}function dk(){var a={};a.Browser=
Vl;a.Node=Wl;a.ReactNative=Xl;a.Worker=Yl;this.a=a[ld()]}function Fi(){var a=!(Qg(kd())||!ti()),b=pg(),d=Wi();this.m=a;this.h=b;this.l=d;this.a={};a=ul=ul||new dk;try{this.g=!ng()&&ib()||!aa.indexedDB?new a.a.F:new jj(new (Td()?Yh:a.a.F))}catch(Kg){this.g=new Yh,this.h=!0}try{this.i=new a.a.cb}catch(Kg){this.i=new Yh}this.v=new Yh;this.f=fa(this.Zb,this);this.b={}}function Bg(){return vl=vl||new Fi}function bg(a,b){switch(b){case "session":return a.i;case "none":return a.v;default:return a.g}}function lb(a,
b){return"firebase:"+a.name+(b?":"+b:"")}function Fe(a,b,d){return d=lb(b,d),"local"==b.F&&(a.b[d]=null),bg(a,b.F).U(d)}function Cg(a){a.c&&(clearInterval(a.c),a.c=null)}function xf(a){this.a=a;this.b=Bg()}function lj(){this.a=Bg()}function pb(a,b){this.b=wl;this.f=aa.Uint8Array?new Uint8Array(this.b):Array(this.b);this.g=this.c=0;this.a=[];this.i=a;this.h=b;this.l=aa.Int32Array?new Int32Array(64):Array(64);void 0===kl&&(kl=aa.Int32Array?new Int32Array(xl):xl);this.reset()}function Gi(a){for(var b=
a.f,d=a.l,l=0,p=0;p<b.length;)d[l++]=b[p]<<24|b[p+1]<<16|b[p+2]<<8|b[p+3],p=4*l;for(b=16;64>b;b++){p=0|d[b-15];l=0|d[b-2];var e=(0|d[b-16])+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,D=(0|d[b-7])+((l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10)|0;d[b]=e+D|0}l=0|a.a[0];p=0|a.a[1];var m=0|a.a[2],xa=0|a.a[3],za=0|a.a[4],c=0|a.a[5],F=0|a.a[6];e=0|a.a[7];for(b=0;64>b;b++){var Od=((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+(l&p^l&m^p&m)|0;D=(e+((za>>>6|za<<26)^(za>>>11|za<<21)^(za>>>25|za<<7))|0)+((D=(D=za&c^~za&F)+
(0|kl[b])|0)+(0|d[b])|0)|0;e=F;F=c;c=za;za=xa+D|0;xa=m;m=p;p=l;l=D+Od|0}a.a[0]=a.a[0]+l|0;a.a[1]=a.a[1]+p|0;a.a[2]=a.a[2]+m|0;a.a[3]=a.a[3]+xa|0;a.a[4]=a.a[4]+za|0;a.a[5]=a.a[5]+c|0;a.a[6]=a.a[6]+F|0;a.a[7]=a.a[7]+e|0}function Pk(a,b,d){void 0===d&&(d=b.length);var l=0,p=a.c;if("string"==typeof b)for(;l<d;)a.f[p++]=b.charCodeAt(l++),p==a.b&&(Gi(a),p=0);else{if(!c(b))throw Error("message must be string or array");for(;l<d;){var e=b[l++];if(!("number"==typeof e&&0<=e&&255>=e&&e==(0|e)))throw Error("message must be a byte array");
a.f[p++]=e;p==a.b&&(Gi(a),p=0)}}a.c=p;a.g+=d}function Kb(){pb.call(this,8,Zl)}function la(a,b,d,l,p,e){this.v=a;this.i=b;this.l=d;this.m=l||null;this.u=p||null;this.s=e;this.h=b+":"+d;this.C=new lj;this.g=new xf(this.h);this.f=null;this.b=[];this.a=this.c=null}function tc(a){return new J("invalid-cordova-configuration",a)}function mj(a){var b=new Kb;Pk(b,a);a=[];var d=8*b.g;56>b.c?Pk(b,yl,56-b.c):Pk(b,yl,b.b-(b.c-56));for(var l=63;56<=l;l--)b.f[l]=255&d,d/=256;Gi(b);for(l=d=0;l<b.i;l++)for(var p=
24;0<=p;p-=8)a[d++]=b.a[l]>>p&255;return pe(a,function(a){return 1<(a=a.toString(16)).length?a:"0"+a}).join("")}function Qb(a,b){for(var d=0;d<a.b.length;d++)try{a.b[d](b)}catch(Kg){}}function Zc(a){return a.f||(a.f=a.ma().then(function(){return new wa(function(b){function d(a){e=!0;D&&D.cancel();nj(l).then(function(b){var d,e=p;b&&a&&a.url&&(d=null,e=(-1!=(e=Qf(a.url)).indexOf("/__/auth/callback")?(d="object"==typeof(d=Mf(ed(d=rc(e),"firebaseError")||null))?fb(d):null)?new le(b.c,b.b,null,null,d,
null,b.T()):new le(b.c,b.b,e,b.f,null,null,b.T()):d)||p);Qb(l,e)})}a.Ea(function Tk(d){return b(d),a.Ta(Tk),!1});var l=a;var p=new le("unknown",null,null,null,new J("no-auth-event"));var e=!1;var D=ub(500).then(function(){return nj(l).then(function(){e||Qb(l,p)})});var m=aa.handleOpenURL;aa.handleOpenURL=function(a){if(0==a.toLowerCase().indexOf(oc("BuildInfo.packageName",aa).toLowerCase()+"://")&&d({url:a}),"function"==typeof m)try{m(a)}catch(Tk){console.error(Tk)}};cg=cg||new tg;(function(a){var b=
cg;b.a.push(a);b.b||(b.b=function(a){for(var d=0;d<b.a.length;d++)b.a[d](a)},"function"==typeof(a=oc("universalLinks.subscribe",aa))&&a(null,b.b))})(d)})})),a.f}function nj(a){var b,d=null;return(b=a.g).b.get(ll,b.a).then(Uf).then(function(b){return d=b,Fe((b=a.g).b,ll,b.a)}).then(function(){return d})}function oj(a){this.a=a;this.b=Bg()}function pj(a){return Fe(a.b,ml,a.a)}function yf(a,b,d,l){this.i={};this.u=0;this.D=a;this.v=b;this.m=d;this.J=l;this.h=[];this.f=!1;this.l=fa(this.s,this);this.b=
new hd;this.C=new Fc;this.g=new oj(Hi(this.v,this.m));this.c={};this.c.unknown=this.b;this.c.signInViaRedirect=this.b;this.c.linkViaRedirect=this.b;this.c.reauthViaRedirect=this.b;this.c.signInViaPopup=this.C;this.c.linkViaPopup=this.C;this.c.reauthViaPopup=this.C;this.a=Fb(this.D,this.v,this.m,F,this.J)}function Fb(a,b,d,l,p){var e=v.default.SDK_VERSION||null;return new (Hh()?la:Zb)(a,b,d,e,l,p)}function Dg(a){a.f||(a.f=!0,a.a.Ea(a.l));var b=a.a;return a.a.ma().o(function(d){throw a.a==b&&a.reset(),
d;})}function Ii(a){a.a.Yb()&&Dg(a).o(function(b){var d=new le("unknown",null,null,null,new J("operation-not-supported-in-this-environment"));Eg(b)&&a.s(d)});a.a.Ub()||lc(a.b)}function $c(a,b){Pb(a.h,b)||a.h.push(b);a.f||(b=a.g).b.get(ml,b.a).then(function(a){return"pending"==a}).then(function(b){b?pj(a.g).then(function(){Dg(a).o(function(b){var d=new le("unknown",null,null,null,new J("operation-not-supported-in-this-environment"));Eg(b)&&a.s(d)})}):Ii(a)}).o(function(){Ii(a)})}function Fg(a,b){ka(a.h,
function(a){return a==b})}function qe(a,b,d,l,p,e,D){return a.a.Nb(b,d,l,function(){a.f||(a.f=!0,a.a.Ea(a.l))},function(){a.reset()},p,e,D)}function Eg(a){return!(!a||"auth/cordova-not-ready"!=a.code)}function zf(a,b,d,l,p){var e,D;return(D=a.g).b.set(ml,"pending",D.a).then(function(){return a.a.Ob(b,d,l,p).o(function(b){if(Eg(b))throw new J("operation-not-supported-in-this-environment");return e=b,pj(a.g).then(function(){throw e;})}).then(function(){return a.a.ac()?new wa(function(){}):pj(a.g).then(function(){return a.ra()}).then(function(){}).o(function(){})})})}
function uc(a,b,d,l,p){return a.a.Pb(l,function(a){b.na(d,null,a,p)},$l.get())}function Hi(a,b,d){return a=a+":"+b,d?a+":"+d.url:a}function Gg(a,b,d,l){var p=Hi(b,d,l);return nl[p]||(nl[p]=new yf(a,b,d,l)),nl[p]}function hd(){this.b=null;this.f=[];this.c=[];this.a=null;this.i=this.g=!1}function lc(a){a.g||(a.g=!0,rd(a,!1,null,null))}function Yd(a){a.g&&!a.i&&rd(a,!1,null,null)}function Hj(a,b){if(a.b=function(){return Ga(b)},a.f.length)for(var d=0;d<a.f.length;d++)a.f[d](b)}function rd(a,b,d,l){b?
l?function(a,b){if(a.b=function(){return hb(b)},a.c.length)for(var d=0;d<a.c.length;d++)a.c[d](b)}(a,l):Hj(a,d):Hj(a,{user:null});a.f=[];a.c=[]}function Fc(){}function vc(){this.jb=!1;Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(a){this.jb=a},enumerable:!1})}function Gc(a,b){this.a=b;Pa(this,"verificationId",a)}function Af(a,b,d,l){return(new ze(a)).gb(b,d).then(function(a){return new Gc(a,l)})}function nd(a){var b=Dj(a);if(!(b&&b.exp&&b.auth_time&&
b.iat))throw new J("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");md(this,{token:a,expirationTime:Nf(1E3*b.exp),authTime:Nf(1E3*b.auth_time),issuedAtTime:Nf(1E3*b.iat),signInProvider:b.firebase&&b.firebase.sign_in_provider?b.firebase.sign_in_provider:null,signInSecondFactor:b.firebase&&b.firebase.sign_in_second_factor?b.firebase.sign_in_second_factor:null,claims:b})}function eb(a,b,d){var l=b&&b[zl];if(!l)throw new J("argument-error",
"Internal assert: Invalid MultiFactorResolver");this.a=a;this.f=Fa(b);this.g=d;this.c=new Ne(null,l);this.b=[];var p=this;Ac(b[Al]||[],function(a){(a=Oh(a))&&p.b.push(a)});Pa(this,"auth",this.a);Pa(this,"session",this.c);Pa(this,"hints",this.b)}function Zd(a,b,d,l){J.call(this,"multi-factor-auth-required",l,b);this.b=new eb(a,b,d);Pa(this,"resolver",this.b)}function ek(a,b,d){if(a&&r(a.serverResponse)&&"auth/multi-factor-auth-required"===a.code)try{return new Zd(b,a.serverResponse,d,a.message)}catch(Kg){}return null}
function dg(){}function Fd(a){Pa(this,"factorId",a.fa);this.a=a}function ua(a){if(Fd.call(this,a),this.a.fa!=ze.PROVIDER_ID)throw new J("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential");}function eg(a,b){for(var d in nc.call(this,a),b)this[d]=b[d]}function Ib(a,b){this.a=a;this.b=[];this.c=fa(this.yc,this);Jc(this.a,"userReloaded",this.c);var d=[];b&&b.multiFactor&&b.multiFactor.enrolledFactors&&Ac(b.multiFactor.enrolledFactors,function(a){var b=
null,l={};if(a){a.uid&&(l[Nh]=a.uid);a.displayName&&(l[Rg]=a.displayName);a.enrollmentTime&&(l[Xi]=(new Date(a.enrollmentTime)).toISOString());a.phoneNumber&&(l[lf]=a.phoneNumber);try{b=new qg(l)}catch(hk){}a=b}else a=null;a&&d.push(a)});fg(this,d)}function fg(a,b){a.b=b;Pa(a,"enrolledFactors",b)}function Sb(a,b,d){if(this.h=a,this.i=b,this.g=d,this.c=3E4,this.f=96E4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!");}function kh(a,b){return b?
(a.a=a.c,a.g()):(b=a.a,a.a*=2,a.a>a.f&&(a.a=a.f),b)}function sd(a){this.f=a;this.b=this.a=null;this.c=Date.now()}function lh(a,b){void 0===b&&(b=a.b?(b=a.b).a-b.g:0);a.c=Date.now()+1E3*b}function Ji(b,d){b.b=Ug(d[a]||"");b.a=d.refreshToken;lh(b,void 0!==(d=d.expiresIn)?Number(d):void 0)}function qj(a,b){return d=a.f,l=b,(new wa(function(a,b){"refresh_token"==l.grant_type&&l.refresh_token||"authorization_code"==l.grant_type&&l.code?Ld(d,d.l+"?key="+encodeURIComponent(d.c),function(d){d?d.error?b(Ci(d)):
d.access_token&&d.refresh_token?a(d):b(new J("internal-error")):b(new J("network-request-failed"))},"POST",ri(l).toString(),d.g,d.m.get()):b(new J("internal-error"))})).then(function(b){return a.b=Ug(b.access_token),a.a=b.refresh_token,lh(a,b.expires_in),{accessToken:a.b.toString(),refreshToken:a.a}}).o(function(b){throw"auth/user-token-expired"==b.code&&(a.a=null),b;});var d,l}function $h(a,b){this.a=a||null;this.b=b||null;md(this,{lastSignInTime:Nf(b||null),creationTime:Nf(a||null)})}function td(a,
b,d,l,p,e){md(this,{uid:a,displayName:l||null,photoURL:p||null,email:d||null,phoneNumber:e||null,providerId:b})}function $d(b,d,l){this.N=[];this.l=b.apiKey;this.m=b.appName;this.s=b.authDomain||null;var p,e=v.default.SDK_VERSION?we(v.default.SDK_VERSION):null;this.a=new Lc(this.l,ya(F),e);(this.u=b.emulatorConfig||null)&&Zf(this.a,this.u);this.h=new sd(this.a);bc(this,d[a]);Ji(this.h,d);Pa(this,"refreshToken",this.h.a);Md(this,l||{});Mb.call(this);this.P=!1;this.s&&Lf()&&(this.b=Gg(this.s,this.l,
this.m,this.u));this.W=[];this.i=null;this.D=(p=this,new Sb(function(){return p.I(!0)},function(a){return!(!a||"auth/network-request-failed"!=a.code)},function(){var a=p.h.c-Date.now()-3E5;return 0<a?a:0}));this.ba=fa(this.ib,this);var D=this;this.za=null;this.Pa=function(a){D.xa(a.h)};this.qa=null;this.Ba=function(a){mh(D,a.c)};this.$=null;this.aa=[];this.Oa=function(a){ai(D,a.f)};this.ja=null;this.S=new Ib(this,l);Pa(this,"multiFactor",this.S)}function mh(a,b){a.u=b;Zf(a.a,b);a.b&&(b=a.b,a.b=Gg(a.s,
a.l,a.m,a.u),a.P&&(Fg(b,a),$c(a.b,a)))}function ud(a,b){a.qa&&V(a.qa,"languageCodeChanged",a.Pa);(a.qa=b)&&Jc(b,"languageCodeChanged",a.Pa)}function ae(a,b){a.$&&V(a.$,"emulatorConfigChanged",a.Ba);(a.$=b)&&Jc(b,"emulatorConfigChanged",a.Ba)}function ai(a,b){a.aa=b;ej(a.a,v.default.SDK_VERSION?we(v.default.SDK_VERSION,a.aa):null)}function Ki(a,b){a.ja&&V(a.ja,"frameworkChanged",a.Oa);(a.ja=b)&&Jc(b,"frameworkChanged",a.Oa)}function Hg(a){try{return v.default.app(a.m).auth()}catch(xh){throw new J("internal-error",
"No firebase.auth.Auth instance is available for the Firebase App '"+a.m+"'!");}}function bi(a){a.J||a.D.b||(a.D.start(),V(a,"tokenChanged",a.ba),Jc(a,"tokenChanged",a.ba))}function ci(a){V(a,"tokenChanged",a.ba);a.D.stop()}function bc(a,b){a.Aa=b;Pa(a,"_lat",b)}function gg(a){for(var b=[],d=0;d<a.W.length;d++)b.push(a.W[d](a));return od(b).then(function(){return a})}function vd(a){a.b&&!a.P&&(a.P=!0,$c(a.b,a))}function Md(a,b){md(a,{uid:b.uid,displayName:b.displayName||null,photoURL:b.photoURL||
null,email:b.email||null,emailVerified:b.emailVerified||!1,phoneNumber:b.phoneNumber||null,isAnonymous:b.isAnonymous||!1,tenantId:b.tenantId||null,metadata:new $h(b.createdAt,b.lastLoginAt),providerData:[]});a.a.b=a.tenantId}function Xe(){}function nh(a){return Ga().then(function(){if(a.J)throw new J("app-deleted");})}function Li(a){return pe(a.providerData,function(a){return a.providerId})}function wd(a,b){b&&(Ij(a,b.providerId),a.providerData.push(b))}function Ij(a,b){ka(a.providerData,function(a){return a.providerId==
b})}function Bf(a,b,d){("uid"!=b||d)&&a.hasOwnProperty(b)&&Pa(a,b,d)}function Tb(a,b){var d,l;a!=b&&(md(a,{uid:b.uid,displayName:b.displayName,photoURL:b.photoURL,email:b.email,emailVerified:b.emailVerified,phoneNumber:b.phoneNumber,isAnonymous:b.isAnonymous,tenantId:b.tenantId,providerData:[]}),b.metadata?Pa(a,"metadata",new $h((l=b.metadata).a,l.b)):Pa(a,"metadata",new $h),Ac(b.providerData,function(b){wd(a,b)}),d=a.h,l=b.h,d.b=l.b,d.a=l.a,d.c=l.c,Pa(a,"refreshToken",a.h.a),fg(a.S,b.S.b))}function Ig(a){return a.I().then(function(b){var d=
a.isAnonymous;return Ua(a.a,am,{idToken:b}).then(fa(a.Kc,a)).then(function(){return d||Bf(a,"isAnonymous",!1),b})})}function Ye(b,d){d[a]&&b.Aa!=d[a]&&(Ji(b.h,d),b.dispatchEvent(new eg("tokenChanged")),bc(b,d[a]),Bf(b,"refreshToken",b.h.a))}function di(a,b){return Ig(a).then(function(){if(Pb(Li(a),b))return gg(a).then(function(){throw new J("provider-already-linked");})})}function oh(a,b,d){return Bc({user:a,credential:Xg(b),additionalUserInfo:ie(b),operationType:d})}function ei(a,b){return Ye(a,
b),a.reload().then(function(){return a})}function fi(a,b,d,l,p){if(!Lf())return hb(new J("operation-not-supported-in-this-environment"));if(a.i&&!p)return hb(a.i);var e=Cb(d.providerId),D=Kf(a.uid+":::"),m=null,xa=si(m=(!pg()||ti())&&a.s&&d.isOAuthProvider?gj(a.s,a.l,a.m,b,d,null,D,v.default.SDK_VERSION||null,null,null,a.tenantId,a.u):m,e&&e.va,e&&e.ua);return l=l().then(function(){if(ec(a),!p)return a.I().then(function(){})}).then(function(){return qe(a.b,xa,b,d,D,!!m,a.tenantId)}).then(function(){return new wa(function(d,
l){a.na(b,null,new J("cancelled-popup-request"),a.g||null);a.f=d;a.C=l;a.g=D;a.c=uc(a.b,a,b,xa,D)})}).then(function(a){return xa&&yb(xa),a?Bc(a):null}).o(function(a){throw xa&&yb(xa),a;}),cc(a,l,p)}function Jj(a,b,d,l,p){if(!Lf())return hb(new J("operation-not-supported-in-this-environment"));if(a.i&&!p)return hb(a.i);var e=null,D=Kf(a.uid+":::");return l=l().then(function(){if(ec(a),!p)return a.I().then(function(){})}).then(function(){return a.ga=D,gg(a)}).then(function(b){return a.ha?(b=a.ha).b.set(ol,
a.w(),b.a):b}).then(function(){return zf(a.b,b,d,D,a.tenantId)}).o(function(b){if(e=b,a.ha)return Ze(a.ha);throw e;}).then(function(){if(e)throw e;}),cc(a,l,p)}function ec(a){if(!a.b||!a.P){if(a.b&&!a.P)throw new J("internal-error");throw new J("auth-domain-config-required");}}function cc(a,b,d){var l=a.i&&!d?(b.cancel(),hb(a.i)):b.o(function(b){throw!b||"auth/user-disabled"!=b.code&&"auth/user-token-expired"!=b.code||(a.i||a.dispatchEvent(new eg("userInvalidated")),a.i=b),b;});return a.N.push(l),
l.oa(function(){Gb(a.N,l)}),l.o(function(b){throw(b&&"auth/multi-factor-auth-required"===b.code?ek(b.w(),Hg(a),fa(a.jc,a)):null)||b;})}function id(b){if(!b.apiKey)return null;var d={apiKey:b.apiKey,authDomain:b.authDomain,appName:b.appName,emulatorConfig:b.emulatorConfig},l={};if(!b.stsTokenManager||!b.stsTokenManager.accessToken)return null;l[a]=b.stsTokenManager.accessToken;l.refreshToken=b.stsTokenManager.refreshToken||null;var p=b.stsTokenManager.expirationTime;p&&(l.expiresIn=(p-Date.now())/
1E3);var e=new $d(d,l,b);return b.providerData&&Ac(b.providerData,function(a){a&&wd(e,Bc(a))}),b.redirectEventId&&(e.ga=b.redirectEventId),e}function gi(a){this.a=a;this.b=Bg()}function Ze(a){return Fe(a.b,ol,a.a)}function hi(a){var b,d,l,p;this.a=a;this.b=Bg();this.c=null;this.f=(d=Ge("local"),l=Ge("session"),p=Ge("none"),function(a,b,d){var l=lb(b,d),p=bg(a,b.F);return a.get(b,d).then(function(e){var D=null;try{D=Mf(aa.localStorage.getItem(l))}catch(sl){}if(D&&!e)return aa.localStorage.removeItem(l),
a.set(b,D,d);D&&e&&"localStorage"!=p.type&&aa.localStorage.removeItem(l)})}((b=this).b,d,b.a).then(function(){return b.b.get(l,b.a)}).then(function(a){return a?l:b.b.get(p,b.a).then(function(a){return a?p:b.b.get(d,b.a).then(function(a){return a?d:b.b.get(pl,b.a).then(function(a){return a?Ge(a):d})})})}).then(function(a){return b.c=a,Hc(b,a.F)}).o(function(){b.c||(b.c=d)}));this.b.addListener(Ge("local"),this.a,fa(this.g,this))}function Hc(a,b){var d,l=[];for(d in bl)bl[d]!==b&&l.push(Fe(a.b,Ge(bl[d]),
a.a));return l.push(Fe(a.b,pl,a.a)),new wa(function(a,b){var d=l.length,p=[];if(d)for(var e=function(b,l){d--;p[b]=l;0==d&&a(p)},D=function(a){b(a)},m=0;m<l.length;m++)Je(l[m],ad(e,m),D);else a(p)})}function Ge(a){return{name:"authUser",F:a}}function Kj(a,b){return re(a,function(){return a.b.set(a.c,b.w(),a.a)})}function Lj(a){return re(a,function(){return Fe(a.b,a.c,a.a)})}function $e(a,b,d){return re(a,function(){return a.b.get(a.c,a.a).then(function(a){return a&&b&&(a.authDomain=b),a&&d&&(a.emulatorConfig=
d),id(a||{})})})}function re(a,b){return a.f=a.f.then(b,b),a.f}function He(a){if(this.l=!1,Pa(this,"settings",new vc),Pa(this,"app",a),!this.app.options||!this.app.options.apiKey)throw new J("invalid-api-key");var b,d,l,p;a=v.default.SDK_VERSION?we(v.default.SDK_VERSION):null;this.a=new Lc(this.app.options&&this.app.options.apiKey,ya(F),a);this.P=[];this.s=[];this.N=[];this.Pa=v.default.INTERNAL.createSubscribe(fa(this.zc,this));this.W=void 0;this.ib=v.default.INTERNAL.createSubscribe(fa(this.Ac,
this));Cf(this,null);this.i=new hi(this.app.options.apiKey+":"+this.app.name);this.D=new gi(this.app.options.apiKey+":"+this.app.name);this.$=wc(this,(d=(b=this).app.options.authDomain,a=function(a){var b=function(a,b){return a.b.get(ol,a.a).then(function(a){return a&&b&&(a.authDomain=b),id(a||{})})}(a.D,a.app.options.authDomain).then(function(b){return(a.m=b)&&(b.ha=a.D),Ze(a.D)});return wc(a,b)}(b).then(function(){return $e(b.i,d,b.R)}).then(function(a){return a?(a.ha=b.D,b.m&&(b.m.ga||null)==(a.ga||
null)?a:a.reload().then(function(){return Kj(b.i,a).then(function(){return a})}).o(function(d){return"auth/network-request-failed"==d.code?a:Lj(b.i)})):null}).then(function(a){Cf(b,a||null)}),wc(b,a)));this.h=wc(this,(l=this).$.then(function(){return ii(l)}).o(function(){}).then(function(){if(!l.l)return l.ja()}).o(function(){}).then(function(){var a;l.l||(l.ba=!0,(a=l.i).b.addListener(Ge("local"),a.a,l.ja))}));this.ba=!1;this.ja=fa(this.Zc,this);this.Ba=fa(this.da,this);this.qa=fa(this.mc,this);
this.za=fa(this.wc,this);this.Aa=fa(this.xc,this);this.b=null;var e=(p=this).app.options.authDomain;var D=p.app.options.apiKey;e&&Lf()&&(p.Oa=p.$.then(function(){var a;if(!p.l)return p.b=Gg(e,D,p.app.name,p.R),$c(p.b,p),p.currentUser&&vd(p.currentUser),p.m&&(vd(p.m),(a=p.m).xa(p.la()),ud(a,p),ai(a=p.m,p.J),Ki(a,p),mh(a=p.m,p.R),ae(a,p),p.m=null),p.b}));this.INTERNAL={};this.INTERNAL.delete=fa(this.delete,this);this.INTERNAL.logFramework=fa(this.Gc,this);this.u=0;Mb.call(this);a=this;Object.defineProperty(a,
"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1});a.aa=null;Object.defineProperty(a,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1});a.S=null;Object.defineProperty(a,"emulatorConfig",{get:function(){var a;return this.R?Bc({protocol:(a=rc(this.R.url)).c,host:a.a,port:a.g,options:Bc({disableWarnings:this.R.ec})}):null},enumerable:!1});this.J=[];this.R=null}function Mi(a){nc.call(this,"languageCodeChanged");this.h=a}function ji(a){nc.call(this,
"emulatorConfigChanged");this.c=a}function Mj(a){nc.call(this,"frameworkChanged");this.f=a}function Nd(a){return a.Oa||hb(new J("auth-domain-config-required"))}function ii(a){if(!Lf())return hb(new J("operation-not-supported-in-this-environment"));var b=Nd(a).then(function(){return a.b.ra()}).then(function(a){return a?Bc(a):null});return wc(a,b)}function be(a,b){var d={};return d.apiKey=a.app.options.apiKey,d.authDomain=a.app.options.authDomain,d.appName=a.app.name,a.R&&(d.emulatorConfig=a.R),a.$.then(function(){return l=
d,p=b,e=a.D,D=a.Ga(),m=new $d(l,p),e&&(m.ha=e),D&&ai(m,D),m.reload().then(function(){return m});var l,p,e,D,m}).then(function(b){return a.currentUser&&b.uid==a.currentUser.uid?Tb(a.currentUser,b):(Cf(a,b),vd(b)),a.da(b)}).then(function(){ph(a)})}function Cf(a,b){var d,l;a.currentUser&&(d=a.currentUser,l=a.Ba,ka(d.W,function(a){return a==l}),V(a.currentUser,"tokenChanged",a.qa),V(a.currentUser,"userDeleted",a.za),V(a.currentUser,"userInvalidated",a.Aa),ci(a.currentUser));b&&(b.W.push(a.Ba),Jc(b,"tokenChanged",
a.qa),Jc(b,"userDeleted",a.za),Jc(b,"userInvalidated",a.Aa),0<a.u&&bi(b));Pa(a,"currentUser",b);b&&(b.xa(a.la()),ud(b,a),ai(b,a.J),Ki(b,a),mh(b,a.R),ae(b,a))}function af(a,b){var d=null,l=null;return wc(a,b.then(function(b){return d=Xg(b),l=ie(b),be(a,b)},function(b){throw(b&&"auth/multi-factor-auth-required"===b.code?ek(b.w(),a,fa(a.kc,a)):null)||b;}).then(function(){return Bc({user:a.currentUser,credential:d,additionalUserInfo:l,operationType:"signIn"})}))}function ki(a){return a.currentUser&&a.currentUser._lat||
null}function ph(a){if(a.ba){for(var b=0;b<a.s.length;b++)a.s[b]&&a.s[b](ki(a));if(a.W!==a.getUid()&&a.N.length)for(a.W=a.getUid(),b=0;b<a.N.length;b++)a.N[b]&&a.N[b](ki(a))}}function wc(a,b){return a.P.push(b),b.oa(function(){Gb(a.P,b)}),b}function qh(){}function rh(){this.a={};this.b=1E12}function Ni(a,b){return(b=rj(b))&&a.a[b]||null}function rj(a){return(a=void 0===a?1E12:a)?a.toString():null}function hg(a,b){this.g=!1;this.c=b;this.a=this.b=null;this.h="invisible"!==this.c.size;this.f=Sa(a);
var d=this;this.i=function(){d.execute()};this.h?this.execute():Jc(this.f,"click",this.i)}function Aa(a){if(a.g)throw Error("reCAPTCHA mock was already deleted!");}function Oi(){}function li(){}function Pi(){this.b=aa.grecaptcha?1/0:0;this.f=null;this.a="__rcb"+Math.floor(1E6*Math.random()).toString()}function Df(a,b,d,l,p,e,D){if(Pa(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=b,this.g=null,D=D?Bl=Bl||new li:Cl=Cl||new Pi,this.m=D,this.a=d||{theme:"light",type:"image"},this.h=[],
this.a[Dl])throw new J("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[bm],!aa.document)throw new J("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Sa(b)||!this.i&&Sa(b).hasChildNodes())throw new J("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=
new Lc(a,e||null,p||null);this.u=l||function(){return null};var m=this;this.l=[];var xa=this.a[El];this.a[El]=function(a){var b;sj(m,a);"function"==typeof xa?xa(a):"string"!=typeof xa||"function"==typeof(b=oc(xa,aa))&&b(a)};var c=this.a[Fl];this.a[Fl]=function(){var a;sj(m,null);"function"==typeof c?c():"string"!=typeof c||"function"==typeof(a=oc(c,aa))&&a()}}function sj(a,b){for(var d=0;d<a.l.length;d++)try{a.l[d](b)}catch(Kg){}}function sh(a,b){return a.h.push(b),b.oa(function(){Gb(a.h,b)}),b}function Lb(a){if(a.J)throw new J("internal-error",
"RecaptchaVerifier instance has been destroyed.");}function tj(a,b,d){var l=!1;try{this.b=d||v.default.app()}catch(hk){throw new J("argument-error","No firebase.app.App instance is currently initialized.");}if(!this.b.options||!this.b.options.apiKey)throw new J("invalid-api-key");d=this.b.options.apiKey;var p=this,e=null;try{e=this.b.auth().Ga()}catch(hk){}try{l=this.b.auth().settings.appVerificationDisabledForTesting}catch(hk){}e=v.default.SDK_VERSION?we(v.default.SDK_VERSION,e):null;Df.call(this,
d,a,b,function(){try{var a=p.b.auth().la()}catch(vj){a=null}return a},e,ya(F),l)}function Jg(a,b,d,l){a:{d=Array.prototype.slice.call(d);for(var p=0,e=!1,D=0;D<b.length;D++)if(b[D].optional)e=!0;else{if(e)throw new J("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(e=b.length,d.length<p||e<d.length)l="Expected "+(p==e?1==p?"1 argument":p+" arguments":p+"-"+e+" arguments")+" but got "+d.length+".";else{for(p=0;p<d.length;p++)if(e=b[p].optional&&
void 0===d[p],!b[p].M(d[p])&&!e){if(b=b[p],0>p||p>=Gl.length)throw new J("internal-error","Argument validator received an unsupported number of arguments.");d=Gl[p];l=(l?"":d+" argument ")+(b.name?'"'+b.name+'" ':"")+"must be "+b.K+".";break a}l=null}}if(l)throw new J("argument-error",a+" failed: "+l);}function Qa(a,b){return{name:a||"",K:"a valid string",optional:!!b,M:function(a){return"string"==typeof a}}}function mi(a,b){return{name:a||"",K:"a boolean",optional:!!b,M:function(a){return"boolean"==
typeof a}}}function Xc(a,b){return{name:a||"",K:"a valid object",optional:!!b,M:r}}function Ub(a,b){return{name:a||"",K:"a function",optional:!!b,M:function(a){return"function"==typeof a}}}function ce(a,b){return{name:a||"",K:"null",optional:!!b,M:function(a){return null===a}}}function Ef(a){return{name:a?a+"Credential":"credential",K:a?"a valid "+a+" credential":"a valid credential",optional:!1,M:function(b){if(!b)return!1;var d=!a||b.providerId===a;return!(!b.ka||!d)}}}function ni(){return{name:"multiFactorAssertion",
K:"a valid multiFactorAssertion",optional:!1,M:function(a){return!!a&&!!a.tb}}}function de(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(a){return!!(a&&a.providerId&&a.hasOwnProperty&&a.hasOwnProperty("isOAuthProvider"))}}}function th(a,b){return r(a)&&"string"==typeof a.type&&a.type===b&&"function"==typeof a.Ha}function Qi(a){return r(a)&&"string"==typeof a.uid}function oi(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",
optional:!1,M:function(a){return!(!a||"string"!=typeof a.type||"function"!=typeof a.verify)}}}function Pc(a,b,d,l){return{name:d||"",K:a.K+" or "+b.K,optional:!!l,M:function(d){return a.M(d)||b.M(d)}}}function $b(a,b){for(var d in b){var l=b[d].name;a[l]=uh(l,a[d],b[d].j)}}function xc(a,b){for(var d in b){var l=b[d].name;l!==d&&Object.defineProperty(a,l,{get:ad(function(a){return this[a]},d),set:ad(function(a,b,d,l){Jg(a,[d],[l],!0);this[b]=l},l,d,b[d].lb),enumerable:!0})}}function Bb(a,b,d,l){a[b]=
uh(b,d,l)}function uh(a,b,d){function l(){var a=Array.prototype.slice.call(arguments);return Jg(e,d,a),b.apply(this,a)}if(!d)return b;var p,e=(a=a.split("."))[a.length-1];for(p in b)l[p]=b[p];for(p in b.prototype)l.prototype[p]=b.prototype[p];return l}var P,Nj="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ig=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof B&&B,a];
for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}return globalThis}(this);!function(a,b){if(b){var d=ig;a=a.split(".");for(var l=0;l<a.length-1;l++){var p=a[l];p in d||(d[p]={});d=d[p]}(b=b(l=d[a=a[a.length-1]]))!=l&&null!=b&&Nj(d,a,{configurable:!0,writable:!0,value:b})}}("Promise",function(a){function b(a){this.b=0;this.c=void 0;this.a=[];var b=this.f();try{a(b.resolve,b.reject)}catch(Ck){b.reject(Ck)}}function d(){this.a=null}function l(a){return a instanceof b?a:new b(function(b){b(a)})}
if(a)return a;d.prototype.b=function(a){var b;null==this.a&&(this.a=[],(b=this).c(function(){b.g()}));this.a.push(a)};var p=ig.setTimeout;d.prototype.c=function(a){p(a,0)};d.prototype.g=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;++b){var d=a[b];a[b]=null;try{d()}catch(Dk){this.f(Dk)}}}this.a=null};d.prototype.f=function(a){this.c(function(){throw a;})};b.prototype.f=function(){function a(a){return function(l){d||(d=!0,a.call(b,l))}}var b=this,d=!1;return{resolve:a(this.m),
reject:a(this.g)}};b.prototype.m=function(a){if(a===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.s(a);else{a:switch(typeof a){case "object":var d=null!=a;break a;case "function":d=!0;break a;default:d=!1}d?this.v(a):this.h(a)}};b.prototype.v=function(a){var b=void 0;try{b=a.then}catch(Ck){return void this.g(Ck)}"function"==typeof b?this.u(b,a):this.h(a)};b.prototype.g=function(a){this.i(2,a)};b.prototype.h=function(a){this.i(1,a)};b.prototype.i=function(a,
b){if(0!=this.b)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.b);this.b=a;this.c=b;this.l()};b.prototype.l=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)e.b(this.a[a]);this.a=null}};var e=new d;return b.prototype.s=function(a){var b=this.f();a.Ra(b.resolve,b.reject)},b.prototype.u=function(a,b){var d=this.f();try{a.call(b,d.resolve,d.reject)}catch(Dk){d.reject(Dk)}},b.prototype.then=function(a,d){function l(a,b){return"function"==typeof a?function(b){try{p(a(b))}catch(Nl){e(Nl)}}:
b}var p,e,D=new b(function(a,b){p=a;e=b});return this.Ra(l(a,p),l(d,e)),D},b.prototype.catch=function(a){return this.then(void 0,a)},b.prototype.Ra=function(a,b){function d(){switch(l.b){case 1:a(l.c);break;case 2:b(l.c);break;default:throw Error("Unexpected state: "+l.b);}}var l=this;null==this.a?e.b(d):this.a.push(d)},b.resolve=l,b.reject=function(a){return new b(function(b,d){d(a)})},b.race=function(a){return new b(function(b,d){for(var p=k(a),e=p.next();!e.done;e=p.next())l(e.value).Ra(b,d)})},
b.all=function(a){var d=k(a),p=d.next();return p.done?l([]):new b(function(a,b){for(var e=[],D=0;e.push(void 0),D++,l(p.value).Ra(function(b){return function(d){e[b]=d;0==--D&&a(e)}}(e.length-1),b),!(p=d.next()).done;);})},b});var bh=bh||{},aa=this||self,jg=/^[\w+/_-]+[=]{0,2}$/,We=null;I(J,Error);J.prototype.w=function(){var a={code:this.code,message:this.message};return this.a&&(a.serverResponse=this.a),a};J.prototype.toJSON=function(){return this.w()};var pi="auth/",e={"admin-restricted-operation":"This operation is restricted to administrators only.",
"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",
"code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",
"dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.",
"invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.",
"invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",
"invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.",
"invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.",
"unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",
"invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.",
"multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",
"missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",
"missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.",
"no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',
"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",
"rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.",
"too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.",
"unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.",
"web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},m={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",
id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};var F=ya("__EID__")?"__EID__":void 0;I(E,Error);E.prototype.name=
"CustomError";I(ta,E);ta.prototype.name="AssertionError";$a.prototype.get=function(){var a;return 0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c(),a};var S=new $a(function(){return new R},function(a){a.reset()});w.prototype.add=function(a,b){var d=S.get();d.set(a,b);this.b?this.b.next=d:this.a=d;this.b=d};R.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};R.prototype.reset=function(){this.next=this.b=this.a=null};var tb=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,
b,void 0)}:function(a,b){if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,0);for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},Ac=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var l=a.length,p="string"==typeof a?a.split(""):a,e=0;e<l;e++)e in p&&b.call(d,p[e],e,a)},vh=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var d,l=a.length,p=[],e=0,D="string"==
typeof a?a.split(""):a,m=0;m<l;m++)m in D&&(d=D[m],b.call(void 0,d,m,a)&&(p[e++]=d));return p},pe=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,l=Array(d),p="string"==typeof a?a.split(""):a,e=0;e<d;e++)e in p&&(l[e]=b.call(void 0,p[e],e,a));return l},Ve=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var d=a.length,l="string"==typeof a?a.split(""):a,p=0;p<d;p++)if(p in l&&b.call(void 0,
l[p],p,a))return!0;return!1},Rc=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},bf=/&/g,Gf=/</g,Bk=/>/g,kg=/"/g,Rj=/'/g,Sj=/\x00/g,zc=/[\x00&<>"']/;a:{var yc=aa.navigator;if(yc&&(yc=yc.userAgent)){var O=yc;break a}O=""}var se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");H.prototype.ta=!0;H.prototype.sa=function(){return this.a};H.prototype.toString=function(){return"Const{"+
this.a+"}"};var Ff,xk={},uj={};sb.prototype.ta=!0;sb.prototype.sa=function(){return this.a.toString()};sb.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var yk=/%{(\w+)}/g,Pd=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,qi={};h.prototype.ta=!0;h.prototype.sa=function(){return this.a.toString()};h.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var pa=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,
Sk=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,zk=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,yh={},Gk=new h("about:invalid#zClosurez",yh);ac.prototype.ta=!0;ac.prototype.sa=function(){return this.a.toString()};ac.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ak={};ca[" "]=x;var cl=Q("Opera"),og=Q("Trident")||Q("MSIE"),Oj=Q("Edge"),Vk=Oj||og,Sc=Q("Gecko")&&!(U(O.toLowerCase(),"webkit")&&!Q("Edge"))&&!(Q("Trident")||Q("MSIE"))&&!Q("Edge"),fk=U(O.toLowerCase(),"webkit")&&!Q("Edge");
a:{var Qk="",q=(q=O,Sc?/rv:([^\);]+)(\)|;)/.exec(q):Oj?/Edge\/([\d\.]+)/.exec(q):og?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):fk?/WebKit\/(\S+)/.exec(q):cl?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(q&&(Qk=q?q[1]:""),og)if(q=La(),null!=q&&q>parseFloat(Qk)){var gk=String(q);break a}gk=Qk}var qc={},Mg=aa.document&&og&&(La()||parseInt(gk,10))||void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(za){}var Lg=!og||9<=Number(Mg),Tj,mc,wj={cellpadding:"cellPadding",cellspacing:"cellSpacing",
colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},xj=!1,Ic=new w,y=0,Ti=2,Hf=3;L.prototype.reset=function(){this.f=this.b=this.g=this.a=null;this.c=!1};var ik=new $a(function(){return new L},function(a){a.reset()});wa.prototype.then=function(a,b,d){return nb(this,f(a)?a:null,f(b)?b:null,d)};wa.prototype.$goog_Thenable=!0;(P=wa.prototype).oa=function(a,b){return(a=
fc(a,a,b)).c=!0,qb(this,a),this};P.o=function(a,b){return nb(this,null,a,b)};P.cancel=function(a){var b;this.a==y&&(b=new mb(a),bd(function(){!function Qj(a,b){if(a.a==y)if(a.c){var d=a.c;if(d.b){for(var l=0,p=null,e=null,D=d.b;D&&(D.c||(l++,!((p=D.a==a?D:p)&&1<l)));D=D.next)p||(e=D);p&&(d.a==y&&1==l?Qj(d,b):(e?((l=e).next==d.f&&(d.f=l),l.next=l.next.next):jd(d),Ah(d,p,Hf,b)))}a.c=null}else Hb(a,Hf,b)}(this,b)},this))};P.$c=function(a){this.a=y;Hb(this,Ti,a)};P.ad=function(a){this.a=y;Hb(this,Hf,
a)};P.gc=function(){for(var a;a=jd(this);)Ah(this,a,this.a,this.i);this.h=!1};var jk=X;I(mb,E);Ia.prototype.ya=!(mb.prototype.name="cancel");Ia.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var vk=Object.freeze||function(a){return a},kk=!og||9<=Number(Mg),wk=og&&!Qc("9"),lk=function(){if(!aa.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{aa.addEventListener("test",x,b),aa.removeEventListener("test",
x,b)}catch(Pj){}return a}();nc.prototype.preventDefault=function(){this.defaultPrevented=!0};I(Wa,nc);var Ek=vk({2:"touch",3:"pen",4:"mouse"});Wa.prototype.preventDefault=function(){Wa.bb.preventDefault.call(this);var a=this.a;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,wk)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(xh){}};Wa.prototype.g=function(){return this.a};var yd="closure_listenable_"+(1E6*Math.random()|0),Fk=0;xb.prototype.add=function(a,b,d,l,
p){var e=a.toString();(a=this.a[e])||(a=this.a[e]=[],this.b++);var D=Ya(a,b,l,p);return-1<D?(b=a[D],d||(b.Qa=!1)):((b=new G(b,this.src,e,!!l,p)).Qa=d,a.push(b)),b};var Uj="closure_lm_"+(1E6*Math.random()|0),Qd={},Ch="__closure_events_fn_"+(1E9*Math.random()>>>0);I(Mb,Ia);Mb.prototype[yd]=!0;Mb.prototype.addEventListener=function(a,b,d,l){Jc(this,a,b,d,l)};Mb.prototype.removeEventListener=function(a,b,d,l){V(this,a,b,d,l)};Mb.prototype.dispatchEvent=function(a){var b;if(d=this.hb)for(b=[];d;d=d.hb)b.push(d);
var d=this.bc,l=a.type||a;if("string"==typeof a?a=new nc(a,d):a instanceof nc?a.target=a.target||d:(D=a,kb(a=new nc(l,d),D)),D=!0,b)for(var p=b.length-1;0<=p;p--)var e=a.b=b[p],D=Za(e,l,!0,a)&&D;if(D=Za(e=a.b=d,l,!0,a)&&D,D=Za(e,l,!1,a)&&D,b)for(p=0;p<b.length;p++)D=Za(a.b=b[p],l,!1,a)&&D;return D};Mb.prototype.Da=function(){if(Mb.bb.Da.call(this),this.v){var a,b=this.v;for(a in b.a){for(var d=b.a[a],l=0;l<d.length;l++)ue(d[l]);delete b.a[a];b.b--}}this.hb=null};(P=Hd.prototype).X=function(){gc(this);
for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};P.Y=function(){return gc(this),this.a.concat()};P.clear=function(){this.b={};this.c=this.a.length=0};P.get=function(a,b){return ve(this.b,a)?this.b[a]:b};P.set=function(a,b){ve(this.b,a)||(this.c++,this.a.push(a));this.b[a]=b};P.forEach=function(a,b){for(var d=this.Y(),l=0;l<d.length;l++){var p=d[l],e=this.get(p);a.call(b,e,p,this)}};var df=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
Ke.prototype.toString=function(){var a=[],b=this.c;b&&a.push(hf(b,wh,!0),":");var d=this.a;return!d&&"file"!=b||(a.push("//"),(b=this.l)&&a.push(hf(b,wh,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(d=this.g)&&a.push(":",String(d))),(d=this.f)&&(this.a&&"/"!=d.charAt(0)&&a.push("/"),a.push(hf(d,"/"==d.charAt(0)?Rk:Ri,!0))),(d=this.b.toString())&&a.push("?",d),(d=this.h)&&a.push("#",hf(d,Si)),a.join("")};Ke.prototype.resolve=function(a){var b=new Ke(this),
d=!!a.c;d?Ad(b,a.c):d=!!a.l;d?b.l=a.l:d=!!a.a;d?b.a=a.a:d=null!=a.g;var l=a.f;if(d)mg(b,a.g);else if(d=!!a.f)if("/"!=l.charAt(0)&&(this.a&&!this.f?l="/"+l:-1!=(p=b.f.lastIndexOf("/"))&&(l=b.f.substr(0,p+1)+l)),".."==(p=l)||"."==p)l="";else if(U(p,"./")||U(p,"/.")){l=0==p.lastIndexOf("/",0);for(var p=p.split("/"),e=[],D=0;D<p.length;){var m=p[D++];"."==m?l&&D==p.length&&e.push(""):".."==m?((1<e.length||1==e.length&&""!=e[0])&&e.pop(),l&&D==p.length&&e.push("")):(e.push(m),l=!0)}l=e.join("/")}else l=
p;return d?b.f=l:d=""!==a.b.toString(),d?t(b,Le(a.b)):d=!!a.h,d&&(b.h=a.h),b};var wh=/[#\/\?@]/g,Ri=/[#\?:]/g,Rk=/[#\?]/g,Ui=/[#\?@]/g,Si=/#/g;(P=ff.prototype).add=function(a,b){gf(this);this.c=null;a=Z(this,a);var d=this.a.get(a);return d||this.a.set(a,d=[]),d.push(b),this.b+=1,this};P.clear=function(){this.a=this.c=null;this.b=0};P.forEach=function(a,b){gf(this);this.a.forEach(function(d,l){Ac(d,function(d){a.call(b,d,l,this)},this)},this)};P.Y=function(){gf(this);for(var a=this.a.X(),b=this.a.Y(),
d=[],l=0;l<b.length;l++)for(var p=a[l],e=0;e<p.length;e++)d.push(b[l]);return d};P.X=function(a){gf(this);var b=[];if("string"==typeof a)hc(this,a)&&(b=jb(b,this.a.get(Z(this,a))));else{a=this.a.X();for(var d=0;d<a.length;d++)b=jb(b,a[d])}return b};P.set=function(a,b){return gf(this),this.c=null,hc(this,a=Z(this,a))&&(this.b-=this.a.get(a).length),this.a.set(a,[b]),this.b+=1,this};P.get=function(a,b){return a&&0<(a=this.X(a)).length?String(a[0]):b};P.toString=function(){if(this.c)return this.c;if(!this.a)return"";
for(var a=[],b=this.a.Y(),d=0;d<b.length;d++){var l=b[d],p=encodeURIComponent(String(l));l=this.X(l);for(var e=0;e<l.length;e++){var D=p;""!==l[e]&&(D+="="+encodeURIComponent(String(l[e])));a.push(D)}}return this.c=a.join("&")};var Id={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Uk=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,sk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ok=/^[^@]+@[^@]+$/,bb="Firefox",Og=
"Chrome",Ih={md:"FirebaseCore-web",od:"FirebaseUI-web"};Me.prototype.get=function(){var a=aa.navigator;return!a||"boolean"!=typeof a.onLine||!Jh()&&"chrome-extension:"!==kf()&&void 0===a.connection||a.onLine?this.b?this.c:this.a:Math.min(5E3,this.a)};var Vb={};try{var Ea={};Object.defineProperty(Ea,"abcd",{configurable:!0,enumerable:!0,value:1});Object.defineProperty(Ea,"abcd",{configurable:!0,enumerable:!0,value:2});var fd=2==Ea.abcd}catch(za){fd=!1}wi.prototype.w=function(){return{uid:this.uid,
displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Rg="displayName",Xi="enrolledAt",Nh="mfaEnrollmentId",lf="phoneInfo";I(qg,wi);qg.prototype.w=function(){var a=qg.bb.w.call(this);return a.phoneNumber=this.phoneNumber,a};var Wj="REVERT_SECOND_FACTOR_ADDITION",Cc="EMAIL_SIGNIN",Kc="VERIFY_AND_CHANGE_EMAIL",Hk="email",Ik="mfaInfo",Zi="newEmail",Vj="requestType",xi="email",ge="fromEmail",mk="multiFactorInfo",qa="previousEmail",Jk="data",mf="operation",Kk="apiKey",
Lk="oobCode",Of="continueUrl",Sg="languageCode",xe="mode",Tg="tenantId",Yk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Wj,signIn:Cc,verifyAndChangeEmail:Kc,verifyEmail:"VERIFY_EMAIL"},nk="android",Cj="dynamicLinkDomain",ok="handleCodeInApp",Vd="iOS",N="url",Mk="installApp",Bj="minimumVersion",Xj="packageName",Yj="bundleId",ye=null;K.prototype.T=function(){return this.f};K.prototype.l=function(){return this.c};K.prototype.toString=function(){return this.h};
var qk="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ak=["client_id","response_type","scope","redirect_uri","state"],Ej={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ak},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ak},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ak},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:qk},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}},Zj="idToken",pk="providerId";I(je,rg);I(Wb,
je);I(Pf,je);I(nf,je);I(pc,je);var of="enroll",Tc="signin";Ne.prototype.Ha=function(){return this.a?Ga(this.a):Ga(this.b)};Ne.prototype.w=function(){return this.type==of?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};pf.prototype.ka=function(){};pf.prototype.b=function(){};pf.prototype.c=function(){};pf.prototype.w=function(){};ic.prototype.ka=function(a){return va(a,Qh(this))};ic.prototype.b=function(a,b){var d=Qh(this);return d.idToken=b,Dd(a,d)};ic.prototype.c=
function(a,b){return Rf(Di(a,Qh(this)),b)};ic.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};ke.prototype.ka=function(a){return va(a,Vg(this))};ke.prototype.b=function(a,b){var d=Vg(this);return d.idToken=b,Dd(a,d)};ke.prototype.c=function(a,b){return Rf(Di(a,Vg(this)),b)};ke.prototype.w=function(){var a={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(a.oauthIdToken=this.idToken),this.accessToken&&(a.oauthAccessToken=
this.accessToken),this.secret&&(a.oauthTokenSecret=this.secret),this.nonce&&(a.nonce=this.nonce),this.a&&(a.pendingToken=this.a),a};Pe.prototype.Ka=function(a){return this.Jb=Fa(a),this};I(Wg,Pe);I(pd,Pe);pd.prototype.Ca=function(a){return Pb(this.a,a)||this.a.push(a),this};pd.prototype.Rb=function(){return Ca(this.a)};pd.prototype.credential=function(a,b){b=r(a)?{idToken:a.idToken||null,accessToken:a.accessToken||null,nonce:a.rawNonce||null}:{idToken:a||null,accessToken:b||null};if(!b.idToken&&!b.accessToken)throw new J("argument-error",
"credential failed: must provide the ID token and/or the access token.");return new ke(this.providerId,b,this.providerId)};I(ab,pd);Pa(ab,"PROVIDER_ID","facebook.com");Pa(ab,"FACEBOOK_SIGN_IN_METHOD","facebook.com");I(Qe,pd);Pa(Qe,"PROVIDER_ID","github.com");Pa(Qe,"GITHUB_SIGN_IN_METHOD","github.com");I(Sf,pd);Pa(Sf,"PROVIDER_ID","google.com");Pa(Sf,"GOOGLE_SIGN_IN_METHOD","google.com");I(Jd,Pe);Pa(Jd,"PROVIDER_ID","twitter.com");Pa(Jd,"TWITTER_SIGN_IN_METHOD","twitter.com");Re.prototype.ka=function(a){return this.signInMethod==
Kd.EMAIL_LINK_SIGN_IN_METHOD?Ua(a,cm,{email:this.a,oobCode:this.f}):Ua(a,Hl,{email:this.a,password:this.f})};Re.prototype.b=function(a,b){return this.signInMethod==Kd.EMAIL_LINK_SIGN_IN_METHOD?Ua(a,dm,{idToken:b,email:this.a,oobCode:this.f}):Ua(a,Il,{idToken:b,email:this.a,password:this.f})};Re.prototype.c=function(a,b){return Rf(this.ka(a),b)};Re.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};md(Kd,{PROVIDER_ID:"password"});md(Kd,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"});
md(Kd,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});qf.prototype.ka=function(a){return a.gb(Tf(this))};qf.prototype.b=function(a,b){var d=Tf(this);return d.idToken=b,Ua(a,em,d)};qf.prototype.c=function(a,b){var d=Tf(this);return d.operation="REAUTH",Rf(Ua(a,fm,d),b)};qf.prototype.w=function(){var a={providerId:"phone"};return this.a.fb&&(a.verificationId=this.a.fb),this.a.eb&&(a.verificationCode=this.a.eb),this.a.La&&(a.temporaryProof=this.a.La),this.a.ea&&(a.phoneNumber=this.a.ea),a};ze.prototype.gb=
function(a,b){var d=this.a.a;return Ga(b.verify()).then(function(l){if("string"!=typeof l)throw new J("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==b.type)throw new J("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var p=r(a)?a.session:null,e=r(a)?a.phoneNumber:a;p=p&&p.type==of?p.Ha().then(function(a){return Ua(d,gm,
{idToken:a,phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:l}}).then(function(a){return a.phoneSessionInfo.sessionInfo})}):p&&p.type==Tc?p.Ha().then(function(b){return b={mfaPendingCredential:b,mfaEnrollmentId:a.multiFactorHint&&a.multiFactorHint.uid||a.multiFactorUid,phoneSignInInfo:{recaptchaToken:l}},Ua(d,hm,b).then(function(a){return a.phoneResponseInfo.sessionInfo})}):Ua(d,im,{phoneNumber:e,recaptchaToken:l});return p.then(function(a){return"function"==typeof b.reset&&b.reset(),a},function(a){throw"function"==
typeof b.reset&&b.reset(),a;})})};md(ze,{PROVIDER_ID:"phone"});md(ze,{PHONE_SIGN_IN_METHOD:"phone"});le.prototype.getUid=function(){var a=[];return a.push(this.c),this.b&&a.push(this.b),this.f&&a.push(this.f),this.h&&a.push(this.h),a.join("-")};le.prototype.T=function(){return this.h};le.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var cg=null;I(Se,J);I(me,J);me.prototype.w=function(){var a=
{code:this.code,message:this.message};this.email&&(a.email=this.email);this.phoneNumber&&(a.phoneNumber=this.phoneNumber);this.tenantId&&(a.tenantId=this.tenantId);var b=this.credential&&this.credential.w();return b&&kb(a,b),a};me.prototype.toJSON=function(){return this.w()};Te.prototype.c=null;I(ug,Te);ug.prototype.a=function(){var a=Th(this);return a?new ActiveXObject(a):new XMLHttpRequest};ug.prototype.b=function(){var a={};return Th(this)&&(a[0]=!0,a[1]=!0),a};var Bi=new ug;I(Yg,Te);Yg.prototype.a=
function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Zg;throw Error("Unsupported browser");};Yg.prototype.b=function(){return{}};(P=Zg.prototype).open=function(a,b,d){if(null!=d&&!d)throw Error("Only async requests are supported.");this.a.open(a,b)};P.send=function(a){if(a){if("string"!=typeof a)throw Error("Only string data is supported");this.a.send(a)}else this.a.send()};P.abort=function(){this.a.abort()};P.setRequestHeader=function(){};
P.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.a.contentType:""};P.qc=function(){this.status=200;this.response=this.responseText=this.a.responseText;this.readyState=4;this.onreadystatechange&&this.onreadystatechange()};P.Tb=function(){this.status=500;this.response=this.responseText="";this.readyState=4;this.onreadystatechange&&this.onreadystatechange()};P.vc=function(){this.Tb()};P.rc=function(){this.status=200;this.readyState=1;this.onreadystatechange&&this.onreadystatechange()};
P.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};zb.prototype.a=null;zb.prototype.reset=function(a,b,d,l,p){delete this.a};Ue.prototype.toString=function(){return this.name};var Nk=new Ue("SEVERE",1E3),ia=new Ue("WARNING",900),oa=new Ue("CONFIG",700),Be=new Ue("FINE",500);Vf.prototype.log=function(a,b,d){if(a.value>=function Qj(a){return a.c||(a.a?Qj(a.a):(Da("Root logger has no level set."),null))}(this).value)for(f(b)&&(b=b()),a=new zb(a,String(b),this.f),d&&(a.a=d),
d=this;d;)d=d.a};var Xa,Dc={},dl=null;I(Ec,Te);Ec.prototype.a=function(){return new rf(this.f)};Ec.prototype.b=(Xa={},function(){return Xa});I(rf,Mb);var el=0;(P=rf.prototype).open=function(a,b){if(this.readyState!=el)throw this.abort(),Error("Error reopening a connection");this.s=a;this.f=b;this.readyState=1;sf(this)};P.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var b={headers:this.l,method:this.s,credentials:this.h,cache:void 0};a&&(b.body=
a);this.u.fetch(new Request(this.f,b)).then(this.uc.bind(this),this.Va.bind(this))};P.abort=function(){this.response=this.responseText="";this.l=new Headers;this.status=0;this.c&&this.c.cancel("Request was aborted.");1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Oa(this));this.readyState=el};P.uc=function(a){this.a&&(this.g=a,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=a.headers,this.readyState=2,sf(this)),this.a&&(this.readyState=3,sf(this),this.a&&("arraybuffer"===
this.responseType?a.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==aa.ReadableStream&&"body"in a?(this.response=this.responseText="",this.c=a.body.getReader(),this.m=new TextDecoder,$g(this)):a.text().then(this.tc.bind(this),this.Va.bind(this)))))};P.pc=function(a){var b;this.a&&((b=this.m.decode(a.value||new Uint8Array(0),{stream:!a.done}))&&(this.response=this.responseText+=b),(a.done?Oa:sf)(this),3==this.readyState&&$g(this))};P.tc=function(a){this.a&&(this.response=this.responseText=
a,Oa(this))};P.sc=function(a){this.a&&(this.response=a,Oa(this))};P.Va=function(a){var b=this.i;b&&b.log(ia,"Failed to fetch url "+this.f,a instanceof Error?a:Error(a));this.a&&Oa(this)};P.setRequestHeader=function(a,b){this.l.append(a,b)};P.getResponseHeader=function(a){return this.b?this.b.get(a.toLowerCase())||"":((a=this.i)&&a.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")};P.getAllResponseHeaders=function(){if(!this.b){var a=this.i;return a&&
a.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}a=[];for(var b=this.b.entries(),d=b.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=b.next();return a.join("\r\n")};Object.defineProperty(rf.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(a){this.h=a?"include":"same-origin"}});I(ah,Mb);var fl="";ah.prototype.b=Ae("goog.net.XhrIo");var hl=/^https?$/i,gl=["POST","PUT"];(P=ah.prototype).Ma=function(){void 0!==
bh&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Cd(this.b,ne(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};P.abort=function(){this.a&&this.c&&(Cd(this.b,ne(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ce(this))};P.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ce(this,!0));ah.bb.Da.call(this)};P.Wb=function(){this.ya||(this.N||this.i||this.f?Uc(this):this.Jc())};P.Jc=
function(){Uc(this)};P.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fl:case "text":return this.a.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var a=this.b;return a&&a.log(Nk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(xh){return Cd(this.b,"Can not get response: "+xh.message),null}};Xd.prototype.cancel=function(a){var b;this.a?this.c instanceof
Xd&&this.c.cancel():(this.b&&(b=this.b,delete this.b,a?b.cancel(a):(b.l--,0>=b.l&&b.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(a=new oe,Xf(this),dh(this,!1,a)))};Xd.prototype.m=function(a,b){this.i=!1;dh(this,a,b)};Xd.prototype.then=function(a,b,d){var l,p,e=new wa(function(a,b){l=a;p=b});return Yf(this,l,function(a){a instanceof oe?e.cancel():p(a)}),e.then(a,b,d)};Xd.prototype.$goog_Thenable=!0;I(eh,E);eh.prototype.message="Deferred has already fired";eh.prototype.name="AlreadyCalledError";
I(oe,E);oe.prototype.message="Deferred was canceled";oe.prototype.name="CanceledError";cb.prototype.c=function(){throw delete Wk[this.a],this.b;};var Wk={},bk=0,rk=1;I(fh,E);I(gh,Te);gh.prototype.a=function(){return new this.f};gh.prototype.b=function(){return{}};var Zk,a="idToken",b=new Me(3E4,6E4),d={"Content-Type":"application/x-www-form-urlencoded"},l=new Me(3E4,6E4),p={"Content-Type":"application/json"};Lc.prototype.T=function(){return this.b};Lc.prototype.u=function(a,b,d,l,p,e){if(Td()&&(void 0===
aa.fetch||void 0===aa.Headers||void 0===aa.Request))throw new J("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var D,m=new ah(this.f);e&&(m.g=Math.max(0,e),D=setTimeout(function(){m.dispatchEvent("timeout")},e));fe(m,"complete",function(){D&&clearTimeout(D);var a=null;try{a=JSON.parse(function(a){try{return a.a?a.a.responseText:""}catch(Tk){return Cd(a.b,"Can not get responseText: "+
Tk.message),""}}(this))||null}catch(Dk){a=null}b&&b(a)});dc(m,"ready",function(){D&&clearTimeout(D);this.ya||(this.ya=!0,this.Da())});dc(m,"timeout",function(){D&&clearTimeout(D);this.ya||(this.ya=!0,this.Da());b&&b(null)});vg(m,a,d,l,p)};var D=new H(uj,"https://apis.google.com/js/client.js?onload=%{onload}"),xa="__fcb"+Math.floor(1E6*Math.random()).toString();Lc.prototype.s=function(a,b,d,l,p){var e=this;Zk.then(function(){window.gapi.client.setApiKey(e.c);var D=window.gapi.auth.getToken();window.gapi.auth.setToken(null);
window.gapi.client.request({path:a,method:d,body:l,headers:p,authType:"none",callback:function(a){window.gapi.auth.setToken(D);b&&b(a)}})}).o(function(a){b&&b({error:{message:a&&a.message||"CORS_UNSUPPORTED"}})})};Lc.prototype.Ab=function(){return Ua(this,jm,{})};Lc.prototype.Cb=function(a,b){return Ua(this,Jl,{idToken:a,email:b})};Lc.prototype.Db=function(a,b){return Ua(this,Il,{idToken:a,password:b})};var Od={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};(P=Lc.prototype).Eb=function(a,b){var d=
{idToken:a},l=[];return wb(Od,function(a,p){var e=b[p];null===e?l.push(a):p in b&&(d[p]=e)}),l.length&&(d.deleteAttribute=l),Ua(this,Jl,d)};P.wb=function(a,b){return kb(a={requestType:"PASSWORD_RESET",email:a},b),Ua(this,km,a)};P.xb=function(a,b){return kb(a={requestType:"EMAIL_SIGNIN",email:a},b),Ua(this,lm,a)};P.vb=function(a,b){return kb(a={requestType:"VERIFY_EMAIL",idToken:a},b),Ua(this,mm,a)};P.Fb=function(a,b,d){return kb(a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:b},d),Ua(this,
nm,a)};P.gb=function(a){return Ua(this,om,a)};P.ob=function(a,b){return Ua(this,pm,{oobCode:a,newPassword:b})};P.Sa=function(a){return Ua(this,ql,{oobCode:a})};P.kb=function(a){return Ua(this,qm,{oobCode:a})};var qm={endpoint:"setAccountInfo",A:Ed,Z:"email",B:!0},ql={endpoint:"resetPassword",A:Ed,G:function(a){var b=a.requestType;if(!b||!a.email&&"EMAIL_SIGNIN"!=b&&"VERIFY_AND_CHANGE_EMAIL"!=b)throw new J("internal-error");},B:!0},rm={endpoint:"signupNewUser",A:function(a){if(kc(a),!a.password)throw new J("weak-password");
},G:ob,V:!0,B:!0},sm={endpoint:"createAuthUri",B:!0},tm={endpoint:"deleteAccount",O:["idToken"]},Kl={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(a){if(!Array.isArray(a.deleteProvider))throw new J("internal-error");}},cm={endpoint:"emailLinkSignin",O:["email","oobCode"],A:kc,G:ob,V:!0,B:!0},dm={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:kc,G:ob,V:!0},um={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:al,G:ob,B:!0,Na:!0},
vm={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:al,G:ob,B:!0,Na:!0},am={endpoint:"getAccountInfo"},lm={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("EMAIL_SIGNIN"!=a.requestType)throw new J("internal-error");kc(a)},Z:"email",B:!0},mm={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(a){if("VERIFY_EMAIL"!=a.requestType)throw new J("internal-error");},Z:"email",B:!0},nm={endpoint:"getOobConfirmationCode",
O:["idToken","newEmail","requestType"],A:function(a){if("VERIFY_AND_CHANGE_EMAIL"!=a.requestType)throw new J("internal-error");},Z:"email",B:!0},km={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(a){if("PASSWORD_RESET"!=a.requestType)throw new J("internal-error");kc(a)},Z:"email",B:!0},Ul={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},wm={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(a){if(!a.recaptchaSiteKey)throw new J("internal-error");}},pm={endpoint:"resetPassword",A:Ed,
Z:"email",B:!0},im={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Jl={endpoint:"setAccountInfo",O:["idToken"],A:Ab,V:!0},Il={endpoint:"setAccountInfo",O:["idToken"],A:function(a){if(Ab(a),!a.password)throw new J("weak-password");},G:ob,V:!0},jm={endpoint:"signupNewUser",G:ob,V:!0,B:!0},gm={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(a){if(!a.phoneEnrollmentInfo)throw new J("internal-error");if(!a.phoneEnrollmentInfo.phoneNumber)throw new J("missing-phone-number");
if(!a.phoneEnrollmentInfo.recaptchaToken)throw new J("missing-app-credential");},G:function(a){if(!a.phoneSessionInfo||!a.phoneSessionInfo.sessionInfo)throw new J("internal-error");},B:!0,Na:!0},hm={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(a){if(!a.phoneSignInInfo||!a.phoneSignInInfo.recaptchaToken)throw new J("missing-app-credential");},G:function(a){if(!a.phoneResponseInfo||!a.phoneResponseInfo.sessionInfo)throw new J("internal-error");
},B:!0,Na:!0},Ol={endpoint:"verifyAssertion",A:Mc,Za:De,G:Wh,V:!0,B:!0},Ql={endpoint:"verifyAssertion",A:Mc,Za:De,G:function(a){if(a.errorMessage&&"USER_NOT_FOUND"==a.errorMessage)throw new J("user-not-found");if(a.errorMessage)throw qd(a.errorMessage);ob(a)},V:!0,B:!0},Pl={endpoint:"verifyAssertion",A:function(a){if(Mc(a),!a.idToken)throw new J("internal-error");},Za:De,G:Wh,V:!0},xm={endpoint:"verifyCustomToken",A:function(a){if(!a.token)throw new J("invalid-custom-token");},G:ob,V:!0,B:!0},Hl=
{endpoint:"verifyPassword",A:function(a){if(kc(a),!a.password)throw new J("wrong-password");},G:ob,V:!0,B:!0},om={endpoint:"verifyPhoneNumber",A:Vh,G:ob,B:!0},em={endpoint:"verifyPhoneNumber",A:function(a){if(!a.idToken)throw new J("internal-error");Vh(a)},G:function(a){if(a.temporaryProof)throw a.code="credential-already-in-use",Bd(a);ob(a)}},fm={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Vh,G:ob,B:!0},ym={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],
G:function(b){if(!!b[a]^!!b.refreshToken)throw new J("internal-error");},B:!0,Na:!0},Sl=new H(uj,"https://apis.google.com/js/api.js?onload=%{onload}"),Rl=new Me(3E4,6E4),Tl=new Me(5E3,15E3),il=null;ck.prototype.toString=function(){return this.f?Ob(this.a,"v",this.f):Rd(this.a.b,"v"),this.b?Ob(this.a,"eid",this.b):Rd(this.a.b,"eid"),this.c.length?Ob(this.a,"fw",this.c.join(",")):Rd(this.a.b,"fw"),this.a.toString()};fj.prototype.zb=function(a){return this.h=a,this};fj.prototype.toString=function(){var a;
if(Ob(a=this.v?jf((a=rc(this.v.url)).c,a.a,a.g,"/emulator/auth/handler"):jf("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),Ob(a,"appName",this.c),Ob(a,"authType",this.m),this.a.isOAuthProvider){var b=this.a;try{var d=v.default.app(this.c).auth().la()}catch(vj){d=null}for(l in b.pb=d,Ob(a,"providerId",this.a.providerId),b=Kh((d=this.a).Jb))b[l]=b[l].toString();var l=d.Qc;b=Fa(b);for(var p=0;p<l.length;p++){var e=l[p];e in b&&delete b[e]}d.qb&&d.pb&&!b[d.qb]&&(b[d.qb]=d.pb);Ha(b)||Ob(a,"customParameters",
Pg(b))}if("function"==typeof this.a.Rb&&(d=this.a.Rb()).length&&Ob(a,"scopes",d.join(",")),this.l?Ob(a,"redirectUrl",this.l):Rd(a.b,"redirectUrl"),this.g?Ob(a,"eventId",this.g):Rd(a.b,"eventId"),this.i?Ob(a,"v",this.i):Rd(a.b,"v"),this.b)for(var D in this.b)this.b.hasOwnProperty(D)&&!ed(a,D)&&Ob(a,D,this.b[D]);return this.h?Ob(a,"tid",this.h):Rd(a.b,"tid"),this.f?Ob(a,"eid",this.f):Rd(a.b,"eid"),(D=Ja(this.c)).length&&Ob(a,"fw",D.join(",")),a.toString()};(P=Zb.prototype).Pb=function(a,b,d){var l=
new J("popup-closed-by-user"),p=new J("web-storage-unsupported"),e=this,D=!1;return this.ma().then(function(){var d={type:"webStorageSupport"};tk(e).then(function(){return a=e.v,b=d,a.sb.then(function(){return new wa(function(d){a.a.send(b.type,b,d,oc("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var a,b}).then(function(a){if(a&&a.length&&void 0!==a[0].webStorageSupport)return a[0].webStorageSupport;throw Error();}).then(function(d){d||(a&&yb(a),b(p),D=!0)})}).o(function(){}).then(function(){if(!D)return b=
a,new wa(function(a){return function Tk(){ub(2E3).then(function(){return b&&!b.closed?Tk():void a()})}()});var b}).then(function(){if(!D)return ub(d).then(function(){b(l)})})};P.Yb=function(){var a=kd();return!pg(a)&&!Qg(a)};P.Ub=function(){return!1};P.Nb=function(a,b,d,l,p,e,D,m){if(!a)return hb(new J("popup-blocked"));if(D&&!pg())return this.ma().o(function(b){yb(a);p(b)}),l(),Ga();this.a||(this.a=$f(uk(this)));var xa=this;return this.a.then(function(){var b=xa.ma().o(function(b){throw yb(a),p(b),
b;});return l(),b}).then(function(){bj(d);D||Gh(gj(xa.s,xa.g,xa.b,b,d,null,e,xa.c,void 0,xa.i,m,xa.f),a)}).o(function(a){throw"auth/network-request-failed"==a.code&&(xa.a=null),a;})};P.Ob=function(a,b,d,l){this.a||(this.a=$f(uk(this)));var p=this;return this.a.then(function(){bj(b);Gh(gj(p.s,p.g,p.b,a,b,Ng(),d,p.c,void 0,p.i,l,p.f))}).o(function(a){throw"auth/network-request-failed"==a.code&&(p.a=null),a;})};P.ma=function(){var a=this;return tk(this).then(function(){return a.v.sb}).o(function(){throw a.a=
null,new J("network-request-failed");})};P.ac=function(){return!0};P.Ea=function(a){this.h.push(a)};P.Ta=function(a){ka(this.h,function(b){return b==a})};(P=hj.prototype).get=function(a){return Ga(this.a.getItem(a)).then(function(a){return a&&Mf(a)})};P.set=function(a,b){return Ga(this.a.setItem(a,Pg(b)))};P.U=function(a){return Ga(this.a.removeItem(a))};P.ca=function(){};P.ia=function(){};var jl,tl=[];rb.prototype.c=function(a){var b,d=a.data.eventType,l=a.data.eventId,p=this.a[d];p&&0<p.length&&
(a.ports[0].postMessage({status:"ack",eventId:l,eventType:d,response:null}),b=[],Ac(p,function(d){b.push(Ga().then(function(){return d(a.origin,a.data.data)}))}),od(b).then(function(b){var p=[];Ac(b,function(a){p.push({fulfilled:a.Qb,value:a.value,reason:a.reason?a.reason.message:void 0})});Ac(p,function(a){for(var b in a)void 0===a[b]&&delete a[b]});a.ports[0].postMessage({status:"done",eventId:l,eventType:d,response:p})}))};hh.prototype.postMessage=function(a,b){this.a.postMessage(a,b)};Rb.prototype.close=
function(){for(;0<this.a.length;)Wc(this,this.a[0]);this.b=!0};(P=ih.prototype).set=function(a,b){var d=this,l=!1;return vf(this,function(b){return wf(Xh(Oc(b,!0)).get(a))}).then(function(p){return vf(d,function(e){if(e=Xh(Oc(e,!0)),p)return p.value=b,wf(e.put(p));d.b++;l=!0;var D={};return D.fbase_key=a,D.value=b,wf(e.add(D))})}).then(function(){return d.c[a]=b,Ee(d,a)}).oa(function(){l&&d.b--})};P.get=function(a){return vf(this,function(b){return wf(Xh(Oc(b,!1)).get(a))}).then(function(a){return a&&
a.value})};P.U=function(a){var b=this,d=!1;return vf(this,function(l){return d=!0,b.b++,wf(Xh(Oc(l,!0)).delete(a))}).then(function(){return delete b.c[a],Ee(b,a)}).oa(function(){d&&b.b--})};P.ca=function(a){var b;0==this.a.length&&(zg(b=this),function Kg(){b.f=setTimeout(function(){b.l=Nc(b).then(function(a){0<a.length&&Ac(b.a,function(b){b(a)})}).then(function(){Kg()}).o(function(a){"STOP_EVENT"!=a.message&&Kg()})},800)}());this.a.push(a)};P.ia=function(a){ka(this.a,function(b){return b==a});0==
this.a.length&&zg(this)};(P=jj.prototype).get=function(a){return this.b.then(function(b){return b.get(a)})};P.set=function(a,b){return this.b.then(function(d){return d.set(a,b)})};P.U=function(a){return this.b.then(function(b){return b.U(a)})};P.ca=function(a){this.a.push(a)};P.ia=function(a){ka(this.a,function(b){return b==a})};(P=Yh.prototype).get=function(a){return Ga(this.a[a])};P.set=function(a,b){return this.a[a]=b,Ga()};P.U=function(a){return delete this.a[a],Ga()};P.ca=function(){};P.ia=function(){};
(P=sc.prototype).get=function(a){var b=this;return Ga().then(function(){return Mf(b.a.getItem(a))})};P.set=function(a,b){var d=this;return Ga().then(function(){var l=Pg(b);null===l?d.U(a):d.a.setItem(a,l)})};P.U=function(a){var b=this;return Ga().then(function(){b.a.removeItem(a)})};P.ca=function(a){aa.window&&Jc(aa.window,"storage",a)};P.ia=function(a){aa.window&&V(aa.window,"storage",a)};(P=Gj.prototype).get=function(){return Ga(null)};P.set=function(){return Ga()};P.U=function(){return Ga()};P.ca=
function(){};P.ia=function(){};(P=kj.prototype).get=function(a){var b=this;return Ga().then(function(){return Mf(b.a.getItem(a))})};P.set=function(a,b){var d=this;return Ga().then(function(){var l=Pg(b);null===l?d.U(a):d.a.setItem(a,l)})};P.U=function(a){var b=this;return Ga().then(function(){b.a.removeItem(a)})};P.ca=function(){};P.ia=function(){};var ul,vl,Vl={F:sc,cb:kj},Wl={F:sc,cb:kj},Xl={F:hj,cb:Gj},Yl={F:sc,cb:Gj},bl={rd:"local",NONE:"none",td:"session"};(P=Fi.prototype).get=function(a,b){return bg(this,
a.F).get(lb(a,b))};P.set=function(a,b,d){var l=lb(a,d),p=this,e=bg(this,a.F);return e.set(l,b).then(function(){return e.get(l)}).then(function(b){"local"==a.F&&(p.b[l]=b)})};P.addListener=function(a,b,d){var l;a=lb(a,b);this.l&&(this.b[a]=aa.localStorage.getItem(a));Ha(this.a)&&(bg(this,"local").ca(this.f),this.h||(ng()||!ib())&&aa.indexedDB||!this.l||(Cg(l=this),l.c=setInterval(function(){for(var a in l.a){var b=aa.localStorage.getItem(a),d=l.b[a];b!=d&&(l.b[a]=b,b=new Wa({type:"storage",key:a,target:window,
oldValue:d,newValue:b,a:!0}),l.Zb(b))}},1E3)));this.a[a]||(this.a[a]=[]);this.a[a].push(d)};P.removeListener=function(a,b,d){a=lb(a,b);this.a[a]&&(ka(this.a[a],function(a){return a==d}),0==this.a[a].length&&delete this.a[a]);Ha(this.a)&&(bg(this,"local").ia(this.f),Cg(this))};P.Zb=function(a){if(a&&a.g){var b=a.a.key;if(null==b)for(var d in this.a){var l=this.b[d];void 0===l&&(l=null);var p=aa.localStorage.getItem(d);p!==l&&(this.b[d]=p,this.nb(d))}else if(0==b.indexOf("firebase:")&&this.a[b]){if(void 0!==
a.a.a?bg(this,"local").ia(this.f):Cg(this),this.m)if(d=aa.localStorage.getItem(b),(l=a.a.newValue)!==d)null!==l?aa.localStorage.setItem(b,l):aa.localStorage.removeItem(b);else if(this.b[b]===l&&void 0===a.a.a)return;var e=this;d=function(){void 0===a.a.a&&e.b[b]===aa.localStorage.getItem(b)||(e.b[b]=aa.localStorage.getItem(b),e.nb(b))};og&&Mg&&10==Mg&&aa.localStorage.getItem(b)!==a.a.newValue&&a.a.newValue!==a.a.oldValue?setTimeout(d,10):d()}}else Ac(a,fa(this.nb,this))};P.nb=function(a){this.a[a]&&
Ac(this.a[a],function(a){a()})};var kl,ll={name:"authEvent",F:"local"};I(pb,function(){this.b=-1});for(var wl=64,zm=wl-1,Ll=[],rl=0;rl<zm;rl++)Ll[rl]=0;var yl=jb(128,Ll);pb.prototype.reset=function(){this.g=this.c=0;this.a=aa.Int32Array?new Int32Array(this.h):Ca(this.h)};var xl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,
1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];I(Kb,pb);var Zl=[1779033703,3144134277,
1013904242,2773480762,1359893119,2600822924,528734635,1541459225];(P=la.prototype).ma=function(){return this.Ia||(this.Ia=(Hh(void 0)?Jf().then(function(){return new wa(function(a,b){var d=aa.document,l=setTimeout(function(){b(Error("Cordova framework is not ready."))},1E3);d.addEventListener("deviceready",function(){clearTimeout(l);a()},!1)})}):hb(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof oc("universalLinks.subscribe",aa))throw tc("cordova-universal-links-plugin-fix is not installed");
if(void 0===oc("BuildInfo.packageName",aa))throw tc("cordova-plugin-buildinfo is not installed");if("function"!=typeof oc("cordova.plugins.browsertab.openUrl",aa))throw tc("cordova-plugin-browsertab is not installed");if("function"!=typeof oc("cordova.InAppBrowser.open",aa))throw tc("cordova-plugin-inappbrowser is not installed");},function(){throw new J("cordova-not-ready");}))};P.Pb=function(a,b){return b(new J("operation-not-supported-in-this-environment")),Ga()};P.Nb=function(){return hb(new J("operation-not-supported-in-this-environment"))};
P.ac=function(){return!1};P.Yb=function(){return!0};P.Ub=function(){return!0};P.Ob=function(a,b,d,l){if(this.c)return hb(new J("redirect-operation-pending"));var p=this,e=aa.document,D=null,m=null,xa=null,c=null;return this.c=Ga().then(function(){return bj(b),Zc(p)}).then(function(){return function(a,b,d,l,p){var e=function(){for(var a=20,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),a--;return b.join("")}(),D=new le(b,l,null,
e,new J("no-auth-event"),null,p),m=oc("BuildInfo.packageName",aa);if("string"!=typeof m)throw new J("invalid-cordova-configuration");var xa=oc("BuildInfo.displayName",aa),c={};if(kd().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=m;else{if(!kd().toLowerCase().match(/android/))return hb(new J("operation-not-supported-in-this-environment"));c.apn=m}xa&&(c.appDisplayName=xa);e=mj(e);c.sessionId=e;var F=gj(a.v,a.i,a.l,b,d,null,l,a.m,c,a.u,p,a.s);return a.ma().then(function(){var b=a.h;return a.C.a.set(ll,
D.w(),b)}).then(function(){var b=oc("cordova.plugins.browsertab.isAvailable",aa);if("function"!=typeof b)throw new J("invalid-cordova-configuration");var d=null;b(function(b){if(b){if("function"!=typeof(d=oc("cordova.plugins.browsertab.openUrl",aa)))throw new J("invalid-cordova-configuration");d(F)}else{if("function"!=typeof(d=oc("cordova.InAppBrowser.open",aa)))throw new J("invalid-cordova-configuration");b=kd();a.a=d(F,b.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||b.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?
"_blank":"_system","location=yes")}})})}(p,a,b,d,l)}).then(function(){return(new wa(function(a,b){m=function(){var b=oc("cordova.plugins.browsertab.close",aa);return a(),"function"==typeof b&&b(),p.a&&"function"==typeof p.a.close&&(p.a.close(),p.a=null),!1};p.Ea(m);xa=function(){D=D||ub(2E3).then(function(){b(new J("redirect-cancelled-by-user"))})};c=function(){Lh()&&xa()};e.addEventListener("resume",xa,!1);kd().toLowerCase().match(/android/)||e.addEventListener("visibilitychange",c,!1)})).o(function(a){return nj(p).then(function(){throw a;
})})}).oa(function(){xa&&e.removeEventListener("resume",xa,!1);c&&e.removeEventListener("visibilitychange",c,!1);D&&D.cancel();m&&p.Ta(m);p.c=null})};P.Ea=function(a){this.b.push(a);Zc(this).o(function(b){"auth/invalid-cordova-configuration"===b.code&&(b=new le("unknown",null,null,null,new J("no-auth-event")),a(b))})};P.Ta=function(a){ka(this.b,function(b){return b==a})};var ml={name:"pendingRedirect",F:"session"};yf.prototype.reset=function(){this.f=!1;this.a.Ta(this.l);this.a=Fb(this.D,this.v,this.m,
null,this.J);this.i={}};yf.prototype.s=function(a){if(!a)throw new J("invalid-auth-event");if(6E5<=Date.now()-this.u&&(this.i={},this.u=0),a&&a.getUid()&&this.i.hasOwnProperty(a.getUid()))return!1;for(var b=!1,d=0;d<this.h.length;d++){var l=this.h[d];if(l.Gb(a.c,a.b)){(b=this.c[a.c])&&(b.h(a,l),a&&(a.f||a.b)&&(this.i[a.getUid()]=!0,this.u=Date.now()));b=!0;break}}return lc(this.b),b};var $l=new Me(2E3,1E4),Am=new Me(3E4,6E4);yf.prototype.ra=function(){return this.b.ra()};var nl={};hd.prototype.reset=
function(){this.b=null;this.a&&(this.a.cancel(),this.a=null)};hd.prototype.h=function(a,b){var d,l,p,e;a?(this.reset(),this.g=!0,d=a.c,l=a.b,p=a.a&&"auth/web-storage-unsupported"==a.a.code,e=a.a&&"auth/operation-not-supported-in-this-environment"==a.a.code,this.i=!(!p&&!e),"unknown"!=d||p||e?a.a?(rd(this,!0,null,a.a),Ga()):b.Fa(d,l)?function(a,b,d){d=d.Fa(b.c,b.b);var l=b.g,p=b.f,e=b.i,D=b.T(),m=!!b.c.match(/Redirect$/);d(l,p,D,e).then(function(b){rd(a,m,b,null)}).o(function(b){rd(a,m,null,b)})}(this,
a,b):hb(new J("invalid-auth-event")):(rd(this,!1,null,null),Ga())):hb(new J("invalid-auth-event"))};hd.prototype.ra=function(){var a=this;return new wa(function(b,d){var l;a.b?a.b().then(b,d):(a.f.push(b),a.c.push(d),l=new J("timeout"),a.a&&a.a.cancel(),a.a=ub(Am.get()).then(function(){a.b||(a.g=!0,rd(a,!0,null,l))}))})};Fc.prototype.h=function(a,b){var d,l,p,e;a?(d=a.c,l=a.b,a.a?(b.na(a.c,null,a.a,a.b),Ga()):b.Fa(d,l)?(p=a.b,e=a.c,b.Fa(e,p)(a.g,a.f,a.T(),a.i).then(function(a){b.na(e,a,null,p)}).o(function(a){b.na(e,
null,a,p)})):hb(new J("invalid-auth-event"))):hb(new J("invalid-auth-event"))};Gc.prototype.confirm=function(a){return a=sg(this.verificationId,a),this.a(a)};var Al="mfaInfo",zl="mfaPendingCredential";eb.prototype.Rc=function(a){var b=this;return a.tb(this.a.a,this.c).then(function(a){var d=Fa(b.f);return delete d[Al],delete d[zl],kb(d,a),b.g(d)})};I(Zd,J);dg.prototype.tb=function(a,b,d){return b.type==of?(e=this,D=a,m=d,b.Ha().then(function(a){return a={idToken:a},void 0!==m&&(a.displayName=m),kb(a,
{phoneVerificationInfo:Tf(e.a)}),Ua(D,um,a)})):(l=this,p=a,b.Ha().then(function(a){return kb(a={mfaPendingCredential:a},{phoneVerificationInfo:Tf(l.a)}),Ua(p,vm,a)}));var l,p,e,D,m};I(Fd,dg);I(ua,Fd);I(eg,nc);(P=Ib.prototype).yc=function(a){var b;fg(this,(a=a.hd,b=[],Ac(a.mfaInfo||[],function(a){(a=Oh(a))&&b.push(a)}),b))};P.Sb=function(){return this.a.I().then(function(a){return new Ne(a,null)})};P.fc=function(a,b){var d=this,l=this.a.a;return this.Sb().then(function(d){return a.tb(l,d,b)}).then(function(a){return Ye(d.a,
a),d.a.reload()})};P.bd=function(a){var b=this,d="string"==typeof a?a:a.uid,l=this.a.a;return this.a.I().then(function(a){return Ua(l,ym,{idToken:a,mfaEnrollmentId:d})}).then(function(a){var l=vh(b.b,function(a){return a.uid!=d});return fg(b,l),Ye(b.a,a),b.a.reload().o(function(a){if("auth/user-token-expired"!=a.code)throw a;})})};P.w=function(){return{multiFactor:{enrolledFactors:pe(this.b,function(a){return a.w()})}}};Sb.prototype.start=function(){this.a=this.c;(function Kg(a,b){a.stop();a.b=ub(kh(a,
b)).then(Aj).then(function(){return a.h()}).then(function(){Kg(a,!0)}).o(function(b){a.i(b)&&Kg(a,!1)})})(this,!0)};Sb.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};sd.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};sd.prototype.getToken=function(a){return a=!!a,this.b&&!this.a?hb(new J("user-token-expired")):a||!this.b||Date.now()>this.c-3E4?this.a?qj(this,{grant_type:"refresh_token",refresh_token:this.a}):
Ga(null):Ga({accessToken:this.b.toString(),refreshToken:this.a})};$h.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};I($d,Mb);$d.prototype.xa=function(a){this.za=a;dj(this.a,a)};$d.prototype.la=function(){return this.za};$d.prototype.Ga=function(){return Ca(this.aa)};$d.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};Pa($d.prototype,"providerId","firebase");(P=$d.prototype).reload=function(){var a=this;return cc(this,nh(this).then(function(){return Ig(a).then(function(){return gg(a)}).then(Xe)}))};
P.oc=function(a){return this.I(a).then(function(a){return new nd(a)})};P.I=function(a){var b=this;return cc(this,nh(this).then(function(){return b.h.getToken(a)}).then(function(a){if(!a)throw new J("internal-error");return a.accessToken!=b.Aa&&(bc(b,a.accessToken),b.dispatchEvent(new eg("tokenChanged"))),Bf(b,"refreshToken",a.refreshToken),a.accessToken}))};P.Kc=function(a){if(!(a=a.users)||!a.length)throw new J("internal-error");Md(this,{uid:(a=a[0]).localId,displayName:a.displayName,photoURL:a.photoUrl,
email:a.email,emailVerified:!!a.emailVerified,phoneNumber:a.phoneNumber,lastLoginAt:a.lastLoginAt,createdAt:a.createdAt,tenantId:a.tenantId});var b,d=(b=(b=a).providerUserInfo)&&b.length?pe(b,function(a){return new td(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[];for(b=0;b<d.length;b++)wd(this,d[b]);Bf(this,"isAnonymous",!(this.email&&a.passwordHash||this.providerData&&this.providerData.length));this.dispatchEvent(new eg("userReloaded",{hd:a}))};P.Lc=function(a){return Mh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),
this.ub(a)};P.ub=function(a){var b=this,d=null;return cc(this,a.c(this.a,this.uid).then(function(a){return Ye(b,a),d=oh(b,a,"reauthenticate"),b.i=null,b.reload()}).then(function(){return d}),!0)};P.Cc=function(a){return Mh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(a)};P.rb=function(a){var b=this,d=null;return cc(this,di(this,a.providerId).then(function(){return b.I()}).then(function(d){return a.b(b.a,
d)}).then(function(a){return d=oh(b,a,"link"),ei(b,a)}).then(function(){return d}))};P.Dc=function(a,b){var d=this;return cc(this,di(this,"phone").then(function(){return Af(Hg(d),a,b,fa(d.rb,d))}))};P.Mc=function(a,b){var d=this;return cc(this,Ga().then(function(){return Af(Hg(d),a,b,fa(d.ub,d))}),!0)};P.Cb=function(a){var b=this;return cc(this,this.I().then(function(d){return b.a.Cb(d,a)}).then(function(a){return Ye(b,a),b.reload()}))};P.ed=function(a){var b=this;return cc(this,this.I().then(function(d){return a.b(b.a,
d)}).then(function(a){return Ye(b,a),b.reload()}))};P.Db=function(a){var b=this;return cc(this,this.I().then(function(d){return b.a.Db(d,a)}).then(function(a){return Ye(b,a),b.reload()}))};P.Eb=function(a){if(void 0===a.displayName&&void 0===a.photoURL)return nh(this);var b=this;return cc(this,this.I().then(function(d){return b.a.Eb(d,{displayName:a.displayName,photoUrl:a.photoURL})}).then(function(a){return Ye(b,a),Bf(b,"displayName",a.displayName||null),Bf(b,"photoURL",a.photoUrl||null),Ac(b.providerData,
function(a){"password"===a.providerId&&(Pa(a,"displayName",b.displayName),Pa(a,"photoURL",b.photoURL))}),gg(b)}).then(Xe))};P.cd=function(a){var b=this;return cc(this,Ig(this).then(function(d){return Pb(Li(b),a)?Ua(b.a,Kl,{idToken:d,deleteProvider:[a]}).then(function(a){var d={};return Ac(a.providerUserInfo||[],function(a){d[a.providerId]=!0}),Ac(Li(b),function(a){d[a]||Ij(b,a)}),d[ze.PROVIDER_ID]||Pa(b,"phoneNumber",null),gg(b)}):gg(b).then(function(){throw new J("no-such-provider");})}))};P.delete=
function(){var a=this;return cc(this,this.I().then(function(b){return Ua(a.a,tm,{idToken:b})}).then(function(){a.dispatchEvent(new eg("userDeleted"))})).then(function(){for(var b=0;b<a.N.length;b++)a.N[b].cancel("app-deleted");ud(a,null);ae(a,null);Ki(a,null);a.N=[];a.J=!0;ci(a);Pa(a,"refreshToken",null);a.b&&Fg(a.b,a)})};P.Gb=function(a,b){return!!("linkViaPopup"==a&&(this.g||null)==b&&this.f||"reauthViaPopup"==a&&(this.g||null)==b&&this.f||"linkViaRedirect"==a&&(this.ga||null)==b||"reauthViaRedirect"==
a&&(this.ga||null)==b)};P.na=function(a,b,d,l){"linkViaPopup"!=a&&"reauthViaPopup"!=a||l!=(this.g||null)||(d&&this.C?this.C(d):b&&!d&&this.f&&this.f(b),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)};P.Fa=function(a,b){return"linkViaPopup"==a&&b==(this.g||null)?fa(this.Lb,this):"reauthViaPopup"==a&&b==(this.g||null)?fa(this.Mb,this):"linkViaRedirect"==a&&(this.ga||null)==b?fa(this.Lb,this):"reauthViaRedirect"==a&&(this.ga||null)==b?fa(this.Mb,this):null};P.Ec=function(a){var b=
this;return fi(this,"linkViaPopup",a,function(){return di(b,a.providerId).then(function(){return gg(b)})},!1)};P.Nc=function(a){return fi(this,"reauthViaPopup",a,function(){return Ga()},!0)};P.Fc=function(a){var b=this;return Jj(this,"linkViaRedirect",a,function(){return di(b,a.providerId)},!1)};P.Oc=function(a){return Jj(this,"reauthViaRedirect",a,function(){return Ga()},!0)};P.Lb=function(a,b,d,l){var p=this;this.c&&(this.c.cancel(),this.c=null);var e=null;return d=this.I().then(function(d){return Dd(p.a,
{requestUri:a,postBody:l,sessionId:b,idToken:d})}).then(function(a){return e=oh(p,a,"link"),ei(p,a)}).then(function(){return e}),cc(this,d)};P.Mb=function(a,b,d,l){var p=this;this.c&&(this.c.cancel(),this.c=null);var e=null;return cc(this,Ga().then(function(){return Rf(Di(p.a,{requestUri:a,sessionId:b,postBody:l,tenantId:d}),p.uid)}).then(function(a){return e=oh(p,a,"reauthenticate"),Ye(p,a),p.i=null,p.reload()}).then(function(){return e}),!0)};P.vb=function(a){var b=this,d=null;return cc(this,this.I().then(function(b){return d=
b,void 0===a||Ha(a)?{}:he(new Ph(a))}).then(function(a){return b.a.vb(d,a)}).then(function(a){if(b.email!=a)return b.reload()}).then(function(){}))};P.Fb=function(a,b){var d=this,l=null;return cc(this,this.I().then(function(a){return l=a,void 0===b||Ha(b)?{}:he(new Ph(b))}).then(function(b){return d.a.Fb(l,a,b)}).then(function(a){if(d.email!=a)return d.reload()}).then(function(){}))};P.jc=function(a){var b=null,d=this;return cc(this,a=Rf(Ga(a),d.uid).then(function(a){return b=oh(d,a,"reauthenticate"),
Ye(d,a),d.i=null,d.reload()}).then(function(){return b}),!0)};P.toJSON=function(){return this.w()};P.w=function(){var a={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&kb(a,this.metadata.w()),Ac(this.providerData,
function(b){a.providerData.push(function(a){var b,d={};for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);return d}(b))}),kb(a,this.S.w()),a};var ol={name:"redirectUser",F:"session"};hi.prototype.g=function(){var a=this,b=Ge("local");re(this,function(){return Ga().then(function(){return a.c&&"local"!=a.c.F?a.b.get(b,a.a):null}).then(function(d){if(d)return Hc(a,"local").then(function(){a.c=b})})})};var pl={name:"persistence",F:"session"};hi.prototype.yb=function(a){var b=null,d=this;return function(a){var b=
new J("invalid-persistence-type"),d=new J("unsupported-persistence-type");a:{for(l in bl)if(bl[l]==a){var l=!0;break a}l=!1}if(!l||"string"!=typeof a)throw b;switch(ld()){case "ReactNative":if("session"===a)throw d;break;case "Node":if("none"!==a)throw d;break;case "Worker":if("session"===a||!ag()&&"none"!==a)throw d;break;default:if(!Wi()&&"none"!==a)throw d;}}(a),re(this,function(){return a!=d.c.F?d.b.get(d.c,d.a).then(function(l){return b=l,Hc(d,a)}).then(function(){if(d.c=Ge(a),b)return d.b.set(d.c,
b,d.a)}):Ga()})};I(He,Mb);I(Mi,nc);I(ji,nc);I(Mj,nc);(P=He.prototype).yb=function(a){return a=this.i.yb(a),wc(this,a)};P.xa=function(a){this.aa===a||this.l||(this.aa=a,dj(this.a,this.aa),this.dispatchEvent(new Mi(this.la())))};P.la=function(){return this.aa};P.fd=function(){var a=aa.navigator;this.xa(a&&(a.languages&&a.languages[0]||a.language||a.userLanguage)||null)};P.gd=function(a,b){if(!this.R){if(!/^https?:\/\//.test(a))throw new J("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");
var d=b=!!b&&!!b.disableWarnings;"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");aa.document&&!d&&Jf().then(function(){var a=aa.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.";a.style.position="fixed";a.style.width="100%";a.style.backgroundColor="#ffffff";a.style.border=".1em solid #000000";
a.style.color="#b50000";a.style.bottom="0px";a.style.left="0px";a.style.margin="0px";a.style.zIndex=1E4;a.style.textAlign="center";a.classList.add("firebase-emulator-warning");aa.document.body.appendChild(a)});this.R={url:a,ec:b};this.settings.jb=!0;Zf(this.a,this.R);this.dispatchEvent(new ji(this.R))}};P.Gc=function(a){this.J.push(a);ej(this.a,v.default.SDK_VERSION?we(v.default.SDK_VERSION,this.J):null);this.dispatchEvent(new Mj(this.J))};P.Ga=function(){return Ca(this.J)};P.zb=function(a){this.S===
a||this.l||(this.S=a,this.a.b=this.S)};P.T=function(){return this.S};P.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:this.currentUser&&this.currentUser.w()}};P.Gb=function(a,b){switch(a){case "unknown":case "signInViaRedirect":return!0;case "signInViaPopup":return this.g==b&&!!this.f;default:return!1}};P.na=function(a,b,d,l){"signInViaPopup"==a&&this.g==l&&(d&&this.C?this.C(d):b&&!d&&this.f&&this.f(b),this.c&&(this.c.cancel(),
this.c=null),delete this.f,delete this.C)};P.Fa=function(a,b){return"signInViaRedirect"==a||"signInViaPopup"==a&&this.g==b&&this.f?fa(this.ic,this):null};P.ic=function(a,b,d,l){var p=this,e={requestUri:a,postBody:l,sessionId:b,tenantId:d};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return af(p,va(p.a,e))})};P.Xc=function(a){if(!Lf())return hb(new J("operation-not-supported-in-this-environment"));var b=this,d=Cb(a.providerId),l=Kf(),p=null,e=si(p=(!pg()||ti())&&this.app.options.authDomain&&
a.isOAuthProvider?gj(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",a,null,l,v.default.SDK_VERSION||null,null,null,this.T(),this.R):p,d&&d.va,d&&d.ua);return wc(this,d=Nd(this).then(function(d){return qe(d,e,"signInViaPopup",a,l,!!p,b.T())}).then(function(){return new wa(function(a,d){b.na("signInViaPopup",null,new J("cancelled-popup-request"),b.g);b.f=a;b.C=d;b.g=l;b.c=uc(b.b,b,"signInViaPopup",e,l)})}).then(function(a){return e&&yb(e),a?Bc(a):null}).o(function(a){throw e&&
yb(e),a;}))};P.Yc=function(a){if(!Lf())return hb(new J("operation-not-supported-in-this-environment"));var b=this;return wc(this,Nd(this).then(function(){return re(a=b.i,function(){return a.b.set(pl,a.c.F,a.a)});var a}).then(function(){return zf(b.b,"signInViaRedirect",a,void 0,b.T())}))};P.ra=function(){var a=this;return ii(this).then(function(b){return a.b&&Yd(a.b.b),b}).o(function(b){throw a.b&&Yd(a.b.b),b;})};P.dd=function(b){if(!b)return hb(new J("null-user"));if(this.S!=b.tenantId)return hb(new J("tenant-id-mismatch"));
var d=this,l={};l.apiKey=this.app.options.apiKey;l.authDomain=this.app.options.authDomain;l.appName=this.app.name;var p,e,D,m,xa=(p=l,e=d.D,D=d.Ga(),m=b.h,(l={})[a]=m.b&&m.b.toString(),l.refreshToken=m.a,p=new $d(p||{apiKey:b.l,authDomain:b.s,appName:b.m},l),e&&(p.ha=e),D&&ai(p,D),Tb(p,b),p);return wc(this,this.h.then(function(){if(d.app.options.apiKey!=b.l)return xa.reload()}).then(function(){return d.currentUser&&b.uid==d.currentUser.uid?(Tb(d.currentUser,b),d.da(b)):(Cf(d,xa),vd(xa),d.da(xa))}).then(function(){ph(d)}))};
P.Bb=function(){var a=this,b=this.h.then(function(){return a.b&&Yd(a.b.b),a.currentUser?(Cf(a,null),Lj(a.i).then(function(){ph(a)})):Ga()});return wc(this,b)};P.Zc=function(){var a=this;return $e(this.i,this.app.options.authDomain).then(function(b){if(!a.l){var d,l;if((d=a.currentUser&&b)&&(d=a.currentUser.uid,l=b.uid,d=null!=d&&""!==d&&null!=l&&""!==l&&d==l),d)return Tb(a.currentUser,b),a.currentUser.I();(a.currentUser||b)&&(Cf(a,b),b&&(vd(b),b.ha=a.D),a.b&&$c(a.b,a),ph(a))}})};P.da=function(a){return Kj(this.i,
a)};P.mc=function(){ph(this);this.da(this.currentUser)};P.wc=function(){this.Bb()};P.xc=function(){this.Bb()};P.kc=function(a){var b=this;return this.h.then(function(){return af(b,Ga(a))})};P.zc=function(a){var b=this;this.addAuthTokenListener(function(){a.next(b.currentUser)})};P.Ac=function(a){var b,d=this;var l=function(){a.next(d.currentUser)};(b=this).N.push(l);wc(b,b.h.then(function(){!b.l&&Pb(b.N,l)&&b.W!==b.getUid()&&(b.W=b.getUid(),l(ki(b)))}))};P.Ic=function(a,b,d){var l=this;return this.ba&&
Promise.resolve().then(function(){"function"==typeof a?a(l.currentUser):"function"==typeof a.next&&a.next(l.currentUser)}),this.Pa(a,b,d)};P.Hc=function(a,b,d){var l=this;return this.ba&&Promise.resolve().then(function(){l.W=l.getUid();"function"==typeof a?a(l.currentUser):"function"==typeof a.next&&a.next(l.currentUser)}),this.ib(a,b,d)};P.nc=function(a){var b=this,d=this.h.then(function(){return b.currentUser?b.currentUser.I(a).then(function(a){return{accessToken:a}}):null});return wc(this,d)};
P.Tc=function(a){var b=this;return this.h.then(function(){return af(b,Ua(b.a,xm,{token:a}))}).then(function(a){var d=a.user;return Bf(d,"isAnonymous",!1),b.da(d),a})};P.Uc=function(a,b){var d=this;return this.h.then(function(){return af(d,Ua(d.a,Hl,{email:a,password:b}))})};P.dc=function(a,b){var d=this;return this.h.then(function(){return af(d,Ua(d.a,rm,{email:a,password:b}))})};P.ab=function(a){var b=this;return this.h.then(function(){return af(b,a.ka(b.a))})};P.Sc=function(a){return Mh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),
this.ab(a)};P.Ab=function(){var a=this;return this.h.then(function(){var b=a.currentUser;if(b&&b.isAnonymous){var d=Bc({providerId:null,isNewUser:!1});return Bc({user:b,credential:null,additionalUserInfo:d,operationType:"signIn"})}return af(a,a.a.Ab()).then(function(b){var d=b.user;return Bf(d,"isAnonymous",!0),a.da(d),b})})};P.getUid=function(){return this.currentUser&&this.currentUser.uid||null};P.cc=function(a){this.addAuthTokenListener(a);this.u++;0<this.u&&this.currentUser&&bi(this.currentUser)};
P.Pc=function(a){var b=this;Ac(this.s,function(d){d==a&&b.u--});0>this.u&&(this.u=0);0==this.u&&this.currentUser&&ci(this.currentUser);this.removeAuthTokenListener(a)};P.addAuthTokenListener=function(a){var b=this;this.s.push(a);wc(this,this.h.then(function(){b.l||Pb(b.s,a)&&a(ki(b))}))};P.removeAuthTokenListener=function(a){ka(this.s,function(b){return b==a})};P.delete=function(){this.l=!0;for(var a=0;a<this.P.length;a++)this.P[a].cancel("app-deleted");return this.P=[],this.i&&(a=this.i).b.removeListener(Ge("local"),
a.a,this.ja),this.b&&(Fg(this.b,this),Yd(this.b.b)),Promise.resolve()};P.hc=function(a){return wc(this,Ua(this.a,sm,{identifier:a,continueUri:Jh()?Ng():"http://localhost"}).then(function(a){return a.signinMethods||[]}))};P.Bc=function(a){return!!Ai(a)};P.xb=function(a,b){var d=this;return wc(this,Ga().then(function(){var a=new Ph(b);if(!a.c)throw new J("argument-error",ok+" must be true when sending sign in link to email");return he(a)}).then(function(b){return d.a.xb(a,b)}).then(function(){}))};
P.jd=function(a){return this.Sa(a).then(function(a){return a.data.email})};P.ob=function(a,b){return wc(this,this.a.ob(a,b).then(function(){}))};P.Sa=function(a){return wc(this,this.a.Sa(a).then(function(a){return new Yi(a)}))};P.kb=function(a){return wc(this,this.a.kb(a).then(function(){}))};P.wb=function(a,b){var d=this;return wc(this,Ga().then(function(){return void 0===b||Ha(b)?{}:he(new Ph(b))}).then(function(b){return d.a.wb(a,b)}).then(function(){}))};P.Wc=function(a,b){return wc(this,Af(this,
a,b,fa(this.ab,this)))};P.Vc=function(a,b){var d=this;return wc(this,Ga().then(function(){var l=b||Ng(),p=Ra(a,l);if(!(l=Ai(l)))throw new J("argument-error","Invalid email link!");if(l.tenantId!==d.T())throw new J("tenant-id-mismatch");return d.ab(p)}))};qh.prototype.render=function(){};qh.prototype.reset=function(){};qh.prototype.getResponse=function(){};qh.prototype.execute=function(){};var Ml=null;rh.prototype.render=function(a,b){return this.a[this.b.toString()]=new hg(a,b),this.b++};rh.prototype.reset=
function(a){var b=Ni(this,a);a=rj(a);b&&a&&(b.delete(),delete this.a[a])};rh.prototype.getResponse=function(a){return(a=Ni(this,a))?a.getResponse():null};rh.prototype.execute=function(a){(a=Ni(this,a))&&a.execute()};hg.prototype.getResponse=function(){return Aa(this),this.b};hg.prototype.execute=function(){Aa(this);var a=this;this.a||(this.a=setTimeout(function(){a.b=function(){for(var a=50,b=[];0<a;)b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),
a--;return b.join("")}();var b=a.c.callback,d=a.c["expired-callback"];if(b)try{b(a.b)}catch(Kg){}a.a=setTimeout(function(){if(a.a=null,a.b=null,d)try{d()}catch(Kg){}a.h&&a.execute()},6E4)},500))};hg.prototype.delete=function(){Aa(this);this.g=!0;clearTimeout(this.a);this.a=null;V(this.f,"click",this.i)};Pa(Oi,"FACTOR_ID","phone");li.prototype.g=function(){return Ga(Ml=Ml||new rh)};li.prototype.c=function(){};var Bl=null,Bm=new H(uj,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),
Cm=new Me(3E4,6E4);Pi.prototype.g=function(a){var b=this;return new wa(function(d,l){var p=setTimeout(function(){l(new J("network-request-failed"))},Cm.get());!aa.grecaptcha||a!==b.f&&!b.b?(aa[b.a]=function(){var e;aa.grecaptcha?(b.f=a,e=aa.grecaptcha.render,aa.grecaptcha.render=function(a,d){return a=e(a,d),b.b++,a},clearTimeout(p),d(aa.grecaptcha)):(clearTimeout(p),l(new J("internal-error")));delete aa[b.a]},Ga(xg(gb(Bm,{onload:b.a,hl:a||""}))).o(function(){clearTimeout(p);l(new J("internal-error",
"Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(p),d(aa.grecaptcha))})};Pi.prototype.c=function(){this.b--};var Cl=null,El="callback",Fl="expired-callback",Dl="sitekey",bm="size";(P=Df.prototype).Ia=function(){var a=this;return this.f||(this.f=sh(this,Ga().then(function(){if(Jh()&&!Td())return Jf();throw new J("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.");}).then(function(){return a.m.g(a.u())}).then(function(b){return a.g=
b,Ua(a.s,wm,{})}).then(function(b){a.a[Dl]=b.recaptchaSiteKey}).o(function(b){throw a.f=null,b;})))};P.render=function(){Lb(this);var a=this;return sh(this,this.Ia().then(function(){var b,d;return null===a.c&&(d=a.v,a.i||(b=Sa(d),d=Nb("DIV"),b.appendChild(d)),a.c=a.g.render(d,a.a)),a.c}))};P.verify=function(){Lb(this);var a=this;return sh(this,this.render().then(function(b){return new wa(function(d){var l,p=a.g.getResponse(b);p?d(p):(a.l.push(l=function(b){b&&(ka(a.l,function(a){return a==l}),d(b))}),
a.i&&a.g.execute(a.c))})}))};P.reset=function(){Lb(this);null!==this.c&&this.g.reset(this.c)};P.clear=function(){Lb(this);this.J=!0;this.m.c();for(var a,b=0;b<this.h.length;b++)this.h[b].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(b=Sa(this.v);a=b.firstChild;)b.removeChild(a)};I(tj,Df);var Gl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");$b(He.prototype,{kb:{name:"applyActionCode",j:[Qa("code")]},Sa:{name:"checkActionCode",j:[Qa("code")]},ob:{name:"confirmPasswordReset",
j:[Qa("code"),Qa("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qa("email"),Qa("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Qa("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Qa("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Pc(Xc(),Ub(),"nextOrObserver"),Ub("opt_error",!0),Ub("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Pc(Xc(),Ub(),"nextOrObserver"),Ub("opt_error",!0),Ub("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Qa("email"),
Pc(Xc("opt_actionCodeSettings",!0),ce(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Qa("email"),Xc("actionCodeSettings")]},yb:{name:"setPersistence",j:[Qa("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ef()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ef()]},Tc:{name:"signInWithCustomToken",j:[Qa("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Qa("email"),Qa("password")]},Vc:{name:"signInWithEmailLink",j:[Qa("email"),
Qa("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Qa("phoneNumber"),oi()]},Xc:{name:"signInWithPopup",j:[de()]},Yc:{name:"signInWithRedirect",j:[de()]},dd:{name:"updateCurrentUser",j:[Pc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(a){return!!(a&&a instanceof $d)}},ce(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qa(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Qa("url"),Xc("options",!0)]},jd:{name:"verifyPasswordResetCode",
j:[Qa("code")]}});xc(He.prototype,{lc:{name:"languageCode",lb:Pc(Qa(),ce(),"languageCode")},ti:{name:"tenantId",lb:Pc(Qa(),ce(),"tenantId")}});(He.Persistence=bl).LOCAL="local";He.Persistence.SESSION="session";He.Persistence.NONE="none";$b($d.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[mi("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[mi("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ef()]},rb:{name:"linkWithCredential",j:[Ef()]},Dc:{name:"linkWithPhoneNumber",
j:[Qa("phoneNumber"),oi()]},Ec:{name:"linkWithPopup",j:[de()]},Fc:{name:"linkWithRedirect",j:[de()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ef()]},ub:{name:"reauthenticateWithCredential",j:[Ef()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Qa("phoneNumber"),oi()]},Nc:{name:"reauthenticateWithPopup",j:[de()]},Oc:{name:"reauthenticateWithRedirect",j:[de()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Pc(Xc("opt_actionCodeSettings",!0),ce(null,!0),"opt_actionCodeSettings",
!0)]},toJSON:{name:"toJSON",j:[Qa(null,!0)]},cd:{name:"unlink",j:[Qa("provider")]},Cb:{name:"updateEmail",j:[Qa("email")]},Db:{name:"updatePassword",j:[Qa("password")]},ed:{name:"updatePhoneNumber",j:[Ef("phone")]},Eb:{name:"updateProfile",j:[Xc("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Qa("email"),Pc(Xc("opt_actionCodeSettings",!0),ce(null,!0),"opt_actionCodeSettings",!0)]}});$b(rh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});
$b(qh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}});$b(wa.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}});xc(vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:mi("appVerificationDisabledForTesting")}});$b(Gc.prototype,{confirm:{name:"confirm",j:[Qa("verificationCode")]}});Bb(pf,"fromJSON",function(a){a="string"==typeof a?JSON.parse(a):a;for(var b,d=[Oe,jc,Xb,Rh],l=0;l<d.length;l++)if(b=
d[l](a))return b;return null},[Pc(Qa(),Xc(),"json")]);Bb(Kd,"credential",function(a,b){return new Re(a,b)},[Qa("email"),Qa("password")]);$b(Re.prototype,{w:{name:"toJSON",j:[Qa(null,!0)]}});$b(ab.prototype,{Ca:{name:"addScope",j:[Qa("scope")]},Ka:{name:"setCustomParameters",j:[Xc("customOAuthParameters")]}});Bb(ab,"credential",yi,[Pc(Qa(),Xc(),"token")]);Bb(Kd,"credentialWithLink",Ra,[Qa("email"),Qa("emailLink")]);$b(Qe.prototype,{Ca:{name:"addScope",j:[Qa("scope")]},Ka:{name:"setCustomParameters",
j:[Xc("customOAuthParameters")]}});Bb(Qe,"credential",aj,[Pc(Qa(),Xc(),"token")]);$b(Sf.prototype,{Ca:{name:"addScope",j:[Qa("scope")]},Ka:{name:"setCustomParameters",j:[Xc("customOAuthParameters")]}});Bb(Sf,"credential",zi,[Pc(Qa(),Pc(Xc(),ce()),"idToken"),Pc(Qa(),ce(),"accessToken",!0)]);$b(Jd.prototype,{Ka:{name:"setCustomParameters",j:[Xc("customOAuthParameters")]}});Bb(Jd,"credential",Sh,[Pc(Qa(),Xc(),"token"),Qa("secret",!0)]);$b(pd.prototype,{Ca:{name:"addScope",j:[Qa("scope")]},credential:{name:"credential",
j:[Pc(Qa(),Pc(Xc(),ce()),"optionsOrIdToken"),Pc(Qa(),ce(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Xc("customOAuthParameters")]}});$b(ke.prototype,{w:{name:"toJSON",j:[Qa(null,!0)]}});$b(ic.prototype,{w:{name:"toJSON",j:[Qa(null,!0)]}});Bb(ze,"credential",sg,[Qa("verificationId"),Qa("verificationCode")]);$b(ze.prototype,{gb:{name:"verifyPhoneNumber",j:[Pc(Qa(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(a){return!!a&&(a.session&&a.phoneNumber?th(a.session,
of)&&"string"==typeof a.phoneNumber:a.session&&a.multiFactorHint?th(a.session,Tc)&&Qi(a.multiFactorHint):a.session&&a.multiFactorUid?th(a.session,Tc)&&"string"==typeof a.multiFactorUid:!!a.phoneNumber&&"string"==typeof a.phoneNumber)}},"phoneInfoOptions"),oi()]}});$b(qf.prototype,{w:{name:"toJSON",j:[Qa(null,!0)]}});$b(J.prototype,{toJSON:{name:"toJSON",j:[Qa(null,!0)]}});$b(me.prototype,{toJSON:{name:"toJSON",j:[Qa(null,!0)]}});$b(Se.prototype,{toJSON:{name:"toJSON",j:[Qa(null,!0)]}});$b(Zd.prototype,
{toJSON:{name:"toJSON",j:[Qa(null,!0)]}});$b(eb.prototype,{Rc:{name:"resolveSignIn",j:[ni()]}});$b(Ib.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[ni(),Qa("displayName",!0)]},bd:{name:"unenroll",j:[Pc({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Qi},Qa(),"multiFactorInfoIdentifier")]}});$b(tj.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}});Bb(Ud,"parseLink",ha,[Qa("link")]);Bb(Oi,"assertion",function(a){return new ua(a)},
[Ef("phone")]);(function(){if(void 0===v.default||!v.default.INTERNAL||!v.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var a={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Cc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Wj,VERIFY_AND_CHANGE_EMAIL:Kc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:He,AuthCredential:pf,Error:J};Bb(a,"EmailAuthProvider",Kd,[]);Bb(a,"FacebookAuthProvider",
ab,[]);Bb(a,"GithubAuthProvider",Qe,[]);Bb(a,"GoogleAuthProvider",Sf,[]);Bb(a,"TwitterAuthProvider",Jd,[]);Bb(a,"OAuthProvider",pd,[Qa("providerId")]);Bb(a,"SAMLAuthProvider",Wg,[Qa("providerId")]);Bb(a,"PhoneAuthProvider",ze,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(a){return!!(a&&a instanceof He)}}]);Bb(a,"RecaptchaVerifier",tj,[Pc(Qa(),{name:"",K:"an HTML element",optional:!1,M:function(a){return!!(a&&a instanceof Element)}},"recaptchaContainer"),Xc("recaptchaParameters",
!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(a){return!!(a&&a instanceof v.default.app.App)}}]);Bb(a,"ActionCodeURL",Ud,[]);Bb(a,"PhoneMultiFactorGenerator",Oi,[]);v.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return new He(a.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:a,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}});v.default.INTERNAL.registerComponent({name:"auth-internal",
instanceFactory:function(a){return{getUid:fa((a=a.getProvider("auth").getImmediate()).getUid,a),getToken:fa(a.nc,a),addAuthTokenListener:fa(a.cc,a),removeAuthTokenListener:fa(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"});v.default.registerVersion("@firebase/auth","0.16.8");v.default.INTERNAL.extendNamespace({User:$d})})()}.apply("undefined"!=typeof B?B:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.apply(this,arguments)}catch(v){throw console.error(v),
Error("Cannot instantiate firebase-auth.js - be sure to load firebase-app.js first.");}});!function(x,v){"object"==typeof n&&"undefined"!=typeof module?v(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],v):v(("undefined"!=typeof globalThis?globalThis:x||self).firebase)}(this,function(n){try{!function(){function v(e,m){function c(){this.constructor=e}if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");
Mc(e,m);e.prototype=null===m?Object.create(m):(c.prototype=m.prototype,new c)}function k(e,m,c,f){return new (c=c||Promise)(function(F,g){function S(e){try{k(f.next(e))}catch(bf){g(bf)}}function h(e){try{k(f.throw(e))}catch(bf){g(bf)}}function k(e){var m;e.done?F(e.value):((m=e.value)instanceof c?m:new c(function(e){e(m)})).then(S,h)}k((f=f.apply(e,m||[])).next())})}function x(e,m){function c(c){return function(F){return function(c){if(f)throw new TypeError("Generator is already executing.");for(;k;)try{if(f=
1,g&&(h=2&c[0]?g.return:c[0]?g.throw||((h=g.return)&&h.call(g),0):g.next)&&!(h=h.call(g,c[1])).done)return h;switch(g=0,(c=h?[2&c[0],h.value]:c)[0]){case 0:case 1:h=c;break;case 4:return k.label++,{value:c[1],done:!1};case 5:k.label++;g=c[1];c=[0];continue;case 7:c=k.ops.pop();k.trys.pop();continue;default:if(!(h=0<(h=k.trys).length&&h[h.length-1])&&(6===c[0]||2===c[0])){k=0;continue}if(3===c[0]&&(!h||c[1]>h[0]&&c[1]<h[3]))k.label=c[1];else if(6===c[0]&&k.label<h[1])k.label=h[1],h=c;else if(h&&k.label<
h[2])k.label=h[2],k.ops.push(c);else{h[2]&&k.ops.pop();k.trys.pop();continue}}c=m.call(e,k)}catch(Gf){c=[6,Gf],g=0}finally{f=h=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,F])}}var f,g,h,k={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},n={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n}function z(e){var m="function"==typeof Symbol&&Symbol.iterator,c=m&&e[m],f=0;if(c)return c.call(e);
if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&f>=e.length?void 0:e)&&e[f++],done:!e}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.");}function I(e,m){var c="function"==typeof Symbol&&e[Symbol.iterator];if(!c)return e;var f;e=c.call(e);var g=[];try{for(;(void 0===m||0<m--)&&!(f=e.next()).done;)g.push(f.value)}catch(vh){var h={error:vh}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(h)throw h.error;}}return g}function c(e,
m){for(var c=0,f=m.length,g=e.length;c<f;c++,g++)e[g]=m[c];return e}function f(e){for(var m=[],c=0,f=0;f<e.length;f++){var g=e.charCodeAt(f);128>g?m[c++]=g:(2048>g?m[c++]=g>>6|192:(55296==(64512&g)&&f+1<e.length&&56320==(64512&e.charCodeAt(f+1))?(g=65536+((1023&g)<<10)+(1023&e.charCodeAt(++f)),m[c++]=g>>18|240,m[c++]=g>>12&63|128):m[c++]=g>>12|224,m[c++]=g>>6&63|128),m[c++]=63&g|128)}return m}function r(e){return e=f(e),Di.encodeByteArray(e,!0)}function ra(e){try{return Di.decodeString(e,!0)}catch(m){console.error("base64Decode failed: ",
m)}return null}function sa(e){return function tb(e,c){if(!(c instanceof Object))return c;switch(c.constructor){case Date:return new Date(c.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return c}for(var F in c)c.hasOwnProperty(F)&&"__proto__"!==F&&(e[F]=tb(e[F],c[F]));return e}(void 0,e)}function fa(){var e=this;this.reject=function(){};this.resolve=function(){};this.promise=new Promise(function(m,c){e.resolve=m;e.reject=c})}function B(){return"undefined"!=typeof window&&
(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function vb(e,m,c){m=Ua.call(this,m)||this;return m.code=e,m.customData=c,m.name="FirebaseError",Object.setPrototypeOf(m,vb.prototype),Error.captureStackTrace&&Error.captureStackTrace(m,Ci.prototype.create),m}function db(e,m,c){this.service=e;this.serviceName=m;this.errors=c}function J(e){return JSON.stringify(e)}
function fb(e){var m={},c={},f={},g="";try{var h=e.split(".");m=JSON.parse(ra(h[0])||"");c=JSON.parse(ra(h[1])||"");g=h[2];f=c.d||{};delete c.d}catch(vh){}return{header:m,claims:c,data:f,signature:g}}function ya(e,m){return Object.prototype.hasOwnProperty.call(e,m)}function Ka(e,m){if(Object.prototype.hasOwnProperty.call(e,m))return e[m]}function E(e){for(var m in e)if(Object.prototype.hasOwnProperty.call(e,m))return!1;return!0}function ta(e,m,c){var F,f={};for(F in e)Object.prototype.hasOwnProperty.call(e,
F)&&(f[F]=m.call(c,e[F],F,e));return f}function Da(e){var m=[],c=0;for(e=Object.entries(e);c<e.length;c++){var f=e[c];!function(e,c){Array.isArray(c)?c.forEach(function(c){m.push(encodeURIComponent(e)+"="+encodeURIComponent(c))}):m.push(encodeURIComponent(e)+"="+encodeURIComponent(c))}(f[0],f[1])}return m.length?"&"+m.join("&"):""}function $a(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.total_=this.inbuf_=0;this.blockSize=64;this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=
0;this.reset()}function da(e,m,c,f){var F;if(f<m?F="at least "+m:c<f&&(F=0===c?"none":"no more than "+c),F)throw Error(e+" failed: Was called with "+f+(1===f?" argument.":" arguments.")+" Expects "+F+".");}function w(e,m){return e+" failed: "+m+" argument "}function R(e,m,c,f){if((!f||c)&&"function"!=typeof c)throw Error(w(e,m)+"must be a valid function.");}function Pb(e,m,c,f){if(!(f&&!c||"object"==typeof c&&null!==c))throw Error(w(e,m)+"must be a valid context object.");}function Gb(e){for(var m=
0,c=0;c<e.length;c++){var f=e.charCodeAt(c);128>f?m++:2048>f?m+=2:55296<=f&&56319>=f?(m+=4,c++):m+=3}return m}function ka(e){return e&&e._delegate?e._delegate:e}function jb(e,m,c){this.name=e;this.instanceFactory=m;this.type=c;this.multipleInstances=!1;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}function Ca(e,m){this.name=e;this.container=m;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=
new Map}function U(e){this.name=e;this.providers=new Map}function A(e,m){for(var F=[],f=2;f<arguments.length;f++)F[f-2]=arguments[f];if(!(m<e.logLevel)){f=(new Date).toISOString();var g=gj[m];if(!g)throw Error("Attempted to log a message with an invalid logType (value: "+m+")");console[g].apply(console,c(["["+f+"]  "+e.name+":"],F))}}function Q(e){this.name=e;this._logLevel=uk;this._logHandler=A;this._userLogHandler=null}function wb(e){this.domStorage_=e;this.prefix_="firebase:"}function Ha(){this.cache_=
{};this.isInMemoryStorage=!0}function Fa(e){for(var m=e,c=[],f=0,g=0;g<m.length;g++){var h,k=m.charCodeAt(g);55296<=k&&56319>=k&&(h=k-55296,va(++g<m.length,"Surrogate pair missing trail surrogate."),k=65536+(h<<10)+(m.charCodeAt(g)-56320));128>k?c[f++]=k:(2048>k?c[f++]=k>>6|192:(65536>k?c[f++]=k>>12|224:(c[f++]=k>>18|240,c[f++]=k>>12&63|128),c[f++]=k>>6&63|128),c[f++]=63&k|128)}return(e=new ck).update(c),e=e.digest(),Di.encodeByteArray(e)}function kb(e,m){va(!m||!0===e||!1===e,"Can't turn on custom loggers persistently.");
!0===e?(jh.logLevel=Zb.VERBOSE,ag=jh.log.bind(jh),m&&ih.set("logging_enabled",!0)):"function"==typeof e?ag=e:(ag=null,ih.remove("logging_enabled"))}function ja(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];e="FIREBASE INTERNAL ERROR: "+vf.apply(void 0,c([],I(e)));jh.error(e)}function H(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function Y(e,m){return e===m?0:e<m?-1:1}function Db(e,m){if(m&&e in m)return m[e];throw Error("Missing required key ("+
e+") in object: "+J(m));}function sb(e,m){var c=e.length;if(c<=m)return[e];for(var f=[],g=0;g<c;g+=m)c<g+m?f.push(e.substring(g,c)):f.push(e.substring(g,g+m));return f}function Va(e,m){for(var c in e)e.hasOwnProperty(c)&&m(c,e[c])}function gb(e){var m,c,f,g;va(!H(e),"Invalid JSON number");0===e?m=1/e==-1/(f=c=0)?1:0:(m=0>e,f=(e=Math.abs(e))>=Math.pow(2,-1022)?(c=(g=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-g)-Math.pow(2,52))):(c=0,Math.round(e/Math.pow(2,-1074))));
g=[];for(e=52;e;--e)g.push(f%2?1:0),f=Math.floor(f/2);for(e=11;e;--e)g.push(c%2?1:0),c=Math.floor(c/2);g.push(m?1:0);g.reverse();m=g.join("");c="";for(e=0;64>e;e+=8)f=parseInt(m.substr(e,8),2).toString(16),c+=1===f.length?"0"+f:f;return c.toLowerCase()}function h(e,m){return"object"==typeof(m=setTimeout(e,m))&&m.unref&&m.unref(),m}function Jb(e,m){var c=this;this.appName_=e;this.appCheckProvider=m;(this.appCheck=null==m?void 0:m.getImmediate({optional:!0}))||null!=m&&m.get().then(function(e){return c.appCheck=
e})}function M(e,m,c){var f=this;this.appName_=e;this.firebaseOptions_=m;this.authProvider_=c;this.auth_=null;(this.auth_=c.getImmediate({optional:!0}))||c.onInit(function(e){return f.auth_=e})}function ea(e){this.accessToken=e}function ac(e,m,c,f,g,h,k){void 0===g&&(g=!1);void 0===h&&(h="");void 0===k&&(k=!1);this.secure=m;this.namespace=c;this.webSocketOnly=f;this.nodeAdmin=g;this.persistenceKey=h;this.includeNamespaceInQueryParams=k;this._host=e.toLowerCase();this._domain=this._host.substr(this._host.indexOf(".")+
1);this.internalHost=Wc.get("host:"+e)||this._host}function Ie(e,m,c){if(va("string"==typeof m,"typeof type must == string"),va("object"==typeof c,"typeof params must == object"),"websocket"===m)var f=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==m)throw Error("Unknown connection type: "+m);f=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((m=e).host!==m.internalHost||m.isCustomHost()||m.includeNamespaceInQueryParams)&&(c.ns=e.namespace);var F=[];return Va(c,
function(e,m){F.push(e+"="+m)}),f+F.join("&")}function Ba(){this.counters_={}}function g(e){e=e.toString();return bg[e]||(bg[e]=new Bg),bg[e]}function ca(e){this.onMessage_=e;this.pendingResponses=[];this.currentResponseNum=0;this.closeAfterResponse=-1;this.onClose=null}function La(e,m,c,f,h,k,n){var F=this;this.connId=e;this.repoInfo=m;this.applicationId=c;this.appCheckToken=f;this.authToken=h;this.transportSessionId=k;this.lastSessionId=n;this.bytesReceived=this.bytesSent=0;this.everConnected_=
!1;this.log_=wf(e);this.stats_=g(m);this.urlFn=function(e){return F.appCheckToken&&(e.ac=F.appCheckToken),Ie(m,"long_polling",e)}}function Qc(e,m,c,f){this.onDisconnect=c;this.urlFn=f;this.outstandingRequests=new Set;this.pendingSegs=[];this.currentSerial=Math.floor(1E8*Math.random());this.sendNewPolls=!0;this.uniqueCallbackIdentifier=ij();window["pLPCommand"+this.uniqueCallbackIdentifier]=e;window["pRTLPCB"+this.uniqueCallbackIdentifier]=m;this.myIFrame=Qc.createIFrame_();m="";m="<html><body>"+(m=
this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)?'<script>document.domain="'+document.domain+'";\x3c/script>':m)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(tb){Oc("frame writing exception"),tb.stack&&Oc(tb.stack),Oc(tb)}}function Sa(e,m,c,f,h,k,n){this.connId=e;this.applicationId=c;this.appCheckToken=f;this.authToken=h;this.frames=this.keepaliveTimer=null;this.bytesReceived=this.bytesSent=this.totalFrames=0;this.log_=wf(this.connId);
this.stats_=g(m);this.connURL=Sa.connectionURL_(m,k,n,f);this.nodeAdmin=m.nodeAdmin}function Ma(e){this.initTransports_(e)}function Nb(e,m,c,f,g,h,k,n,t,u){this.id=e;this.repoInfo_=m;this.applicationId_=c;this.appCheckToken_=f;this.authToken_=g;this.onMessage_=h;this.onReady_=k;this.onDisconnect_=n;this.onKill_=t;this.lastSessionId=u;this.connectionCount=0;this.pendingDataMessages=[];this.state_=0;this.log_=wf("c:"+this.id+":");this.transportManager_=new Gi(m);this.log_("Connection created");this.start_()}
function xd(){}function X(e){this.allowedEvents_=e;this.listeners_={};va(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}function bd(){var e=tc.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||B()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}function Eb(e,m){if(void 0===m){this.pieces_=
e.split("/");for(m=e=0;m<this.pieces_.length;m++)0<this.pieces_[m].length&&(this.pieces_[e]=this.pieces_[m],e++);this.pieces_.length=e;this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=m}function wa(){return new Qb("")}function L(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fc(e){return e.pieces_.length-e.pieceNum_}function Ga(e){var m=e.pieceNum_;return m<e.pieces_.length&&m++,new Qb(e.pieces_,m)}function hb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-
1]:null}function Je(e,m){return e.pieces_.slice(e.pieceNum_+(void 0===m?0:m))}function od(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var m=[],c=e.pieceNum_;c<e.pieces_.length-1;c++)m.push(e.pieces_[c]);return new Qb(m,0)}function qb(e,m){for(var c=[],f=e.pieceNum_;f<e.pieces_.length;f++)c.push(e.pieces_[f]);if(m instanceof Qb)for(f=m.pieceNum_;f<m.pieces_.length;f++)c.push(m.pieces_[f]);else for(e=m.split("/"),f=0;f<e.length;f++)0<e[f].length&&c.push(e[f]);return new Qb(c,0)}function nb(e){return e.pieceNum_>=
e.pieces_.length}function Hb(e,m){var c=L(e),f=L(m);if(null===c)return m;if(c===f)return Hb(Ga(e),Ga(m));throw Error("INTERNAL ERROR: innerPath ("+m+") is not within outerPath ("+e+")");}function zh(e,m){e=Je(e,0);m=Je(m,0);for(var c=0;c<e.length&&c<m.length;c++){var f=zg(e[c],m[c]);if(0!==f)return f}return e.length===m.length?0:e.length<m.length?-1:1}function ee(e,m){if(fc(e)!==fc(m))return!1;for(var c=e.pieceNum_,f=m.pieceNum_;c<=e.pieces_.length;c++,f++)if(e.pieces_[c]!==m.pieces_[f])return!1;
return!0}function jd(e,m){var c=e.pieceNum_,f=m.pieceNum_;if(fc(e)>fc(m))return!1;for(;c<e.pieces_.length;){if(e.pieces_[c]!==m.pieces_[f])return!1;++c;++f}return!0}function Ah(e){if(768<e.byteLength_)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(32<e.parts_.length)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+te(e));}function te(e){return 0===e.parts_.length?"":"in property '"+
e.parts_.join(".")+"'"}function mb(){var e,m,c=nj.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(m="visibilitychange",e="hidden"):void 0!==document.mozHidden?(m="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(m="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(m="webkitvisibilitychange",e="webkitHidden")),c.visible_=!0,m&&document.addEventListener(m,function(){var m=!document[e];m!==
c.visible_&&(c.visible_=m,c.trigger("visible",m))},!1),c}function Ia(e,m,c,f,g,h,k,n){var F=pj.call(this)||this;if(F.repoInfo_=e,F.applicationId_=m,F.onDataUpdate_=c,F.onConnectStatus_=f,F.onServerInfoUpdate_=g,F.authTokenProvider_=h,F.appCheckTokenProvider_=k,F.authOverride_=n,F.id=Ia.nextPersistentConnectionId_++,F.log_=wf("p:"+F.id+":"),F.interruptReasons_={},F.listens=new Map,F.outstandingPuts_=[],F.outstandingGets_=[],F.outstandingPutCount_=0,F.outstandingGetCount_=0,F.onDisconnectRequestQueue_=
[],F.connected_=!1,F.reconnectDelay_=1E3,F.maxReconnectDelay_=3E5,F.securityDebugCallback_=null,F.lastSessionId=null,F.establishConnectionTimer_=null,F.visible_=!1,F.requestCBHash_={},F.requestNumber_=0,F.realtime_=null,F.authToken_=null,F.appCheckToken_=null,F.forceTokenRefresh_=!1,F.invalidAuthTokenCount_=0,F.invalidAppCheckTokenCount_=0,F.firstConnection_=!0,F.lastConnectionAttemptTime_=null,F.lastConnectionEstablishedTime_=null,n&&!0!==Wh.NODE_ADMIN)throw Error("Auth override specified in options, but not supported on non Node.js platforms");
return oj.getInstance().on("visible",F.onVisible_,F),-1===e.host.indexOf("fblocal")&&mj.getInstance().on("online",F.onOnline_,F),F}function nc(e,m){this.name=e;this.node=m}function Wa(){}function G(){return null!==Ii&&Ii.apply(this,arguments)||this}function ue(e,m,c,f,g){void 0===g&&(g=null);this.isReverse_=f;this.resultGenerator_=g;this.nodeStack_=[];for(g=1;!e.isEmpty();)if(g=m?c(e.key,m):1,f&&(g*=-1),0>g)e=this.isReverse_?e.left:e.right;else{if(0===g){this.nodeStack_.push(e);break}this.nodeStack_.push(e);
e=this.isReverse_?e.right:e.left}}function xb(e,m,c,f,g){this.key=e;this.value=m;this.color=null!=c?c:xb.RED;this.left=null!=f?f:zf.EMPTY_NODE;this.right=null!=g?g:zf.EMPTY_NODE}function Na(){}function Ya(e,m){void 0===m&&(m=Ya.EMPTY_NODE);this.comparator_=e;this.root_=m}function Jc(e,m){return zg(e.name,m.name)}function cd(e,m){return zg(e,m)}function Bh(e){return"number"==typeof e?"number:"+gb(e):"string:"+e}function V(e,m){void 0===m&&(m=V.__childrenNodeConstructor.EMPTY_NODE);this.value_=e;this.priorityNode_=
m;this.lazyHash_=null;va(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value.");Gg(this.priorityNode_)}function u(){return null!==Hi&&Hi.apply(this,arguments)||this}function lg(e){var m;this.count=(m=e+1,parseInt(Math.log(m)/Yd,10));this.current_=this.count-1;var c;m=(c=this.count,parseInt(Array(c+1).join("1"),2));this.bits_=e+1&m}function dd(e,m){this.indexes_=e;this.indexSet_=m}function C(e,m,c){this.children_=e;this.priorityNode_=m;this.indexMap_=c;
this.lazyHash_=null;this.priorityNode_&&Gg(this.priorityNode_);this.children_.isEmpty()&&va(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function ba(){return nd.call(this,new zf(cd),eb.EMPTY_NODE,Af.Default)||this}function Ta(e,m){if(void 0===m&&(m=null),null===e)return eb.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(m=e[".priority"]),va(null===m||"string"==typeof m||"number"==typeof m||"object"==typeof m&&".sv"in m,"Invalid priority type found: "+
typeof m),"object"!=typeof(e="object"==typeof e&&".value"in e&&null!==e[".value"]?e[".value"]:e)||".sv"in e)return new hd(e,Ta(m));if(e instanceof Array){var c=eb.EMPTY_NODE;return Va(e,function(m,f){ya(e,m)&&"."!==m.substring(0,1)&&(!(f=Ta(f)).isLeafNode()&&f.isEmpty()||(c=c.updateImmediateChild(m,f)))}),c.updatePriority(Ta(m))}var f=[],g=!1;if(Va(e,function(e,m){"."!==e.substring(0,1)&&((m=Ta(m)).isEmpty()||(g=g||!m.getPriority().isEmpty(),f.push(new Fb(e,m))))}),0===f.length)return eb.EMPTY_NODE;
var h=vc(f,Jc,function(e){return e.name},cd);if(g){var k=vc(f,lc.getCompare());return new eb(h,Ta(m),new Af({".priority":k},{".priority":lc}))}return new eb(h,Ta(m),Af.Default)}function Yc(e){var m=Fd.call(this)||this;return m.indexPath_=e,va(!nb(e)&&".priority"!==L(e),"Can't create PathIndex with empty path or .priority key"),m}function Mb(){return null!==ua&&ua.apply(this,arguments)||this}function fe(e){if("2147483647"===e)return"-";var m=sc(e);if(null!=m)return""+(m+1);for(var c=Array(e.length),
f=0;f<c.length;f++)c[f]=e.charAt(f);if(786>c.length)return c.push("-"),c.join("");for(e=c.length-1;0<=e&&"z"===c[e];)e--;return-1===e?"[MAX_NAME]":(m=c[e],m=kh.charAt(kh.indexOf(m)+1),c[e]=m,c.slice(0,e+1).join(""))}function dc(e){if("-2147483648"===e)return"[MIN_NAME]";var m=sc(e);if(null!=m)return""+(m-1);m=Array(e.length);for(var c=0;c<m.length;c++)m[c]=e.charAt(c);return"-"===m[m.length-1]?1===m.length?"2147483647":(delete m[m.length-1],m.join("")):(m[m.length-1]=kh.charAt(kh.indexOf(m[m.length-
1])-1),m.join("")+"z".repeat(786-m.length))}function Za(e,m){return{type:"child_added",snapshotNode:m,childName:e}}function zd(e,m){return{type:"child_removed",snapshotNode:m,childName:e}}function ub(e,m,c){return{type:"child_changed",snapshotNode:m,childName:e,oldSnap:c}}function cf(e){this.index_=e}function Gd(e){this.indexedFilter_=new lh(e.getIndex());this.index_=e.getIndex();this.startPost_=Gd.getStartPost_(e);this.endPost_=Gd.getEndPost_(e)}function Hd(e){this.rangedFilter_=new Ji(e);this.index_=
e.getIndex();this.limit_=e.getLimit();this.reverse_=!e.isViewFromLeft()}function gc(){this.endBeforeSet_=this.endNameSet_=this.endSet_=this.startAfterSet_=this.startNameSet_=this.startSet_=this.limitSet_=!1;this.limit_=0;this.viewFrom_="";this.indexStartValue_=null;this.indexStartName_="";this.indexEndValue_=null;this.indexEndName_="";this.index_=lc}function ve(e,m,c){e=e.copy();return e.startSet_=!0,e.indexStartValue_=void 0===m?null:m,null!=c?(e.startNameSet_=!0,e.indexStartName_=c):(e.startNameSet_=
!1,e.indexStartName_=""),e}function Ke(e,m,c){e=e.copy();return e.endSet_=!0,e.indexEndValue_=void 0===m?null:m,void 0!==c?(e.endNameSet_=!0,e.indexEndName_=c):(e.endNameSet_=!1,e.indexEndName_=""),e}function Ad(e,m){e=e.copy();return e.index_=m,e}function mg(e){var m,c={};return e.isDefault()||(m=e.index_===lc?"$priority":e.index_===Sb?"$value":e.index_===$c?"$key":(va(e.index_ instanceof eg,"Unrecognized index type!"),e.index_.toString()),c.orderBy=J(m),e.startSet_&&(c.startAt=J(e.indexStartValue_),
e.startNameSet_&&(c.startAt+=","+J(e.indexStartName_))),e.endSet_&&(c.endAt=J(e.indexEndValue_),e.endNameSet_&&(c.endAt+=","+J(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?c.limitToFirst=e.limit_:c.limitToLast=e.limit_)),c}function t(e){var m,c={};return e.startSet_&&(c.sp=e.indexStartValue_,e.startNameSet_&&(c.sn=e.indexStartName_)),e.endSet_&&(c.ep=e.indexEndValue_,e.endNameSet_&&(c.en=e.indexEndName_)),e.limitSet_&&(c.l=e.limit_,""===(m=e.viewFrom_)&&(m=e.isViewFromLeft()?"l":"r"),c.vf=
m),e.index_!==lc&&(c.i=e.index_.toString()),c}function Ob(e,m,c,f){var g=td.call(this)||this;return g.repoInfo_=e,g.onDataUpdate_=m,g.authTokenProvider_=c,g.appCheckTokenProvider_=f,g.log_=wf("p:rest:"),g.listens_={},g}function ed(){this.rootNode_=eb.EMPTY_NODE}function rc(){return{value:null,children:new Map}}function jf(e,m,c){var f;nb(m)?(e.value=c,e.children.clear()):null!==e.value?e.value=e.value.updateChild(m,c):(f=L(m),e.children.has(f)||e.children.set(f,rc()),jf(e.children.get(f),Ga(m),c))}
function ef(e,m,c){var f;null!==e.value?c(m,e.value):(f=function(e,f){ef(f,new Qb(m.toString()+"/"+e),c)},e.children.forEach(function(e,m){f(m,e)}))}function hf(e){this.collection_=e;this.last_=null}function yj(e,m){this.server_=m;this.statsToReport_={};this.statsListener_=new ud(e);e=1E4+2E4*Math.random();h(this.reportStats_.bind(this),Math.floor(e))}function ff(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ri(e){return{fromUser:!1,
fromServer:!0,queryId:e,tagged:!0}}function Rd(e,m,c){this.path=e;this.affectedTree=m;this.revert=c;this.type=ae.ACK_USER_WRITE;this.source=ff()}function hc(e,m){this.source=e;this.path=m;this.type=ae.LISTEN_COMPLETE}function Dh(e,m,c){this.source=e;this.path=m;this.snap=c;this.type=ae.OVERWRITE}function Le(e,m,c){this.source=e;this.path=m;this.children=c;this.type=ae.MERGE}function Z(e,m,c){this.node_=e;this.fullyInitialized_=m;this.filtered_=c}function zj(e,m,c,f){var g=[],F=[];return m.forEach(function(m){var c;
"child_changed"===m.type&&e.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&F.push((c=m.childName,{type:"child_moved",snapshotNode:m.snapshotNode,childName:c}))}),Fh(e,g,"child_removed",m,f,c),Fh(e,g,"child_added",m,f,c),Fh(e,g,"child_moved",F,f,c),Fh(e,g,"child_changed",m,f,c),Fh(e,g,"value",m,f,c),g}function Fh(e,m,c,f,g,h){f=f.filter(function(e){return e.type===c});f.sort(function(m,c){if(null==m.childName||null==c.childName)throw Dd("Should only compare child_ events.");m=new Fb(m.childName,
m.snapshotNode);c=new Fb(c.childName,c.snapshotNode);return e.index_.compare(m,c)});f.forEach(function(c){var f=("value"===c.type||"child_removed"===c.type||(c.prevName=h.getPredecessorChildName(c.childName,c.snapshotNode,e.index_)),c);g.forEach(function(g){g.respondsTo(c.type)&&m.push(g.createEvent(f,e.query_))})})}function Eh(e,m){return{eventCache:e,serverCache:m}}function ng(e,m,c,f){return Eh(new bc(m,c,f),e.serverCache)}function Ng(e,m,c,f){return Eh(e.eventCache,new bc(m,c,f))}function Gh(e){return e.eventCache.isFullyInitialized()?
e.eventCache.getNode():null}function If(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}function yb(e,m){void 0===m&&(m=gg=gg||new zf(Y));this.value=e;this.children=m}function si(e){this.writeTree_=e}function Jf(e,m,c){if(nb(m))return new Xe(new Md(c));var f=e.writeTree_.findRootMostValueAndPath(m);if(null!=f){var g=f.path,F=f.value;f=Hb(g,m);F=F.updateChild(f,c);return new Xe(e.writeTree_.set(g,F))}c=new Md(c);c=e.writeTree_.setTree(m,c);return new Xe(c)}function Hh(e,m,
c){var f=e;return Va(c,function(e,c){f=Jf(f,qb(m,e),c)}),f}function ti(e,m){if(nb(m))return Xe.empty();m=e.writeTree_.setTree(m,new Md(null));return new Xe(m)}function Td(e,m){return null!=ld(e,m)}function ld(e,m){var c=e.writeTree_.findRootMostValueAndPath(m);return null!=c?e.writeTree_.get(c.path).getChild(Hb(c.path,m)):null}function Vi(e){var m=[],c=e.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(lc,function(e,c){m.push(new Fb(e,c))}):e.writeTree_.children.inorderTraversal(function(e,
c){null!=c.value&&m.push(new Fb(e,c.value))}),m}function Sd(e,m){if(nb(m))return e;var c=ld(e,m);return new Xe(null!=c?new Md(c):e.writeTree_.subtree(m))}function we(e,m){return function vh(e,m,c){if(null!=m.value)return c.updateChild(e,m.value);var f=null;return m.children.inorderTraversal(function(m,g){".priority"===m?(va(null!==g.value,"Priority writes must always be leaf nodes"),f=g.value):c=vh(qb(e,m),g,c)}),c=c.getChild(e).isEmpty()||null===f?c:c.updateChild(qb(e,".priority"),f)}(wa(),e.writeTree_,
m)}function kd(e,m){return Qg(m,e)}function oc(e,m){var c=e.allWrites.findIndex(function(e){return e.writeId===m});va(0<=c,"removeWrite called with nonexistent writeId.");var f=e.allWrites[c];e.allWrites.splice(c,1);for(var g=f.visible,h=!1,k=e.allWrites.length-1;g&&0<=k;){var n=e.allWrites[k];n.visible&&(c<=k&&function(e,m){if(e.snap)return jd(e.path,m);for(var c in e.children)if(e.children.hasOwnProperty(c)&&jd(qb(e.path,c),m))return!0;return!1}(n,f.path)?g=!1:jd(f.path,n.path)&&(h=!0));k--}return!!g&&
(h?(e.visibleWrites=Lf(e.allWrites,Wi,wa()),0<e.allWrites.length?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1):f.snap?e.visibleWrites=ti(e.visibleWrites,f.path):Va(f.children,function(m){e.visibleWrites=ti(e.visibleWrites,qb(f.path,m))}),!0)}function Wi(e){return e.visible}function Lf(e,m,c){for(var f=Xe.empty(),g=0;g<e.length;++g){var F=e[g];if(m(F)){var h=F.path,k=void 0;if(F.snap)jd(c,h)?f=Jf(f,Hb(c,h),F.snap):jd(h,c)&&(k=Hb(h,c),f=Jf(f,wa(),F.snap.getChild(k)));else{if(!F.children)throw Dd("WriteRecord should have .snap or .children");
jd(c,h)?f=Hh(f,Hb(c,h),F.children):jd(h,c)&&(nb(k=Hb(h,c))?f=Hh(f,wa(),F.children):(F=Ka(F.children,L(k)))&&(k=F.getChild(Ga(k)),f=Jf(f,wa(),k)))}}}return f}function Jh(e,m,c,f,g){if(f||g){var F=Sd(e.visibleWrites,m);return!g&&F.writeTree_.isEmpty()?c:g||null!=c||Td(F,wa())?we(Lf(e.allWrites,function(e){return(e.visible||g)&&(!f||!~f.indexOf(e.writeId))&&(jd(e.path,m)||jd(m,e.path))},m),c||eb.EMPTY_NODE):null}F=ld(e.visibleWrites,m);if(null!=F)return F;e=Sd(e.visibleWrites,m);return e.writeTree_.isEmpty()?
c:null!=c||Td(e,wa())?we(e,c||eb.EMPTY_NODE):null}function kf(e,m,c,f){return Jh(e.writeTree,e.treePath,m,c,f)}function pg(e,m){return function(e,m,c){var f=eb.EMPTY_NODE,g=ld(e.visibleWrites,m);if(g)return g.isLeafNode()||g.forEachChild(lc,function(e,m){f=f.updateImmediateChild(e,m)}),f;if(c){var F=Sd(e.visibleWrites,m);return c.forEachChild(lc,function(e,m){m=we(Sd(F,new Qb(e)),m);f=f.updateImmediateChild(e,m)}),Vi(F).forEach(function(e){f=f.updateImmediateChild(e.name,e.node)}),f}return Vi(Sd(e.visibleWrites,
m)).forEach(function(e){f=f.updateImmediateChild(e.name,e.node)}),f}(e.writeTree,e.treePath,m)}function Pg(e,m,c,f){return g=e.writeTree,e=e.treePath,va(c||f,"Either existingEventSnap or existingServerSnap must exist"),e=qb(e,m),Td(g.visibleWrites,e)?null:(e=Sd(g.visibleWrites,e)).writeTree_.isEmpty()?f.getChild(m):we(e,f.getChild(m));var g}function Kh(e,m){return c=e.writeTree,m=qb(e.treePath,m),ld(c.visibleWrites,m);var c}function Mf(e,m,c){return f=e.writeTree,g=e.treePath,e=c,m=qb(g,c=m),null!=
(g=ld(f.visibleWrites,m))?g:e.isCompleteForChild(c)?we(Sd(f.visibleWrites,m),e.getNode().getImmediateChild(c)):null;var f,g}function Kf(e,m){return Qg(qb(e.treePath,m),e.writeTree)}function Qg(e,m){return{treePath:e,writeTree:m}}function ui(){this.changeMap=new Map}function Me(){}function Lh(e,m,c){void 0===c&&(c=null);this.writes_=e;this.viewCache_=m;this.optCompleteServerCache_=c}function Aj(e,m,c,f,g){var F,h,S,k,tb,n,t,u=new nh;if(c.type===ae.OVERWRITE){var C=c;e=C.source.fromUser?Mh(e,m,C.path,
C.snap,f,g,u):(va(C.source.fromServer,"Unknown source."),F=C.source.tagged||m.serverCache.isFiltered()&&!nb(C.path),ib(e,m,C.path,C.snap,f,g,F,u))}else if(c.type===ae.MERGE)e=c.source.fromUser?(h=e,S=c.path,C=c.children,k=f,tb=g,n=u,t=m,C.foreach(function(e,c){e=qb(S,e);var f=L(e);m.eventCache.isCompleteForChild(f)&&(t=Mh(h,t,e,c,k,tb,n))}),C.foreach(function(e,c){e=qb(S,e);var f=L(e);m.eventCache.isCompleteForChild(f)||(t=Mh(h,t,e,c,k,tb,n))}),t):(va(c.source.fromServer,"Unknown source."),F=c.source.tagged||
m.serverCache.isFiltered(),md(e,m,c.path,c.children,f,g,F,u));else if(c.type===ae.ACK_USER_WRITE)F=c,e=F.revert?function(e,m,c,f,g,F){var h;if(null!=Kh(f,c))return m;var S,k,tb=new wd(f,m,g),n=m.eventCache.getNode();g=void 0;return nb(c)||".priority"===L(c)?(k=m.serverCache.isFullyInitialized()?kf(f,If(m)):(S=m.serverCache.getNode(),va(S instanceof eb,"serverChildren would be complete if leaf node"),pg(f,S)),g=e.filter.updateFullNode(n,k,F)):(S=L(c),null==(k=Mf(f,S,m.serverCache))&&m.serverCache.isCompleteForChild(S)&&
(k=n.getImmediateChild(S)),(g=null!=k?e.filter.updateChild(n,S,k,Ga(c),tb,F):m.eventCache.getNode().hasChild(S)?e.filter.updateChild(n,S,eb.EMPTY_NODE,Ga(c),tb,F):n).isEmpty()&&m.serverCache.isFullyInitialized()&&(h=kf(f,If(m))).isLeafNode()&&(g=e.filter.updateFullNode(g,h,F))),h=m.serverCache.isFullyInitialized()||null!=Kh(f,wa()),ng(m,g,h,e.filter.filtersNodes())}(e,m,F.path,f,g,u):function(e,m,c,f,g,F,h){if(null!=Kh(g,c))return m;var S=m.serverCache.isFiltered(),k=m.serverCache;if(null!=f.value){if(nb(c)&&
k.isFullyInitialized()||k.isCompleteForPath(c))return ib(e,m,c,k.getNode().getChild(c),g,F,S,h);if(nb(c)){var tb=new Md(null);return k.getNode().forEachChild($c,function(e,m){tb=tb.set(new Qb(e),m)}),md(e,m,c,tb,g,F,S,h)}return m}var n=new Md(null);return f.foreach(function(e,m){m=qb(c,e);k.isCompleteForPath(m)&&(n=n.set(e,k.getNode().getChild(m)))}),md(e,m,c,n,g,F,S,h)}(e,m,F.path,F.affectedTree,f,g,u);else{if(c.type!==ae.LISTEN_COMPLETE)throw Dd("Unknown operation type: "+c.type);F=e;g=c.path;e=
f;c=u;f=Ng(m,(f=m.serverCache).getNode(),f.isFullyInitialized()||nb(g),f.isFiltered());e=Nf(F,f,g,e,Li,c)}u=u.getChanges();return function(e,m,c){var f=m.eventCache,g,F;f.isFullyInitialized()&&(g=f.getNode().isLeafNode()||f.getNode().isEmpty(),F=Gh(e),(0<c.length||!e.eventCache.isFullyInitialized()||g&&!f.getNode().equals(F)||!f.getNode().getPriority().equals(F.getPriority()))&&c.push({type:"value",snapshotNode:Gh(m)}))}(m,e,u),{viewCache:e,changes:u}}function Nf(e,m,c,f,g,h){var F=m.eventCache;if(null!=
Kh(f,c))return m;var S,k,tb,n,u=void 0,t=void 0;return u=nb(c)?(va(m.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),m.serverCache.isFiltered()?(S=pg(f,(S=If(m))instanceof eb?S:eb.EMPTY_NODE),e.filter.updateFullNode(m.eventCache.getNode(),S,h)):(k=kf(f,If(m)),e.filter.updateFullNode(m.eventCache.getNode(),k,h))):".priority"===(k=L(c))?(va(1===fc(c),"Can't have a priority with additional path components"),null!=(n=Pg(f,c,tb=F.getNode(),m.serverCache.getNode()))?
e.filter.updatePriority(tb,n):F.getNode()):(tb=Ga(c),null!=(n=F.isCompleteForChild(k)?(t=m.serverCache.getNode(),null!=(t=Pg(f,c,F.getNode(),t))?F.getNode().getImmediateChild(k).updateChild(tb,t):F.getNode().getImmediateChild(k)):Mf(f,k,m.serverCache))?e.filter.updateChild(F.getNode(),k,n,tb,g,h):F.getNode()),ng(m,u,F.isFullyInitialized()||nb(c),e.filter.filtersNodes())}function ib(e,m,c,f,g,h,k,n){var F=m.serverCache,S=k?e.filter:e.filter.getIndexedFilter();if(nb(c))f=S.updateFullNode(F.getNode(),
f,null);else if(S.filtersNodes()&&!F.isFiltered()){var tb=F.getNode().updateChild(c,f);f=S.updateFullNode(F.getNode(),tb,null)}else{k=L(c);if(!F.isCompleteForPath(c)&&1<fc(c))return m;tb=Ga(c);f=F.getNode().getImmediateChild(k).updateChild(tb,f);f=".priority"===k?S.updatePriority(F.getNode(),f):S.updateChild(F.getNode(),k,f,tb,Li,null)}S=Ng(m,f,F.isFullyInitialized()||nb(c),S.filtersNodes());return Nf(e,S,c,g,new wd(g,S,h),n)}function Mh(e,m,c,f,g,h,k){var F,S,tb=m.eventCache,n=new wd(g,m,h);return nb(c)?
(S=e.filter.updateFullNode(m.eventCache.getNode(),f,k),ng(m,S,!0,e.filter.filtersNodes())):".priority"===(F=L(c))?(S=e.filter.updatePriority(m.eventCache.getNode(),f),ng(m,S,tb.isFullyInitialized(),tb.isFiltered())):(g=Ga(c),h=tb.getNode().getImmediateChild(F),S=nb(g)?f:null!=(c=n.getCompleteChild(F))?".priority"===hb(g)&&c.getChild(od(g)).isEmpty()?c:c.updateChild(g,f):eb.EMPTY_NODE,h.equals(S)?m:ng(m,e.filter.updateChild(tb.getNode(),F,S,g,n,k),tb.isFullyInitialized(),e.filter.filtersNodes()))}
function Pa(e,m,c){return c.foreach(function(e,c){m=m.updateChild(e,c)}),m}function md(e,m,c,f,g,h,k,n){if(m.serverCache.getNode().isEmpty()&&!m.serverCache.isFullyInitialized())return m;var F=m;f=nb(c)?f:(new Md(null)).setTree(c,f);var S=m.serverCache.getNode();return f.children.inorderTraversal(function(c,f){S.hasChild(c)&&(f=Pa(0,m.serverCache.getNode().getImmediateChild(c),f),F=ib(e,F,new Qb(c),f,g,h,k,n))}),f.children.inorderTraversal(function(c,f){var tb=!m.serverCache.isCompleteForChild(c)&&
void 0===f.value;S.hasChild(c)||tb||(f=Pa(0,m.serverCache.getNode().getImmediateChild(c),f),F=ib(e,F,new Qb(c),f,g,h,k,n))}),F}function Bc(e,m){this.query_=e;this.eventRegistrations_=[];var c=this.query_._queryParams,f=new lh(c.getIndex()),g=(h=c).loadsAllData()?new lh(h.getIndex()):new (h.hasLimit()?qj:Ji)(h);this.processor_={filter:g};e=m.serverCache;c=m.eventCache;var h=f.updateFullNode(eb.EMPTY_NODE,e.getNode(),null);m=g.updateFullNode(eb.EMPTY_NODE,c.getNode(),null);f=new bc(h,e.isFullyInitialized(),
f.filtersNodes());g=new bc(m,c.isFullyInitialized(),g.filtersNodes());this.viewCache_=Eh(g,f);this.eventGenerator_=new vd(this.query_)}function vi(e,m,c){var f,g=[];if(c&&(va(null==m,"A cancel should cancel all event registrations."),f=e.query._path,e.eventRegistrations_.forEach(function(e){(e=e.createCancelEvent(c,f))&&g.push(e)})),m){for(var F=[],h=0;h<e.eventRegistrations_.length;++h){var k=e.eventRegistrations_[h];if(k.matches(m)){if(m.hasAnyCallback()){F=F.concat(e.eventRegistrations_.slice(h+
1));break}}else F.push(k)}e.eventRegistrations_=F}else e.eventRegistrations_=[];return g}function wi(e,m,c,f){m.type===ae.MERGE&&null!==m.source.queryId&&(va(If(e.viewCache_),"We should always have a full cache before handling merges"),va(Gh(e.viewCache_),"Missing event cache, even though we have a server cache"));var g=e.viewCache_;m=Aj(e.processor_,g,m,c,f);return c=e.processor_,f=m.viewCache,va(f.eventCache.getNode().isIndexed(c.filter.getIndex()),"Event snap not indexed"),va(f.serverCache.getNode().isIndexed(c.filter.getIndex()),
"Server snap not indexed"),va(m.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=m.viewCache,Oh(e,m.changes,m.viewCache.eventCache.getNode(),null)}function Oh(e,m,c,f){f=f?[f]:e.eventRegistrations_;return zj(e.eventGenerator_,m,c,f)}function qg(e,m,c,f){var g,F=m.source.queryId;if(null!==F){var h=e.views.get(F);return va(null!=h,"SyncTree gave us an op for an invalid query."),wi(h,m,c,f)}F=[];try{for(var S=
z(e.views.values()),k=S.next();!k.done;k=S.next())h=k.value,F=F.concat(wi(h,m,c,f))}catch(bf){var n={error:bf}}finally{try{k&&!k.done&&(g=S.return)&&g.call(S)}finally{if(n)throw n.error;}}return F}function Yi(e,m,c,f,g){var F=m._queryIdentifier;if(e=e.views.get(F))return e;F=kf(c,g?f:null);e=!!F||(F=f instanceof eb?pg(c,f):eb.EMPTY_NODE,!1);g=Eh(new bc(F,e,!1),new bc(f,g,!1));return new Ij(m,g)}function Ud(e,m,c,f,g,h){var F;h=Yi(e,m,f,g,h);return e.views.has(m._queryIdentifier)||e.views.set(m._queryIdentifier,
h),h.eventRegistrations_.push(c),m=c,h=(c=h).viewCache_.eventCache,F=[],h.getNode().isLeafNode()||h.getNode().forEachChild(lc,function(e,m){F.push(Za(e,m))}),h.isFullyInitialized()&&F.push({type:"value",snapshotNode:h.getNode()}),Oh(c,F,h.getNode(),m)}function ha(e,m,c,f){var g,F=m._queryIdentifier,h=[],k=[],S=null!=K(e);if("default"===F)try{for(var n=z(e.views.entries()),t=n.next();!t.done;t=n.next()){var u=I(t.value,2),C=u[0],r=u[1];k=k.concat(vi(r,c,f));0===r.eventRegistrations_.length&&(e.views.delete(C),
r.query._queryParams.loadsAllData()||h.push(r.query))}}catch(Sj){var V={error:Sj}}finally{try{t&&!t.done&&(g=n.return)&&g.call(n)}finally{if(V)throw V.error;}}else(r=e.views.get(F))&&(k=k.concat(vi(r,c,f)),0===r.eventRegistrations_.length&&(e.views.delete(F),r.query._queryParams.loadsAllData()||h.push(r.query)));return S&&null==K(e)&&h.push((va(ni,"Reference.ts has not been loaded"),new ni(m._repo,m._path))),{removed:h,events:k}}function Ph(e){var m,c=[];try{for(var f=z(e.views.values()),g=f.next();!g.done;g=
f.next()){var h=g.value;h.query._queryParams.loadsAllData()||c.push(h)}}catch(pe){var k={error:pe}}finally{try{g&&!g.done&&(m=f.return)&&m.call(f)}finally{if(k)throw k.error;}}return c}function he(e,m){var c,f,g,h,k=null;try{for(var n=z(e.views.values()),t=n.next();!t.done;t=n.next()){var u=t.value;k=k||(g=m,h=void 0,(h=If((f=u).viewCache_))&&(f.query._queryParams.loadsAllData()||!nb(g)&&!h.getImmediateChild(L(g)).isEmpty())?h.getChild(g):null)}}catch(Gf){var C={error:Gf}}finally{try{t&&!t.done&&
(c=n.return)&&c.call(n)}finally{if(C)throw C.error;}}return k}function $i(e,m){if(m._queryParams.loadsAllData())return K(e);m=m._queryIdentifier;return e.views.get(m)}function K(e){var m;try{for(var c=z(e.views.values()),f=c.next();!f.done;f=c.next()){var g=f.value;if(g.query._queryParams.loadsAllData())return g}}catch(vh){var h={error:vh}}finally{try{f&&!f.done&&(m=c.return)&&m.call(c)}finally{if(h)throw h.error;}}return null}function Ug(e,m,c,f,g){var h,F;return h=e.pendingWriteTree_,F=g,va(f>h.lastWriteId,
"Stacking an older write on top of newer ones"),h.allWrites.push({path:m,snap:c,writeId:f,visible:F=void 0===F?!0:F}),F&&(h.visibleWrites=Jf(h.visibleWrites,m,c)),h.lastWriteId=f,g?nf(e,new bi(ff(),m,c)):[]}function Dj(e,m,c,f){var g=e.pendingWriteTree_;var h=c;va(f>g.lastWriteId,"Stacking an older merge on top of newer ones");g.allWrites.push({path:m,children:h,writeId:f,visible:!0});g.visibleWrites=Hh(g.visibleWrites,m,h);g.lastWriteId=f;c=Md.fromObject(c);return nf(e,new ci(ff(),m,c))}function Cb(e,
m,c){void 0===c&&(c=!1);var f=function(e,m){for(var c=0;c<e.allWrites.length;c++){var f=e.allWrites[c];if(f.writeId===m)return f}return null}(e.pendingWriteTree_,m);if(oc(e.pendingWriteTree_,m)){var g=new Md(null);return null!=f.snap?g=g.set(wa(),!0):Va(f.children,function(e){g=g.set(new Qb(e),!0)}),nf(e,new Ki(f.path,g,c))}return[]}function ie(e,m,c){return nf(e,new bi(gf(),m,c))}function rg(e,m,c,f){var g=m._path,h=e.syncPointTree_.get(g),F=[];if(h&&("default"===m._queryIdentifier||null!=$i(h,m))){var k=
ha(h,m,c,f);0===h.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(g));c=k.removed;F=k.events;h=-1!==c.findIndex(function(e){return e._queryParams.loadsAllData()});k=e.syncPointTree_.findOnPath(g,function(e,m){return null!=K(m)});if(h&&!k&&(g=e.syncPointTree_.subtree(g),!g.isEmpty())){g=g.fold(function(e,m,c){if(m&&null!=K(m))return[K(m)];var f=[];return m&&(f=Ph(m)),Va(c,function(e,m){f=f.concat(m)}),f});for(var S=0;S<g.length;++S){var n=g[S],t=n.query;n=Qf(e,n);e.listenProvider_.startListening(Rh(t),
Ne(e,t),n.hashFn,n.onComplete)}}!k&&0<c.length&&!f&&(h?e.listenProvider_.stopListening(Rh(m),null):c.forEach(function(m){var c=e.queryToTagMap.get(pf(m));e.listenProvider_.stopListening(Rh(m),c)}));(function(e,m){for(var c=0;c<m.length;++c){var f,g=m[c];g._queryParams.loadsAllData()||(f=pf(g),g=e.queryToTagMap.get(f),e.queryToTagMap.delete(f),e.tagToQueryMap.delete(g))}})(e,c)}return F}function je(e,m,c){var f=m._path,g=null,h=!1;e.syncPointTree_.foreachOnPath(f,function(e,m){e=Hb(e,f);g=g||he(m,
e);h=h||null!=K(m)});var F=e.syncPointTree_.get(f);F?(h=h||null!=K(F),g=g||he(F,wa())):(F=new Bf,e.syncPointTree_=e.syncPointTree_.set(f,F));null!=g?u=!0:(u=!1,g=eb.EMPTY_NODE,e.syncPointTree_.subtree(f).foreachChild(function(e,m){(m=he(m,wa()))&&(g=g.updateImmediateChild(e,m))}));var k,n,t=null!=$i(F,m);t||m._queryParams.loadsAllData()||(k=pf(m),va(!e.queryToTagMap.has(k),"View does not exist, but we have a tag"),n=Tb++,e.queryToTagMap.set(k,n),e.tagToQueryMap.set(n,k));var u=Ud(F,m,c,Qg(f,e.pendingWriteTree_),
g,u);return t||h||(F=$i(F,m),u=u.concat(function(e,m,c){var f=m._path,g=Ne(e,m);c=Qf(e,c);c=e.listenProvider_.startListening(Rh(m),g,c.hashFn,c.onComplete);f=e.syncPointTree_.subtree(f);if(g)va(null==K(f.value),"If we're adding a query, it shouldn't be shadowed");else for(m=f.fold(function(e,m,c){if(!nb(e)&&m&&null!=K(m))return[K(m).query];var f=[];return m&&(f=f.concat(Ph(m).map(function(e){return e.query}))),Va(c,function(e,m){f=f.concat(m)}),f}),f=0;f<m.length;++f)g=m[f],e.listenProvider_.stopListening(Rh(g),
Ne(e,g));return c}(e,m,F))),u}function Wb(e,m,c){var f=e.pendingWriteTree_;e=e.syncPointTree_.findOnPath(m,function(e,c){if(e=he(c,Hb(e,m)))return e});return Jh(f,m,e,c,!0)}function Pf(e,m){var c=m._path,f=null;e.syncPointTree_.foreachOnPath(c,function(e,m){e=Hb(e,c);f=f||he(m,e)});var g=e.syncPointTree_.get(c);g?f=f||he(g,wa()):(g=new Bf,e.syncPointTree_=e.syncPointTree_.set(c,g));var h=null!=f,k=h?new bc(f,!0,!1):null;return Gh(Yi(g,m,Qg(m._path,e.pendingWriteTree_),h?k.getNode():eb.EMPTY_NODE,
h).viewCache_)}function nf(e,m){return function pe(e,m,c,f){if(nb(e.path))return pc(e,m,c,f);var g=m.get(wa());null==c&&null!=g&&(c=he(g,wa()));var h=[],k=L(e.path),S=e.operationForChild(k),n=m.children.get(k);return n&&S&&(m=c?c.getImmediateChild(k):null,k=Kf(f,k),h=h.concat(pe(S,n,m,k))),g?h.concat(qg(g,e,f,c)):h}(m,e.syncPointTree_,null,kd(e.pendingWriteTree_,wa()))}function pc(e,m,c,f){var g=m.get(wa());null==c&&null!=g&&(c=he(g,wa()));var h=[];return m.children.inorderTraversal(function(m,g){var F=
c?c.getImmediateChild(m):null,k=Kf(f,m);(m=e.operationForChild(m))&&(h=h.concat(pc(m,g,F,k)))}),h=g?h.concat(qg(g,e,f,c)):h}function Qf(e,m){var c=m.query,f=Ne(e,c);return{hashFn:function(){return(m.viewCache_.serverCache.getNode()||eb.EMPTY_NODE).hash()},onComplete:function(m){if("ok"===m){if(f){var g=c._path;m=f;var h=Rf(e,m);h?(m=ic(h),h=m.path,m=m.queryId,g=Hb(h,g),m=Qh(e,h,new Hg(ri(m),g))):m=[]}else m=(g=c._path,nf(e,new Hg(gf(),g)));return m}g=(g="Unknown Error","too_big"===m?g="The data requested exceeds the maximum size that can be accessed with a single request.":
"permission_denied"===m?g="Client doesn't have permission to access the desired data.":"unavailable"===m&&(g="The service is unavailable"),(g=Error(m+" at "+c._path.toString()+": "+g)).code=m.toUpperCase(),g);return rg(e,c,null,g)}}}function Ne(e,m){m=pf(m);return e.queryToTagMap.get(m)}function pf(e){return e._path.toString()+"$"+e._queryIdentifier}function Rf(e,m){return e.tagToQueryMap.get(m)}function ic(e){var m=e.indexOf("$");return va(-1!==m&&m<e.length-1,"Bad queryKey."),{queryId:e.substr(m+
1),path:new Qb(e.substr(0,m))}}function Qh(e,m,c){var f=e.syncPointTree_.get(m);return va(f,"Missing sync point for query tag that we're tracking"),qg(f,c,Qg(m,e.pendingWriteTree_),null)}function Rh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(va(th,"Reference.ts has not been loaded"),new th(e._repo,e._path)):e}function ke(e){this.node_=e}function Vg(e,m){this.syncTree_=e;this.path_=m}function Oe(e,m,c){var f=e.getPriority().val(),g=oh(f,m.getImmediateChild(".priority"),c);
if(e.isLeafNode())return f=oh(e.getValue(),m,c),f!==e.getValue()||g!==e.getPriority().val()?new hd(f,Ta(g)):e;var h=e;return g!==e.getPriority().val()&&(h=h.updatePriority(new hd(g))),e.forEachChild(lc,function(e,f){var g=Oe(f,m.getImmediateChild(e),c);g!==f&&(h=h.updateImmediateChild(e,g))}),h}function Pe(e,m){m=m instanceof Qb?m:new Qb(m);for(var c=L(m);null!==c;){var f=Ka(e.node.children,c)||{children:{},childCount:0};e=new fi(c,e,f);c=L(m=Ga(m))}return e}function Wg(e,m){e.node.value=m;yi(e)}
function pd(e,m){Va(e.node.children,function(c,f){m(new fi(c,e,f))})}function ab(e){return new Qb(null===e.parent?e.name:ab(e.parent)+"/"+e.name)}function yi(e){var m;if(null!==e.parent){var c=e.parent;var f=e.name;e=m=e;var g=void 0===e.node.value&&!(0<e.node.childCount);e=ya(c.node.children,f);g&&e?(delete c.node.children[f],c.node.childCount--,yi(c)):g||e||(c.node.children[f]=m.node,c.node.childCount++,yi(c))}}function Qe(e){return"string"==typeof e&&0!==e.length&&!Jj.test(e)}function aj(e){return"string"==
typeof e&&0!==e.length&&!ec.test(e)}function Sf(e,m,c,f){if(!f||void 0!==m){var g=w(e,"values");if(!m||"object"!=typeof m||Array.isArray(m))throw Error(g+" must be an object containing the children to replace.");var h=[];Va(m,function(e,m){e=new Qb(e);if(gi(g,m,qb(c,e)),".priority"===hb(e)&&!cc(m))throw Error(g+"contains an invalid value for '"+e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(e)});(function(e,m){for(var c=0;c<m.length;c++)for(var f,
g=Je(f=m[c]),h=0;h<g.length;h++)if((".priority"!==g[h]||h!==g.length-1)&&!Qe(g[h]))throw Error(e+"contains an invalid key ("+g[h]+") in path "+f.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');m.sort(zh);g=null;for(c=0;c<m.length;c++){if(f=m[c],null!==g&&jd(g,f))throw Error(e+"contains a path "+g.toString()+" that is ancestor of another path "+f.toString());g=f}})(g,h)}}function zi(e,m,c){if(!c||void 0!==m){if(H(m))throw Error(w(e,"priority")+"is "+
m.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cc(m))throw Error(w(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).");}}function Jd(e,m,c,f){if(!(f&&void 0===c||Qe(c)))throw Error(w(e,m)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}function Sh(e,m){for(var c=null,f=0;f<m.length;f++){var g=m[f],h=g.getPath();
null===c||ee(h,c.path)||(e.eventLists_.push(c),c=null);(c=null===c?{events:[],path:h}:c).events.push(g)}c&&e.eventLists_.push(c)}function Re(e,m,c){Sh(e,c);Kd(e,function(e){return ee(e,m)})}function jc(e,m,c){Sh(e,c);Kd(e,function(e){return jd(e,m)||jd(m,e)})}function Kd(e,m){e.recursionDepth_++;for(var c=!0,f=0;f<e.eventLists_.length;f++){var g=e.eventLists_[f];if(g)if(m(g.path)){g=e.eventLists_[f];for(var h=0;h<g.events.length;h++){var k,n=g.events[h];null!==n&&(g.events[h]=null,k=n.getEventRunner(),
ag&&Oc("event: "+n.toString()),Ag(k))}e.eventLists_[f]=null}else c=!1}c&&(e.eventLists_=[]);e.recursionDepth_--}function Ra(e,m,c,f){this.repoInfo_=e;this.forceRestClient_=m;this.authTokenProvider_=c;this.appCheckProvider_=f;this.dataUpdateCount=0;this.statsListener_=null;this.eventQueue_=new Kj;this.nextWriteId_=1;this.interceptServerDataCallback_=null;this.onDisconnect_=rc();this.transactionQueueTree_=new fi;this.persistentConnection_=null;this.key=this.repoInfo_.toURLString()}function Ai(e,m,c){if(e.stats_=
g(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new $d(e.repoInfo_,function(m,c,f,g){Tf(e,m,c,f,g)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return ze(e,!0)},0);else{if(null!=c){if("object"!=typeof c)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{J(c)}catch(S){throw Error("Invalid authOverride provided: "+
S);}}e.persistentConnection_=new yf(e.repoInfo_,m,function(m,c,f,g){Tf(e,m,c,f,g)},function(m){ze(e,m)},function(m){Va(m,function(m,c){sg(e,m,c)})},e.authTokenProvider_,e.appCheckProvider_,c);e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(m){e.server_.refreshAuthToken(m)});e.appCheckProvider_.addTokenChangeListener(function(m){e.server_.refreshAppCheckToken(m.token)});e.statsReporter_=(m=e.repoInfo_,c=function(){return new ai(e.stats_,e.server_)},m=m.toString(),
lb[m]||(lb[m]=c()),lb[m]);e.infoData_=new mh;e.infoSyncTree_=new Ig({startListening:function(m,c,f,g){c=[];f=e.infoData_.getNode(m._path);return f.isEmpty()||(c=ie(e.infoSyncTree_,m._path,f),setTimeout(function(){g("ok")},0)),c},stopListening:function(){}});sg(e,"connected",!1);e.serverSyncTree_=new Ig({startListening:function(m,c,f,g){return e.server_.listen(m,f,c,function(c,f){f=g(c,f);jc(e.eventQueue_,m._path,f)}),[]},stopListening:function(m,c){e.server_.unlisten(m,c)}})}function qf(e){e=e.infoData_.getNode(new Qb(".info/serverTimeOffset")).val()||
0;return(new Date).getTime()+e}function Xb(e){e={timestamp:qf(e)};return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}function Tf(e,m,c,f,g){e.dataUpdateCount++;var h=new Qb(m);c=e.interceptServerDataCallback_?e.interceptServerDataCallback_(m,c):c;var F,k,S,n,t=[];m=h;0<(t=g?f?(F=ta(c,function(e){return Ta(e)}),function(e,m,c,f){var g=Rf(e,f);return g?(f=ic(g),g=f.path,f=f.queryId,m=Hb(g,m),c=Md.fromObject(c),Qh(e,g,new ci(ri(f),m,c))):[]}(e.serverSyncTree_,h,F,g)):(n=Ta(c),F=e.serverSyncTree_,
k=h,S=n,null==(g=Rf(F,n=g))?[]:(n=ic(g),g=n.path,n=n.queryId,k=Hb(g,k),Qh(F,g,new bi(ri(n),k,S)))):f?(n=ta(c,function(e){return Ta(e)}),k=e.serverSyncTree_,S=h,f=n,f=Md.fromObject(n),nf(k,new ci(gf(),S,f))):(c=Ta(c),ie(e.serverSyncTree_,h,c))).length&&(m=Bd(e,h));jc(e.eventQueue_,m,t)}function ze(e,m){sg(e,"connected",m);!1===m&&function(e){tg(e,"onDisconnectEvents");var m=Xb(e),c=rc();ef(e.onDisconnect_,wa(),function(f,g){g=Oe(g,new di(e.serverSyncTree_,f),m);jf(c,f,g)});var f=[];ef(c,wa(),function(m,
c){f=f.concat(ie(e.serverSyncTree_,m,c));m=Th(e,m);Bd(e,m)});e.onDisconnect_=rc();jc(e.eventQueue_,wa(),f)}(e)}function sg(e,m,c){m=new Qb("/.info/"+m);c=Ta(c);e.infoData_.updateSnapshot(m,c);c=ie(e.infoSyncTree_,m,c);jc(e.eventQueue_,m,c)}function Xg(e,m,c,f,g){tg(e,"set",{path:m.toString(),value:c,priority:f});var h=Xb(e);c=Ta(c,f);f=Wb(e.serverSyncTree_,m);h=ei(c,f,h);var F=e.nextWriteId_++;h=Ug(e.serverSyncTree_,m,h,F,!0);Sh(e.eventQueue_,h);e.server_.put(m.toString(),c.val(!0),function(c,f){var h=
"ok"===c;h||Nc("set at "+m+" failed: "+c);h=Cb(e.serverSyncTree_,F,!h);jc(e.eventQueue_,m,h);Se(0,g,c,f)});c=Th(e,m);Bd(e,c);jc(e.eventQueue_,c,[])}function bj(e,m,c){e.server_.onDisconnectCancel(m.toString(),function(f,g){"ok"===f&&!function Ve(e,m){if(nb(m))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var c=e.value;return e.value=null,c.forEachChild(lc,function(m,c){jf(e,new Qb(m),c)}),Ve(e,m)}return 0<e.children.size?(c=L(m),m=Ga(m),e.children.has(c)&&
Ve(e.children.get(c),m)&&e.children.delete(c),0===e.children.size):!0}(e.onDisconnect_,m);Se(0,c,f,g)})}function le(e,m,c,f){var g=Ta(c);e.server_.onDisconnectPut(m.toString(),g.val(!0),function(c,h){"ok"===c&&jf(e.onDisconnect_,m,g);Se(0,f,c,h)})}function Uf(e,m,c){c=".info"===L(m._path)?rg(e.infoSyncTree_,m,c):rg(e.serverSyncTree_,m,c);Re(e.eventQueue_,m._path,c)}function tg(e){for(var m=[],f=1;f<arguments.length;f++)m[f-1]=arguments[f];f="";e.persistentConnection_&&(f=e.persistentConnection_.id+
":");Oc.apply(void 0,c([f],I(m)))}function Se(e,m,c,f){m&&Ag(function(){var e,g;"ok"===c?m(null):(g=e=(c||"error").toUpperCase(),f&&(g+=": "+f),(g=Error(g)).code=e,m(g))})}function me(e,m){var c;(m=void 0===m?e.transactionQueueTree_:m)||ug(e,m);m.node.value?(c=cj(e,m),va(0<c.length,"Sending zero length transaction queue"),c.every(function(e){return 0===e.status})&&function(e,m,c){var f=c.map(function(e){return e.currentWriteId}),g=Wb(e.serverSyncTree_,m,f)||eb.EMPTY_NODE,h=g;f=g.hash();for(g=0;g<
c.length;g++){var F=c[g];va(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run.");F.status=1;F.retryCount++;var k=Hb(m,F.path);h=h.updateChild(k,F.currentOutputSnapshotRaw)}g=h.val(!0);e.server_.put(m.toString(),g,function(f){tg(e,"transaction put response",{path:m.toString(),status:f});var g=[];if("ok"===f){for(var h=[],F=0;F<c.length;F++)!function(m){c[m].status=2;g=g.concat(Cb(e.serverSyncTree_,c[m].currentWriteId));c[m].onComplete&&h.push(function(){return c[m].onComplete(null,
!0,c[m].currentOutputSnapshotResolved)});c[m].unwatcher()}(F);ug(e,Pe(e.transactionQueueTree_,m));me(e,e.transactionQueueTree_);jc(e.eventQueue_,m,g);for(F=0;F<h.length;F++)Ag(h[F])}else{if("datastale"===f)for(F=0;F<c.length;F++)3===c[F].status?c[F].status=4:c[F].status=0;else for(Nc("transaction at "+m.toString()+" failed: "+f),F=0;F<c.length;F++)c[F].status=4,c[F].abortReason=f;Bd(e,m)}},f)}(e,ab(m),c)):0<m.node.childCount&&pd(m,function(m){me(e,m)})}function Bd(e,m){var c=Te(e,m);m=ab(c);return function(e,
m,c){if(0!==m.length){for(var f=[],g=[],h=m.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),F=0;F<m.length;F++)!function(F){var k,S,n,t,u=m[F],C=Hb(c,u.path),r=!1;va(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null.");4===u.status?(k=u.abortReason,g=g.concat(Cb(e.serverSyncTree_,u.currentWriteId,r=!0))):0===u.status&&(g=25<=u.retryCount?(k="maxretry",g.concat(Cb(e.serverSyncTree_,u.currentWriteId,r=!0))):(S=Wb(e.serverSyncTree_,u.path,h)||eb.EMPTY_NODE,
u.currentInputSnapshot=S,void 0!==(t=m[F].update(S.val()))?(gi("transaction failed: Data returned ",t,u.path),n=Ta(t),"object"==typeof t&&null!=t&&ya(t,".priority")||(n=n.updatePriority(S.getPriority())),C=u.currentWriteId,t=Xb(e),t=ei(n,S,t),u.currentOutputSnapshotRaw=n,u.currentOutputSnapshotResolved=t,u.currentWriteId=e.nextWriteId_++,h.splice(h.indexOf(C),1),(g=g.concat(Ug(e.serverSyncTree_,u.path,t,u.currentWriteId,u.applyLocally))).concat(Cb(e.serverSyncTree_,C,!0))):(k="nodata",g.concat(Cb(e.serverSyncTree_,
u.currentWriteId,r=!0)))));jc(e.eventQueue_,c,g);g=[];r&&(m[F].status=2,r=m[F].unwatcher,setTimeout(r,0),m[F].onComplete&&("nodata"===k?f.push(function(){return m[F].onComplete(null,!1,m[F].currentInputSnapshot)}):f.push(function(){return m[F].onComplete(Error(k),!1,null)})))}(F);ug(e,e.transactionQueueTree_);for(F=0;F<f.length;F++)Ag(f[F]);me(e,e.transactionQueueTree_)}}(e,cj(e,c),m),m}function Te(e,m){e=e.transactionQueueTree_;for(var c=L(m);null!==c&&void 0===e.node.value;)e=Pe(e,c),c=L(m=Ga(m));
return e}function cj(e,m){var c=[];return function pe(e,m,c){var f=m.node.value;if(f)for(var g=0;g<f.length;g++)c.push(f[g]);pd(m,function(m){pe(e,m,c)})}(e,m,c),c.sort(function(e,m){return e.order-m.order}),c}function ug(e,m){var c=m.node.value;if(c){for(var f=0,g=0;g<c.length;g++)2!==c[g].status&&(c[f]=c[g],f++);c.length=f;Wg(m,0<c.length?c:void 0)}pd(m,function(m){ug(e,m)})}function Th(e,m){var c=ab(Te(e,m));m=Pe(e.transactionQueueTree_,m);return function(e,m,c){for(e=c?e:e.parent;null!==e&&!m(e);)e=
e.parent}(m,function(m){Yg(e,m)}),Yg(e,m),function Ve(e,m,c,f){c&&!f&&m(e);pd(e,function(e){Ve(e,m,!0,f)});c&&f&&m(e)}(m,function(m){Yg(e,m)}),c}function Yg(e,m){var c=m.node.value;if(c){for(var f=[],g=[],h=-1,k=0;k<c.length;k++)3===c[k].status||(1===c[k].status?(va(h===k-1,"All SENT items should be at beginning of queue."),c[h=k].status=3,c[k].abortReason="set"):(va(0===c[k].status,"Unexpected transaction status in abort"),c[k].unwatcher(),g=g.concat(Cb(e.serverSyncTree_,c[k].currentWriteId,!0)),
c[k].onComplete&&f.push(c[k].onComplete.bind(null,Error("set"),!1,null))));-1===h?Wg(m,void 0):c.length=h+1;jc(e.eventQueue_,ab(m),g);for(k=0;k<f.length;k++)Ag(f[k])}}function Zg(e,m,c,f){this.eventType=e;this.eventRegistration=m;this.snapshot=c;this.prevName=f}function zb(e,m,c){this.eventRegistration=e;this.error=m;this.path=c}function Vf(e,m){this.snapshotCallback=e;this.cancelCallback=m}function Ue(e,m){this._repo=e;this._path=m}function Ae(e,m,c,f){this._repo=e;this._path=m;this._queryParams=
c;this._orderByCalled=f}function Cd(e,m){if(!0===e._orderByCalled)throw Error(m+": You can't combine multiple orderBy calls.");}function Ec(e){var m=null,c=null;if(e.hasStart()&&(m=e.getIndexStartValue()),e.hasEnd()&&(c=e.getIndexEndValue()),e.getIndex()===$c){if(e.hasStart()){if("[MIN_NAME]"!==e.getIndexStartName())throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof m)throw Error("Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.");
}if(e.hasEnd()){if("[MAX_NAME]"!==e.getIndexEndName())throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.");}}else if(e.getIndex()===lc){if(null!=m&&!cc(m)||null!=c&&!cc(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).");
}else if(va(e.getIndex()instanceof eg||e.getIndex()===Sb,"unknown index type."),null!=m&&"object"==typeof m||null!=c&&"object"==typeof c)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.");}function rf(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.");}function $g(e,
c){return ii.call(this,e,c,new $h,!1)||this}function Oa(e,c,f){this._node=e;this.ref=c;this._index=f}function sf(e,c){return(e=ka(e))._checkNotDeleted("ref"),void 0!==c?vg(e._root,c):e._root}function ah(e,c){(e=ka(e))._checkNotDeleted("refFromURL");var m=$e(c,e._repo.repoInfo_.nodeAdmin);Ge("refFromURL",m);c=m.repoInfo;return e._repo.repoInfo_.isCustomHost()||c.host===e._repo.repoInfo_.host||Ee("refFromURL: Host name does not match the current database: (found "+c.host+" but expected "+e._repo.repoInfo_.host+
")"),sf(e,m.path.toString())}function vg(e,c){return(null===L((e=ka(e))._path)?hi:Ze)("child","path",c,!1),new be(e._repo,qb(e._path,c))}function T(e,c){e=ka(e);Hc("set",e._path);id("set",c,e._path,!1);var m=new Ed;return Xg(e._repo,e._path,c,null,m.wrapCallback(function(){})),m.promise}function Wd(e,c){Sf("update",c,e._path,!1);var m=new Ed;return function(e,c,m,f){tg(e,"update",{path:c.toString(),value:m});var g,h,F=!0,k=Xb(e),S={};Va(m,function(m,f){F=!1;var g=qb(c,m);f=Ta(f);g=Oe(f,new di(e.serverSyncTree_,
g),k);S[m]=g});F?(Oc("update() called with empty data.  Don't do anything."),Se(0,f,"ok",void 0)):(g=e.nextWriteId_++,h=Dj(e.serverSyncTree_,c,S,g),Sh(e.eventQueue_,h),e.server_.merge(c.toString(),m,function(m,h){var F="ok"===m;F||Nc("update at "+c+" failed: "+m);var k=Cb(e.serverSyncTree_,g,!F);F=0<k.length?Bd(e,c):c;jc(e.eventQueue_,F,k);Se(0,f,m,h)}),Va(m,function(m){m=Th(e,qb(c,m));Bd(e,m)}),jc(e.eventQueue_,c,[]))}(e._repo,e._path,c,m.wrapCallback(function(){})),m.promise}function wg(e){return e=
ka(e),c=e._repo,f=e,(null!=(g=Pf(c.serverSyncTree_,f))?Promise.resolve(g):c.server_.get(f).then(function(e){var m=Ta(e).withIndex(f._queryParams.getIndex());e=ie(c.serverSyncTree_,f._path,m);return Re(c.eventQueue_,f._path,e),Promise.resolve(m)},function(e){return tg(c,"get for query "+J(f)+" failed: "+e),Promise.reject(Error(e))})).then(function(c){return new Cf(c,new be(e._repo,e._path),e._queryParams.getIndex())});var c,f,g}function Uc(e){this.callbackContext=e}function Ce(e,c){this.eventType=
e;this.callbackContext=c}function gd(e,c,f,g,h){var m;"object"==typeof g&&(k=void 0,h=g);"function"==typeof g&&(k=g);h&&h.onlyOnce&&((h=function(c,f){Uf(e._repo,e,F);m(c,f)}).userCallback=(m=f).userCallback,h.context=f.context,f=h);var k;f=new ji(f,k||void 0);var F="value"===c?new af(f):new ki(c,f);return k=e._repo,c=F,c=".info"===L((f=e)._path)?je(k.infoSyncTree_,f,c):je(k.serverSyncTree_,f,c),Re(k.eventQueue_,f._path,c),function(){return Uf(e._repo,e,F)}}function tf(e,c,f,g){return gd(e,"value",
c,f,g)}function ch(e,c,f,g){return gd(e,"child_added",c,f,g)}function ne(e,c,f,g){return gd(e,"child_changed",c,f,g)}function Xd(e,c,f,g){return gd(e,"child_moved",c,f,g)}function dh(e,c,f,g){return gd(e,"child_removed",c,f,g)}function Xf(e,c,f){var m=null;f=f?new ji(f):null;"value"===c?m=new af(f):c&&(m=new ki(c,f));Uf(e._repo,e,m)}function Yf(e,c){var m=ph.call(this)||this;return m._value=e,m._key=c,m}function Yb(e,c){var m=qh.call(this)||this;return m._value=e,m._key=c,m}function Wf(e,c){var m=
Ni.call(this)||this;return m._value=e,m._key=c,m}function eh(e,c){var m=hg.call(this)||this;return m._value=e,m._key=c,m}function oe(e){var c=Oi.call(this)||this;return c._limit=e,c}function cb(e){var c=Pi.call(this)||this;return c._limit=e,c}function xg(e){var c=sj.call(this)||this;return c._path=e,c}function Uh(){return null!==Lb&&Lb.apply(this,arguments)||this}function yg(){return null!==Jg&&Jg.apply(this,arguments)||this}function fh(){return null!==mi&&mi.apply(this,arguments)||this}function gh(e,
c){var m=Ub.call(this)||this;return m._value=e,m._key=c,m}function Lc(e){for(var c,f,g=[],h=1;h<arguments.length;h++)g[h-1]=arguments[h];h=ka(e);try{for(var k=z(g),n=k.next();!n.done;n=k.next())h=n.value._apply(h)}catch(pe){c={error:pe}}finally{try{n&&!n.done&&(f=k.return)&&f.call(k)}finally{if(c)throw c.error;}}return h}function dj(e,c,f,g,h){var m=g||e.options.databaseURL;void 0===m&&(e.options.projectId||Ee("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),
Oc("Using default host for project ",e.options.projectId),m=e.options.projectId+"-default-rtdb.firebaseio.com");var k,F=$e(m,h),S=F.repoInfo;g=void 0;(g="undefined"!=typeof process?process.env.FIREBASE_DATABASE_EMULATOR_HOST:g)?(k=!0,m="http://"+g+"?ns="+S.namespace,S=(F=$e(m,h)).repoInfo):k=!F.repoInfo.secure;c=h&&k?new Zh(Zh.OWNER):new kj(e.name,e.options,c);Ge("Invalid Firebase Database URL",F);nb(F.path)||Ee("Database URL must point to the root of a Firebase Database (not including a child path).");
g=S;h=e;f=new Gj(e.name,f);(m=Qi[h.name])||(m={},Qi[h.name]=m);(h=m[g.toURLString()])&&Ee("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");f=(h=new Lj(g,oi,c,f),m[g.toURLString()]=h);return new Pc(f,e)}function Zf(e,c){this._repoInternal=e;this.app=c;this.type="database";this._instanceStarted=!1}function Fj(e,c){this.committed=e;this.snapshot=c}function ej(e,c,f){if(e=ka(e),Hc("Reference.transaction",e._path),".length"===e.key||
".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";f=null===(g=null==f?void 0:f.applyLocally)||void 0===g||g;var m=new Ed,g=tf(e,function(){});return function(e,c,m,f,g,h){tg(e,"transaction on "+c);var k={path:c,update:m,onComplete:f,status:null,order:ij(),applyLocally:h,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};m=Wb(e.serverSyncTree_,c,void 0)||eb.EMPTY_NODE;
k.currentInputSnapshot=m;void 0===(f=k.update(m.val()))?(k.unwatcher(),k.currentOutputSnapshotRaw=null,k.currentOutputSnapshotResolved=null,k.onComplete&&k.onComplete(null,!1,k.currentInputSnapshot)):(gi("transaction failed: Data returned ",f,k.path),k.status=0,(g=(h=Pe(e.transactionQueueTree_,c)).node.value||[]).push(k),Wg(h,g),"object"==typeof f&&null!==f&&ya(f,".priority")?(h=Ka(f,".priority"),va(cc(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
h=(Wb(e.serverSyncTree_,c)||eb.EMPTY_NODE).getPriority().val(),g=Xb(e),h=Ta(f,h),g=ei(h,m,g),k.currentOutputSnapshotRaw=h,k.currentOutputSnapshotResolved=g,k.currentWriteId=e.nextWriteId_++,k=Ug(e.serverSyncTree_,c,g,k.currentWriteId,k.applyLocally),jc(e.eventQueue_,c,k),me(e,e.transactionQueueTree_))}(e._repo,e._path,c,function(c,f,g){var h;c?m.reject(c):(h=new Cf(g,new be(e._repo,e._path),lc),m.resolve(new $b(f,h)))},g,f),m.promise}function Ld(e){this._delegate=e}function $k(e,c){this.committed=
e;this.snapshot=c}function kc(e,c){this._database=e;this._delegate=c}function Ab(e,c){this.database=e;this._delegate=c}function ob(e,c){var m=Nj.call(this,e,new Nd(c._repo,c._path,new $h,!1))||this;return m.database=e,m._delegate=c,m}function Vh(e,c){var m=this;this._delegate=e;this.app=c;this.INTERNAL={delete:function(){return m._delegate._delete()}}}var al=n&&"object"==typeof n&&"default"in n?n:{default:n},Mc=function(e,c){return(Mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,
c){e.__proto__=c}||function(e,c){for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(e[m]=c[m])})(e,c)},De=function(){return(De=Object.assign||function(e){for(var c,f=1,g=arguments.length;f<g;f++)for(var h in c=arguments[f])Object.prototype.hasOwnProperty.call(c,h)&&(e[h]=c[h]);return e}).apply(this,arguments)},Wh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},va=function(e,c){if(!e)throw Dd(c);},Dd=function(e){return Error("Firebase Database ("+Wh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+
e)},Di={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,c){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();c=c?this.byteToCharMapWebSafe_:
this.byteToCharMap_;for(var m=[],f=0;f<e.length;f+=3){var g=e[f],h=f+1<e.length,k=h?e[f+1]:0,n=f+2<e.length,t=n?e[f+2]:0,u=(15&k)<<2|t>>6;t&=63;n||(t=64,h||(u=64));m.push(c[g>>2],c[(3&g)<<4|k>>4],c[u],c[t])}return m.join("")},encodeString:function(e,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(e):this.encodeByteArray(f(e),c)},decodeString:function(e,c){if(this.HAS_NATIVE_SUPPORT&&!c)var m=atob(e);else{e=this.decodeStringToByteArray(e,c);c=[];for(var f=0,g=0;f<e.length;){var h,k,n=e[f++];128>n?c[g++]=
String.fromCharCode(n):191<n&&224>n?(h=e[f++],c[g++]=String.fromCharCode((31&n)<<6|63&h)):239<n&&365>n?(m=((7&n)<<18|(63&(h=e[f++]))<<12|(63&(k=e[f++]))<<6|63&e[f++])-65536,c[g++]=String.fromCharCode(55296+(m>>10)),c[g++]=String.fromCharCode(56320+(1023&m))):(h=e[f++],k=e[f++],c[g++]=String.fromCharCode((15&n)<<12|(63&h)<<6|63&k))}m=c.join("")}return m},decodeStringToByteArray:function(e,c){this.init_();c=c?this.charToByteMapWebSafe_:this.charToByteMap_;for(var m=[],f=0;f<e.length;){var g=c[e.charAt(f++)],
h=f<e.length?c[e.charAt(f)]:0,k=++f<e.length?c[e.charAt(f)]:64,n=++f<e.length?c[e.charAt(f)]:64;if(++f,null==g||null==h||null==k||null==n)throw Error();m.push(g<<2|h>>4);64!==k&&(m.push(h<<4&240|k>>2),64!==n&&m.push(k<<6&192|n))}return m},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=
e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ed=(fa.prototype.wrapCallback=function(e){var c=this;return function(m,f){m?c.reject(m):c.resolve(f);"function"==typeof e&&(c.promise.catch(function(){}),1===e.length?e(m):e(m,f))}},fa),Ua,qd=(v(vb,Ua=Error),vb),Ci=(db.prototype.create=
function(e){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var g=c[0]||{};c=this.service+"/"+e;e=(e=this.errors[e])?e.replace(Ei,function(e,c){e=g[c];return null!=e?String(e):"<"+c+"?>"}):"Error";e=this.serviceName+": "+e+" ("+c+").";return new qd(c,e,g)},db),Ei=/\{\$([^}]+)}/g,ck=($a.prototype.reset=function(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0},$a.prototype.compress_=
function(e,c){c=c||0;var m=this.W_;if("string"==typeof e)for(var f=0;16>f;f++)m[f]=e.charCodeAt(c)<<24|e.charCodeAt(c+1)<<16|e.charCodeAt(c+2)<<8|e.charCodeAt(c+3),c+=4;else for(f=0;16>f;f++)m[f]=e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3],c+=4;for(f=16;80>f;f++){var g=m[f-3]^m[f-8]^m[f-14]^m[f-16];m[f]=4294967295&(g<<1|g>>>31)}var h;e=this.chain_[0];c=this.chain_[1];var k=this.chain_[2],n=this.chain_[3],t=this.chain_[4];for(f=0;80>f;f++)g=40>f?20>f?(h=n^c&(k^n),1518500249):(h=c^k^n,1859775393):60>f?(h=
c&k|n&(c|k),2400959708):(h=c^k^n,3395469782),g=(e<<5|e>>>27)+h+t+g+m[f]&4294967295,t=n,n=k,k=4294967295&(c<<30|c>>>2),c=e,e=g;this.chain_[0]=this.chain_[0]+e&4294967295;this.chain_[1]=this.chain_[1]+c&4294967295;this.chain_[2]=this.chain_[2]+k&4294967295;this.chain_[3]=this.chain_[3]+n&4294967295;this.chain_[4]=this.chain_[4]+t&4294967295},$a.prototype.update=function(e,c){if(null!=e){for(var m=(c=void 0===c?e.length:c)-this.blockSize,f=0,g=this.buf_,h=this.inbuf_;f<c;){if(0===h)for(;f<=m;)this.compress_(e,
f),f+=this.blockSize;if("string"==typeof e)for(;f<c;){if(g[h]=e.charCodeAt(f),++f,++h===this.blockSize){this.compress_(g);h=0;break}}else for(;f<c;)if(g[h]=e[f],++f,++h===this.blockSize){this.compress_(g);h=0;break}}this.inbuf_=h;this.total_+=c}},$a.prototype.digest=function(){var e=[],c=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var f=this.blockSize-1;56<=f;f--)this.buf_[f]=255&c,c/=256;this.compress_(this.buf_);for(f=
c=0;5>f;f++)for(var g=24;0<=g;g-=8)e[c]=this.chain_[f]>>g&255,++c;return e},$a),fj=(jb.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},jb.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},jb.prototype.setServiceProps=function(e){return this.serviceProps=e,this},jb.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},jb),Ja=(Ca.prototype.get=function(e){var c=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(c)&&
(e=new Ed,this.instancesDeferred.set(c,e),this.isInitialized(c)||this.shouldAutoInitialize()))try{var f=this.getOrInitializeService({instanceIdentifier:c});f&&e.resolve(f)}catch(S){}return this.instancesDeferred.get(c).promise},Ca.prototype.getImmediate=function(e){var c=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier);e=null!==(e=null==e?void 0:e.optional)&&void 0!==e&&e;if(!this.isInitialized(c)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available");
}try{return this.getOrInitializeService({instanceIdentifier:c})}catch(F){if(e)return null;throw F;}},Ca.prototype.getComponent=function(){return this.component},Ca.prototype.setComponent=function(e){var c;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(Rc){}try{for(var f=
z(this.instancesDeferred.entries()),g=f.next();!g.done;g=f.next()){var h=I(g.value,2),k=h[1],n=this.normalizeInstanceIdentifier(h[0]);try{var t=this.getOrInitializeService({instanceIdentifier:n});k.resolve(t)}catch(Rc){}}}catch(Rc){var u={error:Rc}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error;}}}},Ca.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?"[DEFAULT]":e);this.instancesOptions.delete(e);this.instances.delete(e)},Ca.prototype.delete=
function(){return k(this,void 0,void 0,function(){var e;return x(this,function(m){switch(m.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(c(c([],I(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),I(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return m.sent(),[2]}})})},Ca.prototype.isComponentSet=function(){return null!=this.component},Ca.prototype.isInitialized=function(e){return this.instances.has(void 0===
e?"[DEFAULT]":e)},Ca.prototype.getOptions=function(e){return this.instancesOptions.get(void 0===e?"[DEFAULT]":e)||{}},Ca.prototype.initialize=function(e){var c,f=(e=void 0===e?{}:e).options;f=void 0===f?{}:f;e=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(e))throw Error(this.name+"("+e+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");f=this.getOrInitializeService({instanceIdentifier:e,options:f});
try{for(var g=z(this.instancesDeferred.entries()),h=g.next();!h.done;h=g.next()){var k=I(h.value,2),n=k[1];e===this.normalizeInstanceIdentifier(k[0])&&n.resolve(f)}}catch(Ve){var t={error:Ve}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(t)throw t.error;}}return f},Ca.prototype.onInit=function(e,c){var m=this.normalizeInstanceIdentifier(c),f=null!==(c=this.onInitCallbacks.get(m))&&void 0!==c?c:new Set;f.add(e);this.onInitCallbacks.set(m,f);c=this.instances.get(m);return c&&e(c,m),function(){f.delete(e)}},
Ca.prototype.invokeOnInitCallbacks=function(e,c){var m,f=this.onInitCallbacks.get(c);if(f)try{for(var g=z(f),h=g.next();!h.done;h=g.next()){var k=h.value;try{k(e,c)}catch(Ve){}}}catch(Ve){var n={error:Ve}}finally{try{h&&!h.done&&(m=g.return)&&m.call(g)}finally{if(n)throw n.error;}}},Ca.prototype.getOrInitializeService=function(e){var c=e.instanceIdentifier,f=e.options,g=void 0===f?{}:f;e=this.instances.get(c);if(!e&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:"[DEFAULT]"===
(f=c)?void 0:f,options:g}),this.instances.set(c,e),this.instancesOptions.set(c,g),this.invokeOnInitCallbacks(e,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,e)}catch(tb){}return e||null},Ca.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),!this.component||this.component.multipleInstances?e:"[DEFAULT]"},Ca.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},
Ca),Zb,$f=(U.prototype.addComponent=function(e){var c=this.getProvider(e.name);if(c.isComponentSet())throw Error("Component "+e.name+" has already been registered with "+this.name);c.setComponent(e)},U.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name);this.addComponent(e)},U.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var c=new Ja(e,this);return this.providers.set(e,c),c},U.prototype.getProviders=
function(){return Array.from(this.providers.values())},U);(Kb=Zb=Zb||{})[Kb.DEBUG=0]="DEBUG";Kb[Kb.VERBOSE=1]="VERBOSE";Kb[Kb.INFO=2]="INFO";Kb[Kb.WARN=3]="WARN";Kb[Kb.ERROR=4]="ERROR";Kb[Kb.SILENT=5]="SILENT";var tk={debug:Zb.DEBUG,verbose:Zb.VERBOSE,info:Zb.INFO,warn:Zb.WARN,error:Zb.ERROR,silent:Zb.SILENT},uk=Zb.INFO,gj=((la={})[Zb.DEBUG]="log",la[Zb.VERBOSE]="log",la[Zb.INFO]="info",la[Zb.WARN]="warn",la[Zb.ERROR]="error",la),hj=(Object.defineProperty(Q.prototype,"logLevel",{get:function(){return this._logLevel},
set:function(e){if(!(e in Zb))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),Q.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?tk[e]:e},Object.defineProperty(Q.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(Q.prototype,
"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),Q.prototype.debug=function(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Zb.DEBUG],e));this._logHandler.apply(this,c([this,Zb.DEBUG],e))},Q.prototype.log=function(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Zb.VERBOSE],
e));this._logHandler.apply(this,c([this,Zb.VERBOSE],e))},Q.prototype.info=function(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Zb.INFO],e));this._logHandler.apply(this,c([this,Zb.INFO],e))},Q.prototype.warn=function(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Zb.WARN],e));this._logHandler.apply(this,c([this,Zb.WARN],e))},Q.prototype.error=function(){for(var e=
[],m=0;m<arguments.length;m++)e[m]=arguments[m];this._userLogHandler&&this._userLogHandler.apply(this,c([this,Zb.ERROR],e));this._logHandler.apply(this,c([this,Zb.ERROR],e))},Q),rb="",uf=(wb.prototype.set=function(e,c){null==c?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),J(c))},wb.prototype.get=function(e){e=this.domStorage_.getItem(this.prefixedName_(e));return null==e?null:JSON.parse(e)},wb.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},
wb.prototype.prefixedName_=function(e){return this.prefix_+e},wb.prototype.toString=function(){return this.domStorage_.toString()},wb),hh=(Ha.prototype.set=function(e,c){null==c?delete this.cache_[e]:this.cache_[e]=c},Ha.prototype.get=function(e){return ya(this.cache_,e)?this.cache_[e]:null},Ha.prototype.remove=function(e){delete this.cache_[e]},Ha),Rb,Vc=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var c=window[e];return c.setItem("firebase:sentinel","cache"),c.removeItem("firebase:sentinel"),
new uf(c)}}catch(F){}return new hh},Wc=Vc("localStorage"),ih=Vc("sessionStorage"),jh=new hj("@firebase/database"),ij=(Rb=1,function(){return Rb++}),vf=function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];c="";for(var f=0;f<e.length;f++){var g=e[f];Array.isArray(g)||g&&"object"==typeof g&&"number"==typeof g.length?c+=vf.apply(null,g):c+="object"==typeof g?J(g):g;c+=" "}return c},ag=null,Xh=!0,Oc=function(){for(var e,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];!0===Xh&&(Xh=!1,
null===ag&&!0===ih.get("logging_enabled")&&kb(!0));ag&&(e=vf.apply(null,c),ag(e))},wf=function(e){return function(){for(var m=[],f=0;f<arguments.length;f++)m[f]=arguments[f];Oc.apply(void 0,c([e],I(m)))}},Ee=function(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];e="FIREBASE FATAL ERROR: "+vf.apply(void 0,c([],I(e)));throw jh.error(e),Error(e);},Nc=function(){for(var e=[],m=0;m<arguments.length;m++)e[m]=arguments[m];e="FIREBASE WARNING: "+vf.apply(void 0,c([],I(e)));jh.warn(e)},zg=function(e,
c){if(e===c)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===c)return-1;if("[MIN_NAME]"===c||"[MAX_NAME]"===e)return 1;var m=sc(e),f=sc(c);return null!==m?null!==f?0==m-f?e.length-c.length:m-f:-1:null===f&&e<c?-1:1},jj=function(e){if("object"!=typeof e||null===e)return J(e);var c=[];for(f in e)c.push(f);c.sort();var f="{";for(var g=0;g<c.length;g++)0!==g&&(f+=","),f+=J(c[g]),f+=":",f+=jj(e[c[g]]);return f+"}"},Yh=/^-?(0*)\d{1,10}$/,sc=function(e){return Yh.test(e)&&(e=Number(e),-2147483648<=e&&2147483647>=
e)?e:null},Ag=function(e){try{e()}catch(m){setTimeout(function(){throw Nc("Exception was thrown by user callback.",m.stack||""),m;},0)}},Gj=(Jb.prototype.getToken=function(e){var c=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(m,f){setTimeout(function(){c.appCheck?c.getToken(e).then(m,f):m(null)},0)})},Jb.prototype.addTokenChangeListener=function(e){var c;null!==(c=this.appCheckProvider)&&void 0!==c&&c.get().then(function(c){return c.addTokenListener(e)})},Jb.prototype.notifyForInvalidToken=
function(){Nc('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},Jb),kj=(M.prototype.getToken=function(e){var c=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(Oc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(m,f){setTimeout(function(){c.auth_?c.getToken(e).then(m,f):m(null)},
0)})},M.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(c){return c.addAuthTokenListener(e)})},M.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(c){return c.removeAuthTokenListener(e)})},M.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';
"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.';
Nc(e)},M),Zh=(ea.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},ea.prototype.addTokenChangeListener=function(e){e(this.accessToken)},ea.prototype.removeTokenChangeListener=function(e){},ea.prototype.notifyForInvalidToken=function(){},ea.OWNER="owner",ea),dk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fi=(ac.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},ac.prototype.isCustomHost=function(){return"firebaseio.com"!==
this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(ac.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wc.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),ac.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},ac.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+
"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},ac),Bg=(Ba.prototype.incrementCounter=function(e,c){void 0===c&&(c=1);ya(this.counters_,e)||(this.counters_[e]=0);this.counters_[e]+=c},Ba.prototype.get=function(){return sa(this.counters_)},Ba),bg={},lb={},Fe=(ca.prototype.closeAfter=function(e,c){this.closeAfterResponse=e;this.onClose=c;this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},ca.prototype.handleResponse=function(e,c){var m=this;this.pendingResponses[e]=
c;e=function(){var e=f.pendingResponses[f.currentResponseNum];delete f.pendingResponses[f.currentResponseNum];for(var c=0;c<e.length;++c)!function(c){e[c]&&Ag(function(){m.onMessage_(e[c])})}(c);if(f.currentResponseNum===f.closeAfterResponse)return f.onClose&&(f.onClose(),f.onClose=null),"break";f.currentResponseNum++};for(var f=this;this.pendingResponses[this.currentResponseNum]&&"break"!==e(););},ca),Cg=(La.prototype.open=function(e,c){var m,f,g=this;this.curSegmentNum=0;this.onDisconnect_=c;this.myPacketOrderer=
new Fe(e);this.isClosed_=!1;this.connectTimeoutTimer_=setTimeout(function(){g.log_("Timed out trying to connect.");g.onClosed_();g.connectTimeoutTimer_=null},3E4);var h=function(){var e;g.isClosed_||(g.scriptTagHolder=new xf(function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];c=I(e,5);var m=c[0],f=c[1],h=c[2];if(c[3],c[4],g.incrementIncomingBytes_(e),g.scriptTagHolder)if(g.connectTimeoutTimer_&&(clearTimeout(g.connectTimeoutTimer_),g.connectTimeoutTimer_=null),g.everConnected_=!0,
"start"===m)g.id=f,g.password=h;else{if("close"!==m)throw Error("Unrecognized command received: "+m);f?(g.scriptTagHolder.sendNewPolls=!1,g.myPacketOrderer.closeAfter(f,function(){g.onClosed_()})):g.onClosed_()}},function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];c=I(e,2);var m=c[0];c=c[1];g.incrementIncomingBytes_(e);g.myPacketOrderer.handleResponse(m,c)},function(){g.onClosed_()},g.urlFn),(e={start:"t"}).ser=Math.floor(1E8*Math.random()),g.scriptTagHolder.uniqueCallbackIdentifier&&
(e.cb=g.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",g.transportSessionId&&(e.s=g.transportSessionId),g.lastSessionId&&(e.ls=g.lastSessionId),g.applicationId&&(e.p=g.applicationId),g.appCheckToken&&(e.ac=g.appCheckToken),"undefined"!=typeof location&&location.hostname&&dk.test(location.hostname)&&(e.r="f"),e=g.urlFn(e),g.log_("Connecting via long-poll to "+e),g.scriptTagHolder.addTag(e,function(){}))};"complete"===document.readyState?h():(m=!1,f=function(){document.body?m||(m=!0,h()):setTimeout(f,
10)},document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()}),window.attachEvent("onload",f)))},La.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password);this.addDisconnectPingFrame(this.id,this.password)},La.forceAllow=function(){La.forceAllow_=!0},La.forceDisallow=function(){La.forceDisallow_=
!0},La.isAvailable=function(){return!!La.forceAllow_||!(La.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},La.prototype.markConnectionHealthy=function(){},La.prototype.shutdown_=function(){this.isClosed_=!0;this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null);this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),
this.myDisconnFrame=null);this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},La.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},La.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},La.prototype.send=function(e){e=J(e);this.bytesSent+=e.length;this.stats_.incrementCounter("bytes_sent",
e.length);e=r(e);e=sb(e,1840);for(var c=0;c<e.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[c]),this.curSegmentNum++},La.prototype.addDisconnectPingFrame=function(e,c){this.myDisconnFrame=document.createElement("iframe");var m={dframe:"t"};m.id=e;m.pw=c;this.myDisconnFrame.src=this.urlFn(m);this.myDisconnFrame.style.display="none";document.body.appendChild(this.myDisconnFrame)},La.prototype.incrementIncomingBytes_=function(e){e=J(e).length;this.bytesReceived+=e;this.stats_.incrementCounter("bytes_received",
e)},La),xf=(Qc.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Oc("No IE domain setting required")}catch(m){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?
e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},Qc.prototype.close=function(){var e=this;this.alive=!1;this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},0));var c=this.onDisconnect;c&&(this.onDisconnect=null,c())},Qc.prototype.startLongPoll=function(e,c){this.myID=e;this.myPW=c;for(this.alive=!0;this.newRequest_(););},Qc.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&
this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e.id=this.myID;e.pw=this.myPW;e.ser=this.currentSerial;e=this.urlFn(e);for(var c="",f=0;0<this.pendingSegs.length&&1870>=this.pendingSegs[0].d.length+30+c.length;){var g=this.pendingSegs.shift();c=c+"&seg"+f+"="+g.seg+"&ts"+f+"="+g.ts+"&d"+f+"="+g.d;f++}return this.addLongPollTag_(e+c,this.currentSerial),!0}return!1},Qc.prototype.enqueueSegment=function(e,c,f){this.pendingSegs.push({seg:e,ts:c,d:f});this.alive&&
this.newRequest_()},Qc.prototype.addLongPollTag_=function(e,c){function m(){f.outstandingRequests.delete(c);f.newRequest_()}var f=this;this.outstandingRequests.add(c);var g=setTimeout(m,25E3);this.addTag(e,function(){clearTimeout(g);m()})},Qc.prototype.addTag=function(e,c){var m=this;setTimeout(function(){try{if(m.sendNewPolls){var f=m.myIFrame.doc.createElement("script");f.type="text/javascript";f.async=!0;f.src=e;f.onload=f.onreadystatechange=function(){var e=f.readyState;e&&"loaded"!==e&&"complete"!==
e||(f.onload=f.onreadystatechange=null,f.parentNode&&f.parentNode.removeChild(f),c())};f.onerror=function(){Oc("Long-poll script failed to load: "+e);m.sendNewPolls=!1;m.close()};m.myIFrame.doc.body.appendChild(f)}}catch(tb){}},1)},Qc),lj=null;"undefined"!=typeof MozWebSocket?lj=MozWebSocket:"undefined"!=typeof WebSocket&&(lj=WebSocket);var pb=(Sa.connectionURL_=function(e,c,f,g){var m={v:"5"};return"undefined"!=typeof location&&location.hostname&&dk.test(location.hostname)&&(m.r="f"),c&&(m.s=c),
f&&(m.ls=f),g&&(m.ac=g),Ie(e,"websocket",m)},Sa.prototype.open=function(e,c){var m=this;this.onDisconnect=c;this.onMessage=e;this.log_("Websocket connecting to "+this.connURL);this.everConnected_=!1;Wc.set("previous_websocket_failure",!0);try{!0===Wh.NODE_ADMIN||(f={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new lj(this.connURL,[],f))}catch(tb){this.log_("Error instantiating WebSocket.");var f=tb.message||tb.data;return f&&this.log_(f),
void this.onClosed_()}this.mySock.onopen=function(){m.log_("Websocket connected.");m.everConnected_=!0};this.mySock.onclose=function(){m.log_("Websocket connection was disconnected.");m.mySock=null;m.onClosed_()};this.mySock.onmessage=function(e){m.handleIncomingFrame(e)};this.mySock.onerror=function(e){m.log_("WebSocket error.  Closing connection.");(e=e.message||e.data)&&m.log_(e);m.onClosed_()}},Sa.prototype.start=function(){},Sa.forceDisallow=function(){Sa.forceDisallow_=!0},Sa.isAvailable=function(){var e,
c=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<e.length&&4.4>parseFloat(e[1])&&(c=!0),!c&&null!==lj&&!Sa.forceDisallow_},Sa.previouslyFailed=function(){return Wc.isInMemoryStorage||!0===Wc.get("previous_websocket_failure")},Sa.prototype.markConnectionHealthy=function(){Wc.remove("previous_websocket_failure")},Sa.prototype.appendFrame_=function(e){this.frames.push(e);this.frames.length===this.totalFrames&&(e=this.frames.join(""),
this.frames=null,e=JSON.parse(e),this.onMessage(e))},Sa.prototype.handleNewFrameCount_=function(e){this.totalFrames=e;this.frames=[]},Sa.prototype.extractFrameCount_=function(e){if(va(null===this.frames,"We already have a frame buffer"),6>=e.length){var c=Number(e);if(!isNaN(c))return this.handleNewFrameCount_(c),null}return this.handleNewFrameCount_(1),e},Sa.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",
e.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(e):null!==(e=this.extractFrameCount_(e))&&this.appendFrame_(e))},Sa.prototype.send=function(e){this.resetKeepAlive();e=J(e);this.bytesSent+=e.length;this.stats_.incrementCounter("bytes_sent",e.length);e=sb(e,16384);1<e.length&&this.sendString_(String(e.length));for(var c=0;c<e.length;c++)this.sendString_(e[c])},Sa.prototype.shutdown_=function(){this.isClosed_=!0;this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=
null);this.mySock&&(this.mySock.close(),this.mySock=null)},Sa.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Sa.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Sa.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer);this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0");
e.resetKeepAlive()},45E3)},Sa.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(m){this.log_("Exception thrown from WebSocket.send():",m.message||m.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Sa.responsesRequiredToBeHealthy=2,Sa.healthyTimeout=3E4,Sa),Gi=(Object.defineProperty(Ma,"ALL_TRANSPORTS",{get:function(){return[Cg,pb]},enumerable:!1,configurable:!0}),Ma.prototype.initTransports_=function(e){var c,f=pb&&pb.isAvailable(),g=f&&!pb.previouslyFailed();if(e.webSocketOnly&&
(f||Nc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[pb];else{e=this.transports_=[];try{for(var h=z(Ma.ALL_TRANSPORTS),k=h.next();!k.done;k=h.next()){var n=k.value;n&&n.isAvailable()&&e.push(n)}}catch(Ve){var t={error:Ve}}finally{try{k&&!k.done&&(c=h.return)&&c.call(h)}finally{if(t)throw t.error;}}}},Ma.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw Error("No transports available");
},Ma.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},Ma),Pk=(Nb.prototype.start_=function(){var e=this,c=this.transportManager_.initialTransport();this.conn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId);this.primaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var f=this.connReceiver_(this.conn_),g=this.disconnReceiver_(this.conn_);this.rx_=this.tx_=this.conn_;this.secondaryConn_=
null;this.isHealthy_=!1;setTimeout(function(){e.conn_&&e.conn_.open(f,g)},0);c=c.healthyTimeout||0;0<c&&(this.healthyTimeout_=h(function(){e.healthyTimeout_=null;e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):
(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(c)))},Nb.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Nb.prototype.disconnReceiver_=function(e){var c=this;return function(f){e===c.conn_?c.onConnectionLost_(f):e===c.secondaryConn_?(c.log_("Secondary connection lost."),c.onSecondaryConnectionLost_()):c.log_("closing an old connection")}},Nb.prototype.connReceiver_=function(e){var c=this;return function(f){2!==c.state_&&(e===c.rx_?
c.onPrimaryMessageReceived_(f):e===c.secondaryConn_?c.onSecondaryMessageReceived_(f):c.log_("message on old connection"))}},Nb.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},Nb.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Nb.prototype.onSecondaryControl_=function(e){"t"in e&&("a"===(e=
e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Nb.prototype.onSecondaryMessageReceived_=function(e){var c=Db("t",e);e=Db("d",e);if("c"===c)this.onSecondaryControl_(e);else{if("d"!==c)throw Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(e)}},
Nb.prototype.upgradeIfSecondaryHealthy_=function(){0>=this.secondaryResponsesRequired_?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Nb.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start();this.log_("sending client ack on secondary");this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}});this.log_("Ending transmission on primary");
this.conn_.send({t:"c",d:{t:"n",d:{}}});this.tx_=this.secondaryConn_;this.tryCleanupConnection()},Nb.prototype.onPrimaryMessageReceived_=function(e){var c=Db("t",e);e=Db("d",e);"c"===c?this.onControl_(e):"d"===c&&this.onDataMessage_(e)},Nb.prototype.onDataMessage_=function(e){this.onPrimaryResponse_();this.onMessage_(e)},Nb.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,0>=this.primaryResponsesRequired_&&(this.log_("Primary connection is healthy."),this.isHealthy_=
!0,this.conn_.markConnectionHealthy()))},Nb.prototype.onControl_=function(e){var c=Db("t",e);if("d"in e)if(e=e.d,"h"===c)this.onHandshake_(e);else if("n"===c){this.log_("recvd end transmission on primary");this.rx_=this.secondaryConn_;for(e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[];this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(e):"r"===c?this.onReset_(e):"e"===c?ja("Server Error: "+e):"o"===c?(this.log_("got pong on primary."),
this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ja("Unknown control packet command: "+c)},Nb.prototype.onHandshake_=function(e){var c=e.ts,f=e.v,g=e.h;this.sessionId=e.s;this.repoInfo_.host=g;0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==f&&Nc("Protocol version mismatch detected"),this.tryStartUpgrade_())},Nb.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Nb.prototype.startUpgrade_=
function(e){var c=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId);this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var f=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(f,e);h(function(){c.secondaryConn_&&(c.log_("Timed out trying to upgrade."),c.secondaryConn_.close())},6E4)},Nb.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+
e);this.repoInfo_.host=e;1===this.state_?this.close():(this.closeConnections_(),this.start_())},Nb.prototype.onConnectionEstablished_=function(e,c){var f=this;this.log_("Realtime connection established.");this.conn_=e;this.state_=1;this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null);0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):h(function(){f.sendPingOnPrimaryIfNecessary_()},5E3)},Nb.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||
1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Nb.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null;this.tx_!==e&&this.rx_!==e||this.close()},Nb.prototype.onConnectionLost_=function(e){this.conn_=null;e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=
this.repoInfo_.host));this.close()},Nb.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down...");this.onKill_&&(this.onKill_(e),this.onKill_=null);this.onDisconnect_=null;this.close()},Nb.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Nb.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),
this.onDisconnect_=null))},Nb.prototype.closeConnections_=function(){this.log_("Shutting down all connections");this.conn_&&(this.conn_.close(),this.conn_=null);this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null);this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Nb),Kb=(xd.prototype.put=function(e,c,f,g){},xd.prototype.merge=function(e,c,f,g){},xd.prototype.refreshAuthToken=function(e){},xd.prototype.refreshAppCheckToken=function(e){},xd.prototype.onDisconnectPut=
function(e,c,f){},xd.prototype.onDisconnectMerge=function(e,c,f){},xd.prototype.onDisconnectCancel=function(e,c){},xd.prototype.reportStats=function(e){},xd),la=(X.prototype.trigger=function(e){for(var f=[],g=1;g<arguments.length;g++)f[g-1]=arguments[g];if(Array.isArray(this.listeners_[e])){g=c([],I(this.listeners_[e]));for(var h=0;h<g.length;h++)g[h].callback.apply(g[h].context,f)}},X.prototype.on=function(e,c,f){this.validateEventType_(e);this.listeners_[e]=this.listeners_[e]||[];this.listeners_[e].push({callback:c,
context:f});(e=this.getInitialEvent(e))&&c.apply(f,e)},X.prototype.off=function(e,c,f){this.validateEventType_(e);e=this.listeners_[e]||[];for(var m=0;m<e.length;m++)if(e[m].callback===c&&(!f||f===e[m].context))return void e.splice(m,1)},X.prototype.validateEventType_=function(e){va(this.allowedEvents_.find(function(c){return c===e}),"Unknown event: "+e)},X),tc,mj=(v(bd,tc=la),bd.getInstance=function(){return new bd},bd.prototype.getInitialEvent=function(e){return va("online"===e,"Unknown event type: "+
e),[this.online_]},bd.prototype.currentlyOnline=function(){return this.online_},bd),Qb=(Eb.prototype.toString=function(){for(var e="",c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(e+="/"+this.pieces_[c]);return e||"/"},Eb),Zc=function(e,c){this.errorPrefix_=c;this.parts_=Je(e,0);this.byteLength_=Math.max(1,this.parts_.length);for(e=0;e<this.parts_.length;e++)this.byteLength_+=Gb(this.parts_[e]);Ah(this)},nj,oj=(v(mb,nj=la),mb.getInstance=function(){return new mb},mb.prototype.getInitialEvent=
function(e){return va("visible"===e,"Unknown event type: "+e),[this.visible_]},mb),pj,yf=(v(Ia,pj=Kb),Ia.prototype.sendRequest=function(e,c,f){var m=++this.requestNumber_;c={r:m,a:e,b:c};this.log_(J(c));va(this.connected_,"sendRequest call when we're not connected not allowed.");this.realtime_.sendRequest(c);f&&(this.requestCBHash_[m]=f)},Ia.prototype.get=function(e){var c=this;this.initConnection_();var f=new Ed,g={p:e._path.toString(),q:e._queryObject},h={action:"g",request:g,onComplete:function(e){var m=
e.d;"ok"===e.s?(c.onDataUpdate_(g.p,m,!1,null),f.resolve(m)):f.reject(m)}};this.outstandingGets_.push(h);this.outstandingGetCount_++;var k=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=c.outstandingGets_[k];void 0!==e&&h===e&&(delete c.outstandingGets_[k],c.outstandingGetCount_--,0===c.outstandingGetCount_&&(c.outstandingGets_=[]),c.log_("get "+k+" timed out on connection"),f.reject(Error("Client is offline.")))},3E3),this.connected_&&this.sendGet_(k),f.promise},
Ia.prototype.listen=function(e,c,f,g){this.initConnection_();var m=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+m);this.listens.has(h)||this.listens.set(h,new Map);va(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query");va(!this.listens.get(h).has(m),"listen() called twice for same path/queryId.");f={onComplete:g,hashFn:c,query:e,tag:f};this.listens.get(h).set(m,f);this.connected_&&this.sendListen_(f)},Ia.prototype.sendGet_=
function(e){var c=this,f=this.outstandingGets_[e];this.sendRequest("g",f.request,function(m){delete c.outstandingGets_[e];c.outstandingGetCount_--;0===c.outstandingGetCount_&&(c.outstandingGets_=[]);f.onComplete&&f.onComplete(m)})},Ia.prototype.sendListen_=function(e){var c=this,f=e.query,g=f._path.toString(),h=f._queryIdentifier;this.log_("Listen on "+g+" for "+h);var k={p:g};e.tag&&(k.q=f._queryObject,k.t=e.tag);k.h=e.hashFn();this.sendRequest("q",k,function(m){var k=m.d,F=m.s;Ia.warnOnListenWarnings_(k,
f);(c.listens.get(g)&&c.listens.get(g).get(h))===e&&(c.log_("listen response",m),"ok"!==F&&c.removeListen_(g,h),e.onComplete&&e.onComplete(F,k))})},Ia.warnOnListenWarnings_=function(e,c){e&&"object"==typeof e&&ya(e,"w")&&(e=Ka(e,"w"),Array.isArray(e)&&~e.indexOf("no_index")&&(e='".indexOn": "'+c._queryParams.getIndex().toString()+'"',c=c._path.toString(),Nc("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+c+" to your security rules for better performance.")))},
Ia.prototype.refreshAuthToken=function(e){this.authToken_=e;this.log_("Auth token refreshed");this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){});this.reduceReconnectDelayIfAdminCredential_(e)},Ia.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var c;(c=e&&40===e.length)||(e=fb(e).claims,c="object"==typeof e&&!0===e.admin);c&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3E4)},Ia.prototype.refreshAppCheckToken=
function(e){this.appCheckToken_=e;this.log_("App check token refreshed");this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},Ia.prototype.tryAuth=function(){var e,c,f,g=this;this.connected_&&this.authToken_&&(c=function(e){e=fb(e).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}(e=this.authToken_)?"auth":"gauth",f={cred:e},null===this.authOverride_?f.noauth=!0:"object"==typeof this.authOverride_&&(f.authvar=this.authOverride_),this.sendRequest(c,
f,function(c){var f=c.s;c=c.d||"error";g.authToken_===e&&("ok"===f?g.invalidAuthTokenCount_=0:g.onAuthRevoked_(f,c))}))},Ia.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(c){var f=c.s;c=c.d||"error";"ok"===f?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(f,c)})},Ia.prototype.unlisten=function(e,c){var f=e._path.toString(),m=e._queryIdentifier;this.log_("Unlisten called for "+f+" "+m);va(e._queryParams.isDefault()||
!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(f,m)&&this.connected_&&this.sendUnlisten_(f,m,e._queryObject,c)},Ia.prototype.sendUnlisten_=function(e,c,f,g){this.log_("Unlisten on "+e+" for "+c);e={p:e};g&&(e.q=f,e.t=g);this.sendRequest("n",e)},Ia.prototype.onDisconnectPut=function(e,c,f){this.initConnection_();this.connected_?this.sendOnDisconnect_("o",e,c,f):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:c,onComplete:f})},
Ia.prototype.onDisconnectMerge=function(e,c,f){this.initConnection_();this.connected_?this.sendOnDisconnect_("om",e,c,f):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:c,onComplete:f})},Ia.prototype.onDisconnectCancel=function(e,c){this.initConnection_();this.connected_?this.sendOnDisconnect_("oc",e,null,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:c})},Ia.prototype.sendOnDisconnect_=function(e,c,f,g){f={p:c,d:f};this.log_("onDisconnect "+
e,f);this.sendRequest(e,f,function(e){g&&setTimeout(function(){g(e.s,e.d)},0)})},Ia.prototype.put=function(e,c,f,g){this.putInternal("p",e,c,f,g)},Ia.prototype.merge=function(e,c,f,g){this.putInternal("m",e,c,f,g)},Ia.prototype.putInternal=function(e,c,f,g,h){this.initConnection_();f={p:c,d:f};void 0!==h&&(f.h=h);this.outstandingPuts_.push({action:e,request:f,onComplete:g});this.outstandingPutCount_++;g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+c)},
Ia.prototype.sendPut_=function(e){var c=this,f=this.outstandingPuts_[e].action,g=this.outstandingPuts_[e].request,h=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_;this.sendRequest(f,g,function(m){c.log_(f+" response",m);delete c.outstandingPuts_[e];c.outstandingPutCount_--;0===c.outstandingPutCount_&&(c.outstandingPuts_=[]);h&&h(m.s,m.d)})},Ia.prototype.reportStats=function(e){var c=this;this.connected_&&(this.log_("reportStats",e={c:e}),this.sendRequest("s",e,
function(e){"ok"!==e.s&&(e=e.d,c.log_("reportStats","Error sending stats: "+e))}))},Ia.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+J(e));var c=e.r,f=this.requestCBHash_[c];f&&(delete this.requestCBHash_[c],f(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},Ia.prototype.onDataPush_=function(e,c){this.log_("handleServerMessage",e,c);"d"===e?this.onDataUpdate_(c.p,c.d,!1,c.t):"m"===e?this.onDataUpdate_(c.p,
c.d,!0,c.t):"c"===e?this.onListenRevoked_(c.p,c.q):"ac"===e?this.onAuthRevoked_(c.s,c.d):"apc"===e?this.onAppCheckRevoked_(c.s,c.d):"sd"===e?this.onSecurityDebugPacket_(c):ja("Unrecognized action received from server: "+J(e)+"\nAre you using the latest client?")},Ia.prototype.onReady_=function(e,c){this.log_("connection ready");this.connected_=!0;this.lastConnectionEstablishedTime_=(new Date).getTime();this.handleTimestamp_(e);this.lastSessionId=c;this.firstConnection_&&this.sendConnectStats_();this.restoreState_();
this.firstConnection_=!1;this.onConnectStatus_(!0)},Ia.prototype.scheduleConnect_=function(e){var c=this;va(!this.realtime_,"Scheduling a connect when we're already connected/ing?");this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_);this.establishConnectionTimer_=setTimeout(function(){c.establishConnectionTimer_=null;c.establishConnection_()},Math.floor(e))},Ia.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},Ia.prototype.onVisible_=
function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0));this.visible_=e},Ia.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},Ia.prototype.onRealtimeDisconnect_=function(){var e;
this.log_("data client disconnected");this.connected_=!1;this.realtime_=null;this.cancelSentTransactions_();this.requestCBHash_={};this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3E4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1E3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-
this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e*=Math.random(),this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_));this.onConnectStatus_(!1)},Ia.prototype.establishConnection_=function(){return k(this,void 0,void 0,function(){var e,c,f,g,h,k,n,t,u,C,r=this;return x(this,function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt");
this.lastConnectionAttemptTime_=(new Date).getTime();this.lastConnectionEstablishedTime_=null;e=this.onDataMessage_.bind(this);c=this.onReady_.bind(this);f=this.onRealtimeDisconnect_.bind(this);g=this.id+":"+Ia.nextConnectionId_++;C=this.lastSessionId;h=!1;k=null;n=function(){k?k.close():(h=!0,f())};u=function(e){va(k,"sendRequest call when we're not connected not allowed.");k.sendRequest(e)};this.realtime_={close:n,sendRequest:u};t=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;m.label=1;case 1:return m.trys.push([1,
3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(t),this.appCheckTokenProvider_.getToken(t)])];case 2:return u=I.apply(void 0,[m.sent(),2]),t=u[0],u=u[1],h?Oc("getToken() completed but was canceled"):(Oc("getToken() completed. Creating connection."),this.authToken_=t&&t.accessToken,this.appCheckToken_=u&&u.token,k=new Pk(g,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,c,f,function(e){Nc(e+" ("+r.repoInfo_.toString()+")");r.interrupt("server_kill")},C)),[3,4];case 3:return C=
m.sent(),this.log_("Failed to get token: "+C),h||(this.repoInfo_.nodeAdmin&&Nc(C),n()),[3,4];case 4:return[2]}})})},Ia.prototype.interrupt=function(e){Oc("Interrupting connection for reason: "+e);this.interruptReasons_[e]=!0;this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},Ia.prototype.resume=function(e){Oc("Resuming connection for reason: "+e);delete this.interruptReasons_[e];
E(this.interruptReasons_)&&(this.reconnectDelay_=1E3,this.realtime_||this.scheduleConnect_(0))},Ia.prototype.handleTimestamp_=function(e){e-=(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},Ia.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var c=this.outstandingPuts_[e];c&&"h"in c.request&&c.queued&&(c.onComplete&&c.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&
(this.outstandingPuts_=[])},Ia.prototype.onListenRevoked_=function(e,c){c=c?c.map(function(e){return jj(e)}).join("$"):"default";(c=this.removeListen_(e,c))&&c.onComplete&&c.onComplete("permission_denied")},Ia.prototype.removeListen_=function(e,c){var f,m=(new Qb(e)).toString();return this.listens.has(m)?(f=(e=this.listens.get(m)).get(c),e.delete(c),0===e.size&&this.listens.delete(m)):f=void 0,f},Ia.prototype.onAuthRevoked_=function(e,c){Oc("Auth token revoked: "+e+"/"+c);this.authToken_=null;this.forceTokenRefresh_=
!0;this.realtime_.close();"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3E4,this.authTokenProvider_.notifyForInvalidToken()))},Ia.prototype.onAppCheckRevoked_=function(e,c){Oc("App check token revoked: "+e+"/"+c);this.appCheckToken_=null;this.forceTokenRefresh_=!0;"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},
Ia.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},Ia.prototype.restoreState_=function(){var e,c,f;this.tryAuth();this.tryAppCheck();try{for(var g=z(this.listens.values()),h=g.next();!h.done;h=g.next()){var k=h.value;try{for(var n=(c=void 0,z(k.values())),t=n.next();!t.done;t=n.next())this.sendListen_(t.value)}catch(Rc){c={error:Rc}}finally{try{t&&!t.done&&(f=n.return)&&
f.call(n)}finally{if(c)throw c.error;}}}}catch(Rc){var u={error:Rc}}finally{try{h&&!h.done&&(e=g.return)&&e.call(g)}finally{if(u)throw u.error;}}for(u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;)u=this.onDisconnectRequestQueue_.shift(),this.sendOnDisconnect_(u.action,u.pathString,u.data,u.onComplete);for(u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)},Ia.prototype.sendConnectStats_=function(){var e=
{};e["sdk.js."+rb.replace(/\./g,"-")]=1;B()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1);this.reportStats(e)},Ia.prototype.shouldReconnect_=function(){var e=mj.getInstance().currentlyOnline();return E(this.interruptReasons_)&&e},Ia.nextPersistentConnectionId_=0,Ia.nextConnectionId_=0,Ia),Fb=(nc.Wrap=function(e,c){return new nc(e,c)},nc),Dg;Vc=(Wa.prototype.getCompare=function(){return this.compare.bind(this)},Wa.prototype.indexedValueChanged=
function(e,c){e=new Fb("[MIN_NAME]",e);c=new Fb("[MIN_NAME]",c);return 0!==this.compare(e,c)},Wa.prototype.minPost=function(){return Fb.MIN},Wa);var Ii;hj=(v(G,Ii=Vc),Object.defineProperty(G,"__EMPTY_NODE",{get:function(){return Dg},set:function(e){Dg=e},enumerable:!1,configurable:!0}),G.prototype.compare=function(e,c){return zg(e.name,c.name)},G.prototype.isDefinedOn=function(e){throw Dd("KeyIndex.isDefinedOn not expected to be called.");},G.prototype.indexedValueChanged=function(e,c){return!1},
G.prototype.minPost=function(){return Fb.MIN},G.prototype.maxPost=function(){return new Fb("[MAX_NAME]",Dg)},G.prototype.makePost=function(e,c){return va("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fb(e,Dg)},G.prototype.toString=function(){return".key"},G);var $c=new hj,Fg=(ue.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),c=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=
e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return c},ue.prototype.hasNext=function(){return 0<this.nodeStack_.length},ue.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},ue),qe=(xb.prototype.copy=function(e,c,f,g,h){return new xb(null!=e?e:this.key,null!=c?c:this.value,
null!=f?f:this.color,null!=g?g:this.left,null!=h?h:this.right)},xb.prototype.count=function(){return this.left.count()+1+this.right.count()},xb.prototype.isEmpty=function(){return!1},xb.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},xb.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},xb.prototype.min_=function(){return this.left.isEmpty()?
this:this.left.min_()},xb.prototype.minKey=function(){return this.min_().key},xb.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},xb.prototype.insert=function(e,c,f){var m=f(e,this.key);return(0>m?this.copy(null,null,null,this.left.insert(e,c,f),null):0===m?this.copy(null,c,null,null,null):this.copy(null,null,null,null,this.right.insert(e,c,f))).fixUp_()},xb.prototype.removeMin_=function(){if(this.left.isEmpty())return zf.EMPTY_NODE;var e=this;return(e=e.left.isRed_()||
e.left.left.isRed_()?e:e.moveRedLeft_()).copy(null,null,null,e.left.removeMin_(),null).fixUp_()},xb.prototype.remove=function(e,c){var f=this;if(0>c(e,f.key))f=(f=f.left.isEmpty()||f.left.isRed_()||f.left.left.isRed_()?f:f.moveRedLeft_()).copy(null,null,null,f.left.remove(e,c),null);else{if(0===c(e,(f=(f=f.left.isRed_()?f.rotateRight_():f).right.isEmpty()||f.right.isRed_()||f.right.left.isRed_()?f:f.moveRedRight_()).key)){if(f.right.isEmpty())return zf.EMPTY_NODE;var m=f.right.min_();f=f.copy(m.key,
m.value,null,null,f.right.removeMin_())}f=f.copy(null,null,null,null,f.right.remove(e,c))}return f.fixUp_()},xb.prototype.isRed_=function(){return this.color},xb.prototype.fixUp_=function(){var e=this;return(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},xb.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()?e.copy(null,null,null,null,e.right.rotateRight_()).rotateLeft_().colorFlip_():
e},xb.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()?e.rotateRight_().colorFlip_():e},xb.prototype.rotateLeft_=function(){var e=this.copy(null,null,xb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},xb.prototype.rotateRight_=function(){var e=this.copy(null,null,xb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},xb.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,
null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,c)},xb.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},xb.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw Error("Black depths differ");
return e+(this.isRed_()?0:1)},xb.RED=!0,xb.BLACK=!1,xb);Na.prototype.copy=function(e,c,f,g,h){return this};Na.prototype.insert=function(e,c,f){return new qe(e,c,null)};Na.prototype.remove=function(e,c){return this};Na.prototype.count=function(){return 0};Na.prototype.isEmpty=function(){return!0};Na.prototype.inorderTraversal=function(e){return!1};Na.prototype.reverseTraversal=function(e){return!1};Na.prototype.minKey=function(){return null};Na.prototype.maxKey=function(){return null};Na.prototype.check_=
function(){return 0};Na.prototype.isRed_=function(){return!1};la=Na;var Eg,zf=(Ya.prototype.insert=function(e,c){return new Ya(this.comparator_,this.root_.insert(e,c,this.comparator_).copy(null,null,qe.BLACK,null,null))},Ya.prototype.remove=function(e){return new Ya(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qe.BLACK,null,null))},Ya.prototype.get=function(e){for(var c,f=this.root_;!f.isEmpty();){if(0===(c=this.comparator_(e,f.key)))return f.value;0>c?f=f.left:0<c&&(f=f.right)}return null},
Ya.prototype.getPredecessorKey=function(e){for(var c,f=this.root_,g=null;!f.isEmpty();){if(0===(c=this.comparator_(e,f.key))){if(f.left.isEmpty())return g?g.key:null;for(f=f.left;!f.right.isEmpty();)f=f.right;return f.key}0>c?f=f.left:0<c&&(f=(g=f).right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");},Ya.prototype.isEmpty=function(){return this.root_.isEmpty()},Ya.prototype.count=function(){return this.root_.count()},Ya.prototype.minKey=function(){return this.root_.minKey()},
Ya.prototype.maxKey=function(){return this.root_.maxKey()},Ya.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},Ya.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},Ya.prototype.getIterator=function(e){return new Fg(this.root_,null,this.comparator_,!1,e)},Ya.prototype.getIteratorFrom=function(e,c){return new Fg(this.root_,e,this.comparator_,!1,c)},Ya.prototype.getReverseIteratorFrom=function(e,c){return new Fg(this.root_,e,this.comparator_,!0,
c)},Ya.prototype.getReverseIterator=function(e){return new Fg(this.root_,null,this.comparator_,!0,e)},Ya.EMPTY_NODE=new la,Ya),uc,Hi,Gg=function(e){var c;e.isLeafNode()?(c=e.val(),va("string"==typeof c||"number"==typeof c||"object"==typeof c&&ya(c,".sv"),"Priority must be a string or number.")):va(e===Eg||e.isEmpty(),"priority of unexpected type.");va(e===Eg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},hd=(Object.defineProperty(V,"__childrenNodeConstructor",{get:function(){return uc},
set:function(e){uc=e},enumerable:!1,configurable:!0}),V.prototype.isLeafNode=function(){return!0},V.prototype.getPriority=function(){return this.priorityNode_},V.prototype.updatePriority=function(e){return new V(this.value_,e)},V.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:V.__childrenNodeConstructor.EMPTY_NODE},V.prototype.getChild=function(e){return nb(e)?this:".priority"===L(e)?this.priorityNode_:V.__childrenNodeConstructor.EMPTY_NODE},V.prototype.hasChild=
function(){return!1},V.prototype.getPredecessorChildName=function(e,c){return null},V.prototype.updateImmediateChild=function(e,c){return".priority"===e?this.updatePriority(c):c.isEmpty()&&".priority"!==e?this:V.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,c).updatePriority(this.priorityNode_)},V.prototype.updateChild=function(e,c){var f=L(e);return null===f?c:c.isEmpty()&&".priority"!==f?this:(va(".priority"!==f||1===fc(e),".priority must be the last token in a path"),this.updateImmediateChild(f,
V.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ga(e),c)))},V.prototype.isEmpty=function(){return!1},V.prototype.numChildren=function(){return 0},V.prototype.forEachChild=function(e,c){return!1},V.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},V.prototype.hash=function(){var e,c;return null===this.lazyHash_&&(e="",this.priorityNode_.isEmpty()||(e+="priority:"+Bh(this.priorityNode_.val())+":"),e+=
(c=typeof this.value_)+":",e+="number"==c?gb(this.value_):this.value_,this.lazyHash_=Fa(e)),this.lazyHash_},V.prototype.getValue=function(){return this.value_},V.prototype.compareTo=function(e){return e===V.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof V.__childrenNodeConstructor?-1:(va(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},V.prototype.compareToLeafNode_=function(e){var c=typeof e.value_,f=typeof this.value_,g=V.VALUE_TYPE_ORDER.indexOf(c),h=V.VALUE_TYPE_ORDER.indexOf(f);
return va(0<=g,"Unknown leaf type: "+c),va(0<=h,"Unknown leaf type: "+f),g===h?"object"==f?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-g},V.prototype.withIndex=function(){return this},V.prototype.isIndexed=function(){return!0},V.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},V.VALUE_TYPE_ORDER=["object","boolean","number","string"],V),lc=new (v(u,Hi=Vc),u.prototype.compare=function(e,c){var f=e.node.getPriority(),
m=c.node.getPriority();m=f.compareTo(m);return 0===m?zg(e.name,c.name):m},u.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},u.prototype.indexedValueChanged=function(e,c){return!e.getPriority().equals(c.getPriority())},u.prototype.minPost=function(){return Fb.MIN},u.prototype.maxPost=function(){return new Fb("[MAX_NAME]",new hd("[PRIORITY-POST]",ek))},u.prototype.makePost=function(e,c){e=dg(e);return new Fb(c,new hd("[PRIORITY-POST]",e))},u.prototype.toString=function(){return".priority"},
u),Yd=Math.log(2),Hj=(lg.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},lg),rd,Fc,vc=function(e,c,f,g){e.sort(c);var m=function(c,g){var h=g-c;if(0==h)return null;if(1==h)return k=e[c],n=f?f(k):k,new qe(n,k.node,qe.BLACK,null,null);h=parseInt(h/2,10)+c;c=m(c,h);g=m(h+1,g);var k=e[h],n=f?f(k):k;return new qe(n,k.node,qe.BLACK,c,g)},h=function(c){for(var g=null,h=null,k=e.length,n=function(c,n){var F=k-c,u=k;k-=c;c=m(1+F,u);u=e[F];F=f?f(u):u;c=new qe(F,
u.node,n,null,c);g=g?g.left=c:h=c},F=0;F<c.count;++F){var t=c.nextBitIsOne(),u=Math.pow(2,c.count-(F+1));t?n(u,qe.BLACK):(n(u,qe.BLACK),n(u,qe.RED))}return h}(new Hj(e.length));return new zf(g||c,h)},Gc={},Af=(Object.defineProperty(dd,"Default",{get:function(){return va(lc,"ChildrenNode.ts has not been loaded"),rd=rd||new dd({".priority":Gc},{".priority":lc})},enumerable:!1,configurable:!0}),dd.prototype.get=function(e){var c=Ka(this.indexes_,e);if(!c)throw Error("No index defined for "+e);return c instanceof
zf?c:null},dd.prototype.hasIndex=function(e){return ya(this.indexSet_,e.toString())},dd.prototype.addIndex=function(e,c){va(e!==$c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var f=[],g=!1;c=c.getIterator(Fb.Wrap);for(var m=c.getNext();m;)g=g||e.isDefinedOn(m.node),f.push(m),m=c.getNext();f=g?vc(f,e.getCompare()):Gc;g=e.toString();m=De({},this.indexSet_);m[g]=e;c=De({},this.indexes_);return c[g]=f,new dd(c,m)},dd.prototype.addToIndexes=function(e,c){var f=this;return new dd(ta(this.indexes_,
function(g,m){var h=Ka(f.indexSet_,m);if(va(h,"Missing index implementation for "+m),g===Gc){if(h.isDefinedOn(e.node)){g=[];m=c.getIterator(Fb.Wrap);for(var k=m.getNext();k;)k.name!==e.name&&g.push(k),k=m.getNext();return g.push(e),vc(g,h.getCompare())}return Gc}m=c.get(e.name);h=g;return(m?g.remove(new Fb(e.name,m)):h).insert(e,e.node)}),this.indexSet_)},dd.prototype.removeFromIndexes=function(e,c){return new dd(ta(this.indexes_,function(f){if(f===Gc)return f;var g=c.get(e.name);return g?f.remove(new Fb(e.name,
g)):f}),this.indexSet_)},dd),nd,eb=(Object.defineProperty(C,"EMPTY_NODE",{get:function(){return Fc=Fc||new C(new zf(cd),null,Af.Default)},enumerable:!1,configurable:!0}),C.prototype.isLeafNode=function(){return!1},C.prototype.getPriority=function(){return this.priorityNode_||Fc},C.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new C(this.children_,e,this.indexMap_)},C.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();e=this.children_.get(e);
return null===e?Fc:e},C.prototype.getChild=function(e){var c=L(e);return null===c?this:this.getImmediateChild(c).getChild(Ga(e))},C.prototype.hasChild=function(e){return null!==this.children_.get(e)},C.prototype.updateImmediateChild=function(e,c){if(va(c,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(c);var f=new Fb(e,c),g=void 0;e=c.isEmpty()?(g=this.children_.remove(e),this.indexMap_.removeFromIndexes(f,this.children_)):(g=this.children_.insert(e,c),this.indexMap_.addToIndexes(f,
this.children_));f=g.isEmpty()?Fc:this.priorityNode_;return new C(g,f,e)},C.prototype.updateChild=function(e,c){var f=L(e);if(null===f)return c;va(".priority"!==L(e)||1===fc(e),".priority must be the last token in a path");c=this.getImmediateChild(f).updateChild(Ga(e),c);return this.updateImmediateChild(f,c)},C.prototype.isEmpty=function(){return this.children_.isEmpty()},C.prototype.numChildren=function(){return this.children_.count()},C.prototype.val=function(e){if(this.isEmpty())return null;var c=
{},f=0,g=0,h=!0;if(this.forEachChild(lc,function(m,k){c[m]=k.val(e);f++;h&&C.INTEGER_REGEXP_.test(m)?g=Math.max(g,Number(m)):h=!1}),!e&&h&&g<2*f){var k,n=[];for(k in c)n[k]=c[k];return n}return e&&!this.getPriority().isEmpty()&&(c[".priority"]=this.getPriority().val()),c},C.prototype.hash=function(){var e;return null===this.lazyHash_&&(e="",this.getPriority().isEmpty()||(e+="priority:"+Bh(this.getPriority().val())+":"),this.forEachChild(lc,function(c,f){f=f.hash();""!==f&&(e+=":"+c+":"+f)}),this.lazyHash_=
""===e?"":Fa(e)),this.lazyHash_},C.prototype.getPredecessorChildName=function(e,c,f){return(f=this.resolveIndex_(f))?(c=f.getPredecessorKey(new Fb(e,c)))?c.name:null:this.children_.getPredecessorKey(e)},C.prototype.getFirstChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.minKey())&&e.name:this.children_.minKey()},C.prototype.getFirstChild=function(e){return(e=this.getFirstChildName(e))?new Fb(e,this.children_.get(e)):null},C.prototype.getLastChildName=function(e){return(e=this.resolveIndex_(e))?
(e=e.maxKey())&&e.name:this.children_.maxKey()},C.prototype.getLastChild=function(e){return(e=this.getLastChildName(e))?new Fb(e,this.children_.get(e)):null},C.prototype.forEachChild=function(e,c){return(e=this.resolveIndex_(e))?e.inorderTraversal(function(e){return c(e.name,e.node)}):this.children_.inorderTraversal(c)},C.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},C.prototype.getIteratorFrom=function(e,c){var f=this.resolveIndex_(c);if(f)return f.getIteratorFrom(e,
function(e){return e});f=this.children_.getIteratorFrom(e.name,Fb.Wrap);for(var g=f.peek();null!=g&&0>c.compare(g,e);)f.getNext(),g=f.peek();return f},C.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},C.prototype.getReverseIteratorFrom=function(e,c){var f=this.resolveIndex_(c);if(f)return f.getReverseIteratorFrom(e,function(e){return e});f=this.children_.getReverseIteratorFrom(e.name,Fb.Wrap);for(var g=f.peek();null!=g&&0<c.compare(g,e);)f.getNext(),g=f.peek();
return f},C.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zd?-1:0},C.prototype.withIndex=function(e){if(e===$c||this.indexMap_.hasIndex(e))return this;e=this.indexMap_.addIndex(e,this.children_);return new C(this.children_,this.priorityNode_,e)},C.prototype.isIndexed=function(e){return e===$c||this.indexMap_.hasIndex(e)},C.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==
e.children_.count())return!1;var c=this.getIterator(lc);e=e.getIterator(lc);for(var f=c.getNext(),g=e.getNext();f&&g;){if(f.name!==g.name||!f.node.equals(g.node))return!1;f=c.getNext();g=e.getNext()}return null===f&&null===g}return!1},C.prototype.resolveIndex_=function(e){return e===$c?null:this.indexMap_.get(e.toString())},C.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,C),Zd=new (v(ba,nd=eb),ba.prototype.compareTo=function(e){return e===this?0:1},ba.prototype.equals=function(e){return e===this},ba.prototype.getPriority=
function(){return this},ba.prototype.getImmediateChild=function(e){return eb.EMPTY_NODE},ba.prototype.isEmpty=function(){return!1},ba);Object.defineProperties(Fb,{MIN:{value:new Fb("[MIN_NAME]",eb.EMPTY_NODE)},MAX:{value:new Fb("[MAX_NAME]",Zd)}});hj.__EMPTY_NODE=eb.EMPTY_NODE;hd.__childrenNodeConstructor=eb;var ek=Eg=Zd;var dg=Ta;var Fd,ua,eg=(v(Yc,Fd=Vc),Yc.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},Yc.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},
Yc.prototype.compare=function(e,c){var f=this.extractChild(e.node),g=this.extractChild(c.node);g=f.compareTo(g);return 0===g?zg(e.name,c.name):g},Yc.prototype.makePost=function(e,c){e=Ta(e);e=eb.EMPTY_NODE.updateChild(this.indexPath_,e);return new Fb(c,e)},Yc.prototype.maxPost=function(){var e=eb.EMPTY_NODE.updateChild(this.indexPath_,Zd);return new Fb("[MAX_NAME]",e)},Yc.prototype.toString=function(){return Je(this.indexPath_,0).join("/")},Yc),Ib,fg,Sb=new (v(Mb,ua=Vc),Mb.prototype.compare=function(e,
c){var f=e.node.compareTo(c.node);return 0===f?zg(e.name,c.name):f},Mb.prototype.isDefinedOn=function(e){return!0},Mb.prototype.indexedValueChanged=function(e,c){return!e.equals(c)},Mb.prototype.minPost=function(){return Fb.MIN},Mb.prototype.maxPost=function(){return Fb.MAX},Mb.prototype.makePost=function(e,c){e=Ta(e);return new Fb(c,e)},Mb.prototype.toString=function(){return".value"},Mb),kh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sd=(Ib=0,fg=[],function(e){var c=e===Ib;
Ib=e;for(var f=Array(8),g=7;0<=g;g--)f[g]=kh.charAt(e%64),e=Math.floor(e/64);va(0===e,"Cannot push at time == 0");e=f.join("");if(c){for(g=11;0<=g&&63===fg[g];g--)fg[g]=0;fg[g]++}else for(g=0;12>g;g++)fg[g]=Math.floor(64*Math.random());for(g=0;12>g;g++)e+=kh.charAt(fg[g]);return va(20===e.length,"nextPushId: Length should be 20."),e}),lh=(cf.prototype.updateChild=function(e,c,f,g,h,k){va(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");h=e.getImmediateChild(c);return h.getChild(g).equals(f.getChild(g))&&
h.isEmpty()===f.isEmpty()?e:(null!=k&&(f.isEmpty()?e.hasChild(c)?k.trackChildChange(zd(c,h)):va(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?k.trackChildChange(Za(c,f)):k.trackChildChange(ub(c,f,h))),e.isLeafNode()&&f.isEmpty()?e:e.updateImmediateChild(c,f).withIndex(this.index_))},cf.prototype.updateFullNode=function(e,c,f){return null!=f&&(e.isLeafNode()||e.forEachChild(lc,function(e,g){c.hasChild(e)||f.trackChildChange(zd(e,g))}),c.isLeafNode()||
c.forEachChild(lc,function(c,g){var m;e.hasChild(c)?(m=e.getImmediateChild(c)).equals(g)||f.trackChildChange(ub(c,g,m)):f.trackChildChange(Za(c,g))})),c.withIndex(this.index_)},cf.prototype.updatePriority=function(e,c){return e.isEmpty()?eb.EMPTY_NODE:e.updatePriority(c)},cf.prototype.filtersNodes=function(){return!1},cf.prototype.getIndexedFilter=function(){return this},cf.prototype.getIndex=function(){return this.index_},cf),Ji=(Gd.prototype.getStartPost=function(){return this.startPost_},Gd.prototype.getEndPost=
function(){return this.endPost_},Gd.prototype.matches=function(e){return 0>=this.index_.compare(this.getStartPost(),e)&&0>=this.index_.compare(e,this.getEndPost())},Gd.prototype.updateChild=function(e,c,f,g,h,k){return this.matches(new Fb(c,f))||(f=eb.EMPTY_NODE),this.indexedFilter_.updateChild(e,c,f,g,h,k)},Gd.prototype.updateFullNode=function(e,c,f){c.isLeafNode()&&(c=eb.EMPTY_NODE);var g=(g=c.withIndex(this.index_)).updatePriority(eb.EMPTY_NODE),m=this;return c.forEachChild(lc,function(e,c){m.matches(new Fb(e,
c))||(g=g.updateImmediateChild(e,eb.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,g,f)},Gd.prototype.updatePriority=function(e,c){return e},Gd.prototype.filtersNodes=function(){return!0},Gd.prototype.getIndexedFilter=function(){return this.indexedFilter_},Gd.prototype.getIndex=function(){return this.index_},Gd.getStartPost_=function(e){if(e.hasStart()){var c=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),c)}return e.getIndex().minPost()},Gd.getEndPost_=function(e){if(e.hasEnd()){var c=
e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),c)}return e.getIndex().maxPost()},Gd),qj=(Hd.prototype.updateChild=function(e,c,f,g,h,k){return this.rangedFilter_.matches(new Fb(c,f))||(f=eb.EMPTY_NODE),e.getImmediateChild(c).equals(f)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,c,f,g,h,k):this.fullLimitUpdateChild_(e,c,f,h,k)},Hd.prototype.updateFullNode=function(e,c,f){if(c.isLeafNode()||c.isEmpty())g=eb.EMPTY_NODE.withIndex(this.index_);
else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){var g=eb.EMPTY_NODE.withIndex(this.index_),m=void 0;m=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(c=0;m.hasNext()&&c<this.limit_;){var h=m.getNext();if(!(this.reverse_?0>=this.index_.compare(this.rangedFilter_.getStartPost(),h):0>=this.index_.compare(h,this.rangedFilter_.getEndPost())))break;g=g.updateImmediateChild(h.name,h.node);
c++}}else{g=(g=c.withIndex(this.index_)).updatePriority(eb.EMPTY_NODE);var k,n=void 0,u=void 0,t=void 0;m=void 0;t=this.reverse_?(m=g.getReverseIterator(this.index_),n=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost(),k=this.index_.getCompare(),function(e,c){return k(c,e)}):(m=g.getIterator(this.index_),n=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),this.index_.getCompare());c=0;for(var F=!1;m.hasNext();)h=m.getNext(),(F=!F&&0>=t(n,h)?!0:F)&&c<this.limit_&&
0>=t(h,u)?c++:g=g.updateImmediateChild(h.name,eb.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,g,f)},Hd.prototype.updatePriority=function(e,c){return e},Hd.prototype.filtersNodes=function(){return!0},Hd.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Hd.prototype.getIndex=function(){return this.index_},Hd.prototype.fullLimitUpdateChild_=function(e,c,f,g,h){var m;var k=this.reverse_?(m=this.index_.getCompare(),function(e,c){return m(c,
e)}):this.index_.getCompare();va(e.numChildren()===this.limit_,"");var n=new Fb(c,f),u=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),t=this.rangedFilter_.matches(n);if(e.hasChild(c)){var F=e.getImmediateChild(c);for(u=g.getChildAfterChild(this.index_,u,this.reverse_);null!=u&&(u.name===c||e.hasChild(u.name));)u=g.getChildAfterChild(this.index_,u,this.reverse_);g=null==u?1:k(u,n);if(t&&!f.isEmpty()&&0<=g)return null!=h&&h.trackChildChange(ub(c,f,F)),e.updateImmediateChild(c,
f);null!=h&&h.trackChildChange(zd(c,F));F=e.updateImmediateChild(c,eb.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=h&&h.trackChildChange(Za(u.name,u.node)),F.updateImmediateChild(u.name,u.node)):F}return!f.isEmpty()&&t&&0<=k(u,n)?(null!=h&&(h.trackChildChange(zd(u.name,u.node)),h.trackChildChange(Za(c,f))),e.updateImmediateChild(c,f).updateImmediateChild(u.name,eb.EMPTY_NODE)):e},Hd),$h=(gc.prototype.hasStart=function(){return this.startSet_},gc.prototype.hasStartAfter=function(){return this.startAfterSet_},
gc.prototype.hasEndBefore=function(){return this.endBeforeSet_},gc.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},gc.prototype.getIndexStartValue=function(){return va(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},gc.prototype.getIndexStartName=function(){return va(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:"[MIN_NAME]"},gc.prototype.hasEnd=function(){return this.endSet_},
gc.prototype.getIndexEndValue=function(){return va(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},gc.prototype.getIndexEndName=function(){return va(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:"[MAX_NAME]"},gc.prototype.hasLimit=function(){return this.limitSet_},gc.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},gc.prototype.getLimit=function(){return va(this.limitSet_,"Only valid if limit has been set"),
this.limit_},gc.prototype.getIndex=function(){return this.index_},gc.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},gc.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===lc},gc.prototype.copy=function(){var e=new gc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=
this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},gc),td,$d=(v(Ob,td=Kb),Ob.prototype.reportStats=function(e){throw Error("Method not implemented.");},Ob.getListenId_=function(e,c){return void 0!==c?"tag$"+c:(va(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},Ob.prototype.listen=function(e,c,f,g){var m=this,h=e._path.toString();this.log_("Listen called for "+h+" "+
e._queryIdentifier);var k=Ob.getListenId_(e,f),n={};this.listens_[k]=n;e=mg(e._queryParams);this.restRequest_(h+".json",e,function(e,c){null===(e=404===e?c=null:e)&&m.onDataUpdate_(h,c,!1,f);Ka(m.listens_,k)===n&&g(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})},Ob.prototype.unlisten=function(e,c){c=Ob.getListenId_(e,c);delete this.listens_[c]},Ob.prototype.get=function(e){var c=this,f=mg(e._queryParams),g=e._path.toString(),h=new Ed;return this.restRequest_(g+".json",f,function(e,f){null===
(404===e?f=null:e)?(c.onDataUpdate_(g,f,!1,null),h.resolve(f)):h.reject(Error(f))}),h.promise},Ob.prototype.refreshAuthToken=function(e){},Ob.prototype.restRequest_=function(e,c,f){var g=this;return(c=void 0===c?{}:c).format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(m){var h=I(m,2);m=h[0];h=h[1];m&&m.accessToken&&(c.auth=m.accessToken);h&&h.token&&(c.ac=h.token);var k=(g.repoInfo_.secure?"https://":"http://")+g.repoInfo_.host+
e+"?ns="+g.repoInfo_.namespace+Da(c);g.log_("Sending REST request for "+k);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(f&&4===n.readyState){g.log_("REST Response for "+k+" received. status:",n.status,"response:",n.responseText);var e=null;if(200<=n.status&&300>n.status){try{e=JSON.parse(n.responseText)}catch(Rc){Nc("Failed to parse JSON response for "+k+": "+n.responseText)}f(null,e)}else 401!==n.status&&404!==n.status&&Nc("Got unsuccessful REST response for "+k+" Status: "+n.status),
f(n.status);f=null}};n.open("GET",k,!0);n.send()})},Ob),mh=(ed.prototype.getNode=function(e){return this.rootNode_.getChild(e)},ed.prototype.updateSnapshot=function(e,c){this.rootNode_=this.rootNode_.updateChild(e,c)},ed),ud=(hf.prototype.get=function(){var e=this.collection_.get(),c=De({},e);return this.last_&&Va(this.last_,function(e,f){c[e]-=f}),this.last_=e,c},hf),ae,ai=(yj.prototype.reportStats_=function(){var e=this,c=this.statsListener_.get(),f={},g=!1;Va(c,function(c,m){0<m&&ya(e.statsToReport_,
c)&&(f[c]=m,g=!0)});g&&this.server_.reportStats(f);h(this.reportStats_.bind(this),Math.floor(6E5*Math.random()))},yj);(Kb=ae=ae||{})[Kb.OVERWRITE=0]="OVERWRITE";Kb[Kb.MERGE=1]="MERGE";Kb[Kb.ACK_USER_WRITE=2]="ACK_USER_WRITE";Kb[Kb.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Ki=(Rd.prototype.operationForChild=function(e){if(nb(this.path)){if(null!=this.affectedTree.value)return va(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;e=this.affectedTree.subtree(new Qb(e));
return new Rd(wa(),e,this.revert)}return va(L(this.path)===e,"operationForChild called for unrelated child."),new Rd(Ga(this.path),this.affectedTree,this.revert)},Rd),Hg=(hc.prototype.operationForChild=function(e){return nb(this.path)?new hc(this.source,wa()):new hc(this.source,Ga(this.path))},hc),bi=(Dh.prototype.operationForChild=function(e){return nb(this.path)?new Dh(this.source,wa(),this.snap.getImmediateChild(e)):new Dh(this.source,Ga(this.path),this.snap)},Dh),ci=(Le.prototype.operationForChild=
function(e){return nb(this.path)?(e=this.children.subtree(new Qb(e)),e.isEmpty()?null:e.value?new bi(this.source,wa(),e.value):new Le(this.source,wa(),e)):(va(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Le(this.source,Ga(this.path),this.children))},Le.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Le),bc=(Z.prototype.isFullyInitialized=function(){return this.fullyInitialized_},
Z.prototype.isFiltered=function(){return this.filtered_},Z.prototype.isCompleteForPath=function(e){if(nb(e))return this.isFullyInitialized()&&!this.filtered_;e=L(e);return this.isCompleteForChild(e)},Z.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},Z.prototype.getNode=function(){return this.node_},Z),gg,vd=function(e){this.query_=e;this.index_=this.query_._queryParams.getIndex()},Md=(yb.fromObject=function(e){var c=new yb(null);
return Va(e,function(e,f){c=c.set(new Qb(e),f)}),c},yb.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},yb.prototype.findRootMostMatchingPathAndValue=function(e,c){if(null!=this.value&&c(this.value))return{path:wa(),value:this.value};if(nb(e))return null;var f=L(e),g=this.children.get(f);if(null===g)return null;c=g.findRootMostMatchingPathAndValue(Ga(e),c);return null==c?null:{path:qb(new Qb(f),c.path),value:c.value}},yb.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,
function(){return!0})},yb.prototype.subtree=function(e){if(nb(e))return this;var c=L(e);c=this.children.get(c);return null!==c?c.subtree(Ga(e)):new yb(null)},yb.prototype.set=function(e,c){if(nb(e))return new yb(c,this.children);var f=L(e);c=(this.children.get(f)||new yb(null)).set(Ga(e),c);c=this.children.insert(f,c);return new yb(this.value,c)},yb.prototype.remove=function(e){if(nb(e))return this.children.isEmpty()?new yb(null):new yb(null,this.children);var c=L(e),f=this.children.get(c);return f?
(f=f.remove(Ga(e)),e=f.isEmpty()?this.children.remove(c):this.children.insert(c,f),null===this.value&&e.isEmpty()?new yb(null):new yb(this.value,e)):this},yb.prototype.get=function(e){if(nb(e))return this.value;var c=L(e);return(c=this.children.get(c))?c.get(Ga(e)):null},yb.prototype.setTree=function(e,c){if(nb(e))return c;var f=L(e);e=(this.children.get(f)||new yb(null)).setTree(Ga(e),c);c=e.isEmpty()?this.children.remove(f):this.children.insert(f,e);return new yb(this.value,c)},yb.prototype.fold=
function(e){return this.fold_(wa(),e)},yb.prototype.fold_=function(e,c){var f={};return this.children.inorderTraversal(function(g,m){f[g]=m.fold_(qb(e,g),c)}),c(e,this.value,f)},yb.prototype.findOnPath=function(e,c){return this.findOnPath_(e,wa(),c)},yb.prototype.findOnPath_=function(e,c,f){var g=!!this.value&&f(c,this.value);if(g)return g;if(nb(e))return null;var m=L(e);return(g=this.children.get(m))?g.findOnPath_(Ga(e),qb(c,m),f):null},yb.prototype.foreachOnPath=function(e,c){return this.foreachOnPath_(e,
wa(),c)},yb.prototype.foreachOnPath_=function(e,c,f){if(nb(e))return this;this.value&&f(c,this.value);var g=L(e),m=this.children.get(g);return m?m.foreachOnPath_(Ga(e),qb(c,g),f):new yb(null)},yb.prototype.foreach=function(e){this.foreach_(wa(),e)},yb.prototype.foreach_=function(e,c){this.children.inorderTraversal(function(f,g){g.foreach_(qb(e,f),c)});this.value&&c(e,this.value)},yb.prototype.foreachChild=function(e){this.children.inorderTraversal(function(c,f){f.value&&e(c,f.value)})},yb),Xe=(si.empty=
function(){return new si(new Md(null))},si),nh=(ui.prototype.trackChildChange=function(e){var c=e.type,f=e.childName;va("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking");va(".priority"!==f,"Only non-priority child changes can be tracked.");var g=this.changeMap.get(f);if(g){var h=g.type;if("child_added"===c&&"child_removed"===h)this.changeMap.set(f,ub(f,e.snapshotNode,g.snapshotNode));else if("child_removed"===c&&"child_added"===h)this.changeMap.delete(f);
else if("child_removed"===c&&"child_changed"===h)this.changeMap.set(f,zd(f,g.oldSnap));else if("child_changed"===c&&"child_added"===h)this.changeMap.set(f,Za(f,e.snapshotNode));else{if("child_changed"!==c||"child_changed"!==h)throw Dd("Illegal combination of changes: "+e+" occurred after "+g);this.changeMap.set(f,ub(f,e.snapshotNode,g.oldSnap))}}else this.changeMap.set(f,e)},ui.prototype.getChanges=function(){return Array.from(this.changeMap.values())},ui),Li=new (Me.prototype.getCompleteChild=function(e){return null},
Me.prototype.getChildAfterChild=function(e,c,f){return null},Me),wd=(Lh.prototype.getCompleteChild=function(e){var c=this.viewCache_.eventCache;if(c.isCompleteForChild(e))return c.getNode().getImmediateChild(e);c=null!=this.optCompleteServerCache_?new bc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mf(this.writes_,e,c)},Lh.prototype.getChildAfterChild=function(e,c,f){var g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:If(this.viewCache_),m=this.writes_;
a:{var h=m.writeTree;m=m.treePath;h=Sd(h.visibleWrites,m);if(null!=(m=ld(h,wa())))h=m;else{if(null==g){c=[];break a}h=we(h,g)}if((h=h.withIndex(e)).isEmpty()||h.isLeafNode())c=[];else{g=[];m=e.getCompare();f=f?h.getReverseIteratorFrom(c,e):h.getIteratorFrom(c,e);for(e=f.getNext();e&&1>g.length;)0!==m(e,c)&&g.push(e),e=f.getNext();c=g}}e=c;return 0===e.length?null:e[0]},Lh),Ij=(Object.defineProperty(Bc.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),Bc),Bf=function(){this.views=
new Map},Tb=1,Ig=function(e){this.listenProvider_=e;this.syncPointTree_=new Md(null);this.pendingWriteTree_={visibleWrites:Xe.empty(),allWrites:[],lastWriteId:-1};this.tagToQueryMap=new Map;this.queryToTagMap=new Map},Ye=(ke.prototype.getImmediateChild=function(e){return new ke(this.node_.getImmediateChild(e))},ke.prototype.node=function(){return this.node_},ke),di=(Vg.prototype.getImmediateChild=function(e){e=qb(this.path_,e);return new Vg(this.syncTree_,e)},Vg.prototype.node=function(){return Wb(this.syncTree_,
this.path_)},Vg),oh=function(e,c,f){e&&"object"==typeof e?(va(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?(c=e[".sv"],"timestamp"===c?c=f.timestamp:(va(!1,"Unexpected server value: "+c),c=void 0)):"object"==typeof e[".sv"]?(f=e[".sv"],f.hasOwnProperty("increment")||va(!1,"Unexpected server value: "+JSON.stringify(f,null,2)),f=f.increment,"number"!=typeof f&&va(!1,"Unexpected increment value: "+f),c=c.node(),(va(null!=c,"Expected ChildrenNode.EMPTY_NODE for nulls"),
c.isLeafNode())?(c=c.getValue(),c="number"!=typeof c?f:c+f):c=f):c=void va(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):c=e;return c},ei=function(e,c,f){return Oe(e,new Ye(c),f)},fi=function(e,c,f){void 0===c&&(c=null);void 0===f&&(f={children:{},childCount:0});this.name=void 0===e?"":e;this.parent=c;this.node=f},Jj=/[\[\].#$\/\u0000-\u001F\u007F]/,ec=/[\[\].#$\u0000-\u001F\u007F]/,cc=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!H(e)||e&&"object"==typeof e&&ya(e,
".sv")},id=function(e,c,f,g){g&&void 0===c||gi(w(e,"value"),c,f)},gi=function(e,c,f){var g=f instanceof Qb?new Zc(f,e):f;if(void 0===c)throw Error(e+"contains undefined "+te(g));if("function"==typeof c)throw Error(e+"contains a function "+te(g)+" with contents = "+c.toString());if(H(c))throw Error(e+"contains "+c.toString()+" "+te(g));if("string"==typeof c&&c.length>10485760/3&&10485760<Gb(c))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+te(g)+" ('"+c.substring(0,50)+"...')");
if(c&&"object"==typeof c){var m=!1,h=!1;if(Va(c,function(c,f){if(".value"===c)m=!0;else if(".priority"!==c&&".sv"!==c&&(h=!0,!Qe(c)))throw Error(e+" contains an invalid key ("+c+") "+te(g)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var k=c;0<(c=g).parts_.length&&(c.byteLength_+=1);c.parts_.push(k);c.byteLength_+=Gb(k);Ah(c);gi(e,f,g);f=(c=g).parts_.pop();c.byteLength_-=Gb(f);0<c.parts_.length&&--c.byteLength_}),m&&h)throw Error(e+' contains ".value" child '+
te(g)+" in addition to actual children.");}},Ze=function(e,c,f,g){if(!(g&&void 0===f||aj(f)))throw Error(w(e,c)+'was an invalid path = "'+f+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');},hi=function(e,c,f,g){f=f&&f.replace(/^\/*\.info(\/|$)/,"/");Ze(e,c,f,g)},Hc=function(e,c){if(".info"===L(c))throw Error(e+" failed = Can't modify data under /.info/");},Ge=function(e,c){var f=c.path.toString();if("string"!=typeof c.repoInfo.host||0===c.repoInfo.host.length||
!Qe(c.repoInfo.namespace)&&"localhost"!==c.repoInfo.host.split(":")[0]||0!==f.length&&(f=f&&f.replace(/^\/*\.info(\/|$)/,"/"),!aj(f)))throw Error(w(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');},Kj=function(){this.eventLists_=[];this.recursionDepth_=0},Lj=(Ra.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Ra),$e=function(e,c){var f=re(e),g=f.namespace;"firebase.com"===f.domain&&Ee(f.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");
g&&"undefined"!==g||"localhost"===f.domain||Ee("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");f.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");e="ws"===f.scheme||"wss"===f.scheme;return{repoInfo:new Fi(f.host,f.secure,g,c,e,"",g!==f.subdomain),path:new Qb(f.pathString)}},re=function(e){var c,
f,g,h="",k="",n="",u="",t="",C=!0,r="https",V=443;return"string"==typeof e&&(0<=(g=e.indexOf("//"))&&(r=e.substring(0,g-1),e=e.substring(g+2)),-1===(c=e.indexOf("/"))&&(c=e.length),-1===(f=e.indexOf("?"))&&(f=e.length),h=e.substring(0,Math.min(c,f)),c<f&&(u=function(e){var c="";e=e.split("/");for(var f=0;f<e.length;f++)if(0<e[f].length){var g=e[f];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch(zc){}c+="/"+g}return c}(e.substring(c,f))),f=function(e){var c,f={};"?"===e.charAt(0)&&(e=e.substring(1));
try{for(var g=z(e.split("&")),m=g.next();!m.done;m=g.next()){var h,k=m.value;0!==k.length&&(2===(h=k.split("=")).length?f[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):Nc("Invalid query segment '"+k+"' in query '"+e+"'"))}}catch(Ff){var n={error:Ff}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(n)throw n.error;}}return f}(e.substring(Math.min(e.length,f))),0<=(g=h.indexOf(":"))?(C="https"===r||"wss"===r,V=parseInt(h.substring(g+1),10)):g=h.length,"localhost"===(g=h.slice(0,g)).toLowerCase()?
k="localhost":2>=g.split(".").length?k=g:(g=h.indexOf("."),n=h.substring(0,g).toLowerCase(),k=h.substring(g+1),t=n),"ns"in f&&(t=f.ns)),{host:h,port:V,domain:k,subdomain:n,secure:C,scheme:r,pathString:u,namespace:t}},He=(Zg.prototype.getPath=function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path},Zg.prototype.getEventType=function(){return this.eventType},Zg.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Zg.prototype.toString=
function(){return this.getPath().toString()+":"+this.eventType+":"+J(this.snapshot.exportVal())},Zg),Mi=(zb.prototype.getPath=function(){return this.path},zb.prototype.getEventType=function(){return"cancel"},zb.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},zb.prototype.toString=function(){return this.path.toString()+":cancel"},zb),ji=(Vf.prototype.onValue=function(e,c){this.snapshotCallback.call(null,e,c)},Vf.prototype.onCancel=function(e){return va(this.hasCancelCallback,
"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(Vf.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),Vf.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},Vf),Mj=(Ue.prototype.cancel=
function(){var e=new Ed;return bj(this._repo,this._path,e.wrapCallback(function(){})),e.promise},Ue.prototype.remove=function(){Hc("OnDisconnect.remove",this._path);var e=new Ed;return le(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},Ue.prototype.set=function(e){Hc("OnDisconnect.set",this._path);id("OnDisconnect.set",e,this._path,!1);var c=new Ed;return le(this._repo,this._path,e,c.wrapCallback(function(){})),c.promise},Ue.prototype.setWithPriority=function(e,c){Hc("OnDisconnect.setWithPriority",
this._path);id("OnDisconnect.setWithPriority",e,this._path,!1);zi("OnDisconnect.setWithPriority",c,!1);var f,g,m,h,k=new Ed;return f=this._repo,g=this._path,m=k.wrapCallback(function(){}),h=Ta(e,c),f.server_.onDisconnectPut(g.toString(),h.val(!0),function(e,c){"ok"===e&&jf(f.onDisconnect_,g,h);Se(0,m,e,c)}),k.promise},Ue.prototype.update=function(e){Hc("OnDisconnect.update",this._path);Sf("OnDisconnect.update",e,this._path,!1);var c=new Ed;return function(e,c,f,g){if(E(f))return Oc("onDisconnect().update() called with empty data.  Don't do anything."),
Se(0,g,"ok",void 0);e.server_.onDisconnectMerge(c.toString(),f,function(m,h){"ok"===m&&Va(f,function(f,g){g=Ta(g);jf(e.onDisconnect_,qb(c,f),g)});Se(0,g,m,h)})}(this._repo,this._path,e,c.wrapCallback(function(){})),c.promise},Ue),Nd=(Object.defineProperty(Ae.prototype,"key",{get:function(){return nb(this._path)?null:hb(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Ae.prototype,"ref",{get:function(){return new be(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Ae.prototype,
"_queryIdentifier",{get:function(){var e=t(this._queryParams);e=jj(e);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(Ae.prototype,"_queryObject",{get:function(){return t(this._queryParams)},enumerable:!1,configurable:!0}),Ae.prototype.isEqual=function(e){if(!((e=ka(e))instanceof Ae))return!1;var c=this._repo===e._repo,f=ee(this._path,e._path);e=this._queryIdentifier===e._queryIdentifier;return c&&f&&e},Ae.prototype.toJSON=function(){return this.toString()},Ae.prototype.toString=
function(){for(var e=this._repo.toString(),c=this._path,f="",g=c.pieceNum_;g<c.pieces_.length;g++)""!==c.pieces_[g]&&(f+="/"+encodeURIComponent(String(c.pieces_[g])));return e+(f||"/")},Ae),ii,be=(v($g,ii=Nd),Object.defineProperty($g.prototype,"parent",{get:function(){var e=od(this._path);return null===e?null:new $g(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),
$g),Cf=(Object.defineProperty(Oa.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(Oa.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(Oa.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),Oa.prototype.child=function(e){var c=new Qb(e);e=vg(this.ref,e);return new Oa(this._node.getChild(c),e,lc)},Oa.prototype.exists=
function(){return!this._node.isEmpty()},Oa.prototype.exportVal=function(){return this._node.val(!0)},Oa.prototype.forEach=function(e){var c=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(f,g){return e(new Oa(g,vg(c.ref,f),lc))})},Oa.prototype.hasChild=function(e){e=new Qb(e);return!this._node.getChild(e).isEmpty()},Oa.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},Oa.prototype.toJSON=function(){return this.exportVal()},
Oa.prototype.val=function(){return this._node.val()},Oa),af=(Uc.prototype.respondsTo=function(e){return"value"===e},Uc.prototype.createEvent=function(e,c){var f=c._queryParams.getIndex();return new He("value",this,new Cf(e.snapshotNode,new be(c._repo,c._path),f))},Uc.prototype.getEventRunner=function(e){var c=this;return"cancel"===e.getEventType()?function(){return c.callbackContext.onCancel(e.error)}:function(){return c.callbackContext.onValue(e.snapshot,null)}},Uc.prototype.createCancelEvent=function(e,
c){return this.callbackContext.hasCancelCallback?new Mi(this,e,c):null},Uc.prototype.matches=function(e){return e instanceof Uc&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},Uc.prototype.hasAnyCallback=function(){return null!==this.callbackContext},Uc),ki=(Ce.prototype.respondsTo=function(e){e="children_added"===e?"child_added":e;return this.eventType===("children_removed"===e?"child_removed":e)},Ce.prototype.createCancelEvent=function(e,c){return this.callbackContext.hasCancelCallback?
new Mi(this,e,c):null},Ce.prototype.createEvent=function(e,c){va(null!=e.childName,"Child events should have a childName.");var f=vg(new be(c._repo,c._path),e.childName);c=c._queryParams.getIndex();return new He(e.type,this,new Cf(e.snapshotNode,f,c),e.prevName)},Ce.prototype.getEventRunner=function(e){var c=this;return"cancel"===e.getEventType()?function(){return c.callbackContext.onCancel(e.error)}:function(){return c.callbackContext.onValue(e.snapshot,e.prevName)}},Ce.prototype.matches=function(e){return e instanceof
Ce&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},Ce.prototype.hasAnyCallback=function(){return!!this.callbackContext},Ce),ph;Kb=function(){};var wc=(v(Yf,ph=Kb),Yf.prototype._apply=function(e){id("endAt",this._value,e._path,!0);var c=Ke(e._queryParams,this._value,this._key);if(rf(c),Ec(c),e._queryParams.hasEnd())throw Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nd(e._repo,
e._path,c,e._orderByCalled)},Yf),qh,rh=(v(Yb,qh=Kb),Yb.prototype._apply=function(e){id("endBefore",this._value,e._path,!1);var c,f;var g=(c=e._queryParams,f=this._value,g=this._key,(g=c.index_===$c?Ke(c,f="string"==typeof f?dc(f):f,g):Ke(c,f,null==g?"[MIN_NAME]":dc(g))).endBeforeSet_=!0,g);if(rf(g),Ec(g),e._queryParams.hasEnd())throw Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nd(e._repo,e._path,g,e._orderByCalled)},Yb),Ni,rj=(v(Wf,
Ni=Kb),Wf.prototype._apply=function(e){id("startAt",this._value,e._path,!0);var c=ve(e._queryParams,this._value,this._key);if(rf(c),Ec(c),e._queryParams.hasStart())throw Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nd(e._repo,e._path,c,e._orderByCalled)},Wf),hg,Aa=(v(eh,hg=Kb),eh.prototype._apply=function(e){id("startAfter",this._value,e._path,!1);var c,f;var g=(c=e._queryParams,f=this._value,g=this._key,(g=c.index_===$c?ve(c,f=
"string"==typeof f?fe(f):f,g):ve(c,f,null==g?"[MAX_NAME]":fe(g))).startAfterSet_=!0,g);if(rf(g),Ec(g),e._queryParams.hasStart())throw Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Nd(e._repo,e._path,g,e._orderByCalled)},eh),Oi,li=(v(oe,Oi=Kb),oe.prototype._apply=function(e){if(e._queryParams.hasLimit())throw Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nd(e._repo,e._path,
(c=e._queryParams,f=this._limit,(c=c.copy()).limitSet_=!0,c.limit_=f,c.viewFrom_="l",c),e._orderByCalled);var c,f},oe),Pi,Df=(v(cb,Pi=Kb),cb.prototype._apply=function(e){if(e._queryParams.hasLimit())throw Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nd(e._repo,e._path,(c=e._queryParams,f=this._limit,(c=c.copy()).limitSet_=!0,c.limit_=f,c.viewFrom_="r",c),e._orderByCalled);var c,f},cb),sj,sh=(v(xg,sj=Kb),xg.prototype._apply=function(e){Cd(e,
"orderByChild");var c=new Qb(this._path);if(nb(c))throw Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");c=new eg(c);c=Ad(e._queryParams,c);return Ec(c),new Nd(e._repo,e._path,c,!0)},xg),Lb,tj=(v(Uh,Lb=Kb),Uh.prototype._apply=function(e){Cd(e,"orderByKey");var c=Ad(e._queryParams,$c);return Ec(c),new Nd(e._repo,e._path,c,!0)},Uh),Jg,Qa=(v(yg,Jg=Kb),yg.prototype._apply=function(e){Cd(e,"orderByPriority");var c=Ad(e._queryParams,lc);return Ec(c),new Nd(e._repo,e._path,c,
!0)},yg),mi,Xc=(v(fh,mi=Kb),fh.prototype._apply=function(e){Cd(e,"orderByValue");var c=Ad(e._queryParams,Sb);return Ec(c),new Nd(e._repo,e._path,c,!0)},fh),Ub,ce=(v(gh,Ub=Kb),gh.prototype._apply=function(e){if(id("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");
return(new wc(this._value,this._key))._apply((new rj(this._value,this._key))._apply(e))},gh);var Ef=be;va(!ni,"__referenceConstructor has already been defined");var ni=Ef;var de=be;va(!th,"__referenceConstructor has already been defined");var th=de;var Qi={},oi=!1,Pc=(Object.defineProperty(Zf.prototype,"_repo",{get:function(){return this._instanceStarted||(Ai(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,
configurable:!0}),Object.defineProperty(Zf.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new be(this._repo,wa())),this._rootInternal},enumerable:!1,configurable:!0}),Zf.prototype._delete=function(){var e;if(null!==this._rootInternal){var c=this._repo;var f=this.app.name;(e=Qi[f])&&e[c.key]===c||Ee("Database "+f+"("+c.repoInfo_+") has already been deleted.");c.persistentConnection_&&c.persistentConnection_.interrupt("repo_interrupt");delete e[c.key];this._rootInternal=
this._repoInternal=null}return Promise.resolve()},Zf.prototype._checkNotDeleted=function(e){null===this._rootInternal&&Ee("Cannot call "+e+" on a deleted database.")},Zf),$b=(Fj.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},Fj),xc=(Ld.prototype.cancel=function(e){da("OnDisconnect.cancel",0,1,arguments.length);R("OnDisconnect.cancel","onComplete",e,!0);var c=this._delegate.cancel();return e&&c.then(function(){return e(null)},function(c){return e(c)}),
c},Ld.prototype.remove=function(e){da("OnDisconnect.remove",0,1,arguments.length);R("OnDisconnect.remove","onComplete",e,!0);var c=this._delegate.remove();return e&&c.then(function(){return e(null)},function(c){return e(c)}),c},Ld.prototype.set=function(e,c){da("OnDisconnect.set",1,2,arguments.length);R("OnDisconnect.set","onComplete",c,!0);e=this._delegate.set(e);return c&&e.then(function(){return c(null)},function(e){return c(e)}),e},Ld.prototype.setWithPriority=function(e,c,f){da("OnDisconnect.setWithPriority",
2,3,arguments.length);R("OnDisconnect.setWithPriority","onComplete",f,!0);c=this._delegate.setWithPriority(e,c);return f&&c.then(function(){return f(null)},function(e){return f(e)}),c},Ld.prototype.update=function(e,c){if(da("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var f={},g=0;g<e.length;++g)f[""+g]=e[g];e=f;Nc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}R("OnDisconnect.update",
"onComplete",c,!0);f=this._delegate.update(e);return c&&f.then(function(){return c(null)},function(e){return c(e)}),f},Ld),Bb=($k.prototype.toJSON=function(){return da("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},$k),uh=(kc.prototype.val=function(){return da("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},kc.prototype.exportVal=function(){return da("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},
kc.prototype.toJSON=function(){return da("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},kc.prototype.exists=function(){return da("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},kc.prototype.child=function(e){return da("DataSnapshot.child",0,1,arguments.length),e=String(e),Ze("DataSnapshot.child","path",e,!1),new kc(this._database,this._delegate.child(e))},kc.prototype.hasChild=function(e){return da("DataSnapshot.hasChild",1,1,arguments.length),Ze("DataSnapshot.hasChild",
"path",e,!1),this._delegate.hasChild(e)},kc.prototype.getPriority=function(){return da("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},kc.prototype.forEach=function(e){var c=this;return da("DataSnapshot.forEach",1,1,arguments.length),R("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(f){return e(new kc(c._database,f))})},kc.prototype.hasChildren=function(){return da("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(kc.prototype,
"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),kc.prototype.numChildren=function(){return da("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},kc.prototype.getRef=function(){return da("DataSnapshot.ref",0,0,arguments.length),new ig(this._database,this._delegate.ref)},Object.defineProperty(kc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),kc),P=(Ab.prototype.on=function(e,c,f,g){function h(e,f){c.call(k.context,
new uh(m.database,e),f)}var m=this;da("Query.on",2,4,arguments.length);R("Query.on","callback",c,!1);var k=Ab.getCancelAndContextArgs_("Query.on",f,g);h.userCallback=c;h.context=k.context;var n=null===(g=k.cancel)||void 0===g?void 0:g.bind(k.context);switch(e){case "value":return tf(this._delegate,h,n),c;case "child_added":return ch(this._delegate,h,n),c;case "child_removed":return dh(this._delegate,h,n),c;case "child_changed":return ne(this._delegate,h,n),c;case "child_moved":return Xd(this._delegate,
h,n),c;default:throw Error(w("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');}},Ab.prototype.off=function(e,c,f){var g;da("Query.off",0,3,arguments.length);if(void 0!==e)switch(e){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(w("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');
}R("Query.off","callback",c,!0);Pb("Query.off","context",f,!0);c?((g=function(){}).userCallback=c,g.context=f,Xf(this._delegate,e,g)):Xf(this._delegate,e)},Ab.prototype.get=function(){var e=this;return wg(this._delegate).then(function(c){return new uh(e.database,c)})},Ab.prototype.once=function(e,c,f,g){function h(e,f){e=new uh(k.database,e);c&&c.call(n.context,e,f);u.resolve(e)}function m(e){n.cancel&&n.cancel.call(n.context,e);u.reject(e)}var k=this;da("Query.once",1,4,arguments.length);R("Query.once",
"callback",c,!0);var n=Ab.getCancelAndContextArgs_("Query.once",f,g),u=new Ed;h.userCallback=c;h.context=n.context;switch(e){case "value":tf(this._delegate,h,m,{onlyOnce:!0});break;case "child_added":ch(this._delegate,h,m,{onlyOnce:!0});break;case "child_removed":dh(this._delegate,h,m,{onlyOnce:!0});break;case "child_changed":ne(this._delegate,h,m,{onlyOnce:!0});break;case "child_moved":Xd(this._delegate,h,m,{onlyOnce:!0});break;default:throw Error(w("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');
}return u.promise},Ab.prototype.limitToFirst=function(e){da("Query.limitToFirst",1,1,arguments.length);var c=this.database,f=this._delegate;if("number"!=typeof e||Math.floor(e)!==e||0>=e)throw Error("limitToFirst: First argument must be a positive integer.");var g=new li(e);return new Ab(c,Lc(f,g))},Ab.prototype.limitToLast=function(e){da("Query.limitToLast",1,1,arguments.length);var c=this.database,f=this._delegate;if("number"!=typeof e||Math.floor(e)!==e||0>=e)throw Error("limitToLast: First argument must be a positive integer.");
var g=new Df(e);return new Ab(c,Lc(f,g))},Ab.prototype.orderByChild=function(e){da("Query.orderByChild",1,1,arguments.length);var c=this.database,f=this._delegate;if("$key"===e)throw Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');var g=(Ze("orderByChild","path",e,!1),new sh(e));return new Ab(c,
Lc(f,g))},Ab.prototype.orderByKey=function(){return da("Query.orderByKey",0,0,arguments.length),new Ab(this.database,Lc(this._delegate,new tj))},Ab.prototype.orderByPriority=function(){return da("Query.orderByPriority",0,0,arguments.length),new Ab(this.database,Lc(this._delegate,new Qa))},Ab.prototype.orderByValue=function(){return da("Query.orderByValue",0,0,arguments.length),new Ab(this.database,Lc(this._delegate,new Xc))},Ab.prototype.startAt=function(e,c){return void 0===e&&(e=null),da("Query.startAt",
0,2,arguments.length),new Ab(this.database,Lc(this._delegate,(void 0===e&&(e=null),Jd("startAt","key",c,!0),new rj(e,c))))},Ab.prototype.startAfter=function(e,c){return void 0===e&&(e=null),da("Query.startAfter",0,2,arguments.length),new Ab(this.database,Lc(this._delegate,(Jd("startAfter","key",c,!0),new Aa(e,c))))},Ab.prototype.endAt=function(e,c){return void 0===e&&(e=null),da("Query.endAt",0,2,arguments.length),new Ab(this.database,Lc(this._delegate,(Jd("endAt","key",c,!0),new wc(e,c))))},Ab.prototype.endBefore=
function(e,c){return void 0===e&&(e=null),da("Query.endBefore",0,2,arguments.length),new Ab(this.database,Lc(this._delegate,(Jd("endBefore","key",c,!0),new rh(e,c))))},Ab.prototype.equalTo=function(e,c){return da("Query.equalTo",1,2,arguments.length),new Ab(this.database,Lc(this._delegate,(Jd("equalTo","key",c,!0),new ce(e,c))))},Ab.prototype.toString=function(){return da("Query.toString",0,0,arguments.length),this._delegate.toString()},Ab.prototype.toJSON=function(){return da("Query.toJSON",0,1,
arguments.length),this._delegate.toJSON()},Ab.prototype.isEqual=function(e){if(da("Query.isEqual",1,1,arguments.length),e instanceof Ab)return this._delegate.isEqual(e._delegate);throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");},Ab.getCancelAndContextArgs_=function(e,c,f){var g={cancel:void 0,context:void 0};if(c&&f)g.cancel=c,R(e,"cancel",g.cancel,!0),g.context=f,Pb(e,"context",g.context,!0);else if(c)if("object"==typeof c&&null!==c)g.context=c;
else{if("function"!=typeof c)throw Error(w(e,"cancelOrContext")+" must either be a cancel callback or a context object.");g.cancel=c}return g},Object.defineProperty(Ab.prototype,"ref",{get:function(){return new ig(this.database,new be(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),Ab),Nj,ig=(v(ob,Nj=P),ob.prototype.getKey=function(){return da("Reference.key",0,0,arguments.length),this._delegate.key},ob.prototype.child=function(e){return da("Reference.child",1,1,arguments.length),
"number"==typeof e&&(e=String(e)),new ob(this.database,vg(this._delegate,e))},ob.prototype.getParent=function(){da("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new ob(this.database,e):null},ob.prototype.getRoot=function(){return da("Reference.root",0,0,arguments.length),new ob(this.database,this._delegate.root)},ob.prototype.set=function(e,c){da("Reference.set",1,2,arguments.length);R("Reference.set","onComplete",c,!0);e=T(this._delegate,e);return c&&e.then(function(){return c(null)},
function(e){return c(e)}),e},ob.prototype.update=function(e,c){if(da("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var f={},g=0;g<e.length;++g)f[""+g]=e[g];e=f;Nc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hc("Reference.update",this._delegate._path);R("Reference.update","onComplete",c,!0);f=Wd(this._delegate,e);return c&&f.then(function(){return c(null)},
function(e){return c(e)}),f},ob.prototype.setWithPriority=function(e,c,f){da("Reference.setWithPriority",2,3,arguments.length);R("Reference.setWithPriority","onComplete",f,!0);c=function(e,c,f){if(Hc("setWithPriority",e._path),id("setWithPriority",c,e._path,!1),zi("setWithPriority",f,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var g=new Ed;return Xg(e._repo,e._path,c,f,g.wrapCallback(function(){})),g.promise}(this._delegate,e,c);return f&&
c.then(function(){return f(null)},function(e){return f(e)}),c},ob.prototype.remove=function(e){da("Reference.remove",0,1,arguments.length);R("Reference.remove","onComplete",e,!0);var c=(c=this._delegate,Hc("remove",c._path),T(c,null));return e&&c.then(function(){return e(null)},function(c){return e(c)}),c},ob.prototype.transaction=function(e,c,f){var g=this;da("Reference.transaction",1,3,arguments.length);R("Reference.transaction","transactionUpdate",e,!1);R("Reference.transaction","onComplete",c,
!0);if(void 0!==f&&"boolean"!=typeof f)throw Error(w("Reference.transaction","applyLocally")+"must be a boolean.");f=ej(this._delegate,e,{applyLocally:f}).then(function(e){return new Bb(e.committed,new uh(g.database,e.snapshot))});return c&&f.then(function(e){return c(null,e.committed,e.snapshot)},function(e){return c(e,!1,null)}),f},ob.prototype.setPriority=function(e,c){da("Reference.setPriority",1,2,arguments.length);R("Reference.setPriority","onComplete",c,!0);e=function(e,c){e=ka(e);Hc("setPriority",
e._path);zi("setPriority",c,!1);var f=new Ed;return Xg(e._repo,qb(e._path,".priority"),c,null,f.wrapCallback(function(){})),f.promise}(this._delegate,e);return c&&e.then(function(){return c(null)},function(e){return c(e)}),e},ob.prototype.push=function(e,c){var f=this;da("Reference.push",0,2,arguments.length);R("Reference.push","onComplete",c,!0);var g=function(e,c){e=ka(e);Hc("push",e._path);id("push",c,e._path,!0);var f=qf(e._repo),g=sd(f);f=vg(e,g);var h=vg(e,g);c=null!=c?T(h,c).then(function(){return h}):
Promise.resolve(h);return f.then=c.then.bind(c),f.catch=c.then.bind(c,void 0),f}(this._delegate,e);e=g.then(function(e){return new ob(f.database,e)});c&&e.then(function(){return c(null)},function(e){return c(e)});g=new ob(this.database,g);return g.then=e.then.bind(e),g.catch=e.catch.bind(e,void 0),g},ob.prototype.onDisconnect=function(){return Hc("Reference.onDisconnect",this._delegate._path),new xc(new Mj(this._delegate._repo,this._delegate._path))},Object.defineProperty(ob.prototype,"key",{get:function(){return this.getKey()},
enumerable:!1,configurable:!0}),Object.defineProperty(ob.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(ob.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),ob),bh=(Vh.prototype.useEmulator=function(e,c,f){var g=this._delegate,h=void 0===f?{}:f;void 0===h&&(h={});(g=ka(g))._checkNotDeleted("useEmulator");g._instanceStarted&&Ee("Cannot call useEmulator() after instance has already been initialized.");
f=g._repoInternal;var m=void 0;if(f.repoInfo_.nodeAdmin)h.mockUserToken&&Ee('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new Zh(Zh.OWNER);else if(h.mockUserToken){if("string"==typeof h.mockUserToken)g=h.mockUserToken;else{h=h.mockUserToken;g=g.app.options.projectId;if(h.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
m=g||"demo-project";var k=h.iat||0;if(!(g=h.sub||h.user_id))throw Error("mockUserToken must contain 'sub' or 'user_id' field!");g=(h=De({iss:"https://securetoken.google.com/"+m,aud:m,iat:k,exp:k+3600,auth_time:k,sub:g,user_id:g,firebase:{sign_in_provider:"custom",identities:{}}},h),[r(JSON.stringify({alg:"none",type:"JWT"})).replace(/\./g,""),r(JSON.stringify(h)).replace(/\./g,""),""].join("."))}m=new Zh(g)}f.repoInfo_=new Fi(e+":"+c,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,
f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams);m&&(f.authTokenProvider_=m)},Vh.prototype.ref=function(e){if(da("database.ref",0,1,arguments.length),e instanceof ig){var c=ah(this._delegate,e.toString());return new ig(this,c)}c=sf(this._delegate,e);return new ig(this,c)},Vh.prototype.refFromURL=function(e){da("database.refFromURL",1,1,arguments.length);e=ah(this._delegate,e);return new ig(this,e)},Vh.prototype.goOffline=function(){var e;da("database.goOffline",0,0,arguments.length);
(e=ka(e=this._delegate))._checkNotDeleted("goOffline");e=e._repo;e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")},Vh.prototype.goOnline=function(){da("database.goOnline",0,0,arguments.length);var e=this._delegate;(e=ka(e))._checkNotDeleted("goOnline");(e=e._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")},Vh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},Vh),aa=Object.freeze({__proto__:null,
forceLongPolling:function(){pb.forceDisallow();Cg.forceAllow()},forceWebSockets:function(){Cg.forceDisallow()},isWebSocketsAvailable:function(){return pb.isAvailable()},setSecurityDebugCallback:function(e,c){e._delegate._repo.persistentConnection_.securityDebugCallback_=c},stats:function(e,c){var f;e=e._delegate._repo;void 0===c&&(c=!1);"undefined"!=typeof console&&(e=c?(e.statsListener_||(e.statsListener_=new ud(e.stats_)),e.statsListener_.get()):e.stats_.get(),f=Object.keys(e).reduce(function(e,
c){return Math.max(c.length,e)},0),Va(e,function(e,c){var g=e;for(e=e.length;e<f+2;e++)g+=" ";console.log(g+c)}))},statsIncrementCounter:function(e,c){e=e._delegate._repo;e.stats_.incrementCounter(c);e.statsReporter_.statsToReport_[c]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,c){e._delegate._repo.interceptServerDataCallback_=c},initStandalone:function(e){var c=e.app,f=e.url,g=e.version,h=e.customAuthImpl,k=e.namespace;e=void 0!==(e=e.nodeAdmin)&&
e;rb=g;return(g=new Ja("auth-internal",new $f("database-standalone"))).setComponent(new fj("auth-internal",function(){return h},"PRIVATE")),{instance:new bh(dj(c,g,void 0,f,e),c),namespace:k}}});Kb=yf;yf.prototype.simpleListen=function(e,c){this.sendRequest("q",{p:e},c)};yf.prototype.echo=function(e,c){this.sendRequest("echo",{d:e},c)};var jg,We=Object.freeze({__proto__:null,DataConnection:Kb,RealTimeConnection:Pk,hijackHash:function(e){var c=yf.prototype.put;return yf.prototype.put=function(f,g,
h,m){void 0!==m&&(m=e());c.call(this,f,g,h,m)},function(){yf.prototype.put=c}},ConnectionTarget:Fi,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){oi=e}}),pi=bh.ServerValue;rb=(jg=al.default).SDK_VERSION;jg.INTERNAL.registerComponent((new fj("database",function(e,c){var f=c.instanceIdentifier,g=e.getProvider("app").getImmediate();c=e.getProvider("auth-internal");e=e.getProvider("app-check-internal");return new bh(dj(g,c,e,f),g)},"PUBLIC")).setServiceProps({Reference:ig,
Query:P,Database:bh,DataSnapshot:uh,enableLogging:kb,INTERNAL:aa,ServerValue:pi,TEST_ACCESS:We}).setMultipleInstances(!0));jg.registerVersion("@firebase/database","0.11.0")}.apply(this,arguments)}catch(v){throw console.error(v),Error("Cannot instantiate firebase-database.js - be sure to load firebase-app.js first.");}});!function(x,v){"object"==typeof n&&"undefined"!=typeof module?v(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],v):v(("undefined"!=typeof globalThis?
globalThis:x||self).firebase)}(this,function(n){try{!function(){function v(c,f,g,h){return new (g=g||Promise)(function(k,n){function u(c){try{r(h.next(c))}catch(dc){n(dc)}}function C(c){try{r(h.throw(c))}catch(dc){n(dc)}}function r(c){var f;c.done?k(c.value):((f=c.value)instanceof g?f:new g(function(c){c(f)})).then(u,C)}r((h=h.apply(c,f||[])).next())})}function k(c,f){function g(g){return function(r){return function(g){if(h)throw new TypeError("Generator is already executing.");for(;u;)try{if(h=1,
k&&(n=2&g[0]?k.return:g[0]?k.throw||((n=k.return)&&n.call(k),0):k.next)&&!(n=n.call(k,g[1])).done)return n;switch(k=0,(g=n?[2&g[0],n.value]:g)[0]){case 0:case 1:n=g;break;case 4:return u.label++,{value:g[1],done:!1};case 5:u.label++;k=g[1];g=[0];continue;case 7:g=u.ops.pop();u.trys.pop();continue;default:if(!(n=0<(n=u.trys).length&&n[n.length-1])&&(6===g[0]||2===g[0])){u=0;continue}if(3===g[0]&&(!n||g[1]>n[0]&&g[1]<n[3]))u.label=g[1];else if(6===g[0]&&u.label<n[1])u.label=n[1],n=g;else if(n&&u.label<
n[2])u.label=n[2],u.ops.push(g);else{n[2]&&u.ops.pop();u.trys.pop();continue}}g=f.call(c,u)}catch(Za){g=[6,Za],k=0}finally{h=n=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,r])}}var h,k,n,u={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},r={next:g(0),throw:g(1),return:g(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r}function x(c){var f="function"==typeof Symbol&&Symbol.iterator,g=f&&c[f],h=0;if(g)return g.call(c);
if(c&&"number"==typeof c.length)return{next:function(){return{value:(c=c&&h>=c.length?void 0:c)&&c[h++],done:!c}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.");}function z(c,f){var g="function"==typeof Symbol&&c[Symbol.iterator];if(!g)return c;var h;c=g.call(c);var k=[];try{for(;(void 0===f||0<f--)&&!(h=c.next()).done;)k.push(h.value)}catch(Ta){var n={error:Ta}}finally{try{h&&!h.done&&(g=c.return)&&g.call(c)}finally{if(n)throw n.error;}}return k}function I(c,
f){for(var g=0,h=f.length,k=c.length;g<h;g++,k++)c[k]=f[g];return c}function c(f,g,h){g=zh.call(this,g)||this;return g.code=f,g.customData=h,g.name="FirebaseError",Object.setPrototypeOf(g,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(g,jd.prototype.create),g}function f(c,f,g){this.service=c;this.serviceName=f;this.errors=g}function r(c,f,g){this.name=c;this.instanceFactory=f;this.type=g;this.multipleInstances=!1;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=
null}function ra(c){return new Promise(function(f,g){c.onsuccess=function(){f(c.result)};c.onerror=function(){g(c.error)}})}function sa(c,f,g){var h,k=new Promise(function(k,n){ra(h=c[f].apply(c,g)).then(k,n)});return k.request=h,k}function fa(c,f,g){g.forEach(function(g){Object.defineProperty(c.prototype,g,{get:function(){return this[f][g]},set:function(c){this[f][g]=c}})})}function B(c,f,g,h){h.forEach(function(h){h in g.prototype&&(c.prototype[h]=function(){return sa(this[f],h,arguments)})})}function vb(c,
f,g,h){h.forEach(function(h){h in g.prototype&&(c.prototype[h]=function(){return this[f][h].apply(this[f],arguments)})})}function db(c,f,g,h){h.forEach(function(h){h in g.prototype&&(c.prototype[h]=function(){return c=this[f],(g=sa(c,h,arguments)).then(function(c){if(c)return new fb(c,g.request)});var c,g})})}function J(c){this._index=c}function fb(c,f){this._cursor=c;this._request=f}function ya(c){this._store=c}function Ka(c){this._tx=c;this.complete=new Promise(function(f,g){c.oncomplete=function(){f()};
c.onerror=function(){g(c.error)};c.onabort=function(){g(c.error)}})}function E(c,f,g){this._db=c;this.oldVersion=f;this.transaction=new Ka(g)}function ta(c){this._db=c}function Da(c,f,g){f=sa(indexedDB,"open",[c,f]);var h=f.request;return h&&(h.onupgradeneeded=function(c){g&&g(new E(h.result,c.oldVersion,h.transaction))}),f.then(function(c){return new ta(c)})}function $a(c){return sa(indexedDB,"deleteDatabase",[c])}function da(c){return c instanceof ee&&c.code.includes("request-failed")}function w(c){c=
c.projectId;return"https://firebaseinstallations.googleapis.com/v1/projects/"+c+"/installations"}function R(c){return{token:c.token,requestStatus:2,expiresIn:(c=c.expiresIn,Number(c.replace("s","000"))),creationTime:Date.now()}}function Pb(c,f){return v(this,void 0,void 0,function(){var g;return k(this,function(h){switch(h.label){case 0:return[4,f.json()];case 1:return g=h.sent(),g=g.error,[2,Ia.create("request-failed",{requestName:c,serverCode:g.code,serverMessage:g.message,serverStatus:g.status})]}})})}
function Gb(c){c=c.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":c})}function ka(c,f){f=f.refreshToken;c=Gb(c);return c.append("Authorization","FIS_v2 "+f),c}function jb(c){return v(this,void 0,void 0,function(){var f;return k(this,function(g){switch(g.label){case 0:return[4,c()];case 1:return 500<=(f=g.sent()).status&&600>f.status?[2,c()]:[2,f]}})})}function Ca(c){return new Promise(function(f){setTimeout(f,c)})}function U(){try{var c=new Uint8Array(17);
(self.crypto||self.msCrypto).getRandomValues(c);c[0]=112+c[0]%16;var f=btoa(String.fromCharCode.apply(String,I([],z(c)))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return nc.test(f)?f:""}catch(lg){return""}}function A(c){return c.appName+"!"+c.appId}function Q(c,f){c=A(c);wb(c,f);var g=Ha();g&&g.postMessage({key:c,fid:f});Fa()}function wb(c,f){var g;if(c=Wa.get(c))try{for(var h=x(c),k=h.next();!k.done;k=h.next())(0,k.value)(f)}catch(Ta){var n={error:Ta}}finally{try{k&&!k.done&&(g=h.return)&&
g.call(h)}finally{if(n)throw n.error;}}}function Ha(){return!G&&"BroadcastChannel"in self&&((G=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(c){wb(c.data.key,c.data.fid)}),G}function Fa(){0===Wa.size&&G&&(G.close(),G=null)}function kb(){return xb=xb||Da("firebase-installations-database",1,function(c){0===c.oldVersion&&c.createObjectStore("firebase-installations-store")})}function ja(c,f){return v(this,void 0,void 0,function(){var g,h,n,u;return k(this,function(k){switch(k.label){case 0:return g=
A(c),[4,kb()];case 1:return n=k.sent(),h=n.transaction("firebase-installations-store","readwrite"),[4,(n=h.objectStore("firebase-installations-store")).get(g)];case 2:return u=k.sent(),[4,n.put(f,g)];case 3:return k.sent(),[4,h.complete];case 4:return k.sent(),u&&u.fid===f.fid||Q(c,f.fid),[2,f]}})})}function H(c){return v(this,void 0,void 0,function(){var f,g;return k(this,function(h){switch(h.label){case 0:return f=A(c),[4,kb()];case 1:return g=h.sent(),[4,(g=g.transaction("firebase-installations-store",
"readwrite")).objectStore("firebase-installations-store").delete(f)];case 2:return h.sent(),[4,g.complete];case 3:return h.sent(),[2]}})})}function Y(c,f){return v(this,void 0,void 0,function(){var g,h,n,u,r;return k(this,function(k){switch(k.label){case 0:return g=A(c),[4,kb()];case 1:return n=k.sent(),h=n.transaction("firebase-installations-store","readwrite"),[4,(n=h.objectStore("firebase-installations-store")).get(g)];case 2:return u=k.sent(),void 0!==(r=f(u))?[3,4]:[4,n.delete(g)];case 3:return k.sent(),
[3,6];case 4:return[4,n.put(r,g)];case 5:k.sent(),k.label=6;case 6:return[4,h.complete];case 7:return k.sent(),!r||u&&u.fid===r.fid||Q(c,r.fid),[2,r]}})})}function Db(c){return v(this,void 0,void 0,function(){var f,g,h;return k(this,function(n){switch(n.label){case 0:return[4,Y(c,function(g){g=Va(g||{fid:U(),registrationStatus:0});g=function(c,f){if(0!==f.registrationStatus)return 1===f.registrationStatus?{installationEntry:f,registrationPromise:function(c){return v(this,void 0,void 0,function(){var f,
g,h;return k(this,function(k){switch(k.label){case 0:return[4,sb(c)];case 1:f=k.sent(),k.label=2;case 2:return 1!==f.registrationStatus?[3,5]:[4,Ca(100)];case 3:return k.sent(),[4,sb(c)];case 4:return f=k.sent(),[3,2];case 5:return 0!==f.registrationStatus?[3,7]:[4,Db(c)];case 6:return h=k.sent(),g=h.installationEntry,(h=h.registrationPromise)?[2,h]:[2,g];case 7:return[2,f]}})})}(c)}:{installationEntry:f};if(!navigator.onLine)return c=Promise.reject(Ia.create("app-offline")),{installationEntry:f,
registrationPromise:c};f={fid:f.fid,registrationStatus:1,registrationTime:Date.now()};c=function(c,f){return v(this,void 0,void 0,function(){var g,h;return k(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,7]),[4,function(c,f){var g=f.fid;return v(this,void 0,void 0,function(){var f,h,n,u,r;return k(this,function(k){switch(k.label){case 0:return f=w(c),h=Gb(c),r={fid:g,authVersion:"FIS_v2",appId:c.appId,sdkVersion:"w:0.4.32"},n={method:"POST",headers:h,body:JSON.stringify(r)},[4,
jb(function(){return fetch(f,n)})];case 1:return(u=k.sent()).ok?[4,u.json()]:[3,3];case 2:return r=k.sent(),[2,{fid:r.fid||g,registrationStatus:2,refreshToken:r.refreshToken,authToken:R(r.authToken)}];case 3:return[4,Pb("Create Installation",u)];case 4:throw k.sent();}})})}(c,f)];case 1:return g=n.sent(),[2,ja(c,g)];case 2:return da(h=n.sent())&&409===h.customData.serverCode?[4,H(c)]:[3,4];case 3:return n.sent(),[3,6];case 4:return[4,ja(c,{fid:f.fid,registrationStatus:0})];case 5:n.sent(),n.label=
6;case 6:throw h;case 7:return[2]}})})}(c,f);return{installationEntry:f,registrationPromise:c}}(c,g);return f=g.registrationPromise,g.installationEntry})];case 1:return""!==(g=n.sent()).fid?[3,3]:(h={},[4,f]);case 2:return[2,(h.installationEntry=n.sent(),h)];case 3:return[2,{installationEntry:g,registrationPromise:f}]}})})}function sb(c){return Y(c,function(c){if(!c)throw Ia.create("installation-not-found");return Va(c)})}function Va(c){return 1===(f=c).registrationStatus&&f.registrationTime+1E4<
Date.now()?{fid:c.fid,registrationStatus:0}:c;var f}function gb(c,f){var g=c.appConfig,h=c.platformLoggerProvider;return v(this,void 0,void 0,function(){var c,n,u,r,M;return k(this,function(k){switch(k.label){case 0:return c=function(c,f){f=f.fid;return w(c)+"/"+f+"/authTokens:generate"}(g,f),n=ka(g,f),(M=h.getImmediate({optional:!0}))&&n.append("x-firebase-client",M.getPlatformInfoString()),M={installation:{sdkVersion:"w:0.4.32"}},u={method:"POST",headers:n,body:JSON.stringify(M)},[4,jb(function(){return fetch(c,
u)})];case 1:return(r=k.sent()).ok?[4,r.json()]:[3,3];case 2:return M=k.sent(),[2,R(M)];case 3:return[4,Pb("Generate Auth Token",r)];case 4:throw k.sent();}})})}function h(c,f){return void 0===f&&(f=!1),v(this,void 0,void 0,function(){var g,n,u;return k(this,function(r){switch(r.label){case 0:return[4,Y(c.appConfig,function(n){if(void 0===n||2!==n.registrationStatus)throw Ia.create("not-registered");var u,r=n.authToken;if(f||2!==(u=r).requestStatus||function(c){var f=Date.now();return f<c.creationTime||
c.creationTime+c.expiresIn<f+36E5}(u)){if(1===r.requestStatus)return g=function(c,f){return v(this,void 0,void 0,function(){var g;return k(this,function(k){switch(k.label){case 0:return[4,Jb(c.appConfig)];case 1:g=k.sent(),k.label=2;case 2:return 1!==g.authToken.requestStatus?[3,5]:[4,Ca(100)];case 3:return k.sent(),[4,Jb(c.appConfig)];case 4:return g=k.sent(),[3,2];case 5:return 0===(g=g.authToken).requestStatus?[2,h(c,f)]:[2,g]}})})}(c,f),n;if(!navigator.onLine)throw Ia.create("app-offline");r=
(u=n,r={requestStatus:1,requestTime:Date.now()},Hb(Hb({},u),{authToken:r}));return g=function(c,f){return v(this,void 0,void 0,function(){var g,h,n;return k(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,8]),[4,gb(c,f)];case 1:return g=k.sent(),n=Hb(Hb({},f),{authToken:g}),[4,ja(c.appConfig,n)];case 2:return k.sent(),[2,g];case 3:return!da(h=k.sent())||401!==h.customData.serverCode&&404!==h.customData.serverCode?[3,5]:[4,H(c.appConfig)];case 4:return k.sent(),[3,7];case 5:return n=
Hb(Hb({},f),{authToken:{requestStatus:0}}),[4,ja(c.appConfig,n)];case 6:k.sent(),k.label=7;case 7:throw h;case 8:return[2]}})})}(c,r),r}return n})];case 1:return n=r.sent(),g?[4,g]:[3,3];case 2:return u=r.sent(),[3,4];case 3:u=n.authToken,r.label=4;case 4:return[2,u]}})})}function Jb(c){return Y(c,function(c){if(void 0===c||2!==c.registrationStatus)throw Ia.create("not-registered");var f=c.authToken;return 1===f.requestStatus&&f.requestTime+1E4<Date.now()?Hb(Hb({},c),{authToken:{requestStatus:0}}):
c})}function M(c,f){return void 0===f&&(f=!1),v(this,void 0,void 0,function(){return k(this,function(g){switch(g.label){case 0:return[4,function(c){return v(this,void 0,void 0,function(){var f;return k(this,function(g){switch(g.label){case 0:return[4,Db(c)];case 1:return(f=g.sent().registrationPromise)?[4,f]:[3,3];case 2:g.sent(),g.label=3;case 3:return[2]}})})}(c.appConfig)];case 1:return g.sent(),[4,h(c,f)];case 2:return[2,g.sent().token]}})})}function ea(c,f){return v(this,void 0,void 0,function(){var g,
h,n;return k(this,function(k){switch(k.label){case 0:return g=function(c,f){f=f.fid;return w(c)+"/"+f}(c,f),n=ka(c,f),h={method:"DELETE",headers:n},[4,jb(function(){return fetch(g,h)})];case 1:return(n=k.sent()).ok?[3,3]:[4,Pb("Delete Installation",n)];case 2:throw k.sent();case 3:return[2]}})})}function ac(c,f){var g=c.appConfig;return function(c,f){Ha();var g=A(c);(c=Wa.get(g))||(c=new Set,Wa.set(g,c));c.add(f)}(g,f),function(){var c;var h=A(g);(c=Wa.get(h))&&(c.delete(f),0===c.size&&Wa.delete(h),
Fa())}}function Ie(c){return Ia.create("missing-app-config-values",{valueName:c})}function Ba(c){c=new Uint8Array(c);return btoa(String.fromCharCode.apply(String,I([],z(c)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(c){return v(this,void 0,void 0,function(){var f,g,h=this;return k(this,function(n){switch(n.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(f=n.sent(),!f.map(function(c){return c.name}).includes("fcm_token_details_db"))return[2,
null];n.label=2;case 2:return g=null,[4,Da("fcm_token_details_db",5,function(f){return v(h,void 0,void 0,function(){var h,n,u;return k(this,function(k){switch(k.label){case 0:return 2>f.oldVersion?[2]:f.objectStoreNames.contains("fcm_token_object_Store")?[4,(u=f.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(c)]:[2];case 1:return h=k.sent(),[4,u.clear()];case 2:if(k.sent(),!h)return[2];if(2===f.oldVersion){if(!(n=h).auth||!n.p256dh||!n.endpoint)return[2];g={token:n.fcmToken,
createTime:null!==(u=n.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:n.auth,p256dh:n.p256dh,endpoint:n.endpoint,swScope:n.swScope,vapidKey:"string"==typeof n.vapidKey?n.vapidKey:Ba(n.vapidKey)}}}else 3!==f.oldVersion&&4!==f.oldVersion||(g={token:(n=h).fcmToken,createTime:n.createTime,subscriptionOptions:{auth:Ba(n.auth),p256dh:Ba(n.p256dh),endpoint:n.endpoint,swScope:n.swScope,vapidKey:Ba(n.vapidKey)}});return[2]}})})})];case 3:return n.sent().close(),[4,$a("fcm_token_details_db")];
case 4:return n.sent(),[4,$a("fcm_vapid_details_db")];case 5:return n.sent(),[4,$a("undefined")];case 6:return n.sent(),[2,function(c){if(!c||!c.subscriptionOptions)return!1;var f=c.subscriptionOptions;return"number"==typeof c.createTime&&0<c.createTime&&"string"==typeof c.token&&0<c.token.length&&"string"==typeof f.auth&&0<f.auth.length&&"string"==typeof f.p256dh&&0<f.p256dh.length&&"string"==typeof f.endpoint&&0<f.endpoint.length&&"string"==typeof f.swScope&&0<f.swScope.length&&"string"==typeof f.vapidKey&&
0<f.vapidKey.length}(g)?g:null]}})})}function ca(){return Jc=Jc||Da("firebase-messaging-database",1,function(c){0===c.oldVersion&&c.createObjectStore("firebase-messaging-store")})}function La(c){return v(this,void 0,void 0,function(){var f,h;return k(this,function(k){switch(k.label){case 0:return f=c.appConfig.appId,[4,ca()];case 1:return[4,k.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(f)];case 2:return(f=k.sent())?[2,f]:[3,3];case 3:return[4,g(c.appConfig.senderId)];
case 4:return(h=k.sent())?[4,Qc(c,h)]:[3,6];case 5:return k.sent(),[2,h];case 6:return[2]}})})}function Qc(c,f){return v(this,void 0,void 0,function(){var g,h;return k(this,function(k){switch(k.label){case 0:return g=c.appConfig.appId,[4,ca()];case 1:return h=k.sent(),[4,(h=h.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(f,g)];case 2:return k.sent(),[4,h.complete];case 3:return k.sent(),[2,f]}})})}function Sa(c,f){return v(this,void 0,void 0,function(){var g,
h;return k(this,function(k){switch(k.label){case 0:return[4,Nb(c)];case 1:g=k.sent(),g={method:"DELETE",headers:g},k.label=2;case 2:return k.trys.push([2,5,,6]),[4,fetch(Ma(c.appConfig)+"/"+f,g)];case 3:return[4,k.sent().json()];case 4:if((g=k.sent()).error)throw h=g.error.message,Ya.create("token-unsubscribe-failed",{errorInfo:h});return[3,6];case 5:throw h=k.sent(),Ya.create("token-unsubscribe-failed",{errorInfo:h});case 6:return[2]}})})}function Ma(c){c=c.projectId;return"https://fcmregistrations.googleapis.com/v1/projects/"+
c+"/registrations"}function Nb(c){var f=c.appConfig,g=c.installations;return v(this,void 0,void 0,function(){var c;return k(this,function(h){switch(h.label){case 0:return[4,g.getToken()];case 1:return c=h.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":f.apiKey,"x-goog-firebase-installations-auth":"FIS "+c})]}})})}function xd(c){var f=c.p256dh,g=c.auth,h=c.endpoint;c=c.vapidKey;f={web:{endpoint:h,auth:g,p256dh:f}};return"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4"!==
c&&(f.web.applicationPubKey=c),f}function X(c,f,g){return v(this,void 0,void 0,function(){var h,n,u;return k(this,function(r){switch(r.label){case 0:if("granted"!==Notification.permission)throw Ya.create("permission-blocked");return[4,function(c,f){return v(this,void 0,void 0,function(){var g;return k(this,function(h){switch(h.label){case 0:return[4,c.pushManager.getSubscription()];case 1:return(g=h.sent())?[2,g]:[2,c.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(c){c=(c+
"=".repeat((4-c.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");c=atob(c);for(var f=new Uint8Array(c.length),g=0;g<c.length;++g)f[g]=c.charCodeAt(g);return f}(f)})]}})})}(f,g)];case 1:return u=r.sent(),[4,La(c)];case 2:return h=r.sent(),n={vapidKey:g,swScope:f.scope,endpoint:u.endpoint,auth:Ba(u.getKey("auth")),p256dh:Ba(u.getKey("p256dh"))},h?[3,3]:[2,Eb(c,n)];case 3:if(M=h.subscriptionOptions,ea=n.vapidKey===M.vapidKey,C=n.endpoint===M.endpoint,w=n.auth===M.auth,M=n.p256dh===M.p256dh,ea&&C&&
w&&M)return[3,8];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,Sa(c,h.token)];case 5:return r.sent(),[3,7];case 6:return u=r.sent(),console.warn(u),[3,7];case 7:return[2,Eb(c,n)];case 8:return Date.now()>=h.createTime+6048E5?[2,function(c,f,g){return v(this,void 0,void 0,function(){var h,n,u;return k(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,5]),[4,function(c,f){return v(this,void 0,void 0,function(){var g,h,n,u;return k(this,function(k){switch(k.label){case 0:return[4,Nb(c)];
case 1:g=k.sent(),h=xd(f.subscriptionOptions),h={method:"PATCH",headers:g,body:JSON.stringify(h)},k.label=2;case 2:return k.trys.push([2,5,,6]),[4,fetch(Ma(c.appConfig)+"/"+f.token,h)];case 3:return[4,k.sent().json()];case 4:return n=k.sent(),[3,6];case 5:throw u=k.sent(),Ya.create("token-update-failed",{errorInfo:u});case 6:if(n.error)throw u=n.error.message,Ya.create("token-update-failed",{errorInfo:u});if(!n.token)throw Ya.create("token-update-no-token");return[2,n.token]}})})}(f,c)];case 1:return h=
r.sent(),n=Hb(Hb({},c),{token:h,createTime:Date.now()}),[4,Qc(f,n)];case 2:return r.sent(),[2,h];case 3:return u=r.sent(),[4,bd(f,g)];case 4:throw r.sent(),u;case 5:return[2]}})})}({token:h.token,createTime:Date.now(),subscriptionOptions:n},c,f)]:[2,h.token];case 9:return[2]}var M,ea,C,w})})}function bd(c,f){return v(this,void 0,void 0,function(){var g;return k(this,function(h){switch(h.label){case 0:return[4,La(c)];case 1:return(g=h.sent())?[4,Sa(c,g.token)]:[3,4];case 2:return h.sent(),[4,function(c){return v(this,
void 0,void 0,function(){var f,g;return k(this,function(h){switch(h.label){case 0:return f=c.appConfig.appId,[4,ca()];case 1:return g=h.sent(),[4,(g=g.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(f)];case 2:return h.sent(),[4,g.complete];case 3:return h.sent(),[2]}})})}(c)];case 3:h.sent(),h.label=4;case 4:return[4,f.pushManager.getSubscription()];case 5:return(g=h.sent())?[2,g.unsubscribe()]:[2,!0]}})})}function Eb(c,f){return v(this,void 0,
void 0,function(){var g;return k(this,function(h){switch(h.label){case 0:return[4,function(c,f){return v(this,void 0,void 0,function(){var g,h,n,u;return k(this,function(k){switch(k.label){case 0:return[4,Nb(c)];case 1:g=k.sent(),h=xd(f),h={method:"POST",headers:g,body:JSON.stringify(h)},k.label=2;case 2:return k.trys.push([2,5,,6]),[4,fetch(Ma(c.appConfig),h)];case 3:return[4,k.sent().json()];case 4:return n=k.sent(),[3,6];case 5:throw u=k.sent(),Ya.create("token-subscribe-failed",{errorInfo:u});
case 6:if(n.error)throw u=n.error.message,Ya.create("token-subscribe-failed",{errorInfo:u});if(!n.token)throw Ya.create("token-subscribe-no-token");return[2,n.token]}})})}(c,f)];case 1:return g=h.sent(),g={token:g,createTime:Date.now(),subscriptionOptions:f},[4,Qc(c,g)];case 2:return h.sent(),[2,g.token]}})})}function wa(c){return"object"==typeof c&&c&&"google.c.a.c_id"in c}function L(c){return new Promise(function(f){setTimeout(f,c)})}function fc(c){var f=this;this.firebaseDependencies=c;this.bgMessageHandler=
this.vapidKey=this.isOnBackgroundMessageUsed=null;self.addEventListener("push",function(c){c.waitUntil(f.onPush(c))});self.addEventListener("pushsubscriptionchange",function(c){c.waitUntil(f.onSubChange(c))});self.addEventListener("notificationclick",function(c){c.waitUntil(f.onNotificationClick(c))})}function Ga(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function hb(c){var f=this;this.firebaseDependencies=c;this.onMessageCallback=this.vapidKey=null;navigator.serviceWorker.addEventListener("message",
function(c){return f.messageEventListener(c)})}function Je(c){return Ya.create("missing-app-config-values",{valueName:c})}function od(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&
"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}var qb=n&&"object"==typeof n&&"default"in n?n:{default:n},nb=function(c,f){return(nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])})(c,f)},Hb=function(){return(Hb=Object.assign||function(c){for(var f,g=1,h=arguments.length;g<
h;g++)for(var k in f=arguments[g])Object.prototype.hasOwnProperty.call(f,k)&&(c[k]=f[k]);return c}).apply(this,arguments)},zh,ee=(function(c,f){function g(){this.constructor=c}if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");nb(c,f);c.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}(c,zh=Error),c),jd=(f.prototype.create=function(c){for(var f=[],g=1;g<arguments.length;g++)f[g-1]=arguments[g];var h=f[0]||{};f=
this.service+"/"+c;c=(c=this.errors[c])?c.replace(Ah,function(c,f){c=h[f];return null!=c?String(c):"<"+f+"?>"}):"Error";c=this.serviceName+": "+c+" ("+f+").";return new ee(f,c,h)},f),Ah=/\{\$([^}]+)}/g,te=(r.prototype.setInstantiationMode=function(c){return this.instantiationMode=c,this},r.prototype.setMultipleInstances=function(c){return this.multipleInstances=c,this},r.prototype.setServiceProps=function(c){return this.serviceProps=c,this},r.prototype.setInstanceCreatedCallback=function(c){return this.onInstanceCreated=
c,this},r);fa(J,"_index",["name","keyPath","multiEntry","unique"]);B(J,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);db(J,"_index",IDBIndex,["openCursor","openKeyCursor"]);fa(fb,"_cursor",["direction","key","primaryKey","value"]);B(fb,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(c){c in IDBCursor.prototype&&(fb.prototype[c]=function(){var f=this,g=arguments;return Promise.resolve().then(function(){return f._cursor[c].apply(f._cursor,
g),ra(f._request).then(function(c){if(c)return new fb(c,f._request)})})})});ya.prototype.createIndex=function(){return new J(this._store.createIndex.apply(this._store,arguments))};ya.prototype.index=function(){return new J(this._store.index.apply(this._store,arguments))};fa(ya,"_store",["name","keyPath","indexNames","autoIncrement"]);B(ya,"_store",IDBObjectStore,"put add delete clear get getAll getKey getAllKeys count".split(" "));db(ya,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);vb(ya,
"_store",IDBObjectStore,["deleteIndex"]);Ka.prototype.objectStore=function(){return new ya(this._tx.objectStore.apply(this._tx,arguments))};fa(Ka,"_tx",["objectStoreNames","mode"]);vb(Ka,"_tx",IDBTransaction,["abort"]);E.prototype.createObjectStore=function(){return new ya(this._db.createObjectStore.apply(this._db,arguments))};fa(E,"_db",["name","version","objectStoreNames"]);vb(E,"_db",IDBDatabase,["deleteObjectStore","close"]);ta.prototype.transaction=function(){return new Ka(this._db.transaction.apply(this._db,
arguments))};fa(ta,"_db",["name","version","objectStoreNames"]);vb(ta,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(c){[ya,J].forEach(function(f){c in f.prototype&&(f.prototype[c.replace("open","iterate")]=function(){var f=(h=arguments,Array.prototype.slice.call(h)),g=f[f.length-1],h=this._store||this._index,k=h[c].apply(h,f.slice(0,-1));k.onsuccess=function(){g(k.result)}})})});[J,ya].forEach(function(c){c.prototype.getAll||(c.prototype.getAll=function(c,f){var g=this,
h=[];return new Promise(function(k){g.iterateCursor(c,function(c){c?(h.push(c.value),void 0===f||h.length!=f?c.continue():k(h)):k(h)})})})});var mb=((mb={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',mb["not-registered"]="Firebase Installation is not registered.",mb["installation-not-found"]="Firebase Installation not found.",mb["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',mb["app-offline"]="Could not process request. Application offline.",
mb["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",mb),Ia=new jd("installations","Installations",mb),nc=/^[cdef][\w-]{21}$/,Wa=new Map,G=null,ue,xb=null;(ue=qb.default).INTERNAL.registerComponent(new te("installations",function(c){var f=c.getProvider("app").getImmediate(),g={appConfig:function(c){var f;if(!c||!c.options)throw Ie("App Configuration");if(!c.name)throw Ie("App Name");try{for(var g=x(["projectId","apiKey","appId"]),h=g.next();!h.done;h=
g.next()){var k=h.value;if(!c.options[k])throw Ie(k);}}catch(fe){var n={error:fe}}finally{try{h&&!h.done&&(f=g.return)&&f.call(g)}finally{if(n)throw n.error;}}return{appName:c.name,projectId:c.options.projectId,apiKey:c.options.apiKey,appId:c.options.appId}}(f),platformLoggerProvider:c.getProvider("platform-logger")};return{app:f,getId:function(){return function(c){return v(this,void 0,void 0,function(){var f,g;return k(this,function(k){switch(k.label){case 0:return[4,Db(c.appConfig)];case 1:return f=
k.sent(),g=f.installationEntry,(f.registrationPromise||h(c)).catch(console.error),[2,g.fid]}})})}(g)},getToken:function(c){return M(g,c)},delete:function(){return function(c){return v(this,void 0,void 0,function(){var f,g;return k(this,function(h){switch(h.label){case 0:return[4,Y(f=c.appConfig,function(c){if(!c||0!==c.registrationStatus)return c})];case 1:if(!(g=h.sent()))return[3,6];if(1!==g.registrationStatus)return[3,2];throw Ia.create("delete-pending-registration");case 2:if(2!==g.registrationStatus)return[3,
6];if(navigator.onLine)return[3,3];throw Ia.create("app-offline");case 3:return[4,ea(f,g)];case 4:return h.sent(),[4,H(f)];case 5:h.sent(),h.label=6;case 6:return[2]}})})}(g)},onIdChange:function(c){return ac(g,c)}}},"PUBLIC"));ue.registerVersion("@firebase/installations","0.4.32");var Na;mb=((mb={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',mb["only-available-in-window"]="This method is available in a Window context.",mb["only-available-in-sw"]="This method is available in a service worker context.",
mb["permission-default"]="The notification permission was not granted and dismissed instead.",mb["permission-blocked"]="The notification permission was not granted and blocked instead.",mb["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",mb["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",mb["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",
mb["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",mb["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",mb["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",mb["token-update-no-token"]="FCM returned no token when updating the user to push.",mb["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",
mb["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",mb["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",mb["invalid-vapid-key"]="The public VAPID key must be a string.",mb["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",mb);var Ya=new jd("messaging","Messaging",mb);(mb=Na=Na||{}).PUSH_RECEIVED=
"push-received";mb.NOTIFICATION_CLICKED="notification-clicked";var Jc=null,cd=(Object.defineProperty(fc.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),fc.prototype.setBackgroundMessageHandler=function(c){if(this.isOnBackgroundMessageUsed=!1,!c||"function"!=typeof c)throw Ya.create("invalid-bg-handler");this.bgMessageHandler=c},fc.prototype.onBackgroundMessage=function(c){var f=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=
c,function(){f.bgMessageHandler=null}},fc.prototype.getToken=function(){var c;return v(this,void 0,void 0,function(){var f;return k(this,function(g){switch(g.label){case 0:return this.vapidKey?[3,2]:[4,La(this.firebaseDependencies)];case 1:f=g.sent(),this.vapidKey=null!==(c=null===(c=null==f?void 0:f.subscriptionOptions)||void 0===c?void 0:c.vapidKey)&&void 0!==c?c:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",g.label=2;case 2:return[2,X(this.firebaseDependencies,
self.registration,this.vapidKey)]}})})},fc.prototype.deleteToken=function(){return bd(this.firebaseDependencies,self.registration)},fc.prototype.requestPermission=function(){throw Ya.create("only-available-in-window");},fc.prototype.usePublicVapidKey=function(c){if(null!==this.vapidKey)throw Ya.create("use-vapid-key-after-get-token");if("string"!=typeof c||0===c.length)throw Ya.create("invalid-vapid-key");this.vapidKey=c},fc.prototype.useServiceWorker=function(){throw Ya.create("only-available-in-window");
},fc.prototype.onMessage=function(){throw Ya.create("only-available-in-window");},fc.prototype.onTokenRefresh=function(){throw Ya.create("only-available-in-window");},fc.prototype.onPush=function(c){return v(this,void 0,void 0,function(){var f,g,h;return k(this,function(k){switch(k.label){case 0:return(h=function(c){c=c.data;if(!c)return null;try{return c.json()}catch(Za){return null}}(c))?[4,Ga()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),
[2]);case 1:return(f=k.sent()).some(function(c){return"visible"===c.visibilityState&&!c.url.startsWith("chrome-extension://")})?[2,function(c,f){var g;f.isFirebaseMessaging=!0;f.messageType=Na.PUSH_RECEIVED;try{for(var h=x(c),k=h.next();!k.done;k=h.next())k.value.postMessage(f)}catch(Hd){var n={error:Hd}}finally{try{k&&!k.done&&(g=h.return)&&g.call(h)}finally{if(n)throw n.error;}}}(f,h)]:(g=!1,h.notification?[4,function(c){var f=c.actions,g=Notification.maxActions;f&&g&&f.length>g&&console.warn("This browser only supports "+
g+" actions. The remaining actions will not be displayed.");return self.registration.showNotification(null!==(g=c.title)&&void 0!==g?g:"",c)}(((ea=Hb({},(u=h).notification)).data=((M={}).FCM_MSG=u,M),ea))]:[3,3]);case 2:k.sent(),g=!0,k.label=3;case 3:return!0===g&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r={from:(n=h).from,collapseKey:n.collapse_key,messageId:n.fcm_message_id},u=r,(M=n).notification&&(u.notification={},(ea=M.notification.title)&&(u.notification.title=ea),(ea=
M.notification.body)&&(u.notification.body=ea),(M=M.notification.image)&&(u.notification.image=M)),u=r,(M=n).data&&(u.data=M.data),u=r,(M=n).fcmOptions&&(u.fcmOptions={},(n=M.fcmOptions.link)&&(u.fcmOptions.link=n),(M=M.fcmOptions.analytics_label)&&(u.fcmOptions.analyticsLabel=M)),h=r,"function"==typeof this.bgMessageHandler?this.bgMessageHandler(h):this.bgMessageHandler.next(h)),[4,L(1E3)]);case 4:return k.sent(),[2]}var n,r,u,M,ea})})},fc.prototype.onSubChange=function(c){var f;return v(this,void 0,
void 0,function(){var g;return k(this,function(h){switch(h.label){case 0:return c.newSubscription?[3,2]:[4,bd(this.firebaseDependencies,self.registration)];case 1:return h.sent(),[2];case 2:return[4,La(this.firebaseDependencies)];case 3:return g=h.sent(),[4,bd(this.firebaseDependencies,self.registration)];case 4:return h.sent(),[4,X(this.firebaseDependencies,self.registration,null!==(f=null===(f=null==g?void 0:g.subscriptionOptions)||void 0===f?void 0:f.vapidKey)&&void 0!==f?f:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4")];
case 5:return h.sent(),[2]}})})},fc.prototype.onNotificationClick=function(c){var f;return v(this,void 0,void 0,function(){var g,h,n,r,u;return k(this,function(M){switch(M.label){case 0:return(g=null===(f=null===(f=c.notification)||void 0===f?void 0:f.data)||void 0===f?void 0:f.FCM_MSG)?c.action?[2]:(c.stopImmediatePropagation(),c.notification.close(),(h=function(c){var f,g=null!==(f=null===(f=c.fcmOptions)||void 0===f?void 0:f.link)&&void 0!==f?f:null===(g=c.notification)||void 0===g?void 0:g.click_action;
return g?g:wa(c.data)?self.location.origin:null}(g))?(n=new URL(h,self.location.href),r=new URL(self.location.origin),n.host!==r.host?[2]:[4,function(c){return v(this,void 0,void 0,function(){var f,g,h,n,r,u,M;return k(this,function(k){switch(k.label){case 0:return[4,Ga()];case 1:f=k.sent();try{for(g=x(f),h=g.next();!h.done;h=g.next())if(n=h.value,r=new URL(n.url,self.location.href),c.host===r.host)return[2,n]}catch(gc){u={error:gc}}finally{try{h&&!h.done&&(M=g.return)&&M.call(g)}finally{if(u)throw u.error;
}}return[2,null]}})})}(n)]):[2]):[2];case 1:return(u=M.sent())?[3,4]:[4,self.clients.openWindow(h)];case 2:return u=M.sent(),[4,L(3E3)];case 3:return M.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=M.sent(),M.label=6;case 6:return u?(g.messageType=Na.NOTIFICATION_CLICKED,g.isFirebaseMessaging=!0,[2,u.postMessage(g)]):[2]}})})},fc),Bh=(Object.defineProperty(hb.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),hb.prototype.messageEventListener=
function(c){return v(this,void 0,void 0,function(){var f,g;return k(this,function(h){switch(h.label){case 0:return(f=c.data).isFirebaseMessaging?(this.onMessageCallback&&f.messageType===Na.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete (k=Object.assign({},f)).messageType,delete k.isFirebaseMessaging,k)):this.onMessageCallback.next(Object.assign({},f))),wa(g=f.data)&&"1"===g["google.c.a.e"]?[4,this.logEvent(f.messageType,g)]:[3,2]):[2];case 1:h.sent(),h.label=
2;case 2:return[2]}var k})})},hb.prototype.getVapidKey=function(){return this.vapidKey},hb.prototype.getSwReg=function(){return this.swRegistration},hb.prototype.getToken=function(c){return v(this,void 0,void 0,function(){return k(this,function(f){switch(f.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:f.sent(),f.label=2;case 2:if("granted"!==Notification.permission)throw Ya.create("permission-blocked");return[4,this.updateVapidKey(null==
c?void 0:c.vapidKey)];case 3:return f.sent(),[4,this.updateSwReg(null==c?void 0:c.serviceWorkerRegistration)];case 4:return f.sent(),[2,X(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},hb.prototype.updateVapidKey=function(c){return v(this,void 0,void 0,function(){return k(this,function(f){return c?this.vapidKey=c:this.vapidKey||(this.vapidKey="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4"),[2]})})},hb.prototype.updateSwReg=function(c){return v(this,
void 0,void 0,function(){return k(this,function(f){switch(f.label){case 0:return c||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:f.sent(),f.label=2;case 2:if(!c&&this.swRegistration)return[2];if(!(c instanceof ServiceWorkerRegistration))throw Ya.create("invalid-sw-registration");return this.swRegistration=c,[2]}})})},hb.prototype.registerDefaultSw=function(){return v(this,void 0,void 0,function(){var c;return k(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),
c=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return c.swRegistration=f.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw c=f.sent(),Ya.create("failed-service-worker-registration",{browserErrorMessage:c.message});case 3:return[2]}})})},hb.prototype.deleteToken=function(){return v(this,void 0,void 0,function(){return k(this,function(c){switch(c.label){case 0:return this.swRegistration?[3,2]:[4,
this.registerDefaultSw()];case 1:c.sent(),c.label=2;case 2:return[2,bd(this.firebaseDependencies,this.swRegistration)]}})})},hb.prototype.requestPermission=function(){return v(this,void 0,void 0,function(){var c;return k(this,function(f){switch(f.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(c=f.sent()))return[2];throw"denied"===c?Ya.create("permission-blocked"):Ya.create("permission-default");}})})},hb.prototype.usePublicVapidKey=
function(c){if(null!==this.vapidKey)throw Ya.create("use-vapid-key-after-get-token");if("string"!=typeof c||0===c.length)throw Ya.create("invalid-vapid-key");this.vapidKey=c},hb.prototype.useServiceWorker=function(c){if(!(c instanceof ServiceWorkerRegistration))throw Ya.create("invalid-sw-registration");if(this.swRegistration)throw Ya.create("use-sw-after-get-token");this.swRegistration=c},hb.prototype.onMessage=function(c){var f=this;return this.onMessageCallback=c,function(){f.onMessageCallback=
null}},hb.prototype.setBackgroundMessageHandler=function(){throw Ya.create("only-available-in-sw");},hb.prototype.onBackgroundMessage=function(){throw Ya.create("only-available-in-sw");},hb.prototype.onTokenRefresh=function(){return function(){}},hb.prototype.logEvent=function(c,f){return v(this,void 0,void 0,function(){var g;return k(this,function(h){switch(h.label){case 0:a:switch(c){case Na.NOTIFICATION_CLICKED:h="notification_open";break a;case Na.PUSH_RECEIVED:h="notification_foreground";break a;
default:throw Error();}return g=h,[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return h.sent().logEvent(g,{message_id:f["google.c.a.c_id"],message_name:f["google.c.a.c_l"],message_time:f["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1E3)}),[2]}})})},hb);mb={isSupported:od};qb.default.INTERNAL.registerComponent((new te("messaging",function(c){var f=c.getProvider("app").getImmediate(),g;if(!f||!f.options)throw Je("App Configuration Object");if(!f.name)throw Je("App Name");
var h=f.options;try{for(var k=x(["projectId","apiKey","appId","messagingSenderId"]),n=k.next();!n.done;n=k.next()){var r=n.value;if(!h[r])throw Je(r);}}catch(Mb){var M={error:Mb}}finally{try{n&&!n.done&&(g=k.return)&&g.call(k)}finally{if(M)throw M.error;}}c={app:f,appConfig:{appName:f.name,projectId:h.projectId,apiKey:h.apiKey,appId:h.appId,senderId:h.messagingSenderId},installations:c.getProvider("installations").getImmediate(),analyticsProvider:c.getProvider("analytics-internal")};if(!od())throw Ya.create("unsupported-browser");
return new (self&&"ServiceWorkerGlobalScope"in self?cd:Bh)(c)},"PUBLIC")).setServiceProps(mb))}.apply(this,arguments)}catch(v){throw console.error(v),Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.");}});(function(n,v){function k(a,b){a=Object.create(a);for(var d in b)a[d]=b[d];b.toString!==Object.prototype.toString&&(a.toString=b.toString);return a}function x(a,b,d){return a<b?b:a>d?d:a}function z(a,b){a=null==a?"null":""+a;b-=a.length;for(var d=0;d<b;)++d,
a="0"+a;return a}function I(a){return a instanceof Array?new wg(a):a.iterator()}function c(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=v.$haxeUID++);var d;null==a.hx__closures__?a.hx__closures__={}:d=a.hx__closures__[b.__id__];null==d&&(d=b.bind(a),a.hx__closures__[b.__id__]=d);return d}n.lime=n.lime||{};var f={},r=function(){return V.__string_rec(this,"")},ra=ra||{},sa,fa=function(){};f["lime.app.IModule"]=fa;fa.__name__="lime.app.IModule";fa.__isInterface__=!0;var B=function(){this.onExit=
new Nc};f["lime.app.Module"]=B;B.__name__="lime.app.Module";B.__interfaces__=[fa];B.prototype={__class__:B};var vb=function(a){this.gameDeviceCache=new Yb;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;oj.init();this.accelerometer=hd.registerSensor(lc.ACCELEROMETER,0)};f["lime._internal.backend.html5.HTML5Application"]=vb;vb.__name__="lime._internal.backend.html5.HTML5Application";vb.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 12:return 1073741980;
case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 92:return 1073742055;
case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:return 1073741923;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;
case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;
case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:return 96;case 172:return 1073741898;case 173:return 45;case 174:return 1073741953;case 175:return 1073741952;case 176:return 1073742082;
case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 193:return 63;case 194:return 1073741923;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 223:return 96;case 224:return 1073742051;case 226:return 92}return a},
exec:function(){window.addEventListener("keydown",c(this,this.handleKeyEvent),!1);window.addEventListener("keyup",c(this,this.handleKeyEvent),!1);window.addEventListener("focus",c(this,this.handleWindowEvent),!1);window.addEventListener("blur",c(this,this.handleWindowEvent),!1);window.addEventListener("resize",c(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",c(this,this.handleWindowEvent),!1);Object.prototype.hasOwnProperty.call(window,"Accelerometer")&&window.addEventListener("devicemotion",
c(this,this.handleSensorEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,d){return!1});CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(a,b,d){return!1});0=="performance"in window&&(window.performance={});if(0=="now"in window.performance){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart);window.performance.now=
function(){return Date.now()-a}}for(var b=0,d=["ms","moz","webkit","o"],l=0;l<d.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[d[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d[l]+"CancelAnimationFrame"]||window[d[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,d){var l=window.performance.now(),p=Math.max(0,16-(l-b));d=window.setTimeout(function(){a(l+p)},p);b=l+p;return d});window.cancelAnimationFrame||
(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=window.performance.now();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){a=0;for(var b=this.parent.__windows;a<b.length;)b[a++].__backend.updateSize();this.updateGameDevices();this.currentUpdate=window.performance.now();if(this.currentUpdate>=this.nextUpdate){this.deltaTime=this.currentUpdate-this.lastUpdate;a=0;for(b=this.parent.__windows;a<
b.length;){var d=b[a];++a;this.parent.onUpdate.dispatch(this.deltaTime|0);null!=d.context&&d.onRender.dispatch(d.context)}this.nextUpdate=0>this.framePeriod?this.currentUpdate:this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod;this.lastUpdate=this.currentUpdate}window.requestAnimationFrame(c(this,this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__window){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),d=(a.shiftKey?3:0)|(a.ctrlKey?192:
0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__window.onKeyDown.dispatch(b,d),this.parent.__window.onKeyDown.canceled&&a.cancelable&&a.preventDefault()):(this.parent.__window.onKeyUp.dispatch(b,d),this.parent.__window.onKeyUp.canceled&&a.cancelable&&a.preventDefault())}},handleSensorEvent:function(a){this.accelerometer.onUpdate.dispatch(a.accelerationIncludingGravity.x,a.accelerationIncludingGravity.y,a.accelerationIncludingGravity.z)},handleWindowEvent:function(a){if(null!=
this.parent.__window)switch(a.type){case "blur":this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0);break;case "focus":this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1);break;case "resize":this.parent.__window.__backend.handleResizeEvent(a);break;case "visibilitychange":window.document.hidden?this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),
this.hidden=!0):this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1)}},updateGameDevices:function(){var a=vc.__getDeviceData();if(null!=a)for(var b,d,l,p,c=0,e=a.length;c<e;){var f=c++;l=a[f];if(null!=l){if(!this.gameDeviceCache.h.hasOwnProperty(f)){p=new ck;p.id=f;p.connected=l.connected;b=0;for(d=l.buttons.length;b<d;)p.buttons.push(l.buttons[b++].value);b=0;for(d=l.axes.length;b<d;)p.axes.push(l.axes[b++]);"standard"==l.mapping&&(p.isGamepad=
!0);this.gameDeviceCache.h[f]=p;l.connected&&(vc.__connect(f),p.isGamepad&&Fc.__connect(f))}p=this.gameDeviceCache.h[f];d=vc.devices.h[f];b=Fc.devices.h[f];if(l.connected){for(var g,h=0,m=l.buttons.length;h<m;){var k=h++;g=l.buttons[k].value;if(g!=p.buttons[k]){if(6==k)d.onAxisMove.dispatch(l.axes.length,g),null!=b&&b.onAxisMove.dispatch(4,g);else if(7==k)d.onAxisMove.dispatch(l.axes.length+1,g),null!=b&&b.onAxisMove.dispatch(5,g);else if(0<g?d.onButtonDown.dispatch(k):d.onButtonUp.dispatch(k),null!=
b){switch(k){case 0:f=0;break;case 1:f=1;break;case 2:f=2;break;case 3:f=3;break;case 4:f=9;break;case 5:f=10;break;case 8:f=4;break;case 9:f=6;break;case 10:f=7;break;case 11:f=8;break;case 12:f=11;break;case 13:f=12;break;case 14:f=13;break;case 15:f=14;break;case 16:f=5;break;default:continue}0<g?b.onButtonDown.dispatch(f):b.onButtonUp.dispatch(f)}p.buttons[k]=g}}f=0;for(g=l.axes.length;f<g;)h=f++,l.axes[h]!=p.axes[h]&&(d.onAxisMove.dispatch(h,l.axes[h]),null!=b&&b.onAxisMove.dispatch(h,l.axes[h]),
p.axes[h]=l.axes[h])}else p.connected&&(p.connected=!1,vc.__disconnect(f),Fc.__disconnect(f))}}},__class__:vb};var db=function(){this.onCreateWindow=new bg;this.onUpdate=new Nc;this.onExit=new Nc;null==db.current&&(db.current=this);this.meta=new cb;this.modules=[];this.__windowByID=new Yb;this.__windows=[];this.__backend=new vb(this);this.__registerLimeModule(this);this.__preloader=new fg;this.__preloader.onProgress.add(c(this,this.onPreloadProgress));this.__preloader.onComplete.add(c(this,this.onPreloadComplete))};
f["lime.app.Application"]=db;db.__name__="lime.app.Application";db.__super__=B;db.prototype=k(B.prototype,{createWindow:function(a){a=this.__createWindow(a);this.__addWindow(a);return a},exec:function(){db.current=this;return this.__backend.exec()},onGamepadAxisMove:function(a,b,d){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,b,d){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,
b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,d){},onJoystickTrackballMove:function(a,b,d,l){},onKeyDown:function(a,b){},onKeyUp:function(a,b){},onModuleExit:function(a){},onMouseDown:function(a,b,d){},onMouseMove:function(a,b){},onMouseMoveRelative:function(a,b){},onMouseUp:function(a,b,d){},onMouseWheel:function(a,b,d){},onPreloadComplete:function(){},onPreloadProgress:function(a,b){},onRenderContextLost:function(){},onRenderContextRestored:function(a){},
onTextEdit:function(a,b,d){},onTextInput:function(a){},onTouchCancel:function(a){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(a){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},onWindowLeave:function(){},onWindowMove:function(a,
b){},onWindowMinimize:function(){},onWindowResize:function(a,b){},onWindowRestore:function(){},render:function(a){},update:function(a){},__addWindow:function(a){if(null!=a){this.__windows.push(a);this.__windowByID.h[a.id]=a;var b=this;a.onClose.add(function(){b.__onWindowClose(a)},!1,-1E4);null==this.__window&&(this.__window=a,a.onActivate.add(c(this,this.onWindowActivate)),a.onRenderContextLost.add(c(this,this.onRenderContextLost)),a.onRenderContextRestored.add(c(this,this.onRenderContextRestored)),
a.onDeactivate.add(c(this,this.onWindowDeactivate)),a.onDropFile.add(c(this,this.onWindowDropFile)),a.onEnter.add(c(this,this.onWindowEnter)),a.onExpose.add(c(this,this.onWindowExpose)),a.onFocusIn.add(c(this,this.onWindowFocusIn)),a.onFocusOut.add(c(this,this.onWindowFocusOut)),a.onFullscreen.add(c(this,this.onWindowFullscreen)),a.onKeyDown.add(c(this,this.onKeyDown)),a.onKeyUp.add(c(this,this.onKeyUp)),a.onLeave.add(c(this,this.onWindowLeave)),a.onMinimize.add(c(this,this.onWindowMinimize)),a.onMouseDown.add(c(this,
this.onMouseDown)),a.onMouseMove.add(c(this,this.onMouseMove)),a.onMouseMoveRelative.add(c(this,this.onMouseMoveRelative)),a.onMouseUp.add(c(this,this.onMouseUp)),a.onMouseWheel.add(c(this,this.onMouseWheel)),a.onMove.add(c(this,this.onWindowMove)),a.onRender.add(c(this,this.render)),a.onResize.add(c(this,this.onWindowResize)),a.onRestore.add(c(this,this.onWindowRestore)),a.onTextEdit.add(c(this,this.onTextEdit)),a.onTextInput.add(c(this,this.onTextInput)),this.onWindowCreate());this.onCreateWindow.dispatch(a)}},
__createWindow:function(a){a=new eb(this,a);return-1==a.id?null:a},__registerLimeModule:function(a){a.onUpdate.add(c(this,this.update));a.onExit.add(c(this,this.onModuleExit),!1,0);a.onExit.add(c(this,this.__onModuleExit),!1,-1E3);for(a=Fc.devices.iterator();a.hasNext();)this.__onGamepadConnect(a.next());Fc.onConnect.add(c(this,this.__onGamepadConnect));for(a=vc.devices.iterator();a.hasNext();)this.__onJoystickConnect(a.next());vc.onConnect.add(c(this,this.__onJoystickConnect));nd.onCancel.add(c(this,
this.onTouchCancel));nd.onStart.add(c(this,this.onTouchStart));nd.onMove.add(c(this,this.onTouchMove));nd.onEnd.add(c(this,this.onTouchEnd))},__removeWindow:function(a){null!=a&&this.__windowByID.h.hasOwnProperty(a.id)&&(this.__window==a&&(this.__window=null),E.remove(this.__windows,a),this.__windowByID.remove(a.id),a.close(),this.__checkForAllWindowsClosed())},__checkForAllWindowsClosed:function(){0==this.__windows.length&&Yd.exit(0)},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=
this,d=function(d,l){b.onGamepadAxisMove(a,d,l)};a.onAxisMove.add(d);var l=this;d=function(b){l.onGamepadButtonDown(a,b)};a.onButtonDown.add(d);var p=this;d=function(b){p.onGamepadButtonUp(a,b)};a.onButtonUp.add(d);var c=this;a.onDisconnect.add(function(){c.onGamepadDisconnect(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=this,d=function(d,l){b.onJoystickAxisMove(a,d,l)};a.onAxisMove.add(d);var l=this;d=function(b){l.onJoystickButtonDown(a,b)};a.onButtonDown.add(d);var p=this;
d=function(b){p.onJoystickButtonUp(a,b)};a.onButtonUp.add(d);var c=this;a.onDisconnect.add(function(){c.onJoystickDisconnect(a)});var e=this;d=function(b,d){e.onJoystickHatMove(a,b,d)};a.onHatMove.add(d);var f=this;d=function(b,d,l){f.onJoystickTrackballMove(a,b,d,l)};a.onTrackballMove.add(d)},__onModuleExit:function(a){this.onExit.canceled||(this.__unregisterLimeModule(this),this.__backend.exit(),db.current==this&&(db.current=null))},__onWindowClose:function(a){if(this.__window==a)this.onWindowClose();
this.__removeWindow(a)},__unregisterLimeModule:function(a){a.onUpdate.remove(c(this,this.update));a.onExit.remove(c(this,this.__onModuleExit));a.onExit.remove(c(this,this.onModuleExit));Fc.onConnect.remove(c(this,this.__onGamepadConnect));vc.onConnect.remove(c(this,this.__onJoystickConnect));nd.onCancel.remove(c(this,this.onTouchCancel));nd.onStart.remove(c(this,this.onTouchStart));nd.onMove.remove(c(this,this.onTouchMove));nd.onEnd.remove(c(this,this.onTouchEnd))},__class__:db});var J=function(){};
f.ApplicationMain=J;J.__name__="ApplicationMain";J.main=function(){Yd.__registerEntryPoint("zoo",J.create)};J.create=function(a){da.init(a);var b=new $a;b.meta.h.build="31873";b.meta.h.company="Plutonium Bytes";b.meta.h.file="zoo";b.meta.h.name="Zoo Boom";b.meta.h.packageName="com.plutoniumbytes.zoo";b.meta.h.version="1.2.30";var d={allowHighDPI:!0,alwaysOnTop:!1,borderless:!0,element:null,frameRate:100,height:0,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!0,title:"Zoo Boom",width:0,
x:null,y:null,context:{antialiasing:0,background:16777215,colorDepth:32,depth:!0,hardware:!0,stencil:!1,type:null,vsync:!1}};if(null==b.__window&&null!=a)for(var l=0,p=w.fields(a);l<p.length;){var c=p[l];++l;Object.prototype.hasOwnProperty.call(d,c)?d[c]=w.field(a,c):Object.prototype.hasOwnProperty.call(d.context,c)&&(d.context[c]=w.field(a,c))}b.createWindow(d);l=0;for(p=da.preloadLibraries;l<p.length;)b.__preloader.addLibrary(p[l++]);l=0;for(p=da.preloadLibraryNames;l<p.length;)b.__preloader.addLibraryName(p[l++]);
b.__preloader.load();J.start(b)};J.start=function(a){a.exec()};var fb=function(){};f.AssetsData=fb;fb.__name__="AssetsData";var ya=function(){};f.DateTools=ya;ya.__name__="DateTools";ya.__format_get=function(a,b){switch(b){case "%":return"%";case "A":return ya.DAY_NAMES[a.getDay()];case "B":return ya.MONTH_NAMES[a.getMonth()];case "C":return ka.lpad(R.string(a.getFullYear()/100|0),"0",2);case "D":return ya.__format(a,"%m/%d/%y");case "F":return ya.__format(a,"%Y-%m-%d");case "M":return ka.lpad(R.string(a.getMinutes()),
"0",2);case "R":return ya.__format(a,"%H:%M");case "S":return ka.lpad(R.string(a.getSeconds()),"0",2);case "T":return ya.__format(a,"%H:%M:%S");case "Y":return R.string(a.getFullYear());case "a":return ya.DAY_SHORT_NAMES[a.getDay()];case "d":return ka.lpad(R.string(a.getDate()),"0",2);case "e":return R.string(a.getDate());case "b":case "h":return ya.MONTH_SHORT_NAMES[a.getMonth()];case "H":case "k":return ka.lpad(R.string(a.getHours()),"H"==b?"0":" ",2);case "I":case "l":return a=a.getHours()%12,
ka.lpad(R.string(0==a?12:a),"I"==b?"0":" ",2);case "m":return ka.lpad(R.string(a.getMonth()+1),"0",2);case "n":return"\n";case "p":return 11<a.getHours()?"PM":"AM";case "r":return ya.__format(a,"%I:%M:%S %p");case "s":return R.string(a.getTime()/1E3|0);case "t":return"\t";case "u":return b=a.getDay(),0==b?"7":null==b?"null":""+b;case "w":return R.string(a.getDay());case "y":return ka.lpad(R.string(a.getFullYear()%100),"0",2);default:throw new yg("Date.format %"+b+"- not implemented yet.",null,{fileName:"DateTools.hx",
lineNumber:101,className:"DateTools",methodName:"__format_get"});}};ya.__format=function(a,b){for(var d="",l=0;;){var p=b.indexOf("%",l);if(0>p)break;var c=p-l;d+=null==c?E.substr(b,l,null):E.substr(b,l,c);d+=R.string(ya.__format_get(a,E.substr(b,p+1,1)));l=p+2}c=b.length-l;return d+=null==c?E.substr(b,l,null):E.substr(b,l,c)};ya.format=function(a,b){return ya.__format(a,b)};var Ka=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};f.EReg=Ka;Ka.__name__="EReg";Ka.prototype={match:function(a){this.r.global&&
(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw T.thrown("EReg::matched");},__class__:Ka};var E=function(){};f.HxOverrides=E;E.__name__="HxOverrides";E.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=
a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw T.thrown("Invalid date format : "+a);}};E.cca=function(a,b){a=a.charCodeAt(b);if(a==a)return a};E.substr=function(a,b,d){if(null==d)d=a.length;else if(0>d)if(0==b)d=a.length+d;else return"";return a.substr(b,d)};E.remove=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};E.now=function(){return Date.now()};var ta=function(){};f.Lambda=ta;ta.__name__="Lambda";ta.exists=function(a,
b){for(a=I(a);a.hasNext();)if(b(a.next()))return!0;return!1};ta.fold=function(a,b,d){for(a=I(a);a.hasNext();)d=b(a.next(),d);return d};var Da=function(){this.active=!0;this.mLastUpdateTime=this.mDeactivateTimeStamp=0;db.call(this);Da.sInstance=this;this.mLastUpdateTime=(new Date).getTime()/1E3;var a=new uc(window.document.URL),b={};if(null!=a.queryArray){var d=0;for(a=a.queryArray;d<a.length;){var l=a[d];++d;var p=decodeURIComponent(l.v.split("+").join(" "));cg.setValue(l.k,p);b[l.k]=p}}cg.setValue("urlParams",
b);u.get_instance().preCreate();this.onCreateWindow.add(c(this,this.onWindowCreated))};f["system.utils.XApplication"]=Da;Da.__name__="system.utils.XApplication";Da.__super__=db;Da.prototype=k(db.prototype,{onPreloadProgress:function(a,b){u.get_instance().setPreloadProgress(100*a/Math.max(1,b));db.prototype.onPreloadProgress.call(this,a,b)},onRenderContextLost:function(){db.prototype.onRenderContextLost.call(this)},onRenderContextRestored:function(a){q.instance.set_glContext(a.webgl);db.prototype.onRenderContextRestored.call(this,
a)},onWindowCreated:function(a){},onWindowCreate:function(){switch(this.__window.context.type){case "opengl":case "opengles":case "webgl":q.instance.set_glContext(this.__window.context.webgl);q.instance.setWindow(this.__window);this.onRendererInitialized();u.get_instance();u.get_instance().get_tracking().customEvent("renderer","webGL",1);break;default:throw u.get_instance(),u.get_instance().get_tracking().customEvent("renderer","failed_"+this.__window.context.type,1),u.get_instance().get_tracking().enabledErrorEvents=
!1,T.thrown("Unsupported render context: "+this.__window.context.type);}db.prototype.onWindowCreate.call(this)},init:function(){var a=this;cg.setValue("meta",this.meta);cg.setValue("package",this.meta.h["package"]);(new Uc(1E3)).run=function(){a.mLastUpdateTime+.9<(new Date).getTime()/1E3&&a.update(0)};return Xa.create(function(b,d){u.get_instance().init({id:null}).onComplete(function(d){u.get_instance().startUp(d).onComplete(function(d){u.get_instance().hasFeature("external_focus")||(window.document.addEventListener("visibilitychange",
c(a,a.onVisibilityChanged),!1),window.document.addEventListener("mozvisibilitychange",c(a,a.onVisibilityChanged),!1),window.document.addEventListener("webkitvisibilitychange",c(a,a.onVisibilityChanged),!1),window.document.addEventListener("msvisibilitychange",c(a,a.onVisibilityChanged),!1));b(d)})})})},onVisibilityChanged:function(a){a=window.document;if(window.document.hidden||a.mozHidden||a.webkitHidden||a.msHidden)this.onFocusLost();else this.onFocus()},onFocusLost:function(){e.get_instance().onFocusLost()},
onFocus:function(){e.get_instance().onFocus()},onRendererInitialized:function(){},onPreloadComplete:function(){this.init()},onKeyDown:function(a,b){S.get_instance().keyDown(a)},onKeyUp:function(a,b){S.get_instance().keyUp(a)},onMouseDown:function(a,b,d){S.get_instance().mouseDown(a,b,d)},onMouseUp:function(a,b,d){S.get_instance().mouseUp(a,b,d)},onMouseMove:function(a,b){S.get_instance().mouseMove(a,b)},onMouseMoveRelative:function(a,b){S.get_instance().mouseMoveRelative(a,b)},onMouseWheel:function(a,
b,d){S.get_instance().mouseWheel(a,b,d)},onTouchCancel:function(a){S.get_instance().onTouchCancel(a)},onTouchStart:function(a){S.get_instance().onTouchStart(a)},onTouchMove:function(a){S.get_instance().onTouchMove(a)},onTouchEnd:function(a){S.get_instance().onTouchEnd(a)},onWindowActivate:function(){db.prototype.onWindowActivate.call(this);var a=u.get_instance().get_player();if(null!=a)a.onWindowActivate();3600<C.timer-this.mDeactivateTimeStamp&&u.get_instance().get_tracking().newSession();e.get_instance().onActivate()},
onWindowDeactivate:function(){db.prototype.onWindowDeactivate.call(this);var a=u.get_instance().get_player();if(null!=a)a.onWindowDeactivate();e.get_instance().onDeactivate();this.mDeactivateTimeStamp=C.timer},update:function(a){a=(new Date).getTime()/1E3-this.mLastUpdateTime;this.active&&(q.instance.setWindow(this.__window),C.get_instance().update(a),q.instance.update());this.mLastUpdateTime=(new Date).getTime()/1E3},render:function(a){null!=q.gl&&this.active&&(q.instance.preDraw(),q.instance.render())},
__class__:Da});var $a=function(){Da.call(this)};f.Main=$a;$a.__name__="Main";$a.__super__=Da;$a.prototype=k(Da.prototype,{onPreloadComplete:function(){this.init()},onWindowActivate:function(){Da.prototype.onWindowActivate.call(this);h.get_instance().checkForLifes()},init:function(){var a=this,b=new Xa;Da.prototype.init.call(this).onComplete(function(d){ca.DEFAULT_DESCRIPTOR.image="gems/star.png";ca.DEFAULT_PULSE_DESCRIPTOR.image="gems/star.png";ba.instance.allow=u.get_instance().hasFeature("firebase",
!0);e.get_instance().handleActivationEvents=!1;e.get_instance().set_volumeFactor(u.get_instance().getVolume());u.get_instance().get_tracking().user(u.get_instance().firstRun);S.get_instance().init();u.get_instance().get_payment().registerPackages([{id:"package_01",price:149},{id:"package_02",price:349},{id:"package_03",price:649},{id:"package_04",price:1249},{id:"package_05",price:2499},{id:"package_06",price:4499},{id:"package_lifes",price:99},{id:"package_progress",price:99},{id:"package_level",
price:99},{id:"starter_package",price:149},{id:"mtx_package_01",price:114},{id:"mtx_package_03",price:549},{id:"mtx_package_04",price:1049},{id:"mtx_package_06",price:3999}]);u.get_instance().get_payment();a.initClasses();d=u.get_instance().get_currentLocale();d=u.get_instance().get_storage().getEntry("loca",d);N.initLang(d,function(){var d=new Ti;q.instance.views.push(d);d.addChild(Oa.get_instance());u.get_instance().notification(0,"SID_NOTIFCATION_DAY1_HEAD","SID_NOTIFCATION_DAY1_TEXT",null,86400);
u.get_instance().notification(1,"SID_NOTIFCATION_DAY1_HEAD","SID_NOTIFCATION_DAY7_TEXT",null,604800);h.get_instance().addXEventListener("BackendLayer:READY_EVENT",c(a,a.start));h.get_instance().init();ca.sIndicatorTemplateString='\r\n\t\t\t\t\t\t\t\t\t<element width="450" height="450" halign="center" valign="center" >\t\r\n\t\t\t\t\t\t\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t<image image="ui/'+
("ru-RU"==N.language?"ZooBoom_Logo_RU":"LogoHigh")+'.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t\t\t\t\t\t\t</element>';y.instance.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,function(a){return ca.sIndicatorTemplateString='\r\n\t\t\t\t\t\t\t\t\t<element width="450" height="450" halign="center" valign="center" >\t\r\n\t\t\t\t\t\t\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t\t<image image="ui/'+
("ru-RU"==N.language?"ZooBoom_Logo_RU":"LogoHigh")+'.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t\t\t\t\t\t\t</element>'});b.complete({})})});return b.future},start:function(a){fk.run().onComplete(function(a){});y.instance.addChild(new dc,0);y.instance.get_foreground().addChild(bc.get_instance());t.get_instance();h.get_instance().firstRun();h.get_instance().removeXEventListener("BackendLayer:READY_EVENT",c(this,this.start));wd.show();ea.get_instance().dispose();u.get_instance().finishLoading();
u.get_instance().get_ads().addXEventListener("detected_rewarded_ad_block",function(a){return y.instance.addScreen(Tb.createOkPopUp("SID_ATTENTION","SID_PLEASE_REMOVE_ADBLOCKER"))})},initClasses:function(){qa.registerElementClass("jumpStarter",Pc);qa.registerElementClass("rewardedAd",Ef);qa.registerElementClass("newsList",tj);qa.registerElementClass("player",$b);qa.registerElementClass("team",xc);qa.registerElementClass("buy",oi);qa.registerElementClass("button",Oi)},onRendererInitialized:function(){q.instance.setClearColor(0,
0,0,1);q.instance.views.push(ea.get_instance());Da.prototype.onRendererInitialized.call(this)},__class__:$a});var da=function(){};f.ManifestResources=da;da.__name__="ManifestResources";da.init=function(a){da.preloadLibraries=[];da.preloadLibraryNames=[];da.rootPath=null;null!=a&&Object.prototype.hasOwnProperty.call(a,"rootPath")&&(da.rootPath=w.field(a,"rootPath"),ka.endsWith(da.rootPath,"/")||(da.rootPath+="/"));null==da.rootPath&&(da.rootPath="./");a=dg.fromManifest(Fd.parse('{"name":null,"assets":"aoy4:pathy14:ui%2Farrow.pngy4:sizei1082y4:typey6:BINARYy2:idR1y7:preloadtgoR0y20:ui%2Farrow_white.pngR2i3335R3R4R5R7R6tgoR0y21:ui%2Fbarbutton_01.pngR2i9241R3R4R5R8R6tgoR0y21:ui%2Fbarbutton_02.pngR2i5688R3R4R5R9R6tgoR0y21:ui%2Fbarbutton_03.pngR2i6400R3R4R5R10R6tgoR0y14:ui%2Fblock.pngR2i77R3R4R5R11R6tgoR0y12:ui%2Fbox.pngR2i1526R3R4R5R12R6tgoR0y17:ui%2Fbox_blue.pngR2i9500R3R4R5R13R6tgoR0y18:ui%2Fbox_brown.pngR2i15706R3R4R5R14R6tgoR0y18:ui%2Fbox_green.pngR2i8402R3R4R5R15R6tgoR0y19:ui%2Fbox_orange.pngR2i8226R3R4R5R16R6tgoR0y16:ui%2Fbox_red.pngR2i7778R3R4R5R17R6tgoR0y16:ui%2Fbutton3.pngR2i3048R3R4R5R18R6tgoR0y16:ui%2Fbutton4.pngR2i3503R3R4R5R19R6tgoR0y16:ui%2Fbutton5.pngR2i2237R3R4R5R20R6tgoR0y14:ui%2Fchest.pngR2i7802R3R4R5R21R6tgoR0y19:ui%2Fchest_open.pngR2i29681R3R4R5R22R6tgoR0y25:ui%2Fchest_open_front.pngR2i15724R3R4R5R23R6tgoR0y14:ui%2Fclock.pngR2i1409R3R4R5R24R6tgoR0y22:ui%2Fclock_pointer.pngR2i1914R3R4R5R25R6tgoR0y14:ui%2Fclose.pngR2i2267R3R4R5R26R6tgoR0y13:ui%2Fdark.pngR2i1687R3R4R5R27R6tgoR0y23:ui%2FexpeditionIcon.pngR2i10244R3R4R5R28R6tgoR0y14:ui%2Fframe.pngR2i1274R3R4R5R29R6tgoR0y13:ui%2Fgift.pngR2i4394R3R4R5R30R6tgoR0y13:ui%2Fglow.pngR2i7036R3R4R5R31R6tgoR0y14:ui%2Fglow2.pngR2i12315R3R4R5R32R6tgoR0y13:ui%2Fgold.pngR2i33944R3R4R5R33R6tgoR0y19:ui%2Fgold_small.pngR2i13316R3R4R5R34R6tgoR0y17:ui%2Fgradient.pngR2i1474R3R4R5R35R6tgoR0y18:ui%2Findicator.pngR2i24309R3R4R5R36R6tgoR0y17:ui%2Finfinity.pngR2i5601R3R4R5R37R6tgoR0y19:ui%2Finput_hint.pngR2i1570R3R4R5R38R6tgoR0y13:ui%2Flife.pngR2i9409R3R4R5R39R6tgoR0y17:ui%2FLogoHigh.pngR2i8501R3R4R5R40R6tgoR0y20:ui%2FLogoHigh_RU.pngR2i93771R3R4R5R41R6tgoR0y13:ui%2Fmail.pngR2i2560R3R4R5R42R6tgoR0y13:ui%2Fmark.pngR2i2042R3R4R5R43R6tgoR0y15:ui%2Fmarker.pngR2i637R3R4R5R44R6tgoR0y13:ui%2Fmore.pngR2i5161R3R4R5R45R6tgoR0y18:ui%2Fmoremoves.pngR2i3913R3R4R5R46R6tgoR0y18:ui%2Fmore_icon.pngR2i1792R3R4R5R47R6tgoR0y14:ui%2Fmoves.pngR2i10511R3R4R5R48R6tgoR0y14:ui%2Fmovie.pngR2i3698R3R4R5R49R6tgoR0y11:ui%2Fok.pngR2i1319R3R4R5R50R6tgoR0y23:ui%2Fpin_horizontal.pngR2i2310R3R4R5R51R6tgoR0y21:ui%2Fpin_vertical.pngR2i3116R3R4R5R52R6tgoR0y13:ui%2Fplus.pngR2i277R3R4R5R53R6tgoR0y17:ui%2Fquestion.pngR2i4452R3R4R5R54R6tgoR0y26:ui%2Fregler_horizontal.pngR2i2614R3R4R5R55R6tgoR0y24:ui%2Fregler_vertical.pngR2i3731R3R4R5R56R6tgoR0y21:ui%2Frewardground.pngR2i1612R3R4R5R57R6tgoR0y15:ui%2Fscreen.pngR2i13076R3R4R5R58R6tgoR0y16:ui%2Fscreen2.pngR2i14373R3R4R5R59R6tgoR0y16:ui%2Fscreen3.pngR2i11773R3R4R5R60R6tgoR0y17:ui%2Fsettings.pngR2i5865R3R4R5R61R6tgoR0y19:ui%2Fshopground.pngR2i1559R3R4R5R62R6tgoR0y20:ui%2Fshopground2.pngR2i1557R3R4R5R63R6tgoR0y13:ui%2Fshre.pngR2i2233R3R4R5R64R6tgoR0y21:ui%2FSquareButton.pngR2i3886R3R4R5R65R6tgoR0y25:ui%2FSquareButtonGray.pngR2i3546R3R4R5R66R6tgoR0y24:ui%2FSquareButtonRed.pngR2i3583R3R4R5R67R6tgoR0y19:ui%2Fstarter_bg.pngR2i2172R3R4R5R68R6tgoR0y19:ui%2Fstar_chest.pngR2i9091R3R4R5R69R6tgoR0y24:ui%2Fstar_chest_open.pngR2i36415R3R4R5R70R6tgoR0y30:ui%2Fstar_chest_open_front.pngR2i20053R3R4R5R71R6tgoR0y17:ui%2Fstar_off.pngR2i3695R3R4R5R72R6tgoR0y16:ui%2Fstar_on.pngR2i5104R3R4R5R73R6tgoR0y19:ui%2Fstar_on_02.pngR2i13695R3R4R5R74R6tgoR0y17:ui%2Ftab_dark.pngR2i2232R3R4R5R75R6tgoR0y18:ui%2Ftab_dark0.pngR2i2686R3R4R5R76R6tgoR0y18:ui%2Ftab_light.pngR2i2681R3R4R5R77R6tgoR0y19:ui%2Ftab_light0.pngR2i2532R3R4R5R78R6tgoR0y19:ui%2Ftop_border.pngR2i180R3R4R5R79R6tgoR0y15:ui%2Ftrophy.pngR2i57686R3R4R5R80R6tgoR0y21:ui%2Ftrophy_small.pngR2i4156R3R4R5R81R6tgoR0y23:ui%2Funlimited_life.pngR2i12493R3R4R5R82R6tgoR0y29:ui%2Funlimited_life_small.pngR2i5411R3R4R5R83R6tgoR0y21:ui%2FZooBoom_Logo.pngR2i49408R3R4R5R84R6tgoR0y24:ui%2FZooBoom_Logo_RU.pngR2i112128R3R4R5R85R6tgoR0y14:xml%2Fhelp.xmlR2i5143R3y4:TEXTR5R86R6tgoR0y17:xml%2Flibrary.xmlR2i31893R3R87R5R88R6tgoR0y22:xml%2Flibrary_news.xmlR2i693R3R87R5R89R6tgoR0y21:xml%2Fmain_screen.xmlR2i17320R3R87R5R90R6tgoR0y19:xml%2Fplayfield.xmlR2i47358R3R87R5R91R6tgoR0y22:field%2Fa000000000.pngR2i97R3R4R5R92R6tgoR0y22:field%2Fa000000001.pngR2i249R3R4R5R93R6tgoR0y22:field%2Fa000000010.pngR2i156R3R4R5R94R6tgoR0y22:field%2Fa000000100.pngR2i250R3R4R5R95R6tgoR0y22:field%2Fa000001000.pngR2i152R3R4R5R96R6tgoR0y22:field%2Fa000001111.pngR2i224R3R4R5R97R6tgoR0y22:field%2Fa000100000.pngR2i158R3R4R5R98R6tgoR0y22:field%2Fa000100111.pngR2i249R3R4R5R99R6tgoR0y22:field%2Fa001000000.pngR2i302R3R4R5R100R6tgoR0y22:field%2Fa010000000.pngR2i164R3R4R5R101R6tgoR0y22:field%2Fa100000000.pngR2i270R3R4R5R102R6tgoR0y22:field%2Fa101111111.pngR2i312R3R4R5R103R6tgoR0y22:field%2Fa111001000.pngR2i287R3R4R5R104R6tgoR0y22:field%2Fa111011111.pngR2i333R3R4R5R105R6tgoR0y22:field%2Fa111100000.pngR2i279R3R4R5R106R6tgoR0y22:field%2Fa111101111.pngR2i564R3R4R5R107R6tgoR0y22:field%2Fa111110111.pngR2i347R3R4R5R108R6tgoR0y22:field%2Fa111111101.pngR2i392R3R4R5R109R6tgoR0y15:font%2Ffont.pngR2i801284R3R4R5R110R6tgoR0y15:font%2Ffont.xmlR2i98913R3R87R5R111R6tgoR0y17:splash%2Flogo.jpgR2i53860R3y5:IMAGER5R112R6tgoR0y19:splash%2FlogoRU.jpgR2i43533R3R113R5R114R6tgoR0y21:lang%2Flang-de-DE.txtR2i20732R3R87R5R115goR0y21:lang%2Flang-en-US.txtR2i18764R3R87R5R116goR0y21:lang%2Flang-es-ES.txtR2i19988R3R87R5R117goR0y21:lang%2Flang-fr-FR.txtR2i21194R3R87R5R118goR0y21:lang%2Flang-ru-RU.txtR2i30332R3R87R5R119goR0y21:lang%2Flang-tr-TR.txtR2i19988R3R87R5R120goR0y21:lang%2Flang-uk-UA.txtR2i28850R3R87R5R121goR0y16:gems%2Fanvil.pngR2i14585R3R4R5R122goR0y25:gems%2Fapple_stone_01.pngR2i26631R3R4R5R123goR0y25:gems%2Fapple_stone_02.pngR2i28181R3R4R5R124goR0y25:gems%2Fapple_stone_03.pngR2i29680R3R4R5R125goR0y17:gems%2Fballon.pngR2i15438R3R4R5R126goR0y20:gems%2Fbanana_01.pngR2i7929R3R4R5R127goR0y20:gems%2Fbanana_02.pngR2i8454R3R4R5R128goR0y20:gems%2Fbanana_03.pngR2i7577R3R4R5R129goR0y22:gems%2Fbanana_base.pngR2i8011R3R4R5R130goR0y25:gems%2Fbanana_overlay.pngR2i3641R3R4R5R131goR0y17:gems%2Fbasket.pngR2i35975R3R4R5R132goR0y22:gems%2Fbasket_back.pngR2i17433R3R4R5R133goR0y25:gems%2Fbasket_twister.pngR2i31845R3R4R5R134goR0y24:gems%2Fbathsuit_duck.pngR2i2819R3R4R5R135goR0y18:gems%2Fbeehive.pngR2i27107R3R4R5R136goR0y16:gems%2Fberry.pngR2i2966R3R4R5R137goR0y18:gems%2Fbg_glow.pngR2i4535R3R4R5R138goR0y15:gems%2Fblob.pngR2i40353R3R4R5R139goR0y26:gems%2Fblockarea_frame.pngR2i8393R3R4R5R140goR0y29:gems%2Fblockarea_petframe.pngR2i19592R3R4R5R141goR0y26:gems%2Fblockarea_stone.pngR2i19483R3R4R5R142goR0y18:gems%2Fbluecap.pngR2i2711R3R4R5R143goR0y21:gems%2Fbluegloves.pngR2i3103R3R4R5R144goR0y15:gems%2Fbomb.pngR2i23183R3R4R5R145goR0y18:gems%2Fbowl_01.pngR2i27231R3R4R5R146goR0y18:gems%2Fbowl_02.pngR2i27055R3R4R5R147goR0y18:gems%2Fbowl_03.pngR2i21869R3R4R5R148goR0y18:gems%2Fbowl_04.pngR2i17187R3R4R5R149goR0y14:gems%2Fbox.pngR2i4837R3R4R5R150goR0y15:gems%2Fbox2.pngR2i5478R3R4R5R151goR0y20:gems%2Fbox_white.pngR2i6861R3R4R5R152goR0y17:gems%2Fbranch.pngR2i15662R3R4R5R153goR0y17:gems%2Fbucket.pngR2i31738R3R4R5R154goR0y24:gems%2FCappie_Yellow.pngR2i3066R3R4R5R155goR0y18:gems%2Fcell_01.pngR2i42322R3R4R5R156goR0y18:gems%2Fcell_02.pngR2i48132R3R4R5R157goR0y18:gems%2Fcell_03.pngR2i48884R3R4R5R158goR0y20:gems%2Fchameleon.pngR2i15678R3R4R5R159goR0y25:gems%2Fchameleon_mask.pngR2i22187R3R4R5R160goR0y16:gems%2Fchest.pngR2i4394R3R4R5R161goR0y21:gems%2Fchest_open.pngR2i4951R3R4R5R162goR0y18:gems%2Fchicken.pngR2i39809R3R4R5R163goR0y22:gems%2Fchicken_eye.pngR2i1417R3R4R5R164goR0y23:gems%2Fchicken_head.pngR2i13815R3R4R5R165goR0y17:gems%2Fcircle.pngR2i9253R3R4R5R166goR0y21:gems%2Fcoconut_01.pngR2i26290R3R4R5R167goR0y21:gems%2Fcoconut_02.pngR2i24961R3R4R5R168goR0y15:gems%2Fcoin.pngR2i30595R3R4R5R169goR0y16:gems%2Fcoins.pngR2i15329R3R4R5R170goR0y21:gems%2Fcoin_white.pngR2i6900R3R4R5R171goR0y20:gems%2Fcolor_box.pngR2i5032R3R4R5R172goR0y21:gems%2Fcrackling1.pngR2i3730R3R4R5R173goR0y21:gems%2Fcrackling2.pngR2i4401R3R4R5R174goR0y20:gems%2Fdeserthat.pngR2i2626R3R4R5R175goR0y15:gems%2Fdung.pngR2i29903R3R4R5R176goR0y20:gems%2Fdung_pile.pngR2i33679R3R4R5R177goR0y24:gems%2Fearwarmer_red.pngR2i3486R3R4R5R178goR0y14:gems%2Fegg.pngR2i8534R3R4R5R179goR0y22:gems%2Fegg_rainbow.pngR2i10211R3R4R5R180goR0y20:gems%2Fegg_white.pngR2i5345R3R4R5R181goR0y15:gems%2Feyes.pngR2i5224R3R4R5R182goR0y21:gems%2Feyes_blink.pngR2i4629R3R4R5R183goR0y22:gems%2Feyes_closed.pngR2i2322R3R4R5R184goR0y19:gems%2Feyes_sad.pngR2i5059R3R4R5R185goR0y21:gems%2Ffertilizer.pngR2i40165R3R4R5R186goR0y29:gems%2Ffish_fin_bottom_01.pngR2i6578R3R4R5R187goR0y29:gems%2Ffish_fin_bottom_02.pngR2i7155R3R4R5R188goR0y27:gems%2Ffish_fin_rear_01.pngR2i12517R3R4R5R189goR0y27:gems%2Ffish_fin_rear_02.pngR2i13340R3R4R5R190goR0y26:gems%2Ffish_fin_top_01.pngR2i9599R3R4R5R191goR0y26:gems%2Ffish_fin_top_02.pngR2i10337R3R4R5R192goR0y24:gems%2Ffish_head2_01.pngR2i15517R3R4R5R193goR0y24:gems%2Ffish_head2_02.pngR2i16440R3R4R5R194goR0y23:gems%2Ffish_head_01.pngR2i16547R3R4R5R195goR0y23:gems%2Ffish_head_02.pngR2i17628R3R4R5R196goR0y20:gems%2Ffish_icon.pngR2i16560R3R4R5R197goR0y24:gems%2Ffish_scale_01.pngR2i5482R3R4R5R198goR0y24:gems%2Ffish_scale_02.pngR2i5847R3R4R5R199goR0y14:gems%2Ffly.pngR2i6858R3R4R5R200goR0y19:gems%2Ffly_icon.pngR2i20483R3R4R5R201goR0y19:gems%2Ffly_wing.pngR2i7975R3R4R5R202goR0y19:gems%2Fgem_blue.pngR2i44573R3R4R5R203goR0y20:gems%2Fgem_green.pngR2i32391R3R4R5R204goR0y20:gems%2Fgem_otter.pngR2i35431R3R4R5R205goR0y22:gems%2Fgem_penguin.pngR2i40631R3R4R5R206goR0y21:gems%2Fgem_purple.pngR2i45764R3R4R5R207goR0y18:gems%2Fgem_red.pngR2i29957R3R4R5R208goR0y20:gems%2Fgem_white.pngR2i50533R3R4R5R209goR0y21:gems%2Fgem_yellow.pngR2i28614R3R4R5R210goR0y15:gems%2Fgift.pngR2i31082R3R4R5R211goR0y17:gems%2Fgift02.pngR2i15732R3R4R5R212goR0y17:gems%2Fgift03.pngR2i14757R3R4R5R213goR0y19:gems%2FhardCage.pngR2i8934R3R4R5R214goR0y16:gems%2Fhoney.pngR2i30490R3R4R5R215goR0y15:gems%2Fleaf.pngR2i55074R3R4R5R216goR0y22:gems%2Flock_bottom.pngR2i4546R3R4R5R217goR0y19:gems%2Flock_top.pngR2i4751R3R4R5R218goR0y22:gems%2Fmetal_plate.pngR2i45578R3R4R5R219goR0y14:gems%2Forb.pngR2i3869R3R4R5R220goR0y14:gems%2Fore.pngR2i41247R3R4R5R221goR0y20:gems%2Foyster_01.pngR2i26537R3R4R5R222goR0y20:gems%2Foyster_02.pngR2i37535R3R4R5R223goR0y18:gems%2Fpumpkin.pngR2i36241R3R4R5R224goR0y28:gems%2Fpumpkinplant_test.pngR2i14798R3R4R5R225goR0y31:gems%2Fpumpkinplant_test_02.pngR2i5376R3R4R5R226goR0y20:gems%2Frandombox.pngR2i25396R3R4R5R227goR0y17:gems%2Fredcap.pngR2i2701R3R4R5R228goR0y19:gems%2Fredscarf.pngR2i3849R3R4R5R229goR0y14:gems%2Frow.pngR2i13152R3R4R5R230goR0y16:gems%2Fskunk.pngR2i5078R3R4R5R231goR0y19:gems%2Fsnowball.pngR2i21805R3R4R5R232goR0y20:gems%2Fsnowflake.pngR2i11688R3R4R5R233goR0y18:gems%2Fsnowman.pngR2i31933R3R4R5R234goR0y19:gems%2FsoftCage.pngR2i2279R3R4R5R235goR0y16:gems%2Fspark.pngR2i3494R3R4R5R236goR0y17:gems%2Fsquare.pngR2i2141R3R4R5R237goR0y15:gems%2Fstar.pngR2i2303R3R4R5R238goR0y16:gems%2Fstorm.pngR2i11437R3R4R5R239goR0y23:gems%2Fsunglases_01.pngR2i3671R3R4R5R240goR0y23:gems%2Fsunglases_02.pngR2i3967R3R4R5R241goR0y16:gems%2Fswarm.pngR2i11515R3R4R5R242goR0y24:gems%2FTierkorb_Back.pngR2i5302R3R4R5R243goR0y25:gems%2FTierkorb_Front.pngR2i40907R3R4R5R244goR0y21:gems%2Fwater_drop.pngR2i14005R3R4R5R245goR0y24:gems%2FZooBoom_Cage2.pngR2i2761R3R4R5R246goR0y21:shop%2Fbauchbinde.pngR2i4965R3R4R5R247goR0y22:shop%2Fcurrency_ok.pngR2i1252R3R4R5R248goR0y22:shop%2Fgold_pack01.pngR2i33944R3R4R5R249goR0y22:shop%2Fgold_pack02.pngR2i16679R3R4R5R250goR0y22:shop%2Fgold_pack03.pngR2i50683R3R4R5R251goR0y22:shop%2Fgold_pack04.pngR2i36824R3R4R5R252goR0y22:shop%2Fgold_pack05.pngR2i35375R3R4R5R253goR0y22:shop%2Fgold_pack06.pngR2i49290R3R4R5R254goR0y26:shop%2FSplashArt_champ.pngR2i302552R3R4R5R255goR0y27:shop%2FSplashArt_gigant.pngR2i261381R3R4R5R256goR0y25:shop%2FSplashArt_mega.pngR2i269677R3R4R5R257goR0y25:shop%2FSplashArt_rare.pngR2i234640R3R4R5R258goR0y26:shop%2FSplashArt_start.pngR2i145758R3R4R5R259goR0y26:shop%2FSplashArt_super.pngR2i206097R3R4R5R260goR0y24:shop%2FSplashArt_zoo.pngR2i177926R3R4R5R261goR0y14:flags%2FAL.pngR2i9085R3R4R5R262goR0y14:flags%2FAR.pngR2i6622R3R4R5R263goR0y14:flags%2FAT.pngR2i3401R3R4R5R264goR0y14:flags%2FAU.pngR2i8892R3R4R5R265goR0y14:flags%2FAZ.pngR2i6216R3R4R5R266goR0y14:flags%2FBA.pngR2i7486R3R4R5R267goR0y14:flags%2FBE.pngR2i4995R3R4R5R268goR0y14:flags%2FBR.pngR2i9174R3R4R5R269goR0y14:flags%2FBY.pngR2i7062R3R4R5R270goR0y14:flags%2FCA.pngR2i6381R3R4R5R271goR0y14:flags%2FCH.pngR2i3631R3R4R5R272goR0y14:flags%2FCL.pngR2i4429R3R4R5R273goR0y14:flags%2FCN.pngR2i6125R3R4R5R274goR0y14:flags%2FCO.pngR2i4941R3R4R5R275goR0y14:flags%2FCZ.pngR2i4393R3R4R5R276goR0y14:flags%2FDE.pngR2i4736R3R4R5R277goR0y14:flags%2FDK.pngR2i5556R3R4R5R278goR0y14:flags%2FEG.pngR2i4497R3R4R5R279goR0y14:flags%2FES.pngR2i7246R3R4R5R280goR0y14:flags%2FFI.pngR2i3646R3R4R5R281goR0y14:flags%2FFR.pngR2i6928R3R4R5R282goR0y14:flags%2FGR.pngR2i5372R3R4R5R283goR0y14:flags%2FHK.pngR2i7572R3R4R5R284goR0y14:flags%2FHR.pngR2i6872R3R4R5R285goR0y14:flags%2FHU.pngR2i4292R3R4R5R286goR0y14:flags%2FIE.pngR2i6040R3R4R5R287goR0y14:flags%2FIL.pngR2i4590R3R4R5R288goR0y14:flags%2FIN.pngR2i6166R3R4R5R289goR0y14:flags%2FIS.pngR2i6978R3R4R5R290goR0y14:flags%2FIT.pngR2i3775R3R4R5R291goR0y14:flags%2FJM.pngR2i8010R3R4R5R292goR0y14:flags%2FJP.pngR2i3911R3R4R5R293goR0y14:flags%2FKR.pngR2i7776R3R4R5R294goR0y14:flags%2FKW.pngR2i5556R3R4R5R295goR0y14:flags%2FLT.pngR2i4940R3R4R5R296goR0y14:flags%2FLU.pngR2i3963R3R4R5R297goR0y14:flags%2FMC.pngR2i3818R3R4R5R298goR0y14:flags%2FMX.pngR2i9230R3R4R5R299goR0y14:flags%2FNL.pngR2i4942R3R4R5R300goR0y14:flags%2FNO.pngR2i7396R3R4R5R301goR0y14:flags%2FPL.pngR2i4826R3R4R5R302goR0y14:flags%2FPT.pngR2i11514R3R4R5R303goR0y14:flags%2FQA.pngR2i6071R3R4R5R304goR0y14:flags%2FRO.pngR2i6027R3R4R5R305goR0y14:flags%2FRU.pngR2i2275R3R4R5R306goR0y14:flags%2FSA.pngR2i8910R3R4R5R307goR0y14:flags%2FSE.pngR2i5376R3R4R5R308goR0y14:flags%2FSG.pngR2i5678R3R4R5R309goR0y14:flags%2FSI.pngR2i5193R3R4R5R310goR0y14:flags%2FSK.pngR2i6006R3R4R5R311goR0y14:flags%2FSP.pngR2i7249R3R4R5R312goR0y14:flags%2FTN.pngR2i8039R3R4R5R313goR0y14:flags%2FTR.pngR2i6163R3R4R5R314goR0y14:flags%2FUA.pngR2i4621R3R4R5R315goR0y14:flags%2FUE.pngR2i5037R3R4R5R316goR0y14:flags%2FUK.pngR2i8069R3R4R5R317goR0y14:flags%2FUS.pngR2i11778R3R4R5R318goR0y14:flags%2FUY.pngR2i6035R3R4R5R319goR0y13:flags%2FX.pngR2i2207R3R4R5R320goR0y14:flags%2FZA.pngR2i8417R3R4R5R321goR0y22:bg%2Farctic%2Fbear.pngR2i28735R3R4R5R322goR0y20:bg%2Farctic%2Fbg.jpgR2i420991R3R4R5R323goR0y28:bg%2Farctic%2Fcharacters.pngR2i596393R3R4R5R324goR0y18:bg%2Fasia%2Fbg.jpgR2i797873R3R4R5R325goR0y20:bg%2Fasia%2Fbird.pngR2i31124R3R4R5R326goR0y19:bg%2Fasia%2Fcat.pngR2i55182R3R4R5R327goR0y26:bg%2Fasia%2Fforeground.pngR2i123480R3R4R5R328goR0y20:bg%2Fasia%2Fgirl.pngR2i144031R3R4R5R329goR0y23:bg%2Fasia%2Flantern.pngR2i14045R3R4R5R330goR0y21:bg%2Fasia%2Fpanda.pngR2i166703R3R4R5R331goR0y22:bg%2Fasia%2Fshadow.pngR2i38932R3R4R5R332goR0y23:bg%2Fasia%2Fshadow2.pngR2i21099R3R4R5R333goR0y36:bg%2Fbeach%2Fbg_beach_background.jpgR2i808116R3R4R5R334goR0y37:bg%2Fbeach%2Fbg_beach_characters2.pngR2i358467R3R4R5R335goR0y23:bg%2Fbeach%2Fparrot.pngR2i39620R3R4R5R336goR0y20:bg%2Fbridge%2Fbg.jpgR2i969729R3R4R5R337goR0y22:bg%2Fbridge%2Fbird.pngR2i83301R3R4R5R338goR0y28:bg%2Fbridge%2Fcharacters.pngR2i276617R3R4R5R339goR0y30:bg%2Fbridge%2Fforeground01.pngR2i922906R3R4R5R340goR0y30:bg%2Fbridge%2Fforeground02.pngR2i678224R3R4R5R341goR0y23:bg%2Fbridge%2Ftiger.jpgR2i42167R3R4R5R342goR0y22:bg%2Fcarnival%2Fbg.jpgR2i5187R3R4R5R343goR0y24:bg%2Fcarnival%2Fbird.pngR2i69029R3R4R5R344goR0y30:bg%2Fcarnival%2Fcharacters.pngR2i751322R3R4R5R345goR0y31:bg%2Fcarnival%2Fcharacters2.pngR2i650880R3R4R5R346goR0y32:bg%2Fcarnival%2Fmiddleground.pngR2i842778R3R4R5R347goR0y22:bg%2Fcastle%2Fbat1.pngR2i19667R3R4R5R348goR0y22:bg%2Fcastle%2Fbat2.pngR2i14987R3R4R5R349goR0y22:bg%2Fcastle%2Fbat3.pngR2i7670R3R4R5R350goR0y22:bg%2Fcastle%2Fbat4.pngR2i19810R3R4R5R351goR0y20:bg%2Fcastle%2Fbg.jpgR2i776548R3R4R5R352goR0y21:bg%2Fcastle%2Fbg2.jpgR2i818457R3R4R5R353goR0y22:bg%2Fcastle%2Fbird.pngR2i74357R3R4R5R354goR0y18:bg%2Fcave%2Fbg.jpgR2i611391R3R4R5R355goR0y26:bg%2Fcave%2Fcharacters.jpgR2i790920R3R4R5R356goR0y19:bg%2Fcrypt%2Fbg.jpgR2i1010017R3R4R5R357goR0y21:bg%2Fcrypt%2Fbird.pngR2i41562R3R4R5R358goR0y27:bg%2Fcrypt%2Fcharacters.jpgR2i412688R3R4R5R359goR0y32:bg%2Fdesert%2Fbd_desert_bird.pngR2i42168R3R4R5R360goR0y38:bg%2Fdesert%2Fbg_desert_background.jpgR2i626552R3R4R5R361goR0y43:bg%2Fdesert%2Fbg_desert_characters_dust.pngR2i722704R3R4R5R362goR0y40:bg%2Fdesert%2Fbg_desert_middleground.pngR2i518430R3R4R5R363goR0y18:bg%2Fdino%2Fbg.jpgR2i278332R3R4R5R364goR0y26:bg%2Fdino%2Fcharacters.jpgR2i365403R3R4R5R365goR0y23:bg%2Fdrama%2Fbasket.pngR2i46664R3R4R5R366goR0y19:bg%2Fdrama%2Fbg.jpgR2i46876R3R4R5R367goR0y21:bg%2Fdrama%2Fbird.pngR2i38578R3R4R5R368goR0y22:bg%2Fdrama%2Fbird2.pngR2i52992R3R4R5R369goR0y27:bg%2Fdrama%2Fcharacters.jpgR2i334219R3R4R5R370goR0y21:bg%2Fdrama%2Feyes.pngR2i1096R3R4R5R371goR0y21:bg%2Fdrama%2Fline.pngR2i835R3R4R5R372goR0y21:bg%2Fdrama%2Fmock.jpgR2i69717R3R4R5R373goR0y22:bg%2Fdrama%2Fpfahl.pngR2i24457R3R4R5R374goR0y19:bg%2Fegypt%2Fbg.jpgR2i773759R3R4R5R375goR0y21:bg%2Fegypt%2Fbird.pngR2i68942R3R4R5R376goR0y27:bg%2Fegypt%2Fcharacters.jpgR2i881788R3R4R5R377goR0y18:bg%2Ffarm%2Fbg.jpgR2i789464R3R4R5R378goR0y20:bg%2Ffarm%2Fbird.pngR2i56806R3R4R5R379goR0y26:bg%2Ffarm%2Fcharacters.pngR2i340584R3R4R5R380goR0y23:bg%2Ffarm%2Fchicken.pngR2i157339R3R4R5R381goR0y20:bg%2Fforest%2Fbg.jpgR2i966368R3R4R5R382goR0y22:bg%2Fforest%2Fbird.pngR2i83281R3R4R5R383goR0y28:bg%2Fforest%2Fcharacters.jpgR2i316856R3R4R5R384goR0y21:bg%2Fhayloft%2Fbg.jpgR2i474126R3R4R5R385goR0y23:bg%2Fhayloft%2Fbird.pngR2i100996R3R4R5R386goR0y22:bg%2Fhayloft%2Fcar.pngR2i1029372R3R4R5R387goR0y29:bg%2Fhayloft%2Fcharacters.pngR2i427123R3R4R5R388goR0y29:bg%2Fhayloft%2Fforeground.pngR2i336340R3R4R5R389goR0y38:bg%2Fjungle%2Fbg_jungle_background.jpgR2i186018R3R4R5R390goR0y28:bg%2Fjungle%2Fcharacters.jpgR2i759274R3R4R5R391goR0y23:bg%2Flava%2Fbg_lava.jpgR2i961650R3R4R5R392goR0y34:bg%2Flava%2Fbg_lava_characters.pngR2i1754493R3R4R5R393goR0y21:bg%2Fmeadow%2Fbee.pngR2i51505R3R4R5R394goR0y20:bg%2Fmeadow%2Fbg.jpgR2i911818R3R4R5R395goR0y22:bg%2Fmeadow%2Fbird.pngR2i66236R3R4R5R396goR0y28:bg%2Fmeadow%2Fcharacters.pngR2i477417R3R4R5R397goR0y22:bg%2Fmountain%2Fbg.jpgR2i68183R3R4R5R398goR0y30:bg%2Fmountain%2Fcharacters.pngR2i730884R3R4R5R399goR0y26:bg%2Fmountain%2Fcloud1.pngR2i18377R3R4R5R400goR0y26:bg%2Fmountain%2Fcloud2.pngR2i18467R3R4R5R401goR0y26:bg%2Fmountain%2Fcloud3.pngR2i16201R3R4R5R402goR0y32:bg%2Fmountain%2Fmiddleground.pngR2i2948574R3R4R5R403goR0y19:bg%2Focean%2Fbg.jpgR2i167015R3R4R5R404goR0y20:bg%2Focean%2Fbg2.jpgR2i212169R3R4R5R405goR0y21:bg%2Focean%2Fbird.pngR2i50165R3R4R5R406goR0y27:bg%2Focean%2Fcharacters.pngR2i2310402R3R4R5R407goR0y27:bg%2Focean%2Fforeground.pngR2i410037R3R4R5R408goR0y26:bg%2Focean%2Flightning.pngR2i138962R3R4R5R409goR0y26:bg%2Focean%2Ftentacle0.pngR2i57093R3R4R5R410goR0y26:bg%2Focean%2Ftentacle1.pngR2i180600R3R4R5R411goR0y26:bg%2Focean%2Ftentacle2.pngR2i148937R3R4R5R412goR0y29:bg%2Fpark%2Fballoons_left.pngR2i145993R3R4R5R413goR0y30:bg%2Fpark%2Fballoons_right.pngR2i122873R3R4R5R414goR0y18:bg%2Fpark%2Fbg.jpgR2i821238R3R4R5R415goR0y20:bg%2Fpark%2Fbird.pngR2i34041R3R4R5R416goR0y19:bg%2Fpark%2Fcat.pngR2i361965R3R4R5R417goR0y26:bg%2Fpark%2Fcharacters.pngR2i428771R3R4R5R418goR0y19:bg%2Fplane%2Fbg.jpgR2i179208R3R4R5R419goR0y21:bg%2Fplane%2Fbird.pngR2i24933R3R4R5R420goR0y27:bg%2Fplane%2Fcharacters.pngR2i698396R3R4R5R421goR0y24:bg%2Fplane%2Fseagull.pngR2i25420R3R4R5R422goR0y19:bg%2Friver%2Fbg.jpgR2i770703R3R4R5R423goR0y27:bg%2Friver%2Fcharacters.pngR2i544772R3R4R5R424goR0y27:bg%2Friver%2Fforeground.pngR2i669092R3R4R5R425goR0y20:bg%2Fsafari%2Fbg.jpgR2i438151R3R4R5R426goR0y22:bg%2Fsafari%2Fbird.pngR2i89297R3R4R5R427goR0y28:bg%2Fsafari%2Fcharacters.jpgR2i546065R3R4R5R428goR0y19:bg%2Fspace%2Fbg.jpgR2i753498R3R4R5R429goR0y21:bg%2Fspace%2Fbird.pngR2i65177R3R4R5R430goR0y27:bg%2Fspace%2Fcharacters.pngR2i446143R3R4R5R431goR0y20:bg%2Fspace%2Fufo.pngR2i51838R3R4R5R432goR0y34:bg%2Ftiny%2Fbg_tiny_background.jpgR2i189198R3R4R5R433goR0y40:bg%2Ftiny%2Fbg_underwater_characters.pngR2i612029R3R4R5R434goR0y20:bg%2Ftiny%2Ffish.pngR2i45870R3R4R5R435goR0y19:bg%2Ftribe%2Fbg.jpgR2i954981R3R4R5R436goR0y20:bg%2Ftribe%2Fbg2.jpgR2i1064031R3R4R5R437goR0y21:bg%2Ftribe%2Fbird.pngR2i30951R3R4R5R438goR0y41:bg%2Fwater%2Fbg_underwater_background.jpgR2i397203R3R4R5R439goR0y41:bg%2Fwater%2Fbg_underwater_characters.pngR2i612029R3R4R5R440goR0y21:bg%2Fwater%2Ffish.pngR2i45870R3R4R5R441goR0y23:bg%2Fwaterfall%2Fbg.jpgR2i13036R3R4R5R442goR0y25:bg%2Fwaterfall%2Fbird.pngR2i49635R3R4R5R443goR0y31:bg%2Fwaterfall%2Fcharacters.pngR2i810261R3R4R5R444goR0y28:bg%2Fwaterfall%2Fcloud01.pngR2i13502R3R4R5R445goR0y28:bg%2Fwaterfall%2Fcloud02.pngR2i52937R3R4R5R446goR0y28:bg%2Fwaterfall%2Fcloud03.pngR2i23387R3R4R5R447goR0y35:bg%2Fwaterfall%2Fmiddleground01.pngR2i657057R3R4R5R448goR0y35:bg%2Fwaterfall%2Fmiddleground02.pngR2i541781R3R4R5R449goR0y35:bg%2Fwaterfall%2Fmiddleground03.jpgR2i274185R3R4R5R450goR0y35:bg%2Fwaterfall%2Fmiddleground04.jpgR2i323326R3R4R5R451goR0y21:bg%2Fwestern%2Fbg.jpgR2i755890R3R4R5R452goR0y22:bg%2Fwestern%2Fbg2.jpgR2i920972R3R4R5R453goR0y23:bg%2Fwestern%2Fbird.pngR2i57034R3R4R5R454goR0y28:bg%2Fwinter%2Fbackground.jpgR2i475275R3R4R5R455goR0y21:bg%2Fwinter%2Fbg2.jpgR2i563525R3R4R5R456goR0y22:bg%2Fwinter%2Fbird.pngR2i64218R3R4R5R457goR0y17:bg%2Fzoo%2Fbg.jpgR2i761282R3R4R5R458goR0y19:bg%2Fzoo%2Fbird.pngR2i21959R3R4R5R459goR0y25:bg%2Fzoo%2Fcharacters.jpgR2i864083R3R4R5R460goR0y35:dynamic%2Fapple-id-sign-in-with.pngR2i3930R3R4R5R461goR0y24:dynamic%2Farrowwheel.pngR2i5694R3R4R5R462goR0y24:dynamic%2Farrow_left.pngR2i1242R3R4R5R463goR0y20:dynamic%2Favatar.pngR2i8305R3R4R5R464goR0y17:dynamic%2Fbag.pngR2i23266R3R4R5R465goR0y17:dynamic%2Fbee.pngR2i15113R3R4R5R466goR0y23:dynamic%2Fbee_small.pngR2i5425R3R4R5R467goR0y18:dynamic%2Fbird.pngR2i66236R3R4R5R468goR0y23:dynamic%2Fbtn_block.pngR2i6689R3R4R5R469goR0y25:dynamic%2Fbtn_unblock.pngR2i6748R3R4R5R470goR0y24:dynamic%2Fbtn_unlink.pngR2i4830R3R4R5R471goR0y20:dynamic%2Fbubble.pngR2i7427R3R4R5R472goR0y22:dynamic%2Fcolormap.pngR2i51671R3R4R5R473goR0y20:dynamic%2Fcolumn.pngR2i14510R3R4R5R474goR0y26:dynamic%2Fcolumn_small.pngR2i5624R3R4R5R475goR0y32:dynamic%2Fcrazygames-sign-in.pngR2i5139R3R4R5R476goR0y19:dynamic%2Fcrown.pngR2i17570R3R4R5R477goR0y20:dynamic%2Fdelete.pngR2i2022R3R4R5R478goR0y26:dynamic%2Fdifficulty_1.pngR2i29987R3R4R5R479goR0y32:dynamic%2Fdifficulty_1_small.pngR2i14874R3R4R5R480goR0y26:dynamic%2Fdifficulty_2.pngR2i31755R3R4R5R481goR0y32:dynamic%2Fdifficulty_2_small.pngR2i15696R3R4R5R482goR0y17:dynamic%2Fdot.pngR2i1599R3R4R5R483goR0y20:dynamic%2Fdot_on.pngR2i952R3R4R5R484goR0y18:dynamic%2Fdown.pngR2i2192R3R4R5R485goR0y18:dynamic%2Fedit.pngR2i2561R3R4R5R486goR0y20:dynamic%2Feditor.pngR2i25874R3R4R5R487goR0y30:dynamic%2Fexclamation-mark.pngR2i2107R3R4R5R488goR0y24:dynamic%2Fexpedition.pngR2i1615421R3R4R5R489goR0y30:dynamic%2FexpeditionMarker.pngR2i10711R3R4R5R490goR0y30:dynamic%2Ffacebook-sign-in.pngR2i3623R3R4R5R491goR0y24:dynamic%2Fflag-de-DE.pngR2i3824R3R4R5R492goR0y24:dynamic%2Fflag-en-US.pngR2i9312R3R4R5R493goR0y24:dynamic%2Fflag-es-ES.pngR2i6644R3R4R5R494goR0y24:dynamic%2Fflag-fr-FR.pngR2i3272R3R4R5R495goR0y24:dynamic%2Fflag-ru-RU.pngR2i3667R3R4R5R496goR0y24:dynamic%2Fflag-tr-TR.pngR2i5897R3R4R5R497goR0y24:dynamic%2Fflag-uk-UA.pngR2i3446R3R4R5R498goR0y21:dynamic%2Fforward.pngR2i4753R3R4R5R499goR0y19:dynamic%2Fframe.pngR2i1761R3R4R5R500goR0y22:dynamic%2Fframe_02.pngR2i4328R3R4R5R501goR0y22:dynamic%2Fframe_03.pngR2i5701R3R4R5R502goR0y28:dynamic%2Fframe_wings_01.pngR2i15084R3R4R5R503goR0y28:dynamic%2Fframe_wings_02.pngR2i15866R3R4R5R504goR0y28:dynamic%2Fframe_wings_03.pngR2i17253R3R4R5R505goR0y28:dynamic%2Fframe_wings_04.pngR2i24519R3R4R5R506goR0y28:dynamic%2Fgoogle-sign-in.pngR2i4528R3R4R5R507goR0y20:dynamic%2Fhammer.pngR2i19463R3R4R5R508goR0y26:dynamic%2Fhammer_small.pngR2i6600R3R4R5R509goR0y18:dynamic%2Fhelp.pngR2i4839R3R4R5R510goR0y18:dynamic%2Finfo.pngR2i3793R3R4R5R511goR0y23:dynamic%2Finfo_icon.pngR2i2315R3R4R5R512goR0y24:dynamic%2Fjenny_head.jpgR2i21977R3R4R5R513goR0y18:dynamic%2Flist.pngR2i4213R3R4R5R514goR0y18:dynamic%2Flogo.pngR2i17243R3R4R5R515goR0y22:dynamic%2Fmail_big.pngR2i10305R3R4R5R516goR0y31:dynamic%2Fmicrosoft-sign-in.pngR2i3480R3R4R5R517goR0y19:dynamic%2Fmusic.pngR2i4665R3R4R5R518goR0y23:dynamic%2Fmusic_off.pngR2i5218R3R4R5R519goR0y18:dynamic%2Fnews.pngR2i35470R3R4R5R520goR0y18:dynamic%2Fopen.pngR2i5201R3R4R5R521goR0y17:dynamic%2Forb.pngR2i17478R3R4R5R522goR0y23:dynamic%2Forb_small.pngR2i6148R3R4R5R523goR0y18:dynamic%2Fplay.pngR2i4231R3R4R5R524goR0y18:dynamic%2Fplus.pngR2i1631R3R4R5R525goR0y18:dynamic%2Fquit.pngR2i4651R3R4R5R526goR0y20:dynamic%2Frepeat.pngR2i5696R3R4R5R527goR0y17:dynamic%2Frow.pngR2i18519R3R4R5R528goR0y23:dynamic%2Frow_small.pngR2i6228R3R4R5R529goR0y24:dynamic%2Fsales_icon.pngR2i11037R3R4R5R530goR0y29:dynamic%2Fsales_icon_blue.pngR2i11253R3R4R5R531goR0y30:dynamic%2Fsales_icon_green.pngR2i5759R3R4R5R532goR0y29:dynamic%2Fsales_icon_pink.pngR2i10982R3R4R5R533goR0y18:dynamic%2Fshop.pngR2i4341R3R4R5R534goR0y23:dynamic%2Fshop_icon.pngR2i50683R3R4R5R535goR0y18:dynamic%2Fshre.pngR2i5163R3R4R5R536goR0y21:dynamic%2Fskipend.pngR2i4323R3R4R5R537goR0y19:dynamic%2Fskunk.pngR2i15641R3R4R5R538goR0y25:dynamic%2Fskunk_small.pngR2i6328R3R4R5R539goR0y19:dynamic%2Fsound.pngR2i4237R3R4R5R540goR0y23:dynamic%2Fsound_off.pngR2i5223R3R4R5R541goR0y22:dynamic%2Fstrahlen.pngR2i10929R3R4R5R542goR0y20:dynamic%2Fstreak.pngR2i27019R3R4R5R543goR0y20:dynamic%2Fswitch.pngR2i3193R3R4R5R544goR0y21:dynamic%2Fswizzle.pngR2i11464R3R4R5R545goR0y27:dynamic%2Fswizzle_small.pngR2i5611R3R4R5R546goR0y18:dynamic%2Fteam.pngR2i12133R3R4R5R547goR0y23:dynamic%2FTipHand_1.pngR2i13311R3R4R5R548goR0y23:dynamic%2FTipHand_2.pngR2i11641R3R4R5R549goR0y26:dynamic%2Ftrophy_multi.pngR2i69045R3R4R5R550goR0y16:dynamic%2Fup.pngR2i1746R3R4R5R551goR0y23:dynamic%2Fvignette2.pngR2i68724R3R4R5R552goR0y18:dynamic%2Fweek.pngR2i35099R3R4R5R553goR0y28:dynamic%2Fwheeloffortune.pngR2i20975R3R4R5R554goR0y15:dynamic%2FX.pngR2i2917R3R4R5R555goR0y17:dynamic%2Fyes.pngR2i1762R3R4R5R556goR0y20:dynamic%2Fdeco01.pngR2i168330R3R4R5R557goR0y20:dynamic%2Fdeco02.pngR2i340588R3R4R5R558goR0y25:dynamic%2FJennyJungle.pngR2i307733R3R4R5R559goR0y27:dynamic%2FJenny_Curious.pngR2i307194R3R4R5R560goR0y24:dynamic%2FJenny_Flag.pngR2i409124R3R4R5R561goR0y25:dynamic%2FJenny_Happy.pngR2i324974R3R4R5R562goR0y30:dynamic%2FJenny_Presenting.pngR2i324376R3R4R5R563goR0y23:dynamic%2FJenny_Sad.pngR2i276499R3R4R5R564goR0y26:dynamic%2FJenny_Trophy.pngR2i404879R3R4R5R565goR0y26:dynamic%2FJenny_Worker.pngR2i342603R3R4R5R566goR0y19:avatar%2Fava001.jpgR2i1974R3R4R5R567goR0y19:avatar%2Fava002.jpgR2i9489R3R4R5R568goR0y19:avatar%2Fava003.jpgR2i6764R3R4R5R569goR0y19:avatar%2Fava004.jpgR2i8790R3R4R5R570goR0y19:avatar%2Fava005.jpgR2i7800R3R4R5R571goR0y19:avatar%2Fava006.jpgR2i8748R3R4R5R572goR0y19:avatar%2Fava007.jpgR2i8239R3R4R5R573goR0y19:avatar%2Fava008.jpgR2i8827R3R4R5R574goR0y19:avatar%2Fava009.jpgR2i9296R3R4R5R575goR0y19:avatar%2Fava010.jpgR2i10053R3R4R5R576goR0y19:avatar%2Fava011.jpgR2i9849R3R4R5R577goR0y19:avatar%2Fava012.jpgR2i10664R3R4R5R578goR0y19:avatar%2Fava013.jpgR2i3285R3R4R5R579goR0y19:avatar%2Fava014.jpgR2i7076R3R4R5R580goR0y19:avatar%2Fava015.jpgR2i6016R3R4R5R581goR0y19:avatar%2Fava016.jpgR2i6335R3R4R5R582goR0y19:avatar%2Fava017.jpgR2i9009R3R4R5R583goR0y19:avatar%2Fava018.jpgR2i7830R3R4R5R584goR0y19:avatar%2Fava019.jpgR2i6067R3R4R5R585goR0y19:avatar%2Fava020.jpgR2i6199R3R4R5R586goR0y19:avatar%2Fava021.jpgR2i3709R3R4R5R587goR0y19:avatar%2Fava022.jpgR2i6707R3R4R5R588goR0y19:avatar%2Fava023.jpgR2i6358R3R4R5R589goR0y19:avatar%2Fava024.jpgR2i6435R3R4R5R590goR0y19:avatar%2Fava025.jpgR2i6572R3R4R5R591goR0y19:avatar%2Fava026.jpgR2i5509R3R4R5R592goR0y19:avatar%2Fava027.jpgR2i6272R3R4R5R593goR0y19:avatar%2Fava028.jpgR2i8660R3R4R5R594goR0y19:avatar%2Fava029.jpgR2i7239R3R4R5R595goR0y19:teams%2F0%2F000.pngR2i8633R3R4R5R596goR0y19:teams%2F0%2F001.pngR2i6564R3R4R5R597goR0y19:teams%2F0%2F002.pngR2i7798R3R4R5R598goR0y19:teams%2F0%2F003.pngR2i7569R3R4R5R599goR0y19:teams%2F0%2F004.pngR2i15736R3R4R5R600goR0y19:teams%2F0%2F005.pngR2i3990R3R4R5R601goR0y19:teams%2F0%2F006.pngR2i2748R3R4R5R602goR0y19:teams%2F1%2F000.pngR2i9030R3R4R5R603goR0y19:teams%2F1%2F001.pngR2i11970R3R4R5R604goR0y19:teams%2F1%2F002.pngR2i3715R3R4R5R605goR0y19:teams%2F1%2F003.pngR2i8783R3R4R5R606goR0y19:teams%2F1%2F004.pngR2i8689R3R4R5R607goR0y19:teams%2F1%2F005.pngR2i6945R3R4R5R608goR0y19:teams%2F1%2F006.pngR2i4401R3R4R5R609goR0y19:teams%2F2%2F000.pngR2i6101R3R4R5R610goR0y21:teams%2F2%2F000_o.pngR2i4799R3R4R5R611goR0y19:teams%2F2%2F001.pngR2i4429R3R4R5R612goR0y21:teams%2F2%2F001_o.pngR2i5892R3R4R5R613goR0y19:teams%2F2%2F002.pngR2i7488R3R4R5R614goR0y21:teams%2F2%2F002_o.pngR2i5276R3R4R5R615goR0y19:teams%2F2%2F003.pngR2i6099R3R4R5R616goR0y21:teams%2F2%2F003_o.pngR2i4271R3R4R5R617goR0y19:teams%2F2%2F004.pngR2i5613R3R4R5R618goR0y21:teams%2F2%2F004_o.pngR2i4640R3R4R5R619goR0y19:teams%2F2%2F005.pngR2i4558R3R4R5R620goR0y21:teams%2F2%2F005_o.pngR2i7171R3R4R5R621goR0y19:teams%2F2%2F006.pngR2i4017R3R4R5R622goR0y21:teams%2F2%2F006_o.pngR2i5521R3R4R5R623goR0y19:teams%2F2%2F007.pngR2i4017R3R4R5R624goR0y21:teams%2F2%2F007_o.pngR2i7907R3R4R5R625goR0R114R2i43533R3R113R5R114goR0y27:splash%2FZooBoom_LogoHD.jpgR2i52951R3R113R5R626goR0y20:xml%2Fbackground.xmlR2i346R3R87R5R627goR0y29:xml%2Fbooster_offer_popup.xmlR2i2495R3R87R5R628goR0y18:xml%2Fbuy_item.xmlR2i1445R3R87R5R629goR0y14:xml%2Fchat.xmlR2i252R3R87R5R630goR0y18:xml%2Fchat_tab.xmlR2i4769R3R87R5R631goR0y24:xml%2Fchoose_animals.xmlR2i1999R3R87R5R632goR0y22:xml%2Fchoose_color.xmlR2i777R3R87R5R633goR0y21:xml%2Fchoose_flag.xmlR2i1205R3R87R5R634goR0y35:xml%2Fchoose_jump_starter_popup.xmlR2i5547R3R87R5R635goR0y22:xml%2Fchoose_stone.xmlR2i1529R3R87R5R636goR0y22:xml%2Fchoose_tasks.xmlR2i2092R3R87R5R637goR0y20:xml%2Fcode_popup.xmlR2i796R3R87R5R638goR0y24:xml%2Fdiscount_popup.xmlR2i1713R3R87R5R639goR0y15:xml%2Fdrama.xmlR2i1550R3R87R5R640goR0y16:xml%2Fdrama2.xmlR2i1444R3R87R5R641goR0y22:xml%2Feditor_login.xmlR2i1414R3R87R5R642goR0y27:xml%2Fedit_avatar_popup.xmlR2i2499R3R87R5R643goR0y28:xml%2Fedit_profile_popup.xmlR2i1393R3R87R5R644goR0y27:xml%2Femail_login_popup.xmlR2i1587R3R87R5R645goR0y30:xml%2Femail_register_popup.xmlR2i1956R3R87R5R646goR0y20:xml%2Fenter_text.xmlR2i624R3R87R5R647goR0y27:xml%2Fexpedition_screen.xmlR2i3869R3R87R5R648goR0y22:xml%2Ffetch_reward.xmlR2i2123R3R87R5R649goR0R86R2i5143R3R87R5R86goR0y20:xml%2Finfo_popup.xmlR2i717R3R87R5R650goR0y28:xml%2Fitem_success_popup.xmlR2i737R3R87R5R651goR0y20:xml%2Fladder_tab.xmlR2i1783R3R87R5R652goR0y22:xml%2Flevel_editor.xmlR2i18086R3R87R5R653goR0y20:xml%2Flevel_list.xmlR2i2350R3R87R5R654goR0R88R2i31893R3R87R5R88goR0R89R2i693R3R87R5R89goR0y29:xml%2Flink_accounts_popup.xmlR2i1618R3R87R5R655goR0R90R2i17320R3R87R5R90goR0y25:xml%2Fmax_level_popup.xmlR2i891R3R87R5R656goR0y26:xml%2Fmore_moves_popup.xmlR2i3373R3R87R5R657goR0y18:xml%2Fnews_tab.xmlR2i476R3R87R5R658goR0y25:xml%2Fnew_theme_popup.xmlR2i713R3R87R5R659goR0y36:xml%2Fnot_enough_resources_popup.xmlR2i2040R3R87R5R660goR0y24:xml%2Fno_lifes_popup.xmlR2i1283R3R87R5R661goR0y24:xml%2Fno_moves_popup.xmlR2i3790R3R87R5R662goR0y26:xml%2Fopen_chest_popup.xmlR2i2208R3R87R5R663goR0y33:xml%2Fplayer_chat_channel_tab.xmlR2i2166R3R87R5R664goR0y24:xml%2Fplayer_details.xmlR2i10412R3R87R5R665goR0R91R2i47358R3R87R5R91goR0y24:xml%2Fplayfield_help.xmlR2i2852R3R87R5R666goR0y15:xml%2Fpopup.xmlR2i530R3R87R5R667goR0y22:xml%2Fprofile_list.xmlR2i1369R3R87R5R668goR0y26:xml%2Fquit_level_popup.xmlR2i1668R3R87R5R669goR0y24:xml%2Frate_app_popup.xmlR2i3460R3R87R5R670goR0y16:xml%2Freview.xmlR2i1554R3R87R5R671goR0y23:xml%2Freview_result.xmlR2i1324R3R87R5R672goR0y21:xml%2Fscreen_help.xmlR2i1582R3R87R5R673goR0y21:xml%2Fscreen_list.xmlR2i890R3R87R5R674goR0y14:xml%2Fshop.xmlR2i1652R3R87R5R675goR0y18:xml%2Fshop_tab.xmlR2i4673R3R87R5R676goR0y22:xml%2Fshop_tab_ads.xmlR2i743R3R87R5R677goR0y24:xml%2Fshop_tab_items.xmlR2i2581R3R87R5R678goR0y26:xml%2Fshop_tab_payment.xmlR2i7911R3R87R5R679goR0y19:xml%2FshortInfo.xmlR2i419R3R87R5R680goR0y23:xml%2Fsign_in_popup.xmlR2i3093R3R87R5R681goR0y22:xml%2Fslider_popup.xmlR2i4528R3R87R5R682goR0y20:xml%2Fsocial_hub.xmlR2i2779R3R87R5R683goR0y29:xml%2Fspecial_offer_popup.xmlR2i1308R3R87R5R684goR0y27:xml%2Fstreak_info_popup.xmlR2i926R3R87R5R685goR0y21:xml%2Fteam_create.xmlR2i1499R3R87R5R686goR0y22:xml%2Fteam_details.xmlR2i8173R3R87R5R687goR0y25:xml%2Fteam_edit_badge.xmlR2i2379R3R87R5R688goR0y25:xml%2Fteam_ladder_tab.xmlR2i1360R3R87R5R689goR0y22:xml%2Fthankx_popup.xmlR2i1270R3R87R5R690goR0y29:xml%2Ftournament_finished.xmlR2i2117R3R87R5R691goR0y24:xml%2Ftournament_tab.xmlR2i1693R3R87R5R692goR0y32:xml%2Ftournament_winners_tab.xmlR2i319R3R87R5R693goR0y31:xml%2Funlimited_lifes_popup.xmlR2i1661R3R87R5R694goR0y13:xml%2Fweb.xmlR2i403R3R87R5R695goR0y27:xml%2Fweekly_ladder_tab.xmlR2i1015R3R87R5R696goR0y19:xml%2Fwin_popup.xmlR2i3752R3R87R5R697goR0y28:xml%2Fyandex_login_popup.xmlR2i750R3R87R5R698goR0y22:level%2Flevel0001.jsonR2i1930R3R87R5R699goR0y22:level%2Flevel0002.jsonR2i2146R3R87R5R700goR0y22:level%2Flevel0003.jsonR2i2141R3R87R5R701goR0y22:level%2Flevel0004.jsonR2i2454R3R87R5R702goR0y22:level%2Flevel0005.jsonR2i470R3R87R5R703goR0y22:level%2Flevel0006.jsonR2i778R3R87R5R704goR0y22:level%2Flevel0007.jsonR2i419R3R87R5R705goR0y22:level%2Flevel0008.jsonR2i673R3R87R5R706goR0y22:level%2Flevel0009.jsonR2i980R3R87R5R707goR0y22:level%2Flevel0010.jsonR2i615R3R87R5R708goR0y22:level%2Flevel0011.jsonR2i478R3R87R5R709goR0y22:level%2Flevel0012.jsonR2i2954R3R87R5R710goR0y22:level%2Flevel0013.jsonR2i2383R3R87R5R711goR0y22:level%2Flevel0014.jsonR2i1718R3R87R5R712goR0y22:level%2Flevel0015.jsonR2i369R3R87R5R713goR0y22:level%2Flevel0016.jsonR2i2504R3R87R5R714goR0y22:level%2Flevel0017.jsonR2i2520R3R87R5R715goR0y22:level%2Flevel0018.jsonR2i3599R3R87R5R716goR0y22:level%2Flevel0019.jsonR2i2267R3R87R5R717goR0y22:level%2Flevel0020.jsonR2i2221R3R87R5R718goR0y22:level%2Flevel0021.jsonR2i385R3R87R5R719goR0y22:level%2Flevel0022.jsonR2i2333R3R87R5R720goR0y22:level%2Flevel0023.jsonR2i1850R3R87R5R721goR0y22:level%2Flevel0024.jsonR2i355R3R87R5R722goR0y22:level%2Flevel0025.jsonR2i712R3R87R5R723goR0y22:level%2Flevel0026.jsonR2i676R3R87R5R724goR0y22:level%2Flevel0027.jsonR2i1609R3R87R5R725goR0y22:level%2Flevel0028.jsonR2i597R3R87R5R726goR0y22:level%2Flevel0029.jsonR2i576R3R87R5R727goR0y22:level%2Flevel0030.jsonR2i917R3R87R5R728goR0y22:level%2Flevel0031.jsonR2i451R3R87R5R729goR0y22:level%2Flevel0032.jsonR2i357R3R87R5R730goR0y22:level%2Flevel0033.jsonR2i1136R3R87R5R731goR0y22:level%2Flevel0034.jsonR2i1038R3R87R5R732goR0y22:level%2Flevel0035.jsonR2i1455R3R87R5R733goR0y22:level%2Flevel0036.jsonR2i1987R3R87R5R734goR0y22:level%2Flevel0037.jsonR2i769R3R87R5R735goR0y22:level%2Flevel0038.jsonR2i495R3R87R5R736goR0y22:level%2Flevel0039.jsonR2i394R3R87R5R737goR0y22:level%2Flevel0040.jsonR2i601R3R87R5R738goR0y22:level%2Flevel0041.jsonR2i777R3R87R5R739goR0y22:level%2Flevel0042.jsonR2i836R3R87R5R740goR0y22:level%2Flevel0043.jsonR2i725R3R87R5R741goR0y22:level%2Flevel0044.jsonR2i894R3R87R5R742goR0y22:level%2Flevel0045.jsonR2i681R3R87R5R743goR0y22:level%2Flevel0046.jsonR2i811R3R87R5R744goR0y22:level%2Flevel0047.jsonR2i557R3R87R5R745goR0y22:level%2Flevel0048.jsonR2i524R3R87R5R746goR0y22:level%2Flevel0049.jsonR2i752R3R87R5R747goR0y22:level%2Flevel0050.jsonR2i879R3R87R5R748goR0y22:level%2Flevel0051.jsonR2i598R3R87R5R749goR0y22:level%2Flevel0052.jsonR2i849R3R87R5R750goR0y22:level%2Flevel0053.jsonR2i1247R3R87R5R751goR0y22:level%2Flevel0054.jsonR2i2701R3R87R5R752goR0y22:level%2Flevel0055.jsonR2i1212R3R87R5R753goR0y22:level%2Flevel0056.jsonR2i389R3R87R5R754goR0y22:level%2Flevel0057.jsonR2i652R3R87R5R755goR0y22:level%2Flevel0058.jsonR2i1046R3R87R5R756goR0y22:level%2Flevel0059.jsonR2i1316R3R87R5R757goR0y22:level%2Flevel0060.jsonR2i482R3R87R5R758goR0y22:level%2Flevel0061.jsonR2i554R3R87R5R759goR0y22:level%2Flevel0062.jsonR2i640R3R87R5R760goR0y22:level%2Flevel0063.jsonR2i623R3R87R5R761goR0y22:level%2Flevel0064.jsonR2i519R3R87R5R762goR0y22:level%2Flevel0065.jsonR2i659R3R87R5R763goR0y22:level%2Flevel0066.jsonR2i534R3R87R5R764goR0y22:level%2Flevel0067.jsonR2i1066R3R87R5R765goR0y22:level%2Flevel0068.jsonR2i799R3R87R5R766goR0y22:level%2Flevel0069.jsonR2i1661R3R87R5R767goR0y22:level%2Flevel0070.jsonR2i628R3R87R5R768goR0y22:level%2Flevel0071.jsonR2i818R3R87R5R769goR0y22:level%2Flevel0072.jsonR2i749R3R87R5R770goR0y22:level%2Flevel0073.jsonR2i590R3R87R5R771goR0y22:level%2Flevel0074.jsonR2i712R3R87R5R772goR0y22:level%2Flevel0075.jsonR2i619R3R87R5R773goR0y22:level%2Flevel0076.jsonR2i1652R3R87R5R774goR0y22:level%2Flevel0077.jsonR2i1543R3R87R5R775goR0y22:level%2Flevel0078.jsonR2i2262R3R87R5R776goR0y22:level%2Flevel0079.jsonR2i1292R3R87R5R777goR0y22:level%2Flevel0080.jsonR2i2229R3R87R5R778goR0y22:level%2Flevel0081.jsonR2i1013R3R87R5R779goR0y22:level%2Flevel0082.jsonR2i792R3R87R5R780goR0y22:level%2Flevel0083.jsonR2i725R3R87R5R781goR0y22:level%2Flevel0084.jsonR2i898R3R87R5R782goR0y22:level%2Flevel0085.jsonR2i908R3R87R5R783goR0y22:level%2Flevel0086.jsonR2i3203R3R87R5R784goR0y22:level%2Flevel0087.jsonR2i670R3R87R5R785goR0y22:level%2Flevel0088.jsonR2i876R3R87R5R786goR0y22:level%2Flevel0089.jsonR2i686R3R87R5R787goR0y22:level%2Flevel0090.jsonR2i1530R3R87R5R788goR0y22:level%2Flevel0091.jsonR2i806R3R87R5R789goR0y22:level%2Flevel0092.jsonR2i1335R3R87R5R790goR0y22:level%2Flevel0093.jsonR2i791R3R87R5R791goR0y22:level%2Flevel0094.jsonR2i880R3R87R5R792goR0y22:level%2Flevel0095.jsonR2i533R3R87R5R793goR0y22:level%2Flevel0096.jsonR2i636R3R87R5R794goR0y22:level%2Flevel0097.jsonR2i762R3R87R5R795goR0y22:level%2Flevel0098.jsonR2i1012R3R87R5R796goR0y22:level%2Flevel0099.jsonR2i760R3R87R5R797goR0y22:level%2Flevel0100.jsonR2i950R3R87R5R798goR0y22:level%2Flevel0101.jsonR2i843R3R87R5R799goR0y22:level%2Flevel0102.jsonR2i608R3R87R5R800goR0y22:level%2Flevel0103.jsonR2i588R3R87R5R801goR0y22:level%2Flevel0104.jsonR2i446R3R87R5R802goR0y22:level%2Flevel0105.jsonR2i389R3R87R5R803goR0y22:level%2Flevel0106.jsonR2i459R3R87R5R804goR0y22:level%2Flevel0107.jsonR2i675R3R87R5R805goR0y22:level%2Flevel0108.jsonR2i647R3R87R5R806goR0y22:level%2Flevel0109.jsonR2i437R3R87R5R807goR0y22:level%2Flevel0110.jsonR2i684R3R87R5R808goR0y22:level%2Flevel0111.jsonR2i1803R3R87R5R809goR0y22:level%2Flevel0112.jsonR2i572R3R87R5R810goR0y22:level%2Flevel0113.jsonR2i689R3R87R5R811goR0y22:level%2Flevel0114.jsonR2i752R3R87R5R812goR0y22:level%2Flevel0115.jsonR2i494R3R87R5R813goR0y22:level%2Flevel0116.jsonR2i677R3R87R5R814goR0y22:level%2Flevel0117.jsonR2i596R3R87R5R815goR0y22:level%2Flevel0118.jsonR2i580R3R87R5R816goR0y22:level%2Flevel0119.jsonR2i625R3R87R5R817goR0y22:level%2Flevel0120.jsonR2i652R3R87R5R818goR0y22:level%2Flevel0121.jsonR2i1843R3R87R5R819goR0y22:level%2Flevel0122.jsonR2i642R3R87R5R820goR0y22:level%2Flevel0123.jsonR2i543R3R87R5R821goR0y22:level%2Flevel0124.jsonR2i675R3R87R5R822goR0y22:level%2Flevel0125.jsonR2i1458R3R87R5R823goR0y22:level%2Flevel0126.jsonR2i739R3R87R5R824goR0y22:level%2Flevel0127.jsonR2i1038R3R87R5R825goR0y22:level%2Flevel0128.jsonR2i713R3R87R5R826goR0y22:level%2Flevel0129.jsonR2i578R3R87R5R827goR0y22:level%2Flevel0130.jsonR2i563R3R87R5R828goR0y22:level%2Flevel0131.jsonR2i640R3R87R5R829goR0y22:level%2Flevel0132.jsonR2i579R3R87R5R830goR0y22:level%2Flevel0133.jsonR2i1518R3R87R5R831goR0y22:level%2Flevel0134.jsonR2i481R3R87R5R832goR0y22:level%2Flevel0135.jsonR2i439R3R87R5R833goR0y22:level%2Flevel0136.jsonR2i522R3R87R5R834goR0y22:level%2Flevel0137.jsonR2i1133R3R87R5R835goR0y22:level%2Flevel0138.jsonR2i887R3R87R5R836goR0y22:level%2Flevel0139.jsonR2i678R3R87R5R837goR0y22:level%2Flevel0140.jsonR2i943R3R87R5R838goR0y22:level%2Flevel0141.jsonR2i444R3R87R5R839goR0y22:level%2Flevel0142.jsonR2i579R3R87R5R840goR0y22:level%2Flevel0143.jsonR2i530R3R87R5R841goR0y22:level%2Flevel0144.jsonR2i910R3R87R5R842goR0y22:level%2Flevel0145.jsonR2i1420R3R87R5R843goR0y22:level%2Flevel0146.jsonR2i719R3R87R5R844goR0y22:level%2Flevel0147.jsonR2i544R3R87R5R845goR0y22:level%2Flevel0148.jsonR2i650R3R87R5R846goR0y22:level%2Flevel0149.jsonR2i1264R3R87R5R847goR0y22:level%2Flevel0150.jsonR2i2635R3R87R5R848goR0y22:level%2Flevel0151.jsonR2i2298R3R87R5R849goR0y22:level%2Flevel0152.jsonR2i1967R3R87R5R850goR0y22:level%2Flevel0153.jsonR2i1782R3R87R5R851goR0y22:level%2Flevel0154.jsonR2i2378R3R87R5R852goR0y22:level%2Flevel0155.jsonR2i1967R3R87R5R853goR0y22:level%2Flevel0156.jsonR2i2079R3R87R5R854goR0y22:level%2Flevel0157.jsonR2i2208R3R87R5R855goR0y22:level%2Flevel0158.jsonR2i1898R3R87R5R856goR0y22:level%2Flevel0159.jsonR2i1734R3R87R5R857goR0y22:level%2Flevel0160.jsonR2i2246R3R87R5R858goR0y22:level%2Flevel0161.jsonR2i2180R3R87R5R859goR0y22:level%2Flevel0162.jsonR2i2524R3R87R5R860goR0y22:level%2Flevel0163.jsonR2i2381R3R87R5R861goR0y22:level%2Flevel0164.jsonR2i1926R3R87R5R862goR0y22:level%2Flevel0165.jsonR2i1742R3R87R5R863goR0y22:level%2Flevel0166.jsonR2i2010R3R87R5R864goR0y22:level%2Flevel0167.jsonR2i2776R3R87R5R865goR0y22:level%2Flevel0168.jsonR2i2913R3R87R5R866goR0y22:level%2Flevel0169.jsonR2i2876R3R87R5R867goR0y22:level%2Flevel0170.jsonR2i2384R3R87R5R868goR0y22:level%2Flevel0171.jsonR2i2223R3R87R5R869goR0y22:level%2Flevel0172.jsonR2i2238R3R87R5R870goR0y22:level%2Flevel0173.jsonR2i2427R3R87R5R871goR0y22:level%2Flevel0174.jsonR2i2449R3R87R5R872goR0y22:level%2Flevel0175.jsonR2i1970R3R87R5R873goR0y22:level%2Flevel0176.jsonR2i1455R3R87R5R874goR0y22:level%2Flevel0177.jsonR2i1494R3R87R5R875goR0y22:level%2Flevel0178.jsonR2i2228R3R87R5R876goR0y22:level%2Flevel0179.jsonR2i1739R3R87R5R877goR0y22:level%2Flevel0180.jsonR2i2115R3R87R5R878goR0y22:level%2Flevel0181.jsonR2i1708R3R87R5R879goR0y22:level%2Flevel0182.jsonR2i1727R3R87R5R880goR0y22:level%2Flevel0183.jsonR2i2497R3R87R5R881goR0y22:level%2Flevel0184.jsonR2i1658R3R87R5R882goR0y22:level%2Flevel0185.jsonR2i1905R3R87R5R883goR0y22:level%2Flevel0186.jsonR2i2128R3R87R5R884goR0y22:level%2Flevel0187.jsonR2i1995R3R87R5R885goR0y22:level%2Flevel0188.jsonR2i2630R3R87R5R886goR0y22:level%2Flevel0189.jsonR2i1134R3R87R5R887goR0y22:level%2Flevel0190.jsonR2i2208R3R87R5R888goR0y22:level%2Flevel0191.jsonR2i1995R3R87R5R889goR0y22:level%2Flevel0192.jsonR2i2178R3R87R5R890goR0y22:level%2Flevel0193.jsonR2i1896R3R87R5R891goR0y22:level%2Flevel0194.jsonR2i1363R3R87R5R892goR0y22:level%2Flevel0195.jsonR2i2144R3R87R5R893goR0y22:level%2Flevel0196.jsonR2i2185R3R87R5R894goR0y22:level%2Flevel0197.jsonR2i1692R3R87R5R895goR0y22:level%2Flevel0198.jsonR2i3018R3R87R5R896goR0y22:level%2Flevel0199.jsonR2i1928R3R87R5R897goR0y22:level%2Flevel0200.jsonR2i1954R3R87R5R898goR0y22:level%2Flevel0201.jsonR2i2998R3R87R5R899goR0y22:level%2Flevel0202.jsonR2i2107R3R87R5R900goR0y22:level%2Flevel0203.jsonR2i3085R3R87R5R901goR0y22:level%2Flevel0204.jsonR2i2921R3R87R5R902goR0y22:level%2Flevel0205.jsonR2i2185R3R87R5R903goR0y22:level%2Flevel0206.jsonR2i1554R3R87R5R904goR0y22:level%2Flevel0207.jsonR2i2680R3R87R5R905goR0y22:level%2Flevel0208.jsonR2i2801R3R87R5R906goR0y22:level%2Flevel0209.jsonR2i2469R3R87R5R907goR0y22:level%2Flevel0210.jsonR2i3062R3R87R5R908goR0y22:level%2Flevel0211.jsonR2i2757R3R87R5R909goR0y22:level%2Flevel0212.jsonR2i2539R3R87R5R910goR0y22:level%2Flevel0213.jsonR2i2466R3R87R5R911goR0y22:level%2Flevel0214.jsonR2i2934R3R87R5R912goR0y22:level%2Flevel0215.jsonR2i2967R3R87R5R913goR0y22:level%2Flevel0216.jsonR2i3312R3R87R5R914goR0y22:level%2Flevel0217.jsonR2i2826R3R87R5R915goR0y22:level%2Flevel0218.jsonR2i3224R3R87R5R916goR0y22:level%2Flevel0219.jsonR2i2727R3R87R5R917goR0y22:level%2Flevel0220.jsonR2i2435R3R87R5R918goR0y22:level%2Flevel0221.jsonR2i2257R3R87R5R919goR0y22:level%2Flevel0222.jsonR2i2688R3R87R5R920goR0y22:level%2Flevel0223.jsonR2i2584R3R87R5R921goR0y22:level%2Flevel0224.jsonR2i3224R3R87R5R922goR0y22:level%2Flevel0225.jsonR2i2608R3R87R5R923goR0y22:level%2Flevel0226.jsonR2i2842R3R87R5R924goR0y22:level%2Flevel0227.jsonR2i2887R3R87R5R925goR0y22:level%2Flevel0228.jsonR2i2284R3R87R5R926goR0y22:level%2Flevel0229.jsonR2i2441R3R87R5R927goR0y22:level%2Flevel0230.jsonR2i2538R3R87R5R928goR0y22:level%2Flevel0231.jsonR2i3166R3R87R5R929goR0y22:level%2Flevel0232.jsonR2i2467R3R87R5R930goR0y22:level%2Flevel0233.jsonR2i2655R3R87R5R931goR0y22:level%2Flevel0234.jsonR2i2541R3R87R5R932goR0y22:level%2Flevel0235.jsonR2i2383R3R87R5R933goR0y22:level%2Flevel0236.jsonR2i2877R3R87R5R934goR0y22:level%2Flevel0237.jsonR2i2141R3R87R5R935goR0y22:level%2Flevel0238.jsonR2i2561R3R87R5R936goR0y22:level%2Flevel0239.jsonR2i2566R3R87R5R937goR0y22:level%2Flevel0240.jsonR2i2446R3R87R5R938goR0y22:level%2Flevel0241.jsonR2i2678R3R87R5R939goR0y22:level%2Flevel0242.jsonR2i2829R3R87R5R940goR0y22:level%2Flevel0243.jsonR2i2687R3R87R5R941goR0y22:level%2Flevel0244.jsonR2i2207R3R87R5R942goR0y22:level%2Flevel0245.jsonR2i3051R3R87R5R943goR0y22:level%2Flevel0246.jsonR2i2317R3R87R5R944goR0y22:level%2Flevel0247.jsonR2i2256R3R87R5R945goR0y22:level%2Flevel0248.jsonR2i2523R3R87R5R946goR0y22:level%2Flevel0249.jsonR2i2405R3R87R5R947goR0y22:level%2Flevel0250.jsonR2i2154R3R87R5R948goR0y22:level%2Flevel0251.jsonR2i1833R3R87R5R949goR0y22:level%2Flevel0252.jsonR2i2091R3R87R5R950goR0y22:level%2Flevel0253.jsonR2i2389R3R87R5R951goR0y22:level%2Flevel0254.jsonR2i2019R3R87R5R952goR0y22:level%2Flevel0255.jsonR2i2300R3R87R5R953goR0y22:level%2Flevel0256.jsonR2i2631R3R87R5R954goR0y22:level%2Flevel0257.jsonR2i1774R3R87R5R955goR0y22:level%2Flevel0258.jsonR2i1892R3R87R5R956goR0y22:level%2Flevel0259.jsonR2i1845R3R87R5R957goR0y22:level%2Flevel0260.jsonR2i2233R3R87R5R958goR0y22:level%2Flevel0261.jsonR2i2079R3R87R5R959goR0y22:level%2Flevel0262.jsonR2i1981R3R87R5R960goR0y22:level%2Flevel0263.jsonR2i2227R3R87R5R961goR0y22:level%2Flevel0264.jsonR2i1641R3R87R5R962goR0y22:level%2Flevel0265.jsonR2i1990R3R87R5R963goR0y22:level%2Flevel0266.jsonR2i2075R3R87R5R964goR0y22:level%2Flevel0267.jsonR2i2353R3R87R5R965goR0y22:level%2Flevel0268.jsonR2i1419R3R87R5R966goR0y22:level%2Flevel0269.jsonR2i2544R3R87R5R967goR0y22:level%2Flevel0270.jsonR2i1930R3R87R5R968goR0y22:level%2Flevel0271.jsonR2i1734R3R87R5R969goR0y22:level%2Flevel0272.jsonR2i1969R3R87R5R970goR0y22:level%2Flevel0273.jsonR2i2015R3R87R5R971goR0y22:level%2Flevel0274.jsonR2i1863R3R87R5R972goR0y22:level%2Flevel0275.jsonR2i2101R3R87R5R973goR0y22:level%2Flevel0276.jsonR2i2228R3R87R5R974goR0y22:level%2Flevel0277.jsonR2i1712R3R87R5R975goR0y22:level%2Flevel0278.jsonR2i1755R3R87R5R976goR0y22:level%2Flevel0279.jsonR2i2136R3R87R5R977goR0y22:level%2Flevel0280.jsonR2i2188R3R87R5R978goR0y22:level%2Flevel0281.jsonR2i2270R3R87R5R979goR0y22:level%2Flevel0282.jsonR2i2568R3R87R5R980goR0y22:level%2Flevel0283.jsonR2i2348R3R87R5R981goR0y22:level%2Flevel0284.jsonR2i2429R3R87R5R982goR0y22:level%2Flevel0285.jsonR2i2381R3R87R5R983goR0y22:level%2Flevel0286.jsonR2i1792R3R87R5R984goR0y22:level%2Flevel0287.jsonR2i1639R3R87R5R985goR0y22:level%2Flevel0288.jsonR2i1725R3R87R5R986goR0y22:level%2Flevel0289.jsonR2i2122R3R87R5R987goR0y22:level%2Flevel0290.jsonR2i1844R3R87R5R988goR0y22:level%2Flevel0291.jsonR2i2305R3R87R5R989goR0y22:level%2Flevel0292.jsonR2i2471R3R87R5R990goR0y22:level%2Flevel0293.jsonR2i2056R3R87R5R991goR0y22:level%2Flevel0294.jsonR2i2166R3R87R5R992goR0y22:level%2Flevel0295.jsonR2i1758R3R87R5R993goR0y22:level%2Flevel0296.jsonR2i2079R3R87R5R994goR0y22:level%2Flevel0297.jsonR2i1840R3R87R5R995goR0y22:level%2Flevel0298.jsonR2i2035R3R87R5R996goR0y22:level%2Flevel0299.jsonR2i2522R3R87R5R997goR0y22:level%2Flevel0300.jsonR2i2422R3R87R5R998goR0y22:level%2Flevel0301.jsonR2i1377R3R87R5R999goR0y22:level%2Flevel0302.jsonR2i2474R3R87R5R1000goR0y22:level%2Flevel0303.jsonR2i2437R3R87R5R1001goR0y22:level%2Flevel0304.jsonR2i2280R3R87R5R1002goR0y22:level%2Flevel0305.jsonR2i2970R3R87R5R1003goR0y22:level%2Flevel0306.jsonR2i2961R3R87R5R1004goR0y22:level%2Flevel0307.jsonR2i2798R3R87R5R1005goR0y22:level%2Flevel0308.jsonR2i2817R3R87R5R1006goR0y22:level%2Flevel0309.jsonR2i1941R3R87R5R1007goR0y22:level%2Flevel0310.jsonR2i3153R3R87R5R1008goR0y22:level%2Flevel0311.jsonR2i2907R3R87R5R1009goR0y22:level%2Flevel0312.jsonR2i2579R3R87R5R1010goR0y22:level%2Flevel0313.jsonR2i2277R3R87R5R1011goR0y22:level%2Flevel0314.jsonR2i2565R3R87R5R1012goR0y22:level%2Flevel0315.jsonR2i2637R3R87R5R1013goR0y22:level%2Flevel0316.jsonR2i2263R3R87R5R1014goR0y22:level%2Flevel0317.jsonR2i2166R3R87R5R1015goR0y22:level%2Flevel0318.jsonR2i2247R3R87R5R1016goR0y22:level%2Flevel0319.jsonR2i2407R3R87R5R1017goR0y22:level%2Flevel0320.jsonR2i2598R3R87R5R1018goR0y22:level%2Flevel0321.jsonR2i2865R3R87R5R1019goR0y22:level%2Flevel0322.jsonR2i2480R3R87R5R1020goR0y22:level%2Flevel0323.jsonR2i2838R3R87R5R1021goR0y22:level%2Flevel0324.jsonR2i2269R3R87R5R1022goR0y22:level%2Flevel0325.jsonR2i2877R3R87R5R1023goR0y22:level%2Flevel0326.jsonR2i2494R3R87R5R1024goR0y22:level%2Flevel0327.jsonR2i3028R3R87R5R1025goR0y22:level%2Flevel0328.jsonR2i2671R3R87R5R1026goR0y22:level%2Flevel0329.jsonR2i3221R3R87R5R1027goR0y22:level%2Flevel0330.jsonR2i2795R3R87R5R1028goR0y22:level%2Flevel0331.jsonR2i2615R3R87R5R1029goR0y22:level%2Flevel0332.jsonR2i2655R3R87R5R1030goR0y22:level%2Flevel0333.jsonR2i2746R3R87R5R1031goR0y22:level%2Flevel0334.jsonR2i2780R3R87R5R1032goR0y22:level%2Flevel0335.jsonR2i2329R3R87R5R1033goR0y22:level%2Flevel0336.jsonR2i2358R3R87R5R1034goR0y22:level%2Flevel0337.jsonR2i2347R3R87R5R1035goR0y22:level%2Flevel0338.jsonR2i2394R3R87R5R1036goR0y22:level%2Flevel0339.jsonR2i1925R3R87R5R1037goR0y22:level%2Flevel0340.jsonR2i2257R3R87R5R1038goR0y22:level%2Flevel0341.jsonR2i2643R3R87R5R1039goR0y22:level%2Flevel0342.jsonR2i2209R3R87R5R1040goR0y22:level%2Flevel0343.jsonR2i1912R3R87R5R1041goR0y22:level%2Flevel0344.jsonR2i1934R3R87R5R1042goR0y22:level%2Flevel0345.jsonR2i2087R3R87R5R1043goR0y22:level%2Flevel0346.jsonR2i2030R3R87R5R1044goR0y22:level%2Flevel0347.jsonR2i1878R3R87R5R1045goR0y22:level%2Flevel0348.jsonR2i2118R3R87R5R1046goR0y22:level%2Flevel0349.jsonR2i2222R3R87R5R1047goR0y22:level%2Flevel0350.jsonR2i2296R3R87R5R1048goR0y22:level%2Flevel0351.jsonR2i2203R3R87R5R1049goR0y22:level%2Flevel0352.jsonR2i2251R3R87R5R1050goR0y22:level%2Flevel0353.jsonR2i1886R3R87R5R1051goR0y22:level%2Flevel0354.jsonR2i2238R3R87R5R1052goR0y22:level%2Flevel0355.jsonR2i1973R3R87R5R1053goR0y22:level%2Flevel0356.jsonR2i1911R3R87R5R1054goR0y22:level%2Flevel0357.jsonR2i2345R3R87R5R1055goR0y22:level%2Flevel0358.jsonR2i1995R3R87R5R1056goR0y22:level%2Flevel0359.jsonR2i1991R3R87R5R1057goR0y22:level%2Flevel0360.jsonR2i1993R3R87R5R1058goR0y22:level%2Flevel0361.jsonR2i2168R3R87R5R1059goR0y22:level%2Flevel0362.jsonR2i1382R3R87R5R1060goR0y22:level%2Flevel0363.jsonR2i1689R3R87R5R1061goR0y22:level%2Flevel0364.jsonR2i2471R3R87R5R1062goR0y22:level%2Flevel0365.jsonR2i2051R3R87R5R1063goR0y22:level%2Flevel0366.jsonR2i2042R3R87R5R1064goR0y22:level%2Flevel0367.jsonR2i2122R3R87R5R1065goR0y22:level%2Flevel0368.jsonR2i2324R3R87R5R1066goR0y22:level%2Flevel0369.jsonR2i2222R3R87R5R1067goR0y22:level%2Flevel0370.jsonR2i1890R3R87R5R1068goR0y22:level%2Flevel0371.jsonR2i1910R3R87R5R1069goR0y22:level%2Flevel0372.jsonR2i2487R3R87R5R1070goR0y22:level%2Flevel0373.jsonR2i1919R3R87R5R1071goR0y22:level%2Flevel0374.jsonR2i2238R3R87R5R1072goR0y22:level%2Flevel0375.jsonR2i1858R3R87R5R1073goR0y22:level%2Flevel0376.jsonR2i1689R3R87R5R1074goR0y22:level%2Flevel0377.jsonR2i1311R3R87R5R1075goR0y22:level%2Flevel0378.jsonR2i1868R3R87R5R1076goR0y22:level%2Flevel0379.jsonR2i2059R3R87R5R1077goR0y22:level%2Flevel0380.jsonR2i2102R3R87R5R1078goR0y22:level%2Flevel0381.jsonR2i2163R3R87R5R1079goR0y22:level%2Flevel0382.jsonR2i1759R3R87R5R1080goR0y22:level%2Flevel0383.jsonR2i1840R3R87R5R1081goR0y22:level%2Flevel0384.jsonR2i2765R3R87R5R1082goR0y22:level%2Flevel0385.jsonR2i1926R3R87R5R1083goR0y22:level%2Flevel0386.jsonR2i1961R3R87R5R1084goR0y22:level%2Flevel0387.jsonR2i2036R3R87R5R1085goR0y22:level%2Flevel0388.jsonR2i1925R3R87R5R1086goR0y22:level%2Flevel0389.jsonR2i2710R3R87R5R1087goR0y22:level%2Flevel0390.jsonR2i1927R3R87R5R1088goR0y22:level%2Flevel0391.jsonR2i2328R3R87R5R1089goR0y22:level%2Flevel0392.jsonR2i2138R3R87R5R1090goR0y22:level%2Flevel0393.jsonR2i1992R3R87R5R1091goR0y22:level%2Flevel0394.jsonR2i2322R3R87R5R1092goR0y22:level%2Flevel0395.jsonR2i2022R3R87R5R1093goR0y22:level%2Flevel0396.jsonR2i2025R3R87R5R1094goR0y22:level%2Flevel0397.jsonR2i1809R3R87R5R1095goR0y22:level%2Flevel0398.jsonR2i1728R3R87R5R1096goR0y22:level%2Flevel0399.jsonR2i1958R3R87R5R1097goR0y22:level%2Flevel0400.jsonR2i2324R3R87R5R1098goR0y22:level%2Flevel0401.jsonR2i2566R3R87R5R1099goR0y22:level%2Flevel0402.jsonR2i2633R3R87R5R1100goR0y22:level%2Flevel0403.jsonR2i1788R3R87R5R1101goR0y22:level%2Flevel0404.jsonR2i2290R3R87R5R1102goR0y22:level%2Flevel0405.jsonR2i2925R3R87R5R1103goR0y22:level%2Flevel0406.jsonR2i2540R3R87R5R1104goR0y22:level%2Flevel0407.jsonR2i2323R3R87R5R1105goR0y22:level%2Flevel0408.jsonR2i2372R3R87R5R1106goR0y22:level%2Flevel0409.jsonR2i2675R3R87R5R1107goR0y22:level%2Flevel0410.jsonR2i2332R3R87R5R1108goR0y22:level%2Flevel0411.jsonR2i2473R3R87R5R1109goR0y22:level%2Flevel0412.jsonR2i2066R3R87R5R1110goR0y22:level%2Flevel0413.jsonR2i2535R3R87R5R1111goR0y22:level%2Flevel0414.jsonR2i2792R3R87R5R1112goR0y22:level%2Flevel0415.jsonR2i2337R3R87R5R1113goR0y22:level%2Flevel0416.jsonR2i3359R3R87R5R1114goR0y22:level%2Flevel0417.jsonR2i3016R3R87R5R1115goR0y22:level%2Flevel0418.jsonR2i2250R3R87R5R1116goR0y22:level%2Flevel0419.jsonR2i2557R3R87R5R1117goR0y22:level%2Flevel0420.jsonR2i2288R3R87R5R1118goR0y22:level%2Flevel0421.jsonR2i2535R3R87R5R1119goR0y22:level%2Flevel0422.jsonR2i3129R3R87R5R1120goR0y22:level%2Flevel0423.jsonR2i2044R3R87R5R1121goR0y22:level%2Flevel0424.jsonR2i2575R3R87R5R1122goR0y22:level%2Flevel0425.jsonR2i1978R3R87R5R1123goR0y22:level%2Flevel0426.jsonR2i1597R3R87R5R1124goR0y22:level%2Flevel0427.jsonR2i2763R3R87R5R1125goR0y22:level%2Flevel0428.jsonR2i2941R3R87R5R1126goR0y22:level%2Flevel0429.jsonR2i2296R3R87R5R1127goR0y22:level%2Flevel0430.jsonR2i2120R3R87R5R1128goR0y22:level%2Flevel0431.jsonR2i2599R3R87R5R1129goR0y22:level%2Flevel0432.jsonR2i3278R3R87R5R1130goR0y22:level%2Flevel0433.jsonR2i2409R3R87R5R1131goR0y22:level%2Flevel0434.jsonR2i2643R3R87R5R1132goR0y22:level%2Flevel0435.jsonR2i2111R3R87R5R1133goR0y22:level%2Flevel0436.jsonR2i2427R3R87R5R1134goR0y22:level%2Flevel0437.jsonR2i2978R3R87R5R1135goR0y22:level%2Flevel0438.jsonR2i2581R3R87R5R1136goR0y22:level%2Flevel0439.jsonR2i2634R3R87R5R1137goR0y22:level%2Flevel0440.jsonR2i2389R3R87R5R1138goR0y22:level%2Flevel0441.jsonR2i1990R3R87R5R1139goR0y22:level%2Flevel0442.jsonR2i2334R3R87R5R1140goR0y22:level%2Flevel0443.jsonR2i2189R3R87R5R1141goR0y22:level%2Flevel0444.jsonR2i2592R3R87R5R1142goR0y22:level%2Flevel0445.jsonR2i2215R3R87R5R1143goR0y22:level%2Flevel0446.jsonR2i2314R3R87R5R1144goR0y22:level%2Flevel0447.jsonR2i3031R3R87R5R1145goR0y22:level%2Flevel0448.jsonR2i2595R3R87R5R1146goR0y22:level%2Flevel0449.jsonR2i2797R3R87R5R1147goR0y22:level%2Flevel0450.jsonR2i2296R3R87R5R1148goR0y22:level%2Flevel0451.jsonR2i2558R3R87R5R1149goR0y22:level%2Flevel0452.jsonR2i2049R3R87R5R1150goR0y22:level%2Flevel0453.jsonR2i2229R3R87R5R1151goR0y22:level%2Flevel0454.jsonR2i1773R3R87R5R1152goR0y22:level%2Flevel0455.jsonR2i1851R3R87R5R1153goR0y22:level%2Flevel0456.jsonR2i1568R3R87R5R1154goR0y22:level%2Flevel0457.jsonR2i2266R3R87R5R1155goR0y22:level%2Flevel0458.jsonR2i1714R3R87R5R1156goR0y22:level%2Flevel0459.jsonR2i2042R3R87R5R1157goR0y22:level%2Flevel0460.jsonR2i1918R3R87R5R1158goR0y22:level%2Flevel0461.jsonR2i1333R3R87R5R1159goR0y22:level%2Flevel0462.jsonR2i2126R3R87R5R1160goR0y22:level%2Flevel0463.jsonR2i1566R3R87R5R1161goR0y22:level%2Flevel0464.jsonR2i2306R3R87R5R1162goR0y22:level%2Flevel0465.jsonR2i2143R3R87R5R1163goR0y22:level%2Flevel0466.jsonR2i2153R3R87R5R1164goR0y22:level%2Flevel0467.jsonR2i2077R3R87R5R1165goR0y22:level%2Flevel0468.jsonR2i1918R3R87R5R1166goR0y22:level%2Flevel0469.jsonR2i1744R3R87R5R1167goR0y22:level%2Flevel0470.jsonR2i1759R3R87R5R1168goR0y22:level%2Flevel0471.jsonR2i2408R3R87R5R1169goR0y22:level%2Flevel0472.jsonR2i1961R3R87R5R1170goR0y22:level%2Flevel0473.jsonR2i1844R3R87R5R1171goR0y22:level%2Flevel0474.jsonR2i1619R3R87R5R1172goR0y22:level%2Flevel0475.jsonR2i1808R3R87R5R1173goR0y22:level%2Flevel0476.jsonR2i1467R3R87R5R1174goR0y22:level%2Flevel0477.jsonR2i2041R3R87R5R1175goR0y22:level%2Flevel0478.jsonR2i1863R3R87R5R1176goR0y22:level%2Flevel0479.jsonR2i1922R3R87R5R1177goR0y22:level%2Flevel0480.jsonR2i1996R3R87R5R1178goR0y22:level%2Flevel0481.jsonR2i1814R3R87R5R1179goR0y22:level%2Flevel0482.jsonR2i2011R3R87R5R1180goR0y22:level%2Flevel0483.jsonR2i1870R3R87R5R1181goR0y22:level%2Flevel0484.jsonR2i2155R3R87R5R1182goR0y22:level%2Flevel0485.jsonR2i1946R3R87R5R1183goR0y22:level%2Flevel0486.jsonR2i2152R3R87R5R1184goR0y22:level%2Flevel0487.jsonR2i1915R3R87R5R1185goR0y22:level%2Flevel0488.jsonR2i2081R3R87R5R1186goR0y22:level%2Flevel0489.jsonR2i2385R3R87R5R1187goR0y22:level%2Flevel0490.jsonR2i1648R3R87R5R1188goR0y22:level%2Flevel0491.jsonR2i2183R3R87R5R1189goR0y22:level%2Flevel0492.jsonR2i2065R3R87R5R1190goR0y22:level%2Flevel0493.jsonR2i2672R3R87R5R1191goR0y22:level%2Flevel0494.jsonR2i2037R3R87R5R1192goR0y22:level%2Flevel0495.jsonR2i1832R3R87R5R1193goR0y22:level%2Flevel0496.jsonR2i2075R3R87R5R1194goR0y22:level%2Flevel0497.jsonR2i2056R3R87R5R1195goR0y22:level%2Flevel0498.jsonR2i2127R3R87R5R1196goR0y22:level%2Flevel0499.jsonR2i2436R3R87R5R1197goR0y22:level%2Flevel0500.jsonR2i2087R3R87R5R1198goR0y22:level%2Flevel0501.jsonR2i2429R3R87R5R1199goR0y22:level%2Flevel0502.jsonR2i2531R3R87R5R1200goR0y22:level%2Flevel0503.jsonR2i2922R3R87R5R1201goR0y22:level%2Flevel0504.jsonR2i1991R3R87R5R1202goR0y22:level%2Flevel0505.jsonR2i2327R3R87R5R1203goR0y22:level%2Flevel0506.jsonR2i2302R3R87R5R1204goR0y22:level%2Flevel0507.jsonR2i2573R3R87R5R1205goR0y22:level%2Flevel0508.jsonR2i2675R3R87R5R1206goR0y22:level%2Flevel0509.jsonR2i3426R3R87R5R1207goR0y22:level%2Flevel0510.jsonR2i2348R3R87R5R1208goR0y22:level%2Flevel0511.jsonR2i2570R3R87R5R1209goR0y22:level%2Flevel0512.jsonR2i2439R3R87R5R1210goR0y22:level%2Flevel0513.jsonR2i2874R3R87R5R1211goR0y22:level%2Flevel0514.jsonR2i2706R3R87R5R1212goR0y22:level%2Flevel0515.jsonR2i2403R3R87R5R1213goR0y22:level%2Flevel0516.jsonR2i2513R3R87R5R1214goR0y22:level%2Flevel0517.jsonR2i3076R3R87R5R1215goR0y22:level%2Flevel0518.jsonR2i2875R3R87R5R1216goR0y22:level%2Flevel0519.jsonR2i2295R3R87R5R1217goR0y22:level%2Flevel0520.jsonR2i2502R3R87R5R1218goR0y22:level%2Flevel0521.jsonR2i2492R3R87R5R1219goR0y22:level%2Flevel0522.jsonR2i2427R3R87R5R1220goR0y22:level%2Flevel0523.jsonR2i1862R3R87R5R1221goR0y22:level%2Flevel0524.jsonR2i2004R3R87R5R1222goR0y22:level%2Flevel0525.jsonR2i1209R3R87R5R1223goR0y22:level%2Flevel0526.jsonR2i1424R3R87R5R1224goR0y22:level%2Flevel0527.jsonR2i1650R3R87R5R1225goR0y22:level%2Flevel0528.jsonR2i1683R3R87R5R1226goR0y22:level%2Flevel0529.jsonR2i1742R3R87R5R1227goR0y22:level%2Flevel0530.jsonR2i1588R3R87R5R1228goR0y22:level%2Flevel0531.jsonR2i1392R3R87R5R1229goR0y22:level%2Flevel0532.jsonR2i1769R3R87R5R1230goR0y22:level%2Flevel0533.jsonR2i1146R3R87R5R1231goR0y22:level%2Flevel0534.jsonR2i1915R3R87R5R1232goR0y22:level%2Flevel0535.jsonR2i1537R3R87R5R1233goR0y22:level%2Flevel0536.jsonR2i1481R3R87R5R1234goR0y22:level%2Flevel0537.jsonR2i2013R3R87R5R1235goR0y22:level%2Flevel0538.jsonR2i1736R3R87R5R1236goR0y22:level%2Flevel0539.jsonR2i1507R3R87R5R1237goR0y22:level%2Flevel0540.jsonR2i1646R3R87R5R1238goR0y22:level%2Flevel0541.jsonR2i1413R3R87R5R1239goR0y22:level%2Flevel0542.jsonR2i1176R3R87R5R1240goR0y22:level%2Flevel0543.jsonR2i1203R3R87R5R1241goR0y22:level%2Flevel0544.jsonR2i1694R3R87R5R1242goR0y22:level%2Flevel0545.jsonR2i1611R3R87R5R1243goR0y22:level%2Flevel0546.jsonR2i1658R3R87R5R1244goR0y22:level%2Flevel0547.jsonR2i1164R3R87R5R1245goR0y22:level%2Flevel0548.jsonR2i1271R3R87R5R1246goR0y22:level%2Flevel0549.jsonR2i1378R3R87R5R1247goR0y22:level%2Flevel0550.jsonR2i2761R3R87R5R1248goR0y22:level%2Flevel0551.jsonR2i1626R3R87R5R1249goR0y22:level%2Flevel0552.jsonR2i1761R3R87R5R1250goR0y22:level%2Flevel0553.jsonR2i1706R3R87R5R1251goR0y22:level%2Flevel0554.jsonR2i1769R3R87R5R1252goR0y22:level%2Flevel0555.jsonR2i1705R3R87R5R1253goR0y22:level%2Flevel0556.jsonR2i1919R3R87R5R1254goR0y22:level%2Flevel0557.jsonR2i1739R3R87R5R1255goR0y22:level%2Flevel0558.jsonR2i1896R3R87R5R1256goR0y22:level%2Flevel0559.jsonR2i1523R3R87R5R1257goR0y22:level%2Flevel0560.jsonR2i2093R3R87R5R1258goR0y22:level%2Flevel0561.jsonR2i1747R3R87R5R1259goR0y22:level%2Flevel0562.jsonR2i2146R3R87R5R1260goR0y22:level%2Flevel0563.jsonR2i2098R3R87R5R1261goR0y22:level%2Flevel0564.jsonR2i2130R3R87R5R1262goR0y22:level%2Flevel0565.jsonR2i1922R3R87R5R1263goR0y22:level%2Flevel0566.jsonR2i1899R3R87R5R1264goR0y22:level%2Flevel0567.jsonR2i1760R3R87R5R1265goR0y22:level%2Flevel0568.jsonR2i1950R3R87R5R1266goR0y22:level%2Flevel0569.jsonR2i2191R3R87R5R1267goR0y22:level%2Flevel0570.jsonR2i2181R3R87R5R1268goR0y22:level%2Flevel0571.jsonR2i1973R3R87R5R1269goR0y22:level%2Flevel0572.jsonR2i1850R3R87R5R1270goR0y22:level%2Flevel0573.jsonR2i2189R3R87R5R1271goR0y22:level%2Flevel0574.jsonR2i2299R3R87R5R1272goR0y22:level%2Flevel0575.jsonR2i2070R3R87R5R1273goR0y22:level%2Flevel0576.jsonR2i1724R3R87R5R1274goR0y22:level%2Flevel0577.jsonR2i1531R3R87R5R1275goR0y22:level%2Flevel0578.jsonR2i1684R3R87R5R1276goR0y22:level%2Flevel0579.jsonR2i1688R3R87R5R1277goR0y22:level%2Flevel0580.jsonR2i2175R3R87R5R1278goR0y22:level%2Flevel0581.jsonR2i1906R3R87R5R1279goR0y22:level%2Flevel0582.jsonR2i1989R3R87R5R1280goR0y22:level%2Flevel0583.jsonR2i1834R3R87R5R1281goR0y22:level%2Flevel0584.jsonR2i2199R3R87R5R1282goR0y22:level%2Flevel0585.jsonR2i1763R3R87R5R1283goR0y22:level%2Flevel0586.jsonR2i2081R3R87R5R1284goR0y22:level%2Flevel0587.jsonR2i1420R3R87R5R1285goR0y22:level%2Flevel0588.jsonR2i1827R3R87R5R1286goR0y22:level%2Flevel0589.jsonR2i1729R3R87R5R1287goR0y22:level%2Flevel0590.jsonR2i2109R3R87R5R1288goR0y22:level%2Flevel0591.jsonR2i2003R3R87R5R1289goR0y22:level%2Flevel0592.jsonR2i1835R3R87R5R1290goR0y22:level%2Flevel0593.jsonR2i1847R3R87R5R1291goR0y22:level%2Flevel0594.jsonR2i1988R3R87R5R1292goR0y22:level%2Flevel0595.jsonR2i1650R3R87R5R1293goR0y22:level%2Flevel0596.jsonR2i2373R3R87R5R1294goR0y22:level%2Flevel0597.jsonR2i1433R3R87R5R1295goR0y22:level%2Flevel0598.jsonR2i1808R3R87R5R1296goR0y22:level%2Flevel0599.jsonR2i1807R3R87R5R1297goR0y22:level%2Flevel0600.jsonR2i1886R3R87R5R1298goR0y22:level%2Flevel0601.jsonR2i2173R3R87R5R1299goR0y22:level%2Flevel0602.jsonR2i1914R3R87R5R1300goR0y22:level%2Flevel0603.jsonR2i1947R3R87R5R1301goR0y22:level%2Flevel0604.jsonR2i1925R3R87R5R1302goR0y22:level%2Flevel0605.jsonR2i1674R3R87R5R1303goR0y22:level%2Flevel0606.jsonR2i1886R3R87R5R1304goR0y22:level%2Flevel0607.jsonR2i2076R3R87R5R1305goR0y22:level%2Flevel0608.jsonR2i1735R3R87R5R1306goR0y22:level%2Flevel0609.jsonR2i2213R3R87R5R1307goR0y22:level%2Flevel0610.jsonR2i2037R3R87R5R1308goR0y22:level%2Flevel0611.jsonR2i1926R3R87R5R1309goR0y22:level%2Flevel0612.jsonR2i1700R3R87R5R1310goR0y22:level%2Flevel0613.jsonR2i1905R3R87R5R1311goR0y22:level%2Flevel0614.jsonR2i2008R3R87R5R1312goR0y22:level%2Flevel0615.jsonR2i1832R3R87R5R1313goR0y22:level%2Flevel0616.jsonR2i1913R3R87R5R1314goR0y22:level%2Flevel0617.jsonR2i2167R3R87R5R1315goR0y22:level%2Flevel0618.jsonR2i1756R3R87R5R1316goR0y22:level%2Flevel0619.jsonR2i1804R3R87R5R1317goR0y22:level%2Flevel0620.jsonR2i1762R3R87R5R1318goR0y22:level%2Flevel0621.jsonR2i1594R3R87R5R1319goR0y22:level%2Flevel0622.jsonR2i2698R3R87R5R1320goR0y22:level%2Flevel0623.jsonR2i2006R3R87R5R1321goR0y22:level%2Flevel0624.jsonR2i1419R3R87R5R1322goR0y22:level%2Flevel0625.jsonR2i2504R3R87R5R1323goR0y22:level%2Flevel0626.jsonR2i1946R3R87R5R1324goR0y22:level%2Flevel0627.jsonR2i1620R3R87R5R1325goR0y22:level%2Flevel0628.jsonR2i1920R3R87R5R1326goR0y22:level%2Flevel0629.jsonR2i1655R3R87R5R1327goR0y22:level%2Flevel0630.jsonR2i2160R3R87R5R1328goR0y22:level%2Flevel0631.jsonR2i2014R3R87R5R1329goR0y22:level%2Flevel0632.jsonR2i2233R3R87R5R1330goR0y22:level%2Flevel0633.jsonR2i2253R3R87R5R1331goR0y22:level%2Flevel0634.jsonR2i1982R3R87R5R1332goR0y22:level%2Flevel0635.jsonR2i2092R3R87R5R1333goR0y22:level%2Flevel0636.jsonR2i2195R3R87R5R1334goR0y22:level%2Flevel0637.jsonR2i2128R3R87R5R1335goR0y22:level%2Flevel0638.jsonR2i2045R3R87R5R1336goR0y22:level%2Flevel0639.jsonR2i2015R3R87R5R1337goR0y22:level%2Flevel0640.jsonR2i1813R3R87R5R1338goR0y22:level%2Flevel0641.jsonR2i2106R3R87R5R1339goR0y22:level%2Flevel0642.jsonR2i1718R3R87R5R1340goR0y22:level%2Flevel0643.jsonR2i2558R3R87R5R1341goR0y22:level%2Flevel0644.jsonR2i1830R3R87R5R1342goR0y22:level%2Flevel0645.jsonR2i2022R3R87R5R1343goR0y22:level%2Flevel0646.jsonR2i1974R3R87R5R1344goR0y22:level%2Flevel0647.jsonR2i2259R3R87R5R1345goR0y22:level%2Flevel0648.jsonR2i2307R3R87R5R1346goR0y22:level%2Flevel0649.jsonR2i2320R3R87R5R1347goR0y22:level%2Flevel0650.jsonR2i2198R3R87R5R1348goR0y22:level%2Flevel0651.jsonR2i1997R3R87R5R1349goR0y22:level%2Flevel0652.jsonR2i2145R3R87R5R1350goR0y22:level%2Flevel0653.jsonR2i2199R3R87R5R1351goR0y22:level%2Flevel0654.jsonR2i2028R3R87R5R1352goR0y22:level%2Flevel0655.jsonR2i2066R3R87R5R1353goR0y22:level%2Flevel0656.jsonR2i2050R3R87R5R1354goR0y22:level%2Flevel0657.jsonR2i2276R3R87R5R1355goR0y22:level%2Flevel0658.jsonR2i2485R3R87R5R1356goR0y22:level%2Flevel0659.jsonR2i1934R3R87R5R1357goR0y22:level%2Flevel0660.jsonR2i2233R3R87R5R1358goR0y22:level%2Flevel0661.jsonR2i2157R3R87R5R1359goR0y22:level%2Flevel0662.jsonR2i2045R3R87R5R1360goR0y22:level%2Flevel0663.jsonR2i2021R3R87R5R1361goR0y22:level%2Flevel0664.jsonR2i2134R3R87R5R1362goR0y22:level%2Flevel0665.jsonR2i2016R3R87R5R1363goR0y22:level%2Flevel0666.jsonR2i2051R3R87R5R1364goR0y22:level%2Flevel0667.jsonR2i1928R3R87R5R1365goR0y22:level%2Flevel0668.jsonR2i2141R3R87R5R1366goR0y22:level%2Flevel0669.jsonR2i2216R3R87R5R1367goR0y22:level%2Flevel0670.jsonR2i2379R3R87R5R1368goR0y22:level%2Flevel0671.jsonR2i2453R3R87R5R1369goR0y22:level%2Flevel0672.jsonR2i2506R3R87R5R1370goR0y22:level%2Flevel0673.jsonR2i2295R3R87R5R1371goR0y22:level%2Flevel0674.jsonR2i2385R3R87R5R1372goR0y22:level%2Flevel0675.jsonR2i2311R3R87R5R1373goR0y22:level%2Flevel0676.jsonR2i2217R3R87R5R1374goR0y22:level%2Flevel0677.jsonR2i2051R3R87R5R1375goR0y22:level%2Flevel0678.jsonR2i2608R3R87R5R1376goR0y22:level%2Flevel0679.jsonR2i2505R3R87R5R1377goR0y22:level%2Flevel0680.jsonR2i2533R3R87R5R1378goR0y22:level%2Flevel0681.jsonR2i2414R3R87R5R1379goR0y22:level%2Flevel0682.jsonR2i1848R3R87R5R1380goR0y22:level%2Flevel0683.jsonR2i2148R3R87R5R1381goR0y22:level%2Flevel0684.jsonR2i2279R3R87R5R1382goR0y22:level%2Flevel0685.jsonR2i2235R3R87R5R1383goR0y22:level%2Flevel0686.jsonR2i2258R3R87R5R1384goR0y22:level%2Flevel0687.jsonR2i2314R3R87R5R1385goR0y22:level%2Flevel0688.jsonR2i1556R3R87R5R1386goR0y22:level%2Flevel0689.jsonR2i1786R3R87R5R1387goR0y22:level%2Flevel0690.jsonR2i2072R3R87R5R1388goR0y22:level%2Flevel0691.jsonR2i1917R3R87R5R1389goR0y22:level%2Flevel0692.jsonR2i2020R3R87R5R1390goR0y22:level%2Flevel0693.jsonR2i2101R3R87R5R1391goR0y22:level%2Flevel0694.jsonR2i1944R3R87R5R1392goR0y22:level%2Flevel0695.jsonR2i2109R3R87R5R1393goR0y22:level%2Flevel0696.jsonR2i2079R3R87R5R1394goR0y22:level%2Flevel0697.jsonR2i1862R3R87R5R1395goR0y22:level%2Flevel0698.jsonR2i1864R3R87R5R1396goR0y22:level%2Flevel0699.jsonR2i2058R3R87R5R1397goR0y22:level%2Flevel0700.jsonR2i2410R3R87R5R1398goR0y22:level%2Flevel0701.jsonR2i2216R3R87R5R1399goR0y22:level%2Flevel0702.jsonR2i1866R3R87R5R1400goR0y22:level%2Flevel0703.jsonR2i2041R3R87R5R1401goR0y22:level%2Flevel0704.jsonR2i2367R3R87R5R1402goR0y22:level%2Flevel0705.jsonR2i1917R3R87R5R1403goR0y22:level%2Flevel0706.jsonR2i1752R3R87R5R1404goR0y22:level%2Flevel0707.jsonR2i2072R3R87R5R1405goR0y22:level%2Flevel0708.jsonR2i2521R3R87R5R1406goR0y22:level%2Flevel0709.jsonR2i1944R3R87R5R1407goR0y22:level%2Flevel0710.jsonR2i2996R3R87R5R1408goR0y22:level%2Flevel0711.jsonR2i1794R3R87R5R1409goR0y22:level%2Flevel0712.jsonR2i2227R3R87R5R1410goR0y22:level%2Flevel0713.jsonR2i2259R3R87R5R1411goR0y22:level%2Flevel0714.jsonR2i2430R3R87R5R1412goR0y22:level%2Flevel0715.jsonR2i2597R3R87R5R1413goR0y22:level%2Flevel0716.jsonR2i2217R3R87R5R1414goR0y22:level%2Flevel0717.jsonR2i2062R3R87R5R1415goR0y22:level%2Flevel0718.jsonR2i2218R3R87R5R1416goR0y22:level%2Flevel0719.jsonR2i2529R3R87R5R1417goR0y22:level%2Flevel0720.jsonR2i2218R3R87R5R1418goR0y22:level%2Flevel0721.jsonR2i2064R3R87R5R1419goR0y22:level%2Flevel0722.jsonR2i2120R3R87R5R1420goR0y22:level%2Flevel0723.jsonR2i2542R3R87R5R1421goR0y22:level%2Flevel0724.jsonR2i1832R3R87R5R1422goR0y22:level%2Flevel0725.jsonR2i2012R3R87R5R1423goR0y22:level%2Flevel0726.jsonR2i2354R3R87R5R1424goR0y22:level%2Flevel0727.jsonR2i2550R3R87R5R1425goR0y22:level%2Flevel0728.jsonR2i2082R3R87R5R1426goR0y22:level%2Flevel0729.jsonR2i2097R3R87R5R1427goR0y22:level%2Flevel0730.jsonR2i2106R3R87R5R1428goR0y22:level%2Flevel0731.jsonR2i1923R3R87R5R1429goR0y22:level%2Flevel0732.jsonR2i2087R3R87R5R1430goR0y22:level%2Flevel0733.jsonR2i2236R3R87R5R1431goR0y22:level%2Flevel0734.jsonR2i2055R3R87R5R1432goR0y22:level%2Flevel0735.jsonR2i2202R3R87R5R1433goR0y22:level%2Flevel0736.jsonR2i2606R3R87R5R1434goR0y22:level%2Flevel0737.jsonR2i2120R3R87R5R1435goR0y22:level%2Flevel0738.jsonR2i2449R3R87R5R1436goR0y22:level%2Flevel0739.jsonR2i2311R3R87R5R1437goR0y22:level%2Flevel0740.jsonR2i2306R3R87R5R1438goR0y22:level%2Flevel0741.jsonR2i1943R3R87R5R1439goR0y22:level%2Flevel0742.jsonR2i2342R3R87R5R1440goR0y22:level%2Flevel0743.jsonR2i2355R3R87R5R1441goR0y22:level%2Flevel0744.jsonR2i2252R3R87R5R1442goR0y22:level%2Flevel0745.jsonR2i1966R3R87R5R1443goR0y22:level%2Flevel0746.jsonR2i2293R3R87R5R1444goR0y22:level%2Flevel0747.jsonR2i2046R3R87R5R1445goR0y22:level%2Flevel0748.jsonR2i1869R3R87R5R1446goR0y22:level%2Flevel0749.jsonR2i2090R3R87R5R1447goR0y22:level%2Flevel0750.jsonR2i1795R3R87R5R1448goR0y22:level%2Flevel0751.jsonR2i2592R3R87R5R1449goR0y22:level%2Flevel0752.jsonR2i2311R3R87R5R1450goR0y22:level%2Flevel0753.jsonR2i1848R3R87R5R1451goR0y22:level%2Flevel0754.jsonR2i2059R3R87R5R1452goR0y22:level%2Flevel0755.jsonR2i1920R3R87R5R1453goR0y22:level%2Flevel0756.jsonR2i2698R3R87R5R1454goR0y22:level%2Flevel0757.jsonR2i1781R3R87R5R1455goR0y22:level%2Flevel0758.jsonR2i3160R3R87R5R1456goR0y22:level%2Flevel0759.jsonR2i2544R3R87R5R1457goR0y22:level%2Flevel0760.jsonR2i3013R3R87R5R1458goR0y22:level%2Flevel0761.jsonR2i2590R3R87R5R1459goR0y22:level%2Flevel0762.jsonR2i2807R3R87R5R1460goR0y22:level%2Flevel0763.jsonR2i5400R3R87R5R1461goR0y22:level%2Flevel0764.jsonR2i3018R3R87R5R1462goR0y22:level%2Flevel0765.jsonR2i2072R3R87R5R1463goR0y22:level%2Flevel0766.jsonR2i1379R3R87R5R1464goR0y22:level%2Flevel0767.jsonR2i4645R3R87R5R1465goR0y22:level%2Flevel0768.jsonR2i3162R3R87R5R1466goR0y22:level%2Flevel0769.jsonR2i3612R3R87R5R1467goR0y22:level%2Flevel0770.jsonR2i3361R3R87R5R1468goR0y22:level%2Flevel0771.jsonR2i2112R3R87R5R1469goR0y22:level%2Flevel0772.jsonR2i2081R3R87R5R1470goR0y22:level%2Flevel0773.jsonR2i2356R3R87R5R1471goR0y22:level%2Flevel0774.jsonR2i2382R3R87R5R1472goR0y22:level%2Flevel0775.jsonR2i2276R3R87R5R1473goR0y22:level%2Flevel0776.jsonR2i1943R3R87R5R1474goR0y22:level%2Flevel0777.jsonR2i2211R3R87R5R1475goR0y22:level%2Flevel0778.jsonR2i2620R3R87R5R1476goR0y22:level%2Flevel0779.jsonR2i2465R3R87R5R1477goR0y22:level%2Flevel0780.jsonR2i2195R3R87R5R1478goR0y22:level%2Flevel0781.jsonR2i2359R3R87R5R1479goR0y22:level%2Flevel0782.jsonR2i2225R3R87R5R1480goR0y22:level%2Flevel0783.jsonR2i2016R3R87R5R1481goR0y22:level%2Flevel0784.jsonR2i2528R3R87R5R1482goR0y22:level%2Flevel0785.jsonR2i2243R3R87R5R1483goR0y22:level%2Flevel0786.jsonR2i1951R3R87R5R1484goR0y22:level%2Flevel0787.jsonR2i1784R3R87R5R1485goR0y22:level%2Flevel0788.jsonR2i2331R3R87R5R1486goR0y22:level%2Flevel0789.jsonR2i2081R3R87R5R1487goR0y22:level%2Flevel0790.jsonR2i2196R3R87R5R1488goR0y22:level%2Flevel0791.jsonR2i1906R3R87R5R1489goR0y22:level%2Flevel0792.jsonR2i2037R3R87R5R1490goR0y22:level%2Flevel0793.jsonR2i1831R3R87R5R1491goR0y22:level%2Flevel0794.jsonR2i2187R3R87R5R1492goR0y22:level%2Flevel0795.jsonR2i2284R3R87R5R1493goR0y22:level%2Flevel0796.jsonR2i2356R3R87R5R1494goR0y22:level%2Flevel0797.jsonR2i2239R3R87R5R1495goR0y22:level%2Flevel0798.jsonR2i2132R3R87R5R1496goR0y22:level%2Flevel0799.jsonR2i1932R3R87R5R1497goR0y22:level%2Flevel0800.jsonR2i2456R3R87R5R1498goR0y22:level%2Flevel0801.jsonR2i2436R3R87R5R1499goR0y22:level%2Flevel0802.jsonR2i2388R3R87R5R1500goR0y22:level%2Flevel0803.jsonR2i2267R3R87R5R1501goR0y22:level%2Flevel0804.jsonR2i2230R3R87R5R1502goR0y22:level%2Flevel0805.jsonR2i2265R3R87R5R1503goR0y22:level%2Flevel0806.jsonR2i2304R3R87R5R1504goR0y22:level%2Flevel0807.jsonR2i1922R3R87R5R1505goR0y22:level%2Flevel0808.jsonR2i2440R3R87R5R1506goR0y22:level%2Flevel0809.jsonR2i2744R3R87R5R1507goR0y22:level%2Flevel0810.jsonR2i2811R3R87R5R1508goR0y22:level%2Flevel0811.jsonR2i2314R3R87R5R1509goR0y22:level%2Flevel0812.jsonR2i2001R3R87R5R1510goR0y22:level%2Flevel0813.jsonR2i2179R3R87R5R1511goR0y22:level%2Flevel0814.jsonR2i2244R3R87R5R1512goR0y22:level%2Flevel0815.jsonR2i1753R3R87R5R1513goR0y22:level%2Flevel0816.jsonR2i2389R3R87R5R1514goR0y22:level%2Flevel0817.jsonR2i2046R3R87R5R1515goR0y22:level%2Flevel0818.jsonR2i2621R3R87R5R1516goR0y22:level%2Flevel0819.jsonR2i2300R3R87R5R1517goR0y22:level%2Flevel0820.jsonR2i2510R3R87R5R1518goR0y22:level%2Flevel0821.jsonR2i2163R3R87R5R1519goR0y22:level%2Flevel0822.jsonR2i1971R3R87R5R1520goR0y22:level%2Flevel0823.jsonR2i2701R3R87R5R1521goR0y22:level%2Flevel0824.jsonR2i2294R3R87R5R1522goR0y22:level%2Flevel0825.jsonR2i2237R3R87R5R1523goR0y22:level%2Flevel0826.jsonR2i2242R3R87R5R1524goR0y22:level%2Flevel0827.jsonR2i2342R3R87R5R1525goR0y22:level%2Flevel0828.jsonR2i2440R3R87R5R1526goR0y22:level%2Flevel0829.jsonR2i2186R3R87R5R1527goR0y22:level%2Flevel0830.jsonR2i2401R3R87R5R1528goR0y22:level%2Flevel0831.jsonR2i1993R3R87R5R1529goR0y22:level%2Flevel0832.jsonR2i2279R3R87R5R1530goR0y22:level%2Flevel0833.jsonR2i1900R3R87R5R1531goR0y22:level%2Flevel0834.jsonR2i2231R3R87R5R1532goR0y22:level%2Flevel0835.jsonR2i2138R3R87R5R1533goR0y22:level%2Flevel0836.jsonR2i2081R3R87R5R1534goR0y22:level%2Flevel0837.jsonR2i2374R3R87R5R1535goR0y22:level%2Flevel0838.jsonR2i1834R3R87R5R1536goR0y22:level%2Flevel0839.jsonR2i2384R3R87R5R1537goR0y22:level%2Flevel0840.jsonR2i1867R3R87R5R1538goR0y22:level%2Flevel0841.jsonR2i2041R3R87R5R1539goR0y22:level%2Flevel0842.jsonR2i2487R3R87R5R1540goR0y22:level%2Flevel0843.jsonR2i2273R3R87R5R1541goR0y22:level%2Flevel0844.jsonR2i2199R3R87R5R1542goR0y22:level%2Flevel0845.jsonR2i1882R3R87R5R1543goR0y22:level%2Flevel0846.jsonR2i2235R3R87R5R1544goR0y22:level%2Flevel0847.jsonR2i1995R3R87R5R1545goR0y22:level%2Flevel0848.jsonR2i2143R3R87R5R1546goR0y22:level%2Flevel0849.jsonR2i2152R3R87R5R1547goR0y22:level%2Flevel0850.jsonR2i2270R3R87R5R1548goR0y22:level%2Flevel0851.jsonR2i2340R3R87R5R1549goR0y22:level%2Flevel0852.jsonR2i2279R3R87R5R1550goR0y22:level%2Flevel0853.jsonR2i2050R3R87R5R1551goR0y22:level%2Flevel0854.jsonR2i2710R3R87R5R1552goR0y22:level%2Flevel0855.jsonR2i2353R3R87R5R1553goR0y22:level%2Flevel0856.jsonR2i3653R3R87R5R1554goR0y22:level%2Flevel0857.jsonR2i2257R3R87R5R1555goR0y22:level%2Flevel0858.jsonR2i2800R3R87R5R1556goR0y22:level%2Flevel0859.jsonR2i1822R3R87R5R1557goR0y22:level%2Flevel0860.jsonR2i1691R3R87R5R1558goR0y22:level%2Flevel0861.jsonR2i3141R3R87R5R1559goR0y22:level%2Flevel0862.jsonR2i2418R3R87R5R1560goR0y22:level%2Flevel0863.jsonR2i2501R3R87R5R1561goR0y22:level%2Flevel0864.jsonR2i1480R3R87R5R1562goR0y22:level%2Flevel0865.jsonR2i2652R3R87R5R1563goR0y22:level%2Flevel0866.jsonR2i2175R3R87R5R1564goR0y22:level%2Flevel0867.jsonR2i1759R3R87R5R1565goR0y22:level%2Flevel0868.jsonR2i2380R3R87R5R1566goR0y22:level%2Flevel0869.jsonR2i2285R3R87R5R1567goR0y22:level%2Flevel0870.jsonR2i2495R3R87R5R1568goR0y22:level%2Flevel0871.jsonR2i1896R3R87R5R1569goR0y22:level%2Flevel0872.jsonR2i2754R3R87R5R1570goR0y22:level%2Flevel0873.jsonR2i2035R3R87R5R1571goR0y22:level%2Flevel0874.jsonR2i2382R3R87R5R1572goR0y22:level%2Flevel0875.jsonR2i2409R3R87R5R1573goR0y22:level%2Flevel0876.jsonR2i2461R3R87R5R1574goR0y22:level%2Flevel0877.jsonR2i2995R3R87R5R1575goR0y22:level%2Flevel0878.jsonR2i2301R3R87R5R1576goR0y22:level%2Flevel0879.jsonR2i3125R3R87R5R1577goR0y22:level%2Flevel0880.jsonR2i3931R3R87R5R1578goR0y22:level%2Flevel0881.jsonR2i2437R3R87R5R1579goR0y22:level%2Flevel0882.jsonR2i2142R3R87R5R1580goR0y22:level%2Flevel0883.jsonR2i2273R3R87R5R1581goR0y22:level%2Flevel0884.jsonR2i2391R3R87R5R1582goR0y22:level%2Flevel0885.jsonR2i2459R3R87R5R1583goR0y22:level%2Flevel0886.jsonR2i2691R3R87R5R1584goR0y22:level%2Flevel0887.jsonR2i2544R3R87R5R1585goR0y22:level%2Flevel0888.jsonR2i2379R3R87R5R1586goR0y22:level%2Flevel0889.jsonR2i1653R3R87R5R1587goR0y22:level%2Flevel0890.jsonR2i2281R3R87R5R1588goR0y22:level%2Flevel0891.jsonR2i2300R3R87R5R1589goR0y22:level%2Flevel0892.jsonR2i2824R3R87R5R1590goR0y22:level%2Flevel0893.jsonR2i1944R3R87R5R1591goR0y22:level%2Flevel0894.jsonR2i1935R3R87R5R1592goR0y22:level%2Flevel0895.jsonR2i2253R3R87R5R1593goR0y22:level%2Flevel0896.jsonR2i2188R3R87R5R1594goR0y22:level%2Flevel0897.jsonR2i1901R3R87R5R1595goR0y22:level%2Flevel0898.jsonR2i1950R3R87R5R1596goR0y22:level%2Flevel0899.jsonR2i2557R3R87R5R1597goR0y22:level%2Flevel0900.jsonR2i3174R3R87R5R1598goR0y22:level%2Flevel0901.jsonR2i2270R3R87R5R1599goR0y22:level%2Flevel0902.jsonR2i2215R3R87R5R1600goR0y22:level%2Flevel0903.jsonR2i2342R3R87R5R1601goR0y22:level%2Flevel0904.jsonR2i2473R3R87R5R1602goR0y22:level%2Flevel0905.jsonR2i2556R3R87R5R1603goR0y22:level%2Flevel0906.jsonR2i2575R3R87R5R1604goR0y22:level%2Flevel0907.jsonR2i1870R3R87R5R1605goR0y22:level%2Flevel0908.jsonR2i2365R3R87R5R1606goR0y22:level%2Flevel0909.jsonR2i2286R3R87R5R1607goR0y22:level%2Flevel0910.jsonR2i2290R3R87R5R1608goR0y22:level%2Flevel0911.jsonR2i2167R3R87R5R1609goR0y22:level%2Flevel0912.jsonR2i2324R3R87R5R1610goR0y22:level%2Flevel0913.jsonR2i2531R3R87R5R1611goR0y22:level%2Flevel0914.jsonR2i2293R3R87R5R1612goR0y22:level%2Flevel0915.jsonR2i2340R3R87R5R1613goR0y22:level%2Flevel0916.jsonR2i2534R3R87R5R1614goR0y22:level%2Flevel0917.jsonR2i2123R3R87R5R1615goR0y22:level%2Flevel0918.jsonR2i2251R3R87R5R1616goR0y22:level%2Flevel0919.jsonR2i1950R3R87R5R1617goR0y22:level%2Flevel0920.jsonR2i2251R3R87R5R1618goR0y22:level%2Flevel0921.jsonR2i2152R3R87R5R1619goR0y22:level%2Flevel0922.jsonR2i2492R3R87R5R1620goR0y22:level%2Flevel0923.jsonR2i2169R3R87R5R1621goR0y22:level%2Flevel0924.jsonR2i1960R3R87R5R1622goR0y22:level%2Flevel0925.jsonR2i2119R3R87R5R1623goR0y22:level%2Flevel0926.jsonR2i2135R3R87R5R1624goR0y22:level%2Flevel0927.jsonR2i2348R3R87R5R1625goR0y22:level%2Flevel0928.jsonR2i2449R3R87R5R1626goR0y22:level%2Flevel0929.jsonR2i2123R3R87R5R1627goR0y22:level%2Flevel0930.jsonR2i2131R3R87R5R1628goR0y22:level%2Flevel0931.jsonR2i2538R3R87R5R1629goR0y22:level%2Flevel0932.jsonR2i2348R3R87R5R1630goR0y22:level%2Flevel0933.jsonR2i2439R3R87R5R1631goR0y22:level%2Flevel0934.jsonR2i2310R3R87R5R1632goR0y22:level%2Flevel0935.jsonR2i1945R3R87R5R1633goR0y22:level%2Flevel0936.jsonR2i2517R3R87R5R1634goR0y22:level%2Flevel0937.jsonR2i2298R3R87R5R1635goR0y22:level%2Flevel0938.jsonR2i2293R3R87R5R1636goR0y22:level%2Flevel0939.jsonR2i2986R3R87R5R1637goR0y22:level%2Flevel0940.jsonR2i2274R3R87R5R1638goR0y22:level%2Flevel0941.jsonR2i1950R3R87R5R1639goR0y22:level%2Flevel0942.jsonR2i2178R3R87R5R1640goR0y22:level%2Flevel0943.jsonR2i2208R3R87R5R1641goR0y22:level%2Flevel0944.jsonR2i2875R3R87R5R1642goR0y22:level%2Flevel0945.jsonR2i2516R3R87R5R1643goR0y22:level%2Flevel0946.jsonR2i2488R3R87R5R1644goR0y22:level%2Flevel0947.jsonR2i2457R3R87R5R1645goR0y22:level%2Flevel0948.jsonR2i2308R3R87R5R1646goR0y22:level%2Flevel0949.jsonR2i2086R3R87R5R1647goR0y22:level%2Flevel0950.jsonR2i2113R3R87R5R1648goR0y22:level%2Flevel0951.jsonR2i2051R3R87R5R1649goR0y22:level%2Flevel0952.jsonR2i2548R3R87R5R1650goR0y22:level%2Flevel0953.jsonR2i2110R3R87R5R1651goR0y22:level%2Flevel0954.jsonR2i2093R3R87R5R1652goR0y22:level%2Flevel0955.jsonR2i2526R3R87R5R1653goR0y22:level%2Flevel0956.jsonR2i2074R3R87R5R1654goR0y22:level%2Flevel0957.jsonR2i2343R3R87R5R1655goR0y22:level%2Flevel0958.jsonR2i2146R3R87R5R1656goR0y22:level%2Flevel0959.jsonR2i2403R3R87R5R1657goR0y22:level%2Flevel0960.jsonR2i1391R3R87R5R1658goR0y22:level%2Flevel0961.jsonR2i2159R3R87R5R1659goR0y22:level%2Flevel0962.jsonR2i2216R3R87R5R1660goR0y22:level%2Flevel0963.jsonR2i2148R3R87R5R1661goR0y22:level%2Flevel0964.jsonR2i2126R3R87R5R1662goR0y22:level%2Flevel0965.jsonR2i2216R3R87R5R1663goR0y22:level%2Flevel0966.jsonR2i2400R3R87R5R1664goR0y22:level%2Flevel0967.jsonR2i1964R3R87R5R1665goR0y22:level%2Flevel0968.jsonR2i2267R3R87R5R1666goR0y22:level%2Flevel0969.jsonR2i2048R3R87R5R1667goR0y22:level%2Flevel0970.jsonR2i2246R3R87R5R1668goR0y22:level%2Flevel0971.jsonR2i2169R3R87R5R1669goR0y22:level%2Flevel0972.jsonR2i2175R3R87R5R1670goR0y22:level%2Flevel0973.jsonR2i2409R3R87R5R1671goR0y22:level%2Flevel0974.jsonR2i2570R3R87R5R1672goR0y22:level%2Flevel0975.jsonR2i2324R3R87R5R1673goR0y22:level%2Flevel0976.jsonR2i2159R3R87R5R1674goR0y22:level%2Flevel0977.jsonR2i2137R3R87R5R1675goR0y22:level%2Flevel0978.jsonR2i2364R3R87R5R1676goR0y22:level%2Flevel0979.jsonR2i1963R3R87R5R1677goR0y22:level%2Flevel0980.jsonR2i2522R3R87R5R1678goR0y22:level%2Flevel0981.jsonR2i1968R3R87R5R1679goR0y22:level%2Flevel0982.jsonR2i2265R3R87R5R1680goR0y22:level%2Flevel0983.jsonR2i1948R3R87R5R1681goR0y22:level%2Flevel0984.jsonR2i2644R3R87R5R1682goR0y22:level%2Flevel0985.jsonR2i2346R3R87R5R1683goR0y22:level%2Flevel0986.jsonR2i2144R3R87R5R1684goR0y22:level%2Flevel0987.jsonR2i2480R3R87R5R1685goR0y22:level%2Flevel0988.jsonR2i2202R3R87R5R1686goR0y22:level%2Flevel0989.jsonR2i2062R3R87R5R1687goR0y22:level%2Flevel0990.jsonR2i1783R3R87R5R1688goR0y22:level%2Flevel0991.jsonR2i2450R3R87R5R1689goR0y22:level%2Flevel0992.jsonR2i2465R3R87R5R1690goR0y22:level%2Flevel0993.jsonR2i2258R3R87R5R1691goR0y22:level%2Flevel0994.jsonR2i2294R3R87R5R1692goR0y22:level%2Flevel0995.jsonR2i2237R3R87R5R1693goR0y22:level%2Flevel0996.jsonR2i1903R3R87R5R1694goR0y22:level%2Flevel0997.jsonR2i2046R3R87R5R1695goR0y22:level%2Flevel0998.jsonR2i2357R3R87R5R1696goR0y22:level%2Flevel0999.jsonR2i2165R3R87R5R1697goR0y22:level%2Flevel1000.jsonR2i2408R3R87R5R1698goR0y22:level%2Flevel1001.jsonR2i2616R3R87R5R1699goR0y22:level%2Flevel1002.jsonR2i2506R3R87R5R1700goR0y22:level%2Flevel1003.jsonR2i2251R3R87R5R1701goR0y22:level%2Flevel1004.jsonR2i2632R3R87R5R1702goR0y22:level%2Flevel1005.jsonR2i2150R3R87R5R1703goR0y22:level%2Flevel1006.jsonR2i2439R3R87R5R1704goR0y22:level%2Flevel1007.jsonR2i2390R3R87R5R1705goR0y22:level%2Flevel1008.jsonR2i2784R3R87R5R1706goR0y22:level%2Flevel1009.jsonR2i2937R3R87R5R1707goR0y22:level%2Flevel1010.jsonR2i2332R3R87R5R1708goR0y22:level%2Flevel1011.jsonR2i1961R3R87R5R1709goR0y22:level%2Flevel1012.jsonR2i2520R3R87R5R1710goR0y22:level%2Flevel1013.jsonR2i2287R3R87R5R1711goR0y22:level%2Flevel1014.jsonR2i2110R3R87R5R1712goR0y22:level%2Flevel1015.jsonR2i2554R3R87R5R1713goR0y22:level%2Flevel1016.jsonR2i2577R3R87R5R1714goR0y22:level%2Flevel1017.jsonR2i2390R3R87R5R1715goR0y22:level%2Flevel1018.jsonR2i2249R3R87R5R1716goR0y22:level%2Flevel1019.jsonR2i2112R3R87R5R1717goR0y22:level%2Flevel1020.jsonR2i2969R3R87R5R1718goR0y22:level%2Flevel1021.jsonR2i2181R3R87R5R1719goR0y22:level%2Flevel1022.jsonR2i2213R3R87R5R1720goR0y22:level%2Flevel1023.jsonR2i2805R3R87R5R1721goR0y22:level%2Flevel1024.jsonR2i2563R3R87R5R1722goR0y22:level%2Flevel1025.jsonR2i2209R3R87R5R1723goR0y22:level%2Flevel1026.jsonR2i2823R3R87R5R1724goR0y22:level%2Flevel1027.jsonR2i2727R3R87R5R1725goR0y22:level%2Flevel1028.jsonR2i1986R3R87R5R1726goR0y22:level%2Flevel1029.jsonR2i2541R3R87R5R1727goR0y22:level%2Flevel1030.jsonR2i2531R3R87R5R1728goR0y22:level%2Flevel1031.jsonR2i2464R3R87R5R1729goR0y22:level%2Flevel1032.jsonR2i2387R3R87R5R1730goR0y22:level%2Flevel1033.jsonR2i2740R3R87R5R1731goR0y22:level%2Flevel1034.jsonR2i2239R3R87R5R1732goR0y22:level%2Flevel1035.jsonR2i2318R3R87R5R1733goR0y22:level%2Flevel1036.jsonR2i2199R3R87R5R1734goR0y22:level%2Flevel1037.jsonR2i2049R3R87R5R1735goR0y22:level%2Flevel1038.jsonR2i2021R3R87R5R1736goR0y22:level%2Flevel1039.jsonR2i2088R3R87R5R1737goR0y22:level%2Flevel1040.jsonR2i2389R3R87R5R1738goR0y22:level%2Flevel1041.jsonR2i2246R3R87R5R1739goR0y22:level%2Flevel1042.jsonR2i2406R3R87R5R1740goR0y22:level%2Flevel1043.jsonR2i2249R3R87R5R1741goR0y22:level%2Flevel1044.jsonR2i2358R3R87R5R1742goR0y22:level%2Flevel1045.jsonR2i2597R3R87R5R1743goR0y22:level%2Flevel1046.jsonR2i2519R3R87R5R1744goR0y22:level%2Flevel1047.jsonR2i2505R3R87R5R1745goR0y22:level%2Flevel1048.jsonR2i2486R3R87R5R1746goR0y22:level%2Flevel1049.jsonR2i2791R3R87R5R1747goR0y22:level%2Flevel1050.jsonR2i2285R3R87R5R1748goR0y22:level%2Flevel1051.jsonR2i2236R3R87R5R1749goR0y22:level%2Flevel1052.jsonR2i1925R3R87R5R1750goR0y22:level%2Flevel1053.jsonR2i2715R3R87R5R1751goR0y22:level%2Flevel1054.jsonR2i2337R3R87R5R1752goR0y22:level%2Flevel1055.jsonR2i2212R3R87R5R1753goR0y22:level%2Flevel1056.jsonR2i2571R3R87R5R1754goR0y22:level%2Flevel1057.jsonR2i2655R3R87R5R1755goR0y22:level%2Flevel1058.jsonR2i2495R3R87R5R1756goR0y22:level%2Flevel1059.jsonR2i2063R3R87R5R1757goR0y22:level%2Flevel1060.jsonR2i2121R3R87R5R1758goR0y22:level%2Flevel1061.jsonR2i2542R3R87R5R1759goR0y22:level%2Flevel1062.jsonR2i2579R3R87R5R1760goR0y22:level%2Flevel1063.jsonR2i1973R3R87R5R1761goR0y22:level%2Flevel1064.jsonR2i2126R3R87R5R1762goR0y22:level%2Flevel1065.jsonR2i2376R3R87R5R1763goR0y22:level%2Flevel1066.jsonR2i2672R3R87R5R1764goR0y22:level%2Flevel1067.jsonR2i2302R3R87R5R1765goR0y22:level%2Flevel1068.jsonR2i2514R3R87R5R1766goR0y22:level%2Flevel1069.jsonR2i2162R3R87R5R1767goR0y22:level%2Flevel1070.jsonR2i2325R3R87R5R1768goR0y22:level%2Flevel1071.jsonR2i2170R3R87R5R1769goR0y22:level%2Flevel1072.jsonR2i2326R3R87R5R1770goR0y22:level%2Flevel1073.jsonR2i2571R3R87R5R1771goR0y22:level%2Flevel1074.jsonR2i2559R3R87R5R1772goR0y22:level%2Flevel1075.jsonR2i2471R3R87R5R1773goR0y22:level%2Flevel1076.jsonR2i2078R3R87R5R1774goR0y22:level%2Flevel1077.jsonR2i2217R3R87R5R1775goR0y22:level%2Flevel1078.jsonR2i2411R3R87R5R1776goR0y22:level%2Flevel1079.jsonR2i2208R3R87R5R1777goR0y22:level%2Flevel1080.jsonR2i1853R3R87R5R1778goR0y22:level%2Flevel1081.jsonR2i2401R3R87R5R1779goR0y22:level%2Flevel1082.jsonR2i2132R3R87R5R1780goR0y22:level%2Flevel1083.jsonR2i2552R3R87R5R1781goR0y22:level%2Flevel1084.jsonR2i2084R3R87R5R1782goR0y22:level%2Flevel1085.jsonR2i2604R3R87R5R1783goR0y22:level%2Flevel1086.jsonR2i2866R3R87R5R1784goR0y22:level%2Flevel1087.jsonR2i2737R3R87R5R1785goR0y22:level%2Flevel1088.jsonR2i2193R3R87R5R1786goR0y22:level%2Flevel1089.jsonR2i2738R3R87R5R1787goR0y22:level%2Flevel1090.jsonR2i2190R3R87R5R1788goR0y22:level%2Flevel1091.jsonR2i2129R3R87R5R1789goR0y22:level%2Flevel1092.jsonR2i2454R3R87R5R1790goR0y22:level%2Flevel1093.jsonR2i2262R3R87R5R1791goR0y22:level%2Flevel1094.jsonR2i2570R3R87R5R1792goR0y22:level%2Flevel1095.jsonR2i2234R3R87R5R1793goR0y22:level%2Flevel1096.jsonR2i2299R3R87R5R1794goR0y22:level%2Flevel1097.jsonR2i2308R3R87R5R1795goR0y22:level%2Flevel1098.jsonR2i2567R3R87R5R1796goR0y22:level%2Flevel1099.jsonR2i2356R3R87R5R1797goR0y22:level%2Flevel1100.jsonR2i2556R3R87R5R1798goR0y22:level%2Flevel1101.jsonR2i2334R3R87R5R1799goR0y22:level%2Flevel1102.jsonR2i2488R3R87R5R1800goR0y22:level%2Flevel1103.jsonR2i2270R3R87R5R1801goR0y22:level%2Flevel1104.jsonR2i2275R3R87R5R1802goR0y22:level%2Flevel1105.jsonR2i2385R3R87R5R1803goR0y22:level%2Flevel1106.jsonR2i1918R3R87R5R1804goR0y22:level%2Flevel1107.jsonR2i2530R3R87R5R1805goR0y22:level%2Flevel1108.jsonR2i2556R3R87R5R1806goR0y22:level%2Flevel1109.jsonR2i2014R3R87R5R1807goR0y22:level%2Flevel1110.jsonR2i2634R3R87R5R1808goR0y22:level%2Flevel1111.jsonR2i2637R3R87R5R1809goR0y22:level%2Flevel1112.jsonR2i2085R3R87R5R1810goR0y22:level%2Flevel1113.jsonR2i2810R3R87R5R1811goR0y22:level%2Flevel1114.jsonR2i1708R3R87R5R1812goR0y22:level%2Flevel1115.jsonR2i2125R3R87R5R1813goR0y22:level%2Flevel1116.jsonR2i2320R3R87R5R1814goR0y22:level%2Flevel1117.jsonR2i2405R3R87R5R1815goR0y22:level%2Flevel1118.jsonR2i2402R3R87R5R1816goR0y22:level%2Flevel1119.jsonR2i2650R3R87R5R1817goR0y22:level%2Flevel1120.jsonR2i2572R3R87R5R1818goR0y22:level%2Flevel1121.jsonR2i2185R3R87R5R1819goR0y22:level%2Flevel1122.jsonR2i2496R3R87R5R1820goR0y22:level%2Flevel1123.jsonR2i2441R3R87R5R1821goR0y22:level%2Flevel1124.jsonR2i2821R3R87R5R1822goR0y22:level%2Flevel1125.jsonR2i2485R3R87R5R1823goR0y22:level%2Flevel1126.jsonR2i2204R3R87R5R1824goR0y22:level%2Flevel1127.jsonR2i2303R3R87R5R1825goR0y22:level%2Flevel1128.jsonR2i2212R3R87R5R1826goR0y22:level%2Flevel1129.jsonR2i2106R3R87R5R1827goR0y22:level%2Flevel1130.jsonR2i2030R3R87R5R1828goR0y22:level%2Flevel1131.jsonR2i2612R3R87R5R1829goR0y22:level%2Flevel1132.jsonR2i2285R3R87R5R1830goR0y22:level%2Flevel1133.jsonR2i1968R3R87R5R1831goR0y22:level%2Flevel1134.jsonR2i2163R3R87R5R1832goR0y22:level%2Flevel1135.jsonR2i1955R3R87R5R1833goR0y22:level%2Flevel1136.jsonR2i2386R3R87R5R1834goR0y22:level%2Flevel1137.jsonR2i2357R3R87R5R1835goR0y22:level%2Flevel1138.jsonR2i2114R3R87R5R1836goR0y22:level%2Flevel1139.jsonR2i2072R3R87R5R1837goR0y22:level%2Flevel1140.jsonR2i1896R3R87R5R1838goR0y22:level%2Flevel1141.jsonR2i2088R3R87R5R1839goR0y22:level%2Flevel1142.jsonR2i2008R3R87R5R1840goR0y22:level%2Flevel1143.jsonR2i2471R3R87R5R1841goR0y22:level%2Flevel1144.jsonR2i2127R3R87R5R1842goR0y22:level%2Flevel1145.jsonR2i2011R3R87R5R1843goR0y22:level%2Flevel1146.jsonR2i1868R3R87R5R1844goR0y22:level%2Flevel1147.jsonR2i1771R3R87R5R1845goR0y22:level%2Flevel1148.jsonR2i1861R3R87R5R1846goR0y22:level%2Flevel1149.jsonR2i2558R3R87R5R1847goR0y22:level%2Flevel1150.jsonR2i2170R3R87R5R1848goR0y22:level%2Flevel1151.jsonR2i2242R3R87R5R1849goR0y22:level%2Flevel1152.jsonR2i2143R3R87R5R1850goR0y22:level%2Flevel1153.jsonR2i2614R3R87R5R1851goR0y22:level%2Flevel1154.jsonR2i2249R3R87R5R1852goR0y22:level%2Flevel1155.jsonR2i2012R3R87R5R1853goR0y22:level%2Flevel1156.jsonR2i2226R3R87R5R1854goR0y22:level%2Flevel1157.jsonR2i2226R3R87R5R1855goR0y22:level%2Flevel1158.jsonR2i2156R3R87R5R1856goR0y22:level%2Flevel1159.jsonR2i2315R3R87R5R1857goR0y22:level%2Flevel1160.jsonR2i2340R3R87R5R1858goR0y22:level%2Flevel1161.jsonR2i2546R3R87R5R1859goR0y22:level%2Flevel1162.jsonR2i2048R3R87R5R1860goR0y22:level%2Flevel1163.jsonR2i2696R3R87R5R1861goR0y22:level%2Flevel1164.jsonR2i2514R3R87R5R1862goR0y22:level%2Flevel1165.jsonR2i2326R3R87R5R1863goR0y22:level%2Flevel1166.jsonR2i2111R3R87R5R1864goR0y22:level%2Flevel1167.jsonR2i2569R3R87R5R1865goR0y22:level%2Flevel1168.jsonR2i2374R3R87R5R1866goR0y22:level%2Flevel1169.jsonR2i2250R3R87R5R1867goR0y22:level%2Flevel1170.jsonR2i1792R3R87R5R1868goR0y22:level%2Flevel1171.jsonR2i2462R3R87R5R1869goR0y22:level%2Flevel1172.jsonR2i2069R3R87R5R1870goR0y22:level%2Flevel1173.jsonR2i2288R3R87R5R1871goR0y22:level%2Flevel1174.jsonR2i2192R3R87R5R1872goR0y22:level%2Flevel1175.jsonR2i2321R3R87R5R1873goR0y22:level%2Flevel1176.jsonR2i2233R3R87R5R1874goR0y22:level%2Flevel1177.jsonR2i2010R3R87R5R1875goR0y22:level%2Flevel1178.jsonR2i2107R3R87R5R1876goR0y22:level%2Flevel1179.jsonR2i2129R3R87R5R1877goR0y22:level%2Flevel1180.jsonR2i2377R3R87R5R1878goR0y22:level%2Flevel1181.jsonR2i2159R3R87R5R1879goR0y22:level%2Flevel1182.jsonR2i2683R3R87R5R1880goR0y22:level%2Flevel1183.jsonR2i2080R3R87R5R1881goR0y22:level%2Flevel1184.jsonR2i2623R3R87R5R1882goR0y22:level%2Flevel1185.jsonR2i2470R3R87R5R1883goR0y22:level%2Flevel1186.jsonR2i2182R3R87R5R1884goR0y22:level%2Flevel1187.jsonR2i2354R3R87R5R1885goR0y22:level%2Flevel1188.jsonR2i1609R3R87R5R1886goR0y22:level%2Flevel1189.jsonR2i2286R3R87R5R1887goR0y22:level%2Flevel1190.jsonR2i2434R3R87R5R1888goR0y22:level%2Flevel1191.jsonR2i2589R3R87R5R1889goR0y22:level%2Flevel1192.jsonR2i2108R3R87R5R1890goR0y22:level%2Flevel1193.jsonR2i2420R3R87R5R1891goR0y22:level%2Flevel1194.jsonR2i2090R3R87R5R1892goR0y22:level%2Flevel1195.jsonR2i2607R3R87R5R1893goR0y22:level%2Flevel1196.jsonR2i2766R3R87R5R1894goR0y22:level%2Flevel1197.jsonR2i2529R3R87R5R1895goR0y22:level%2Flevel1198.jsonR2i2309R3R87R5R1896goR0y22:level%2Flevel1199.jsonR2i1995R3R87R5R1897goR0y22:level%2Flevel1200.jsonR2i2416R3R87R5R1898goR0y22:level%2Flevel1201.jsonR2i2565R3R87R5R1899goR0y22:level%2Flevel1202.jsonR2i2334R3R87R5R1900goR0y22:level%2Flevel1203.jsonR2i2205R3R87R5R1901goR0y22:level%2Flevel1204.jsonR2i2343R3R87R5R1902goR0y22:level%2Flevel1205.jsonR2i1721R3R87R5R1903goR0y22:level%2Flevel1206.jsonR2i2140R3R87R5R1904goR0y22:level%2Flevel1207.jsonR2i2631R3R87R5R1905goR0y22:level%2Flevel1208.jsonR2i2407R3R87R5R1906goR0y22:level%2Flevel1209.jsonR2i2591R3R87R5R1907goR0y22:level%2Flevel1210.jsonR2i2429R3R87R5R1908goR0y22:level%2Flevel1211.jsonR2i2286R3R87R5R1909goR0y22:level%2Flevel1212.jsonR2i2785R3R87R5R1910goR0y22:level%2Flevel1213.jsonR2i2161R3R87R5R1911goR0y22:level%2Flevel1214.jsonR2i2505R3R87R5R1912goR0y22:level%2Flevel1215.jsonR2i2391R3R87R5R1913goR0y22:level%2Flevel1216.jsonR2i2417R3R87R5R1914goR0y22:level%2Flevel1217.jsonR2i2251R3R87R5R1915goR0y22:level%2Flevel1218.jsonR2i2553R3R87R5R1916goR0y22:level%2Flevel1219.jsonR2i2227R3R87R5R1917goR0y22:level%2Flevel1220.jsonR2i2411R3R87R5R1918goR0y22:level%2Flevel1221.jsonR2i2089R3R87R5R1919goR0y22:level%2Flevel1222.jsonR2i2427R3R87R5R1920goR0y22:level%2Flevel1223.jsonR2i2159R3R87R5R1921goR0y22:level%2Flevel1224.jsonR2i2342R3R87R5R1922goR0y22:level%2Flevel1225.jsonR2i2391R3R87R5R1923goR0y22:level%2Flevel1226.jsonR2i1780R3R87R5R1924goR0y22:level%2Flevel1227.jsonR2i2156R3R87R5R1925goR0y22:level%2Flevel1228.jsonR2i2760R3R87R5R1926goR0y22:level%2Flevel1229.jsonR2i1705R3R87R5R1927goR0y22:level%2Flevel1230.jsonR2i2471R3R87R5R1928goR0y22:level%2Flevel1231.jsonR2i2011R3R87R5R1929goR0y22:level%2Flevel1232.jsonR2i2143R3R87R5R1930goR0y22:level%2Flevel1233.jsonR2i2555R3R87R5R1931goR0y22:level%2Flevel1234.jsonR2i2200R3R87R5R1932goR0y22:level%2Flevel1235.jsonR2i2146R3R87R5R1933goR0y22:level%2Flevel1236.jsonR2i2378R3R87R5R1934goR0y22:level%2Flevel1237.jsonR2i2438R3R87R5R1935goR0y22:level%2Flevel1238.jsonR2i2645R3R87R5R1936goR0y22:level%2Flevel1239.jsonR2i2263R3R87R5R1937goR0y22:level%2Flevel1240.jsonR2i2356R3R87R5R1938goR0y22:level%2Flevel1241.jsonR2i2266R3R87R5R1939goR0y22:level%2Flevel1242.jsonR2i2472R3R87R5R1940goR0y22:level%2Flevel1243.jsonR2i2149R3R87R5R1941goR0y22:level%2Flevel1244.jsonR2i2370R3R87R5R1942goR0y22:level%2Flevel1245.jsonR2i2295R3R87R5R1943goR0y22:level%2Flevel1246.jsonR2i2412R3R87R5R1944goR0y22:level%2Flevel1247.jsonR2i2079R3R87R5R1945goR0y22:level%2Flevel1248.jsonR2i2113R3R87R5R1946goR0y22:level%2Flevel1249.jsonR2i2205R3R87R5R1947goR0y22:level%2Flevel1250.jsonR2i2475R3R87R5R1948goR0y22:level%2Flevel1251.jsonR2i2456R3R87R5R1949goR0y22:level%2Flevel1252.jsonR2i2354R3R87R5R1950goR0y22:level%2Flevel1253.jsonR2i2669R3R87R5R1951goR0y22:level%2Flevel1254.jsonR2i2090R3R87R5R1952goR0y22:level%2Flevel1255.jsonR2i2537R3R87R5R1953goR0y22:level%2Flevel1256.jsonR2i2256R3R87R5R1954goR0y22:level%2Flevel1257.jsonR2i2467R3R87R5R1955goR0y22:level%2Flevel1258.jsonR2i2062R3R87R5R1956goR0y22:level%2Flevel1259.jsonR2i2587R3R87R5R1957goR0y22:level%2Flevel1260.jsonR2i2182R3R87R5R1958goR0y22:level%2Flevel1261.jsonR2i2511R3R87R5R1959goR0y22:level%2Flevel1262.jsonR2i2198R3R87R5R1960goR0y22:level%2Flevel1263.jsonR2i2342R3R87R5R1961goR0y22:level%2Flevel1264.jsonR2i2201R3R87R5R1962goR0y22:level%2Flevel1265.jsonR2i2134R3R87R5R1963goR0y22:level%2Flevel1266.jsonR2i1842R3R87R5R1964goR0y22:level%2Flevel1267.jsonR2i2044R3R87R5R1965goR0y22:level%2Flevel1268.jsonR2i2462R3R87R5R1966goR0y22:level%2Flevel1269.jsonR2i2490R3R87R5R1967goR0y22:level%2Flevel1270.jsonR2i2585R3R87R5R1968goR0y22:level%2Flevel1271.jsonR2i2319R3R87R5R1969goR0y22:level%2Flevel1272.jsonR2i2076R3R87R5R1970goR0y22:level%2Flevel1273.jsonR2i1767R3R87R5R1971goR0y22:level%2Flevel1274.jsonR2i2355R3R87R5R1972goR0y22:level%2Flevel1275.jsonR2i2158R3R87R5R1973goR0y22:level%2Flevel1276.jsonR2i2321R3R87R5R1974goR0y22:level%2Flevel1277.jsonR2i2069R3R87R5R1975goR0y22:level%2Flevel1278.jsonR2i2480R3R87R5R1976goR0y22:level%2Flevel1279.jsonR2i1911R3R87R5R1977goR0y22:level%2Flevel1280.jsonR2i2542R3R87R5R1978goR0y22:level%2Flevel1281.jsonR2i2826R3R87R5R1979goR0y22:level%2Flevel1282.jsonR2i2161R3R87R5R1980goR0y22:level%2Flevel1283.jsonR2i2410R3R87R5R1981goR0y22:level%2Flevel1284.jsonR2i2563R3R87R5R1982goR0y22:level%2Flevel1285.jsonR2i2068R3R87R5R1983goR0y22:level%2Flevel1286.jsonR2i2588R3R87R5R1984goR0y22:level%2Flevel1287.jsonR2i2189R3R87R5R1985goR0y22:level%2Flevel1288.jsonR2i2183R3R87R5R1986goR0y22:level%2Flevel1289.jsonR2i2091R3R87R5R1987goR0y22:level%2Flevel1290.jsonR2i2567R3R87R5R1988goR0y22:level%2Flevel1291.jsonR2i2126R3R87R5R1989goR0y22:level%2Flevel1292.jsonR2i2429R3R87R5R1990goR0y22:level%2Flevel1293.jsonR2i2178R3R87R5R1991goR0y22:level%2Flevel1294.jsonR2i2404R3R87R5R1992goR0y22:level%2Flevel1295.jsonR2i2266R3R87R5R1993goR0y22:level%2Flevel1296.jsonR2i1905R3R87R5R1994goR0y22:level%2Flevel1297.jsonR2i2439R3R87R5R1995goR0y22:level%2Flevel1298.jsonR2i2228R3R87R5R1996goR0y22:level%2Flevel1299.jsonR2i1974R3R87R5R1997goR0y22:level%2Flevel1300.jsonR2i2193R3R87R5R1998goR0y22:level%2Flevel1301.jsonR2i2254R3R87R5R1999goR0y22:level%2Flevel1302.jsonR2i2312R3R87R5R2000goR0y22:level%2Flevel1303.jsonR2i2377R3R87R5R2001goR0y22:level%2Flevel1304.jsonR2i2274R3R87R5R2002goR0y22:level%2Flevel1305.jsonR2i2009R3R87R5R2003goR0y22:level%2Flevel1306.jsonR2i1867R3R87R5R2004goR0y22:level%2Flevel1307.jsonR2i2006R3R87R5R2005goR0y22:level%2Flevel1308.jsonR2i2248R3R87R5R2006goR0y22:level%2Flevel1309.jsonR2i2075R3R87R5R2007goR0y22:level%2Flevel1310.jsonR2i2073R3R87R5R2008goR0y22:level%2Flevel1311.jsonR2i2149R3R87R5R2009goR0y22:level%2Flevel1312.jsonR2i2322R3R87R5R2010goR0y22:level%2Flevel1313.jsonR2i2170R3R87R5R2011goR0y22:level%2Flevel1314.jsonR2i1817R3R87R5R2012goR0y22:level%2Flevel1315.jsonR2i1805R3R87R5R2013goR0y22:level%2Flevel1316.jsonR2i2313R3R87R5R2014goR0y22:level%2Flevel1317.jsonR2i2567R3R87R5R2015goR0y22:level%2Flevel1318.jsonR2i2214R3R87R5R2016goR0y22:level%2Flevel1319.jsonR2i1434R3R87R5R2017goR0y22:level%2Flevel1320.jsonR2i2664R3R87R5R2018goR0y22:level%2Flevel1321.jsonR2i2098R3R87R5R2019goR0y22:level%2Flevel1322.jsonR2i2082R3R87R5R2020goR0y22:level%2Flevel1323.jsonR2i2134R3R87R5R2021goR0y22:level%2Flevel1324.jsonR2i2133R3R87R5R2022goR0y22:level%2Flevel1325.jsonR2i2298R3R87R5R2023goR0y22:level%2Flevel1326.jsonR2i1978R3R87R5R2024goR0y22:level%2Flevel1327.jsonR2i2056R3R87R5R2025goR0y22:level%2Flevel1328.jsonR2i2470R3R87R5R2026goR0y22:level%2Flevel1329.jsonR2i2348R3R87R5R2027goR0y22:level%2Flevel1330.jsonR2i2207R3R87R5R2028goR0y22:level%2Flevel1331.jsonR2i2258R3R87R5R2029goR0y22:level%2Flevel1332.jsonR2i2411R3R87R5R2030goR0y22:level%2Flevel1333.jsonR2i2176R3R87R5R2031goR0y22:level%2Flevel1334.jsonR2i1955R3R87R5R2032goR0y22:level%2Flevel1335.jsonR2i2106R3R87R5R2033goR0y22:level%2Flevel1336.jsonR2i2431R3R87R5R2034goR0y22:level%2Flevel1337.jsonR2i2412R3R87R5R2035goR0y22:level%2Flevel1338.jsonR2i2575R3R87R5R2036goR0y22:level%2Flevel1339.jsonR2i1944R3R87R5R2037goR0y22:level%2Flevel1340.jsonR2i2350R3R87R5R2038goR0y22:level%2Flevel1341.jsonR2i2371R3R87R5R2039goR0y22:level%2Flevel1342.jsonR2i2712R3R87R5R2040goR0y22:level%2Flevel1343.jsonR2i1978R3R87R5R2041goR0y22:level%2Flevel1344.jsonR2i2074R3R87R5R2042goR0y22:level%2Flevel1345.jsonR2i2719R3R87R5R2043goR0y22:level%2Flevel1346.jsonR2i1969R3R87R5R2044goR0y22:level%2Flevel1347.jsonR2i1921R3R87R5R2045goR0y22:level%2Flevel1348.jsonR2i2104R3R87R5R2046goR0y22:level%2Flevel1349.jsonR2i2236R3R87R5R2047goR0y22:level%2Flevel1350.jsonR2i2369R3R87R5R2048goR0y22:level%2Flevel1351.jsonR2i2194R3R87R5R2049goR0y22:level%2Flevel1352.jsonR2i1831R3R87R5R2050goR0y22:level%2Flevel1353.jsonR2i1879R3R87R5R2051goR0y22:level%2Flevel1354.jsonR2i2357R3R87R5R2052goR0y22:level%2Flevel1355.jsonR2i2339R3R87R5R2053goR0y22:level%2Flevel1356.jsonR2i2018R3R87R5R2054goR0y22:level%2Flevel1357.jsonR2i2275R3R87R5R2055goR0y22:level%2Flevel1358.jsonR2i1968R3R87R5R2056goR0y22:level%2Flevel1359.jsonR2i2320R3R87R5R2057goR0y22:level%2Flevel1360.jsonR2i2449R3R87R5R2058goR0y22:level%2Flevel1361.jsonR2i2122R3R87R5R2059goR0y22:level%2Flevel1362.jsonR2i2709R3R87R5R2060goR0y22:level%2Flevel1363.jsonR2i2366R3R87R5R2061goR0y22:level%2Flevel1364.jsonR2i2054R3R87R5R2062goR0y22:level%2Flevel1365.jsonR2i2303R3R87R5R2063goR0y22:level%2Flevel1366.jsonR2i2248R3R87R5R2064goR0y22:level%2Flevel1367.jsonR2i2355R3R87R5R2065goR0y22:level%2Flevel1368.jsonR2i2237R3R87R5R2066goR0y22:level%2Flevel1369.jsonR2i2114R3R87R5R2067goR0y22:level%2Flevel1370.jsonR2i1947R3R87R5R2068goR0y22:level%2Flevel1371.jsonR2i2146R3R87R5R2069goR0y22:level%2Flevel1372.jsonR2i2058R3R87R5R2070goR0y22:level%2Flevel1373.jsonR2i1990R3R87R5R2071goR0y22:level%2Flevel1374.jsonR2i2691R3R87R5R2072goR0y22:level%2Flevel1375.jsonR2i2240R3R87R5R2073goR0y22:level%2Flevel1376.jsonR2i2388R3R87R5R2074goR0y22:level%2Flevel1377.jsonR2i2540R3R87R5R2075goR0y22:level%2Flevel1378.jsonR2i2369R3R87R5R2076goR0y22:level%2Flevel1379.jsonR2i2491R3R87R5R2077goR0y22:level%2Flevel1380.jsonR2i2251R3R87R5R2078goR0y22:level%2Flevel1381.jsonR2i2138R3R87R5R2079goR0y22:level%2Flevel1382.jsonR2i2413R3R87R5R2080goR0y22:level%2Flevel1383.jsonR2i2190R3R87R5R2081goR0y22:level%2Flevel1384.jsonR2i2870R3R87R5R2082goR0y22:level%2Flevel1385.jsonR2i2483R3R87R5R2083goR0y22:level%2Flevel1386.jsonR2i2088R3R87R5R2084goR0y22:level%2Flevel1387.jsonR2i2441R3R87R5R2085goR0y22:level%2Flevel1388.jsonR2i2529R3R87R5R2086goR0y22:level%2Flevel1389.jsonR2i2204R3R87R5R2087goR0y22:level%2Flevel1390.jsonR2i2081R3R87R5R2088goR0y22:level%2Flevel1391.jsonR2i2195R3R87R5R2089goR0y22:level%2Flevel1392.jsonR2i2429R3R87R5R2090goR0y22:level%2Flevel1393.jsonR2i2162R3R87R5R2091goR0y22:level%2Flevel1394.jsonR2i2181R3R87R5R2092goR0y22:level%2Flevel1395.jsonR2i2117R3R87R5R2093goR0y22:level%2Flevel1396.jsonR2i2118R3R87R5R2094goR0y22:level%2Flevel1397.jsonR2i2550R3R87R5R2095goR0y22:level%2Flevel1398.jsonR2i2144R3R87R5R2096goR0y22:level%2Flevel1399.jsonR2i2064R3R87R5R2097goR0y22:level%2Flevel1400.jsonR2i2133R3R87R5R2098goR0y22:level%2Flevel1401.jsonR2i2570R3R87R5R2099goR0y22:level%2Flevel1402.jsonR2i3059R3R87R5R2100goR0y22:level%2Flevel1403.jsonR2i2597R3R87R5R2101goR0y22:level%2Flevel1404.jsonR2i2005R3R87R5R2102goR0y22:level%2Flevel1405.jsonR2i2383R3R87R5R2103goR0y22:level%2Flevel1406.jsonR2i2066R3R87R5R2104goR0y22:level%2Flevel1407.jsonR2i2519R3R87R5R2105goR0y22:level%2Flevel1408.jsonR2i1973R3R87R5R2106goR0y22:level%2Flevel1409.jsonR2i2637R3R87R5R2107goR0y22:level%2Flevel1410.jsonR2i2441R3R87R5R2108goR0y22:level%2Flevel1411.jsonR2i2013R3R87R5R2109goR0y22:level%2Flevel1412.jsonR2i2449R3R87R5R2110goR0y22:level%2Flevel1413.jsonR2i2072R3R87R5R2111goR0y22:level%2Flevel1414.jsonR2i2230R3R87R5R2112goR0y22:level%2Flevel1415.jsonR2i2580R3R87R5R2113goR0y22:level%2Flevel1416.jsonR2i2445R3R87R5R2114goR0y22:level%2Flevel1417.jsonR2i2189R3R87R5R2115goR0y22:level%2Flevel1418.jsonR2i2157R3R87R5R2116goR0y22:level%2Flevel1419.jsonR2i2532R3R87R5R2117goR0y22:level%2Flevel1420.jsonR2i2177R3R87R5R2118goR0y22:level%2Flevel1421.jsonR2i2782R3R87R5R2119goR0y22:level%2Flevel1422.jsonR2i2222R3R87R5R2120goR0y22:level%2Flevel1423.jsonR2i1525R3R87R5R2121goR0y22:level%2Flevel1424.jsonR2i2877R3R87R5R2122goR0y22:level%2Flevel1425.jsonR2i2750R3R87R5R2123goR0y22:level%2Flevel1426.jsonR2i2106R3R87R5R2124goR0y22:level%2Flevel1427.jsonR2i2062R3R87R5R2125goR0y22:level%2Flevel1428.jsonR2i2498R3R87R5R2126goR0y22:level%2Flevel1429.jsonR2i2126R3R87R5R2127goR0y22:level%2Flevel1430.jsonR2i2377R3R87R5R2128goR0y22:level%2Flevel1431.jsonR2i2271R3R87R5R2129goR0y22:level%2Flevel1432.jsonR2i2517R3R87R5R2130goR0y22:level%2Flevel1433.jsonR2i2420R3R87R5R2131goR0y22:level%2Flevel1434.jsonR2i2161R3R87R5R2132goR0y22:level%2Flevel1435.jsonR2i2140R3R87R5R2133goR0y22:level%2Flevel1436.jsonR2i2440R3R87R5R2134goR0y22:level%2Flevel1437.jsonR2i2369R3R87R5R2135goR0y22:level%2Flevel1438.jsonR2i2534R3R87R5R2136goR0y22:level%2Flevel1439.jsonR2i2217R3R87R5R2137goR0y22:level%2Flevel1440.jsonR2i2197R3R87R5R2138goR0y22:level%2Flevel1441.jsonR2i2238R3R87R5R2139goR0y22:level%2Flevel1442.jsonR2i1467R3R87R5R2140goR0y22:level%2Flevel1443.jsonR2i2655R3R87R5R2141goR0y22:level%2Flevel1444.jsonR2i2064R3R87R5R2142goR0y22:level%2Flevel1445.jsonR2i2671R3R87R5R2143goR0y22:level%2Flevel1446.jsonR2i2039R3R87R5R2144goR0y22:level%2Flevel1447.jsonR2i2543R3R87R5R2145goR0y22:level%2Flevel1448.jsonR2i2097R3R87R5R2146goR0y22:level%2Flevel1449.jsonR2i2277R3R87R5R2147goR0y22:level%2Flevel1450.jsonR2i1898R3R87R5R2148goR0y22:level%2Flevel1451.jsonR2i2353R3R87R5R2149goR0y22:level%2Flevel1452.jsonR2i2125R3R87R5R2150goR0y22:level%2Flevel1453.jsonR2i2413R3R87R5R2151goR0y22:level%2Flevel1454.jsonR2i1285R3R87R5R2152goR0y22:level%2Flevel1455.jsonR2i2230R3R87R5R2153goR0y22:level%2Flevel1456.jsonR2i2413R3R87R5R2154goR0y22:level%2Flevel1457.jsonR2i2242R3R87R5R2155goR0y22:level%2Flevel1458.jsonR2i2561R3R87R5R2156goR0y22:level%2Flevel1459.jsonR2i2937R3R87R5R2157goR0y22:level%2Flevel1460.jsonR2i2588R3R87R5R2158goR0y22:level%2Flevel1461.jsonR2i2214R3R87R5R2159goR0y22:level%2Flevel1462.jsonR2i2296R3R87R5R2160goR0y22:level%2Flevel1463.jsonR2i2541R3R87R5R2161goR0y22:level%2Flevel1464.jsonR2i2713R3R87R5R2162goR0y22:level%2Flevel1465.jsonR2i2705R3R87R5R2163goR0y22:level%2Flevel1466.jsonR2i2259R3R87R5R2164goR0y22:level%2Flevel1467.jsonR2i2675R3R87R5R2165goR0y22:level%2Flevel1468.jsonR2i2307R3R87R5R2166goR0y22:level%2Flevel1469.jsonR2i2443R3R87R5R2167goR0y22:level%2Flevel1470.jsonR2i2401R3R87R5R2168goR0y22:level%2Flevel1471.jsonR2i1918R3R87R5R2169goR0y22:level%2Flevel1472.jsonR2i2671R3R87R5R2170goR0y22:level%2Flevel1473.jsonR2i2239R3R87R5R2171goR0y22:level%2Flevel1474.jsonR2i1668R3R87R5R2172goR0y22:level%2Flevel1475.jsonR2i2103R3R87R5R2173goR0y22:level%2Flevel1476.jsonR2i1675R3R87R5R2174goR0y22:level%2Flevel1477.jsonR2i1688R3R87R5R2175goR0y22:level%2Flevel1478.jsonR2i2457R3R87R5R2176goR0y22:level%2Flevel1479.jsonR2i2539R3R87R5R2177goR0y22:level%2Flevel1480.jsonR2i2884R3R87R5R2178goR0y22:level%2Flevel1481.jsonR2i1888R3R87R5R2179goR0y22:level%2Flevel1482.jsonR2i1145R3R87R5R2180goR0y22:level%2Flevel1483.jsonR2i2310R3R87R5R2181goR0y22:level%2Flevel1484.jsonR2i2417R3R87R5R2182goR0y22:level%2Flevel1485.jsonR2i1396R3R87R5R2183goR0y22:level%2Flevel1486.jsonR2i1596R3R87R5R2184goR0y22:level%2Flevel1487.jsonR2i2013R3R87R5R2185goR0y22:level%2Flevel1488.jsonR2i2417R3R87R5R2186goR0y22:level%2Flevel1489.jsonR2i2909R3R87R5R2187goR0y22:level%2Flevel1490.jsonR2i2815R3R87R5R2188goR0y22:level%2Flevel1491.jsonR2i2375R3R87R5R2189goR0y22:level%2Flevel1492.jsonR2i2156R3R87R5R2190goR0y22:level%2Flevel1493.jsonR2i2848R3R87R5R2191goR0y22:level%2Flevel1494.jsonR2i3261R3R87R5R2192goR0y22:level%2Flevel1495.jsonR2i2243R3R87R5R2193goR0y22:level%2Flevel1496.jsonR2i2305R3R87R5R2194goR0y22:level%2Flevel1497.jsonR2i3355R3R87R5R2195goR0y22:level%2Flevel1498.jsonR2i1747R3R87R5R2196goR0y22:level%2Flevel1499.jsonR2i2969R3R87R5R2197goR0y22:level%2Flevel1500.jsonR2i2539R3R87R5R2198goR0y22:level%2Flevel1501.jsonR2i2206R3R87R5R2199goR0y22:level%2Flevel1502.jsonR2i3256R3R87R5R2200goR0y22:level%2Flevel1503.jsonR2i2319R3R87R5R2201goR0y22:level%2Flevel1504.jsonR2i2547R3R87R5R2202goR0y22:level%2Flevel1505.jsonR2i2039R3R87R5R2203goR0y22:level%2Flevel1506.jsonR2i3467R3R87R5R2204goR0y22:level%2Flevel1507.jsonR2i3774R3R87R5R2205goR0y22:level%2Flevel1508.jsonR2i1753R3R87R5R2206goR0y22:level%2Flevel1509.jsonR2i3030R3R87R5R2207goR0y22:level%2Flevel1510.jsonR2i1775R3R87R5R2208goR0y22:level%2Flevel1511.jsonR2i1922R3R87R5R2209goR0y22:level%2Flevel1512.jsonR2i2586R3R87R5R2210goR0y22:level%2Flevel1513.jsonR2i2281R3R87R5R2211goR0y22:level%2Flevel1514.jsonR2i1540R3R87R5R2212goR0y22:level%2Flevel1515.jsonR2i2434R3R87R5R2213goR0y22:level%2Flevel1516.jsonR2i2197R3R87R5R2214goR0y22:level%2Flevel1517.jsonR2i3556R3R87R5R2215goR0y22:level%2Flevel1518.jsonR2i2816R3R87R5R2216goR0y22:level%2Flevel1519.jsonR2i2100R3R87R5R2217goR0y22:level%2Flevel1520.jsonR2i2987R3R87R5R2218goR0y22:level%2Flevel1521.jsonR2i2140R3R87R5R2219goR0y22:level%2Flevel1522.jsonR2i3062R3R87R5R2220goR0y22:level%2Flevel1523.jsonR2i3180R3R87R5R2221goR0y22:level%2Flevel1524.jsonR2i2742R3R87R5R2222goR0y22:level%2Flevel1525.jsonR2i1964R3R87R5R2223goR0y22:level%2Flevel1526.jsonR2i2180R3R87R5R2224goR0y22:level%2Flevel1527.jsonR2i1755R3R87R5R2225goR0y22:level%2Flevel1528.jsonR2i3120R3R87R5R2226goR0y22:level%2Flevel1529.jsonR2i1653R3R87R5R2227goR0y22:level%2Flevel1530.jsonR2i2354R3R87R5R2228goR0y22:level%2Flevel1531.jsonR2i3271R3R87R5R2229goR0y22:level%2Flevel1532.jsonR2i1977R3R87R5R2230goR0y22:level%2Flevel1533.jsonR2i2879R3R87R5R2231goR0y22:level%2Flevel1534.jsonR2i1733R3R87R5R2232goR0y22:level%2Flevel1535.jsonR2i2724R3R87R5R2233goR0y22:level%2Flevel1536.jsonR2i1949R3R87R5R2234goR0y22:level%2Flevel1537.jsonR2i2345R3R87R5R2235goR0y22:level%2Flevel1538.jsonR2i1783R3R87R5R2236goR0y22:level%2Flevel1539.jsonR2i1995R3R87R5R2237goR0y22:level%2Flevel1540.jsonR2i2266R3R87R5R2238goR0y22:level%2Flevel1541.jsonR2i2690R3R87R5R2239goR0y22:level%2Flevel1542.jsonR2i1883R3R87R5R2240goR0y22:level%2Flevel1543.jsonR2i2079R3R87R5R2241goR0y22:level%2Flevel1544.jsonR2i1973R3R87R5R2242goR0y22:level%2Flevel1545.jsonR2i2798R3R87R5R2243goR0y22:level%2Flevel1546.jsonR2i2015R3R87R5R2244goR0y22:level%2Flevel1547.jsonR2i2458R3R87R5R2245goR0y22:level%2Flevel1548.jsonR2i1968R3R87R5R2246goR0y22:level%2Flevel1549.jsonR2i2309R3R87R5R2247goR0y22:level%2Flevel1550.jsonR2i2474R3R87R5R2248goR0y22:level%2Flevel1551.jsonR2i3093R3R87R5R2249goR0y22:level%2Flevel1552.jsonR2i2942R3R87R5R2250goR0y22:level%2Flevel1553.jsonR2i2896R3R87R5R2251goR0y22:level%2Flevel1554.jsonR2i2939R3R87R5R2252goR0y22:level%2Flevel1555.jsonR2i3088R3R87R5R2253goR0y22:level%2Flevel1556.jsonR2i3868R3R87R5R2254goR0y22:level%2Flevel1557.jsonR2i4329R3R87R5R2255goR0y22:level%2Flevel1558.jsonR2i3293R3R87R5R2256goR0y22:level%2Flevel1559.jsonR2i3124R3R87R5R2257goR0y22:level%2Flevel1560.jsonR2i2138R3R87R5R2258goR0y22:level%2Flevel1561.jsonR2i1858R3R87R5R2259goR0y22:level%2Flevel1562.jsonR2i1850R3R87R5R2260goR0y22:level%2Flevel1563.jsonR2i2530R3R87R5R2261goR0y22:level%2Flevel1564.jsonR2i3365R3R87R5R2262goR0y22:level%2Flevel1565.jsonR2i2456R3R87R5R2263goR0y22:level%2Flevel1566.jsonR2i2677R3R87R5R2264goR0y22:level%2Flevel1567.jsonR2i1385R3R87R5R2265goR0y22:level%2Flevel1568.jsonR2i1663R3R87R5R2266goR0y22:level%2Flevel1569.jsonR2i1732R3R87R5R2267goR0y22:level%2Flevel1570.jsonR2i2030R3R87R5R2268goR0y22:level%2Flevel1571.jsonR2i1885R3R87R5R2269goR0y22:level%2Flevel1572.jsonR2i2850R3R87R5R2270goR0y22:level%2Flevel1573.jsonR2i2020R3R87R5R2271goR0y22:level%2Flevel1574.jsonR2i2479R3R87R5R2272goR0y22:level%2Flevel1575.jsonR2i1417R3R87R5R2273goR0y21:particles%2Fapple.pngR2i5411R3R4R5R2274goR0y19:particles%2Fash.pngR2i1240R3R4R5R2275goR0y22:particles%2Fballon.pngR2i2877R3R4R5R2276goR0y22:particles%2Fbanana.pngR2i8447R3R4R5R2277goR0y20:particles%2Fbox2.pngR2i3702R3R4R5R2278goR0y23:particles%2Fbubbles.pngR2i5971R3R4R5R2279goR0y22:particles%2Fcage01.pngR2i690R3R4R5R2280goR0y22:particles%2Fcage02.pngR2i1239R3R4R5R2281goR0y23:particles%2Fcell_01.pngR2i3767R3R4R5R2282goR0y23:particles%2Fcell_02.pngR2i3861R3R4R5R2283goR0y23:particles%2Fcell_03.pngR2i2940R3R4R5R2284goR0y24:particles%2Fcirclefx.pngR2i1200R3R4R5R2285goR0y23:particles%2Fcoconut.pngR2i5892R3R4R5R2286goR0y24:particles%2Fconfetti.pngR2i2699R3R4R5R2287goR0y19:particles%2Fegg.pngR2i3422R3R4R5R2288goR0y23:particles%2Ffeather.pngR2i11850R3R4R5R2289goR0y21:particles%2Fflare.pngR2i11089R3R4R5R2290goR0y23:particles%2Fflarefx.pngR2i1611R3R4R5R2291goR0y20:particles%2Ffood.pngR2i6070R3R4R5R2292goR0y24:particles%2Fgem_blue.pngR2i6848R3R4R5R2293goR0y25:particles%2Fgem_green.pngR2i5658R3R4R5R2294goR0y27:particles%2Fgem_penguin.pngR2i6211R3R4R5R2295goR0y26:particles%2Fgem_purple.pngR2i6881R3R4R5R2296goR0y23:particles%2Fgem_red.pngR2i5888R3R4R5R2297goR0y25:particles%2Fgem_white.pngR2i6931R3R4R5R2298goR0y26:particles%2Fgem_yellow.pngR2i5275R3R4R5R2299goR0y20:particles%2Fglow.pngR2i6812R3R4R5R2300goR0y24:particles%2Fglow_dot.pngR2i7325R3R4R5R2301goR0y21:particles%2Fheart.pngR2i1780R3R4R5R2302goR0y25:particles%2Fhexagonfx.pngR2i678R3R4R5R2303goR0y20:particles%2Fleaf.pngR2i4568R3R4R5R2304goR0y19:particles%2Fore.pngR2i7858R3R4R5R2305goR0y23:particles%2Fpumpkin.pngR2i3452R3R4R5R2306goR0y22:particles%2Fringfx.pngR2i804R3R4R5R2307goR0y20:particles%2Frock.pngR2i2470R3R4R5R2308goR0y22:particles%2Fsmelly.pngR2i1001R3R4R5R2309goR0y20:particles%2Fsnow.pngR2i1227R3R4R5R2310goR0y22:particles%2Fstarfx.pngR2i3403R3R4R5R2311goR0y26:particles%2Fstar_on_02.pngR2i10486R3R4R5R2312goR0y20:particles%2Fwave.pngR2i46532R3R4R5R2313goR2i71009R3y5:SOUNDR5y17:sound%2Fanvil.oggy9:pathGroupaR2315y17:sound%2Fanvil.mp3hgoR2i17711R3R2314R5y17:sound%2Fapple.oggR2316aR2318y17:sound%2Fapple.mp3hgoR2i10534R3R2314R5y15:sound%2Fbad.oggR2316aR2320y15:sound%2Fbad.mp3hgoR2i13028R3R2314R5y24:sound%2Fballon_plopp.oggR2316aR2322y24:sound%2Fballon_plopp.mp3hgoR2i23060R3R2314R5y26:sound%2Fballon_release.oggR2316aR2324y26:sound%2Fballon_release.mp3hgoR2i6797R3R2314R5y16:sound%2Fbark.oggR2316aR2326y16:sound%2Fbark.mp3hgoR2i27567R3R2314R5y27:sound%2FBasket_impact01.oggR2316aR2328y27:sound%2FBasket_impact01.mp3hgoR2i28311R3R2314R5y27:sound%2FBasket_impact02.oggR2316aR2330y27:sound%2FBasket_impact02.mp3hgoR2i27732R3R2314R5y27:sound%2FBasket_impact03.oggR2316aR2332y27:sound%2FBasket_impact03.mp3hgoR2i8551R3R2314R5y15:sound%2Fbee.oggR2316aR2334y15:sound%2Fbee.mp3hgoR2i75716R3R2314R5y28:sound%2FBee_fly_loop_end.oggR2316aR2336y28:sound%2FBee_fly_loop_end.mp3hgoR2i187115R3R2314R5y20:sound%2FBee_loop.oggR2316aR2338y20:sound%2FBee_loop.mp3hgoR2i10036R3R2314R5y19:sound%2Fberry01.oggR2316aR2340y19:sound%2Fberry01.mp3hgoR2i8585R3R2314R5y19:sound%2Fberry02.oggR2316aR2342y19:sound%2Fberry02.mp3hgoR2i11049R3R2314R5y19:sound%2Fberry03.oggR2316aR2344y19:sound%2Fberry03.mp3hgoR2i11372R3R2314R5y19:sound%2Fberry04.oggR2316aR2346y19:sound%2Fberry04.mp3hgoR2i13023R3R2314R5y19:sound%2Fberry05.oggR2316aR2348y19:sound%2Fberry05.mp3hgoR2i22496R3R2314R5y23:sound%2Fberry_shake.oggR2316aR2350y23:sound%2Fberry_shake.mp3hgoR2i30727R3R2314R5y16:sound%2Fboom.oggR2316aR2352y16:sound%2Fboom.mp3hgoR2i15486R3R2314R5y15:sound%2Fbox.oggR2316aR2354y15:sound%2Fbox.mp3hgoR2i62235R3R2314R5y27:sound%2FBreak_honey_jar.oggR2316aR2356y27:sound%2FBreak_honey_jar.mp3hgoR2i17351R3R2314R5y18:sound%2Fbucket.oggR2316aR2358y18:sound%2Fbucket.mp3hgoR2i25677R3R2314R5y16:sound%2Fcage.oggR2316aR2360y16:sound%2Fcage.mp3hgoR2i17301R3R2314R5y17:sound%2Fcage2.oggR2316aR2362y17:sound%2Fcage2.mp3hgoR2i92393R3R2314R5y26:sound%2FChameleon_pick.oggR2316aR2364y26:sound%2FChameleon_pick.mp3hgoR2i26567R3R2314R5y19:sound%2Fchicken.oggR2316aR2366y19:sound%2Fchicken.mp3hgoR2i3999R3R2314R5y17:sound%2Fclick.oggR2316aR2368y17:sound%2Fclick.mp3hgoR2i17616R3R2314R5y19:sound%2Fcoconut.oggR2316aR2370y19:sound%2Fcoconut.mp3hgoR2i15653R3R2314R5y16:sound%2Fcoin.oggR2316aR2372y16:sound%2Fcoin.mp3hgoR2i93693R3R2314R5y20:sound%2Fconfetti.oggR2316aR2374y20:sound%2Fconfetti.mp3hgoR2i33966R3R2314R5y17:sound%2Fcrack.oggR2316aR2376y17:sound%2Fcrack.mp3hgoR2i62789R3R2314R5y16:sound%2Fdice.oggR2316aR2378y16:sound%2Fdice.mp3hgoR2i65644R3R2314R5y21:sound%2FdoubleOrb.oggR2316aR2380y21:sound%2FdoubleOrb.mp3hgoR2i39219R3R2314R5y17:sound%2Fdrill.oggR2316aR2382y17:sound%2Fdrill.mp3hgoR2i51620R3R2314R5y18:sound%2FDrop01.oggR2316aR2384y18:sound%2FDrop01.mp3hgoR2i51215R3R2314R5y18:sound%2FDrop02.oggR2316aR2386y18:sound%2FDrop02.mp3hgoR2i43098R3R2314R5y18:sound%2FDrop03.oggR2316aR2388y18:sound%2FDrop03.mp3hgoR2i60772R3R2314R5y18:sound%2FDrop04.oggR2316aR2390y18:sound%2FDrop04.mp3hgoR2i6952R3R2314R5y16:sound%2Fduck.oggR2316aR2392y16:sound%2Fduck.mp3hgoR2i43172R3R2314R5y22:sound%2Fdungpile01.oggR2316aR2394y22:sound%2Fdungpile01.mp3hgoR2i55831R3R2314R5y22:sound%2Fdungpile02.oggR2316aR2396y22:sound%2Fdungpile02.mp3hgoR2i16570R3R2314R5y15:sound%2Feat.oggR2316aR2398y15:sound%2Feat.mp3hgoR2i84566R3R2314R5y25:sound%2FEgg_collect01.oggR2316aR2400y25:sound%2FEgg_collect01.mp3hgoR2i8726R3R2314R5y20:sound%2Felephant.oggR2316aR2402y20:sound%2Felephant.mp3hgoR2i22480R3R2314R5y24:sound%2Ffertilizer01.oggR2316aR2404y24:sound%2Ffertilizer01.mp3hgoR2i29615R3R2314R5y24:sound%2Ffertilizer02.oggR2316aR2406y24:sound%2Ffertilizer02.mp3hgoR2i36311R3R2314R5y27:sound%2Ffish_finished01.oggR2316aR2408y27:sound%2Ffish_finished01.mp3hgoR2i35285R3R2314R5y27:sound%2Ffish_finished02.oggR2316aR2410y27:sound%2Ffish_finished02.mp3hgoR2i39868R3R2314R5y27:sound%2Ffish_finished03.oggR2316aR2412y27:sound%2Ffish_finished03.mp3hgoR2i49254R3R2314R5y24:sound%2Ffish_scale01.oggR2316aR2414y24:sound%2Ffish_scale01.mp3hgoR2i54319R3R2314R5y24:sound%2Ffish_scale02.oggR2316aR2416y24:sound%2Ffish_scale02.mp3hgoR2i44264R3R2314R5y26:sound%2FFlies_loop_end.oggR2316aR2418y26:sound%2FFlies_loop_end.mp3hgoR2i64086R3R2314R5y28:sound%2FFlies_loop_start.oggR2316aR2420y28:sound%2FFlies_loop_start.mp3hgoR2i47748R3R2314R5y26:sound%2FFlower_close01.oggR2316aR2422y26:sound%2FFlower_close01.mp3hgoR2i35027R3R2314R5y25:sound%2FFlower_open01.oggR2316aR2424y25:sound%2FFlower_open01.mp3hgoR2i18861R3R2314R5y22:sound%2Fgift_hit01.oggR2316aR2426y22:sound%2Fgift_hit01.mp3hgoR2i21111R3R2314R5y22:sound%2Fgift_hit02.oggR2316aR2428y22:sound%2Fgift_hit02.mp3hgoR2i14606R3R2314R5y22:sound%2Fgift_hit03.oggR2316aR2430y22:sound%2Fgift_hit03.mp3hgoR2i12191R3R2314R5y22:sound%2Fgift_hit04.oggR2316aR2432y22:sound%2Fgift_hit04.mp3hgoR2i15394R3R2314R5y21:sound%2Fheartbeat.oggR2316aR2434y21:sound%2Fheartbeat.mp3hgoR2i65480R3R2314R5y26:sound%2FHoneycomb_pick.oggR2316aR2436y26:sound%2FHoneycomb_pick.mp3hgoR2i33741R3R2314R5y16:sound%2Fleaf.oggR2316aR2438y16:sound%2Fleaf.mp3hgoR2i12504R3R2314R5y16:sound%2Fmeow.oggR2316aR2440y16:sound%2Fmeow.mp3hgoR2i10217R3R2314R5y15:sound%2Fnet.oggR2316aR2442y15:sound%2Fnet.mp3hgoR2i22405R3R2314R5y24:sound%2Foyster_close.oggR2316aR2444y24:sound%2Foyster_close.mp3hgoR2i27884R3R2314R5y23:sound%2Foyster_open.oggR2316aR2446y23:sound%2Foyster_open.mp3hgoR2i9648R3R2314R5y18:sound%2Fparrot.oggR2316aR2448y18:sound%2Fparrot.mp3hgoR2i28375R3R2314R5y17:sound%2Fparty.oggR2316aR2450y17:sound%2Fparty.mp3hgoR2i25774R3R2314R5y17:sound%2Fpfahl.oggR2316aR2452y17:sound%2Fpfahl.mp3hgoR2i7693R3R2314R5y15:sound%2Fpig.oggR2316aR2454y15:sound%2Fpig.mp3hgoR2i28597R3R2314R5y16:sound%2Fport.oggR2316aR2456y16:sound%2Fport.mp3hgoR2i19365R3R2314R5y21:sound%2Fpumpkin01.oggR2316aR2458y21:sound%2Fpumpkin01.mp3hgoR2i12003R3R2314R5y21:sound%2Fpumpkin02.oggR2316aR2460y21:sound%2Fpumpkin02.mp3hgoR2i15488R3R2314R5y21:sound%2Fpumpkin03.oggR2316aR2462y21:sound%2Fpumpkin03.mp3hgoR2i10172R3R2314R5y21:sound%2Fpumpkin04.oggR2316aR2464y21:sound%2Fpumpkin04.mp3hgoR2i42208R3R2314R5y27:sound%2Fpumpkin_shrub01.oggR2316aR2466y27:sound%2Fpumpkin_shrub01.mp3hgoR2i34616R3R2314R5y27:sound%2Fpumpkin_shrub02.oggR2316aR2468y27:sound%2Fpumpkin_shrub02.mp3hgoR2i27130R3R2314R5y27:sound%2Fpumpkin_shrub03.oggR2316aR2470y27:sound%2Fpumpkin_shrub03.mp3hgoR2i69123R3R2314R5y18:sound%2Frocket.oggR2316aR2472y18:sound%2Frocket.mp3hgoR2i63917R3R2314R5y24:sound%2FShell_pick01.oggR2316aR2474y24:sound%2FShell_pick01.mp3hgoR2i59228R3R2314R5y24:sound%2FShell_pick02.oggR2316aR2476y24:sound%2FShell_pick02.mp3hgoR2i55184R3R2314R5y24:sound%2FShell_pick03.oggR2316aR2478y24:sound%2FShell_pick03.mp3hgoR2i14175R3R2314R5y17:sound%2Fskunk.oggR2316aR2480y17:sound%2Fskunk.mp3hgoR2i22015R3R2314R5y17:sound%2Fsnake.oggR2316aR2482y17:sound%2Fsnake.mp3hgoR2i25723R3R2314R5y17:sound%2Fsnap0.oggR2316aR2484y17:sound%2Fsnap0.mp3hgoR2i28376R3R2314R5y17:sound%2Fsnap1.oggR2316aR2486y17:sound%2Fsnap1.mp3hgoR2i21510R3R2314R5y17:sound%2Fsnap2.oggR2316aR2488y17:sound%2Fsnap2.mp3hgoR2i24603R3R2314R5y17:sound%2Fsnap3.oggR2316aR2490y17:sound%2Fsnap3.mp3hgoR2i20911R3R2314R5y21:sound%2Fsnowflake.oggR2316aR2492y21:sound%2Fsnowflake.mp3hgoR2i112975R3R2314R5y21:sound%2Fsnowman01.oggR2316aR2494y21:sound%2Fsnowman01.mp3hgoR2i108001R3R2314R5y21:sound%2Fsnowman02.oggR2316aR2496y21:sound%2Fsnowman02.mp3hgoR2i117445R3R2314R5y28:sound%2Fsnowman_finished.oggR2316aR2498y28:sound%2Fsnowman_finished.mp3hgoR2i21593R3R2314R5y17:sound%2Ftweet.oggR2316aR2500y17:sound%2Ftweet.mp3hgoR2i24066R3R2314R5y17:sound%2Fwater.oggR2316aR2502y17:sound%2Fwater.mp3hgoR2i13575R3R2314R5y15:sound%2Fwin.oggR2316aR2504y15:sound%2Fwin.mp3hgoR2i61287R3R2314R5R2317R2316aR2315R2317hgoR2i11565R3R2314R5R2319R2316aR2318R2319hgoR2i6731R3R2314R5R2321R2316aR2320R2321hgoR2i8402R3R2314R5R2323R2316aR2322R2323hgoR2i12163R3R2314R5R2325R2316aR2324R2325hgoR2i3387R3R2314R5R2327R2316aR2326R2327hgoR2i30301R3R2314R5R2329R2316aR2328R2329hgoR2i30301R3R2314R5R2331R2316aR2330R2331hgoR2i30301R3R2314R5R2333R2316aR2332R2333hgoR2i9657R3R2314R5R2335R2316aR2334R2335hgoR2i21523R3R2314R5R2337R2316aR2336R2337hgoR2i46183R3R2314R5R2339R2316aR2338R2339hgoR2i8194R3R2314R5R2341R2316aR2340R2341hgoR2i6313R3R2314R5R2343R2316aR2342R2343hgoR2i8821R3R2314R5R2345R2316aR2344R2345hgoR2i9448R3R2314R5R2347R2316aR2346R2347hgoR2i12582R3R2314R5R2349R2316aR2348R2349hgoR2i28883R3R2314R5R2351R2316aR2350R2351hgoR2i32644R3R2314R5R2353R2316aR2352R2353hgoR2i7985R3R2314R5R2355R2316aR2354R2355hgoR2i17553R3R2314R5R2357R2316aR2356R2357hgoR2i28256R3R2314R5R2359R2316aR2358R2359hgoR2i18852R3R2314R5R2361R2316aR2360R2361hgoR2i13418R3R2314R5R2363R2316aR2362R2363hgoR2i16762R3R2314R5y15:sound%2Fcat.mp3R2316aR2506hgoR2i29883R3R2314R5R2365R2316aR2364R2365hgoR2i32301R3R2314R5R2367R2316aR2366R2367hgoR2i2133R3R2314R5R2369R2316aR2368R2369hgoR2i15597R3R2314R5R2371R2316aR2370R2371hgoR2i9261R3R2314R5R2373R2316aR2372R2373hgoR2i78093R3R2314R5R2375R2316aR2374R2375hgoR2i18477R3R2314R5R2377R2316aR2376R2377hgoR2i60561R3R2314R5R2379R2316aR2378R2379hgoR2i45369R3R2314R5R2381R2316aR2380R2381hgoR2i35756R3R2314R5R2383R2316aR2382R2383hgoR2i72097R3R2314R5R2385R2316aR2384R2385hgoR2i72097R3R2314R5R2387R2316aR2386R2387hgoR2i59558R3R2314R5R2389R2316aR2388R2389hgoR2i17344R3R2314R5R2391R2316aR2390R2391hgoR2i7567R3R2314R5R2393R2316aR2392R2393hgoR2i38415R3R2314R5R2395R2316aR2394R2395hgoR2i52208R3R2314R5R2397R2316aR2396R2397hgoR2i12717R3R2314R5R2399R2316aR2398R2399hgoR2i19434R3R2314R5R2401R2316aR2400R2401hgoR2i10075R3R2314R5R2403R2316aR2402R2403hgoR2i27139R3R2314R5R2405R2316aR2404R2405hgoR2i37170R3R2314R5R2407R2316aR2406R2407hgoR2i24494R3R2314R5R2409R2316aR2408R2409hgoR2i23240R3R2314R5R2411R2316aR2410R2411hgoR2i23867R3R2314R5R2413R2316aR2412R2413hgoR2i57147R3R2314R5R2415R2316aR2414R2415hgoR2i62789R3R2314R5R2417R2316aR2416R2417hgoR2i63737R3R2314R5R2419R2316aR2418R2419hgoR2i18389R3R2314R5R2421R2316aR2420R2421hgoR2i63737R3R2314R5R2423R2316aR2422R2423hgoR2i42840R3R2314R5R2425R2316aR2424R2425hgoR2i17114R3R2314R5R2427R2316aR2426R2427hgoR2i18368R3R2314R5R2429R2316aR2428R2429hgoR2i13979R3R2314R5R2431R2316aR2430R2431hgoR2i11472R3R2314R5R2433R2316aR2432R2433hgoR2i57513R3R2314R5R2435R2316aR2434R2435hgoR2i19434R3R2314R5R2437R2316aR2436R2437hgoR2i43929R3R2314R5R2439R2316aR2438R2439hgoR2i13000R3R2314R5R2441R2316aR2440R2441hgoR2i8684R3R2314R5R2443R2316aR2442R2443hgoR2i27166R3R2314R5R2445R2316aR2444R2445hgoR2i37615R3R2314R5R2447R2316aR2446R2447hgoR2i11328R3R2314R5R2449R2316aR2448R2449hgoR2i29560R3R2314R5R2451R2316aR2450R2451hgoR2i27211R3R2314R5R2453R2316aR2452R2453hgoR2i6313R3R2314R5R2455R2316aR2454R2455hgoR2i28465R3R2314R5R2457R2316aR2456R2457hgoR2i25748R3R2314R5R2459R2316aR2458R2459hgoR2i13405R3R2314R5R2461R2316aR2460R2461hgoR2i15913R3R2314R5R2463R2316aR2462R2463hgoR2i11524R3R2314R5R2465R2316aR2464R2465hgoR2i49386R3R2314R5R2467R2316aR2466R2467hgoR2i42072R3R2314R5R2469R2316aR2468R2469hgoR2i30578R3R2314R5R2471R2316aR2470R2471hgoR2i76076R3R2314R5R2473R2316aR2472R2473hgoR2i77321R3R2314R5R2475R2316aR2474R2475hgoR2i67917R3R2314R5R2477R2316aR2476R2477hgoR2i62693R3R2314R5R2479R2316aR2478R2479hgoR2i10075R3R2314R5R2481R2316aR2480R2481hgoR2i22613R3R2314R5R2483R2316aR2482R2483hgoR2i23867R3R2314R5R2485R2316aR2484R2485hgoR2i28883R3R2314R5R2487R2316aR2486R2487hgoR2i21777R3R2314R5R2489R2316aR2488R2489hgoR2i23449R3R2314R5R2491R2316aR2490R2491hgoR2i16971R3R2314R5R2493R2316aR2492R2493hgoR2i46369R3R2314R5R2495R2316aR2494R2495hgoR2i45792R3R2314R5R2497R2316aR2496R2497hgoR2i41325R3R2314R5R2499R2316aR2498R2499hgoR2i23031R3R2314R5R2501R2316aR2500R2501hgoR2i15419R3R2314R5R2503R2316aR2502R2503hgoR2i14254R3R2314R5R2505R2316aR2504R2505hgoR2i115992R3R2314R5y17:sound%2Fbirds.oggR2316aR2507y17:sound%2Fbirds.mp3hgoR2i655654R3R2314R5y16:sound%2Fcave.oggR2316aR2509y16:sound%2Fcave.mp3hgoR2i328628R3R2314R5y18:sound%2Fjungle.oggR2316aR2511y18:sound%2Fjungle.mp3hgoR2i284532R3R2314R5y17:sound%2Focean.oggR2316aR2513y17:sound%2Focean.mp3hgoR2i126006R3R2314R5y18:sound%2Fpeople.oggR2316aR2515y18:sound%2Fpeople.mp3hgoR2i407099R3R2314R5y17:sound%2Friver.oggR2316aR2517y17:sound%2Friver.mp3hgoR2i269511R3R2314R5y17:sound%2Fscary.oggR2316aR2519y17:sound%2Fscary.mp3hgoR2i286065R3R2314R5y27:sound%2Funderwater_loop.oggR2316aR2521y27:sound%2Funderwater_loop.mp3hgoR2i464815R3R2314R5y16:sound%2Fwind.oggR2316aR2523y16:sound%2Fwind.mp3hgoR2i95337R3R2314R5R2508R2316aR2507R2508hgoR2i402955R3R2314R5R2510R2316aR2509R2510hgoR2i269626R3R2314R5R2512R2316aR2511R2512hgoR2i246638R3R2314R5R2514R2316aR2513R2514hgoR2i114981R3R2314R5R2516R2316aR2515R2516hgoR2i340679R3R2314R5R2518R2316aR2517R2518hgoR2i309750R3R2314R5R2520R2316aR2519R2520hgoR2i389349R3R2314R5R2522R2316aR2521R2522hgoR2i424039R3R2314R5R2524R2316aR2523R2524hgoR2i1222058R3R2314R5y17:sound%2Ftheme.oggR2316aR2525y17:sound%2Ftheme.mp3hgoR2i2720642R3R2314R5y22:sound%2Ftheme_farm.oggR2316aR2527y22:sound%2Ftheme_farm.mp3hgoR2i4567892R3R2314R5y24:sound%2Ftheme_jungle.oggR2316aR2529y24:sound%2Ftheme_jungle.mp3hgoR2i2893684R3R2314R5y22:sound%2Ftheme_lava.oggR2316aR2531y22:sound%2Ftheme_lava.mp3hgoR2i2934522R3R2314R5y26:sound%2Ftheme_medieval.oggR2316aR2533y26:sound%2Ftheme_medieval.mp3hgoR2i3254530R3R2314R5y24:sound%2Ftheme_safari.oggR2316aR2535y24:sound%2Ftheme_safari.mp3hgoR2i2785328R3R2314R5y23:sound%2Ftheme_water.oggR2316aR2537y23:sound%2Ftheme_water.mp3hgoR2i3435110R3R2314R5y24:sound%2Ftheme_winter.oggR2316aR2539y24:sound%2Ftheme_winter.mp3hgoR2i988726R3R2314R5R2526R2316aR2525R2526hgoR2i1922611R3R2314R5R2528R2316aR2527R2528hgoR2i2808684R3R2314R5R2530R2316aR2529R2530hgoR2i2003068R3R2314R5R2532R2316aR2531R2532hgoR2i2114872R3R2314R5R2534R2316aR2533R2534hgoR2i2334301R3R2314R5R2536R2316aR2535R2536hgoR2i1826480R3R2314R5R2538R2316aR2537R2538hgoR2i2562088R3R2314R5R2540R2316aR2539R2540hgh","rootPath":null,"version":2,"libraryArgs":[],"libraryType":null}',
da.rootPath));ua.registerLibrary("default",a);a=ua.getLibrary("default");null!=a?da.preloadLibraries.push(a):da.preloadLibraryNames.push("default")};Math.__name__="Math";var w=function(){};f.Reflect=w;w.__name__="Reflect";w.field=function(a,b){try{return a[b]}catch(d){return null}};w.getProperty=function(a,b){var d;if(null==a)return null;var l=a.__properties__?d=a.__properties__["get_"+b]:!1;return l?a[d]():a[b]};w.fields=function(a){var b=[];if(null!=a){var d=Object.prototype.hasOwnProperty,l;for(l in a)"__id__"!=
l&&"hx__closures__"!=l&&d.call(a,l)&&b.push(l)}return b};w.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};w.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__?!0:"function"==b?null!=(a.__name__||a.__ename__):!1};w.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};w.copy=function(a){if(null==a)return null;for(var b={},d=0,l=w.fields(a);d<l.length;){var p=l[d];
++d;b[p]=w.field(a,p)}return b};var R=function(){};f.Std=R;R.__name__="Std";R.string=function(a){return V.__string_rec(a,"")};R.parseInt=function(a){a=parseInt(a);return isNaN(a)?null:a};R.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var Pb=function(){};f["_String.String_Impl_"]=Pb;Pb.__name__="_String.String_Impl_";Pb.fromCharCode=function(a){return String.fromCodePoint(a)};var Gb=function(){this.b=""};f.StringBuf=Gb;Gb.__name__="StringBuf";Gb.prototype={__class__:Gb};var ka=function(){};
f.StringTools=ka;ka.__name__="StringTools";ka.htmlEscape=function(a,b){for(var d="",l=0,p=a;l<p.length;){a=p;var c=l++,e=a.charCodeAt(c);55296<=e&&56319>=e&&(e=e-55232<<10|a.charCodeAt(c+1)&1023);a=e;65536<=a&&++l;switch(a){case 34:d=b?d+"&quot;":d+String.fromCodePoint(a);break;case 38:d+="&amp;";break;case 39:d=b?d+"&#039;":d+String.fromCodePoint(a);break;case 60:d+="&lt;";break;case 62:d+="&gt;";break;default:d+=String.fromCodePoint(a)}}return d};ka.startsWith=function(a,b){return a.length>=b.length?
0==a.lastIndexOf(b,0):!1};ka.endsWith=function(a,b){var d=b.length,l=a.length;return l>=d?a.indexOf(b,l-d)==l-d:!1};ka.isSpace=function(a,b){a=E.cca(a,b);return 8<a&&14>a?!0:32==a};ka.ltrim=function(a){for(var b=a.length,d=0;d<b&&ka.isSpace(a,d);)++d;return 0<d?E.substr(a,d,b-d):a};ka.rtrim=function(a){for(var b=a.length,d=0;d<b&&ka.isSpace(a,b-d-1);)++d;return 0<d?E.substr(a,0,b-d):a};ka.trim=function(a){return ka.ltrim(ka.rtrim(a))};ka.lpad=function(a,b,d){if(0>=b.length)return a;var l="";for(d-=
a.length;l.length<d;)l+=null==b?"null":""+b;return l+(null==a?"null":""+a)};ka.replace=function(a,b,d){return a.split(b).join(d)};ka.hex=function(a,b){var d="";do d="0123456789ABCDEF".charAt(a&15)+d,a>>>=4;while(0<a);if(null!=b)for(;d.length<b;)d="0"+d;return d};var jb=ra.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:r},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:r},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",
toString:r},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:r},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:r},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:r},TClass:(sa=function(a){return{_hx_index:6,c:a,__enum__:"ValueType",toString:r}},sa._hx_name="TClass",sa.__params__=["c"],sa),TEnum:(sa=function(a){return{_hx_index:7,e:a,__enum__:"ValueType",toString:r}},sa._hx_name="TEnum",sa.__params__=["e"],sa),TUnknown:{_hx_name:"TUnknown",
_hx_index:8,__enum__:"ValueType",toString:r}};jb.__constructs__=[jb.TNull,jb.TInt,jb.TFloat,jb.TBool,jb.TObject,jb.TFunction,jb.TClass,jb.TEnum,jb.TUnknown];var Ca=function(){};f.Type=Ca;Ca.__name__="Type";Ca.resolveEnum=function(a){return ra[a]};Ca.createInstance=function(a,b){return new (Function.prototype.bind.apply(a,[null].concat(b)))};Ca.createEnum=function(a,b,d){var l=w.field(a,b);if(null==l)throw T.thrown("No such constructor "+b);if(w.isFunction(l)){if(null==d)throw T.thrown("Constructor "+
b+" need parameters");return l.apply(a,d)}if(null!=d&&0!=d.length)throw T.thrown("Constructor "+b+" does not need parameters");return l};Ca.typeof=function(a){switch(typeof a){case "boolean":return jb.TBool;case "function":return a.__name__||a.__ename__?jb.TObject:jb.TFunction;case "number":return Math.ceil(a)==a%2147483648?jb.TInt:jb.TFloat;case "object":if(null==a)return jb.TNull;var b=a.__enum__;if(null!=b)return jb.TEnum(ra[b]);a=V.getClass(a);return null!=a?jb.TClass(a):jb.TObject;case "string":return jb.TClass(String);
case "undefined":return jb.TNull;default:return jb.TUnknown}};Ca.enumParameters=function(a){var b=ra[a.__enum__].__constructs__[a._hx_index].__params__;if(null!=b){for(var d=[],l=0;l<b.length;){var p=b[l];++l;d.push(a[p])}return d}return[]};var U={toFloat:function(a){return 0>a?4294967296+a:a+0}},A={toString:function(a){switch(a){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},
Q=function(a){this.nodeType=a;this.children=[];this.attributeMap=new cb};f.Xml=Q;Q.__name__="Xml";Q.parse=function(a){return De.parse(a)};Q.createElement=function(a){var b=new Q(Q.Element);if(b.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==b.nodeType?"null":A.toString(b.nodeType)));b.nodeName=a;return b};Q.createPCData=function(a){var b=new Q(Q.PCData);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==b.nodeType?
"null":A.toString(b.nodeType)));b.nodeValue=a;return b};Q.createCData=function(a){var b=new Q(Q.CData);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":A.toString(b.nodeType)));b.nodeValue=a;return b};Q.createComment=function(a){var b=new Q(Q.Comment);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":A.toString(b.nodeType)));b.nodeValue=a;return b};Q.createDocType=
function(a){var b=new Q(Q.DocType);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":A.toString(b.nodeType)));b.nodeValue=a;return b};Q.createProcessingInstruction=function(a){var b=new Q(Q.ProcessingInstruction);if(b.nodeType==Q.Document||b.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":A.toString(b.nodeType)));b.nodeValue=a;return b};Q.createDocument=function(){return new Q(Q.Document)};
Q.prototype={get:function(a){if(this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return this.attributeMap.h[a]},set:function(a,b){if(this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));this.attributeMap.h[a]=b},exists:function(a){if(this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==
this.nodeType?"null":A.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,a)},attributes:function(){if(this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return new xg(this.attributeMap.h)},elements:function(){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));
for(var a=[],b=0,d=this.children;b<d.length;){var l=d[b];++b;l.nodeType==Q.Element&&a.push(l)}return new wg(a)},elementsNamed:function(a){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));for(var b=[],d=0,l=this.children;d<l.length;){var p=l[d];++d;if(p.nodeType==Q.Element){if(p.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==p.nodeType?
"null":A.toString(p.nodeType)));var c=p.nodeName==a}else c=!1;c&&b.push(p)}return new wg(b)},firstElement:function(){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));for(var a=0,b=this.children;a<b.length;){var d=b[a];++a;if(d.nodeType==Q.Element)return d}return null},addChild:function(a){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+
(null==this.nodeType?"null":A.toString(this.nodeType)));null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=Q.Document&&this.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":A.toString(this.nodeType)));return E.remove(this.children,a)?(a.parent=null,!0):!1},toString:function(){return Wh.print(this)},__class__:Q};var wb=function(){};f["system.base.object.IXDisposeable"]=
wb;wb.__name__="system.base.object.IXDisposeable";wb.__isInterface__=!0;wb.prototype={__class__:wb};var Ha=function(){};f["system.base.object.XDisposeable"]=Ha;Ha.__name__="system.base.object.XDisposeable";Ha.__interfaces__=[wb];Ha.prototype={dispose:function(){},__class__:Ha};var Fa=function(){};f["system.base.object.XBaseObject"]=Fa;Fa.__name__="system.base.object.XBaseObject";Fa.__super__=Ha;Fa.prototype=k(Ha.prototype,{registerXEventListener:function(a,b,d){this.mXEventListenerMap=null!=this.mXEventListenerMap?
this.mXEventListenerMap:new oe;var l=this.mXEventListenerMap.h[a.__id__];null==l&&(l=new Sa,this.mXEventListenerMap.set(a,l));var p=l.h[b];null==p&&(p=[],l.h.hasOwnProperty(b)&&E.remove(l.mKeys,b),l.h[b]=p,l.mKeys.push(b));-1==p.indexOf(d)&&(p.push(d),a.addXEventListener(b,d));return d},releaseXEventListener:function(a,b,d){if(null!=this.mXEventListenerMap&&null!=b&&null!=a){var l=this.mXEventListenerMap.h[a.__id__];null!=l&&(l=l.h[b],null!=l&&-1!=l.indexOf(d)&&(E.remove(l,d),a.removeXEventListener(b,
d)))}},register:function(a){this.mRegisterList=null!=this.mRegisterList?this.mRegisterList:[];E.remove(this.mRegisterList,a);this.mRegisterList.push(a);return a},unregister:function(a){return null!=this.mRegisterList?E.remove(this.mRegisterList,a):!1},callRequest:function(a,b,d,l,p,c){this.register(cd.call(a,b,d,l,p,c))},dispose:function(){if(null!=this.mXEventListenerMap){for(var a=this.mXEventListenerMap.keys();a.hasNext();)for(var b=a.next(),d=this.mXEventListenerMap.h[b.__id__],l=d.keys();l.hasNext();)for(var p=
l.next(),c=d.h[p],e=0;e<c.length;)b.removeXEventListener(p,c[e++]);this.mXEventListenerMap=null}if(null!=this.mRegisterList){for(;0<this.mRegisterList.length;)a=this.mRegisterList.pop(),null!=a&&a.dispose();this.mRegisterList=null}Ha.prototype.dispose.call(this)},__class__:Fa});var kb=function(){};f["system.base.event.IXEventDispatcher"]=kb;kb.__name__="system.base.event.IXEventDispatcher";kb.__isInterface__=!0;kb.__interfaces__=[wb];kb.prototype={__class__:kb};var ja=function(a){this.type=a};f["system.base.event.XEvent"]=
ja;ja.__name__="system.base.event.XEvent";ja.__super__=Ha;ja.prototype=k(Ha.prototype,{__class__:ja});var H=function(){this.mXEventListener=null};f["system.base.event.XEventDispatcher"]=H;H.__name__="system.base.event.XEventDispatcher";H.__interfaces__=[kb];H.__super__=Fa;H.prototype=k(Fa.prototype,{addXEventListener:function(a,b){null==this.mXEventListener&&(this.mXEventListener=new Sa);var d=this.mXEventListener.h[a];if(null==d){d=[];var l=this.mXEventListener;l.h.hasOwnProperty(a)&&E.remove(l.mKeys,
a);l.h[a]=d;l.mKeys.push(a)}-1==d.indexOf(b)&&d.push(b)},removeXEventListener:function(a,b){null!=this.mXEventListener&&(a=this.mXEventListener.h[a],null!=a&&E.remove(a,b))},dispatchXEvent:function(a){var b=!1;if(null!=this.mXEventListener){a.stop=!1;a.target=this;var d=this.mXEventListener.h[a.type];if(null!=d){for(var l=0<H.sExecutor.length?H.sExecutor.pop():[],p=d.length,c=0;c<p;)l.push(d[p-c++-1]);for(;0<l.length;)if(l.pop()(a),a.stop){for(b=!0;0<l.length;)l.pop();break}H.sExecutor.push(l)}a.target=
null}return!b},dispatchSimpleXEvent:function(a,b){var d=0<H.sStdEvents.length?H.sStdEvents.pop():new ja;d.type=a;d.data=b;a=this.dispatchXEvent(d);H.sStdEvents.push(d);return a},dispose:function(){this.dispatchSimpleXEvent("XEventDispatcher::dispose");this.mXEventListener=null;Fa.prototype.dispose.call(this)},__class__:H});var Y=function(){this.startData={};this.serverTimeDiff=0;this.overrideIcon=this.overrideName=null;this.started=!1;this.resourceEvent=new qk;this.vTeamCardData={};this.vCardData=
{};this.resetResources();this.mXEventListener=null};f["backend.BackendLayer"]=Y;Y.__name__="backend.BackendLayer";Y.__super__=H;Y.prototype=k(H.prototype,{resetResources:function(){this.resources={}},get_uid:function(){return u.get_instance().get_uid()},getServerTime:function(){return Math.round(C.get_now().getTime()-this.serverTimeDiff)},start:function(){if(!this.get_connected()){this.resetResources();var a=u.get_instance().get_resourceStorage().get_localData();0<w.fields(a).length&&this.applyResources(a);
this.onStarted()}this.mVCardStorage=new bf("vcard");a=this.mVCardStorage.get_localData();for(var b=C.get_now().getTime()-432E6,d=w.fields(a),l=0;l<d.length;){var p=d[l];++l;var c=w.field(a,p);null!=c&&(c.vcardCreationTime>b?(c.uid=p,this.vCardData[p]=new Va(c)):this.mVCardStorage.deleteEntry(p))}},onStarted:function(){this.started=!0;this.dispatchSimpleXEvent("BackendLayer:READY_EVENT")},get_connected:function(){return!1},getResource:function(a){return Object.prototype.hasOwnProperty.call(this.resources,
a)?ia.toFloat(w.field(this.resources,a)):0},getDynamicResource:function(a){return Object.prototype.hasOwnProperty.call(this.resources,a)?w.field(this.resources,a):null},setResource:function(a,b){var d=w.field(this.resources,a);this.resources[a]=b;u.get_instance().get_resourceStorage().setEntry(a,b);this.resourceEvent.type="RESOURCE_UPDATE";this.resourceEvent.resourceType=a;this.resourceEvent.resourceValue=b|0;this.resourceEvent.resourceOldValue=null!=d?d|0:null;this.dispatchXEvent(this.resourceEvent);
return b},addResource:function(a,b){b=this.getResource(a)+b;this.setResource(a,b);return b},canAfford:function(a){if(null!=a)for(var b=w.fields(a),d=0;d<b.length;){var l=b[d];++d;if(this.getResource(l)<w.field(a,l))return!1}return!0},spend:function(a){if(null!=a&&this.canAfford(a)){for(var b=w.fields(a),d=0;d<b.length;){var l=b[d];++d;this.addResource(l,-w.field(a,l))}return!0}return!1},consume:function(a,b){if(null!=a)for(var d=w.fields(a),l=0;l<d.length;){var p=d[l];++l;this.addResource(p,w.field(a,
p))}if(null!=b)for(d=w.fields(b),l=0;l<d.length;)p=d[l],++l,this.setResource(p,w.field(b,p))},applyResources:function(a,b){null==b&&(b=!1);(null==this.resources||b)&&this.resetResources();var d=w.fields(this.resources);for(b=0;b<d.length;){var l=d[b];++b;Object.prototype.hasOwnProperty.call(a,l)||(a[l]=null)}d=w.fields(a);for(b=0;b<d.length;){l=d[b];++b;var p=w.field(this.resources,l),c=w.field(a,l);p!=c&&(this.resources[l]=c,this.resourceEvent.type="RESOURCE_UPDATE",this.resourceEvent.resourceType=
l,this.resourceEvent.resourceValue=c,this.resourceEvent.resourceOldValue=p,this.dispatchXEvent(this.resourceEvent))}d=w.fields(this.resources);d.sort(function(a,b){return a<b?-1:1});a="";for(b=0;b<d.length;)a+=R.string(w.field(this.resources,d[b++]));this.mFluff=Yf.encode(a)},defaultOnError:function(a,b){},__class__:Y,__properties__:{get_uid:"get_uid",get_connected:"get_connected"}});var Db=function(){Y.call(this);ba.instance.addXEventListener("FirebaseManager::AUTH_CHANGE_EVENT",c(this,this.onFirebaseAuthChange));
ba.instance.addXEventListener("FirebaseManager::SIGN_OUT_EVENT",c(this,this.onFirebaseSignOut))};f["backend.FirebaseLayer"]=Db;Db.__name__="backend.FirebaseLayer";Db.__super__=Y;Db.prototype=k(Y.prototype,{get_uid:function(){return this.get_connected()?ba.instance.uid:Y.prototype.get_uid.call(this)},onFirebaseAuthChange:function(a){this.started=!1;this.start()},onFirebaseSignOut:function(a){this.dispatchSimpleXEvent("BackendLayer:SIGN_OUT")},init:function(){ba.instance.allow?ba.instance.init(null):
this.start()},start:function(){var a=this;if(this.get_connected()){var b={aid:u.get_instance().get_affiliateId(),guid:u.get_instance().get_uid()};null!=this.overrideName&&(b.name=this.overrideName);null!=this.overrideIcon&&(b.icon=this.overrideIcon);this.call("start",b).onComplete(function(b){a.startData=b;var d=C.get_now().getTime()-b.serverTime;a.serverTimeDiff=Math.round(d);if(null!=b.name||null!=b.icon)a.overrideName=a.overrideIcon=null,a.getVCard(b.uid,!0);a.resetResources();a.mResourceListener=
ba.instance.listenTo("users/"+ba.instance.uid+"/data/resources",function(b){if(null!=b&&(a.applyResources(b),!a.started))a.onStarted()});Object.prototype.hasOwnProperty.call(b,"discount")&&(b=w.field(b,"discount"),null!=b&&u.get_instance().get_payment().setDiscount(b.startTime,b.duration,b.bonus))}).onError(function(b){a.onStarted()})}else null!=this.mResourceListener&&(ba.instance.stopListen(this.mResourceListener),this.mResourceListener=null);Y.prototype.start.call(this)},get_connected:function(){return ba.instance.signedIn},
setResource:function(a,b){return this.get_connected()?(ba.instance.write("users/"+ba.instance.uid+"/data/resources/"+R.string(a),b),b):Y.prototype.setResource.call(this,a,b)},addResource:function(a,b){var d=this.getResource(a)+b;return this.get_connected()?(ba.instance.write("users/"+ba.instance.uid+"/data/resources/"+R.string(a),firebase.database.ServerValue.increment(b)),d):Y.prototype.addResource.call(this,a,b)},consume:function(a,b){if(this.get_connected()){var d={};if(null!=a)for(var l=w.fields(a),
p=0;p<l.length;){var c=l[p];++p;d[c]=firebase.database.ServerValue.increment(w.field(a,c))}if(null!=b)for(l=w.fields(b),p=0;p<l.length;)c=l[p],++p,d[c]=w.field(b,c);ba.instance.update("users/"+ba.instance.uid+"/data/resources",d)}else Y.prototype.consume.call(this,a,b)},getVCard:function(a,b){null==b&&(b=!1);var d=this;if(b){var l=new Xa;this.getVCard(a,!1).onComplete(function(p){ba.instance.read("users/"+a+"/vcard",function(c){if(null!=c){var e=null!=c?c.tournaments_won:0,f=c,D=w.isObject(f)&&Object.prototype.hasOwnProperty.call(f,
"cid")?w.field(f,"cid"):null;f=c;var g=w.isObject(f)&&Object.prototype.hasOwnProperty.call(f,"teamId")?w.field(f,"teamId"):null;f=c;var h=p.icon;f=w.isObject(f)&&Object.prototype.hasOwnProperty.call(f,"icon")?w.field(f,"icon"):h;null!=c&&(b||e>p.tournamentsWon||p.cid!=D||p.teamId!=g||p.icon!=f)&&(p.applyData(c),c=w.field(d.mVCardStorage.getEntry(a),a),null==c&&(c={name:p.name,icon:p.icon,uid:a,cid:D}),c.tournaments_won=e,c.cid=D,c.icon=f,d.mVCardStorage.setEntry(a,c));l.complete(p)}else l.error({error:"Vcard not found "})})});
return l.future}var p=w.field(this.vCardData,a);if(p instanceof Va){if(p.isValid())return oa.withValue(p)}else if(p instanceof oa)return p;var c=new Xa;this.vCardData[a]=c.future;ba.instance.read("users/"+a+"/vcard").onComplete(function(b){null==b&&(b={});b.uid=a;var l=new Va(b);d.vCardData[a]=l;d.mVCardStorage.setEntry(a,b);c.complete(l)}).onError(function(a){c.error({error:"Vcard not found "})});return c.future},getVCardTeam:function(a,b){null==b&&(b=!1);if(b){var d=new Xa;this.getVCardTeam(a,!1).onComplete(function(b){ba.instance.read("teams/"+
a+"/vcard",function(a){b.applyData(a);d.complete(b)})});return d.future}b=w.field(this.vTeamCardData,a);if(b instanceof gb){if(b.isValid())return oa.withValue(b)}else if(b instanceof oa)return b;var l=new Xa;this.vTeamCardData[a]=l.future;ba.instance.read("teams/"+a+"/vcard",function(b){null==b&&(b={});b.teamId=a;b=new gb(b);l.complete(b)});return l.future},call:function(a,b,d){null==d&&(d=!0);var l=this,p=new Xa;cd.hasService("firebase")?cd.call("firebase",a,b,function(c){if(Object.prototype.hasOwnProperty.call(c.data,
"error"))if(9==c.data.code||null!=c.data.error&&-1!=c.data.error.indexOf("The Firebase token has expired"))ba.instance.getNewToken().onComplete(function(d){l.call(a,b).onComplete(function(a){p.complete(a)})}).onError(function(a){d&&l.defaultOnError(c.data,c.params);p.error(c.data)});else d&&l.defaultOnError(c.data,c.params),p.error(c.data);else p.complete(c.data)},function(a){p.error(a)}):p.error(8);return p.future},readDB:function(a){return ba.instance.read(a)},__class__:Db});var sb=function(){this.loggedIn=
!1;this.mEventCounter=0;this.mPromiseMap=new Yb;this.registerXEventListener(Of.get_instance(),"WebSocketManager:MESSAGE",c(this,this.onWebSocketMessage));this.registerXEventListener(Of.get_instance(),"WebSocketManager:CONNECTED",c(this,this.onWebSocketConnected));this.registerXEventListener(Of.get_instance(),"WebSocketManager:DISCONNECTED",c(this,this.onWebSocketDisconnected))};f["backend.ServerManager"]=sb;sb.__name__="backend.ServerManager";sb.__properties__={get_instance:"get_instance"};sb.get_instance=
function(){null==sb.instance&&(sb.instance=new sb);return sb.instance};sb.__super__=Fa;sb.prototype=k(Fa.prototype,{onWebSocketDisconnected:function(a){this.loggedIn=!1},onWebSocketConnected:function(a){var b=this,d={firebase:ba.instance.token};this.sendEvent(3,{name:ba.instance.name,icon:ba.instance.icon,auth:d}).onComplete(function(a){b.onLoggedIn()}).onError(function(a){if(3==a.error.code)b.sendEvent(2,d).onComplete(function(a){b.onLoggedIn()})})},onWebSocketMessage:function(a){a=a.data;if(null!=
a){var b=a.i;if(this.mPromiseMap.h.hasOwnProperty(b)){var d=this.mPromiseMap.h[b];Object.prototype.hasOwnProperty.call(a,"error")?d.error(a):d.complete(a);this.mPromiseMap.remove(b)}}},sendEvent:function(a,b,d){null==d&&(d=!0);var l=null;switch(a){case 2:case 3:break;default:if(!this.loggedIn)return oa.withError({error:{code:2}})}a={e:a};null!=b&&(a.d=b);d&&(b=a.i=++this.mEventCounter,l=new Xa,this.mPromiseMap.h[b]=l);Of.get_instance().send(a);return null!=l?l.future:null},onLoggedIn:function(){var a=
this;this.loggedIn=!0;null!=this.mPingTimer&&(this.mPingTimer.stop(),this.mPingTimer=null);this.mPingTimer=new Dc(3E4);this.mPingTimer.run=function(){a.sendEvent(1,null,!1)}},__class__:sb});var Va=function(a){this.tournamentsWon=0;this.mXEventListener=null;this.applyData(a)};f["backend.VCard"]=Va;Va.__name__="backend.VCard";Va.__super__=H;Va.prototype=k(H.prototype,{applyData:function(a){if(null!=a){this.vCardCreationTime=null!=a.vcardCreationTime?a.vcardCreationTime:C.get_now().getTime();var b=this.uid;
this.uid=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"uid")?w.field(a,"uid"):b;b=this.name;this.name=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"name")?w.field(a,"name"):b;this.teamId=w.field(a,"teamId");this.cid=w.field(a,"cid");null==this.name?this.name="unknown":(b=this.name.indexOf(" "),1<b&&(this.name=this.name.substring(0,b)));b=this.icon;this.icon=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"icon")?w.field(a,"icon"):b;if(null==this.icon||"null"==this.icon)this.icon=
"avatar/ava006.jpg";b=this.tournamentsWon;this.tournamentsWon=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"tournaments_won")?w.field(a,"tournaments_won"):b}else this.name="unknown",this.vCardCreationTime=(new Date).getTime();this.dispatchSimpleXEvent("VCard::UPDATE")},applyPlayerData:function(a,b){null==b&&(b=!1);if(null!=a){var d=this.uid==ba.instance.uid,l=b?this.getBigPicture():this.icon;0==(null!=l?l.indexOf("avatar/"):null)&&(l=ka.replace(l,".png",".jpg"));d&&(l=ba.instance.icon);b||
-1==(null!=l?l.indexOf("images.crazygames.com"):null)||(l+="?w=70&h=70");var p=a.find("uiImgPlayerHead");null!=p&&p instanceof G&&p.set_image(l);l=aa.getFlagIcon(this.cid);p=a.find("uiImgFlag");null!=p&&p instanceof G&&p.set_image(l);l=a.findType("uiAvatarTeam",xc);null!=l&&l.set_id(this.teamId);l=a.find("uiImgTournamentWinner");if(null!=l){l.set_visible(0<this.tournamentsWon);p=null!=a?a.context:null;p=null!=p?p.getTemplate(9<this.tournamentsWon?"tTournamentFrame3":"tTournamentFrame2"):null;null!=
p&&p.applyTo(l);if(19<this.tournamentsWon&&(p=a.find("uiImgPlayerBG"),null!=p)){p.removeAllChildren();var c=qa.createInstanceFromString('<image template="tRays" halign="center" valign="center" />',a.context);null!=c&&(l=b?2.5:1,c.scale!=l&&c.invalidate(),c.scale=l,p.addChild(c))}70<=this.tournamentsWon&&(p=a.find("uiDecoOverlay"),null!=p&&(p.removeAllChildren(),p.addChild(qa.createInstanceFromString('<image template="tWinnerDeco'+Math.min(12,Math.floor((this.tournamentsWon-70)/20)+1)+'"/>',a.context))));
49<this.tournamentsWon&&(null==a.preParticleEmitter&&(a.preParticleEmitter=new Zi),a.preParticleEmitter.numParticlesPerSecond=50,a.preParticleEmitter.desc.range=40)}b=d&&null!=ba.instance.name?ba.instance.name:this.name;d=b.indexOf(" ");1<d&&(b=b.substring(0,d));a.setText("uiTxtPlayerName",b)}},isValid:function(){return 432E6>C.get_now().getTime()-this.vCardCreationTime},getBigPicture:function(a){null==a&&(a=500);return""+this.icon+"?height="+a+"&width="+a+"&h="+a+"&w="+a},__class__:Va});var gb=function(a){this.tournamentsWon=
0;this.mXEventListener=null;this.applyData(a)};f["backend.VCardTeam"]=gb;gb.__name__="backend.VCardTeam";gb.__super__=H;gb.prototype=k(H.prototype,{applyData:function(a){if(null!=a){this.vCardCreationTime=null!=a.vcardCreationTime?a.vcardCreationTime:C.get_now().getTime();this.cid=w.field(a,"cid");var b=this.uid;this.uid=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"uid")?w.field(a,"uid"):b;b=this.name;this.name=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"name")?w.field(a,"name"):
b;b=this.badge;this.badge=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"badge")?w.field(a,"badge"):b;null==this.name&&(this.name="unknown");b=this.tournamentsWon;this.tournamentsWon=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"tournaments_won")?w.field(a,"tournaments_won"):b}else this.name="unknown",this.vCardCreationTime=(new Date).getTime();this.dispatchSimpleXEvent("VCardTeam::UPDATE")},isValid:function(){return 432E6>C.get_now().getTime()-this.vCardCreationTime},__class__:gb});
var h=function(){this.mPackageListener=this.mShopListener=this.mPendingResourceListener=this.packageData=null;this.justfinishedMaxLevel=!1;this.lastLevelFinished=0;this.lastLevelWon=null;this.totalPlays=this.attempts=0;this.forceMoves=this.forceSingleBoost=this.forceRowBoost=this.forceColumnBoost=this.forceSwizzleBoost=this.forceBackground=this.forceLevel=this.forceCash=this.tournamentData=this.teamRank=this.lifeRestoreTimer=null;this.forceMode=this.hideScoreBoard=this.hideScore=this.hideTasks=this.hideFloatingPoints=
this.hideBoost=this.hideShop=this.hideSettings=this.hideUiLogo=!1;this.levelToken=null;this.delayedResources={};Db.call(this);Sb.registerResourceIcon("mtx","ui/gold.png");Sb.registerResourceIcon("lifes","ui/life.png");Sb.registerResourceIcon("tempUnlimitedLife","ui/unlimited_life.png");Sb.registerResourceIcon("tempStarterLine","dynamic/bee.png");Sb.registerResourceIcon("tempStarterSkunk","dynamic/skunk.png");Sb.registerResourceIcon("tempStarterOrb","dynamic/orb.png");Sb.registerResourceIcon("tempDoubleStars",
"ui/star_on.png");Sb.registerResourceIcon("singleHit","dynamic/hammer.png");Sb.registerResourceIcon("rowHit","dynamic/row.png");Sb.registerResourceIcon("columnHit","dynamic/column.png");Sb.registerResourceIcon("swizzle","dynamic/swizzle.png");Sb.registerResourceIcon("starterLine","dynamic/bee.png");Sb.registerResourceIcon("starterSkunk","dynamic/skunk.png");Sb.registerResourceIcon("starterOrb","dynamic/orb.png");Sb.registerResourceIcon("chestStars","ui/star_on.png");Sb.registerResourceIcon("moreMoves",
"ui/moves.png");this.mJennyVCard=new Va({uid:"jenny",name:"SID_JENNY_JUNGLE",icon:"dynamic/jenny_head.jpg"});this.registerXEventListener(this,"RESOURCE_UPDATE",c(this,this.onResourceUpdate))};f["backend.ZooBackendLayer"]=h;h.__name__="backend.ZooBackendLayer";h.__properties__={get_instance:"get_instance"};h.get_instance=function(){null==h.instance&&(h.instance=new h);return h.instance};h.__super__=Db;h.prototype=k(Db.prototype,{get_storage:function(){return u.get_instance().get_storage()},get_resourceStorage:function(){return u.get_instance().get_resourceStorage()},
get_bestLevel:function(){return Math.max(1,this.getVisibleResource("level"))|0},get_maxLifes:function(){return h.config.settings.maxLifes},get_starsPerChest:function(){return h.config.settings.starsPerChest},get_levelPerChest:function(){return h.config.settings.levelPerChest},isInRandomMode:function(){return(this.getVisibleResource("level")+1|0)>this.get_maxLevel()},get_nextLevel:function(){if(null!=this.forceLevel)return this.forceLevel;var a=this.getVisibleResource("level")+1|0;return a<=this.get_maxLevel()?
a:0!=this.getResource("nextLevel")?this.getVisibleResource("nextLevel")|0:R.random(100)},get_maxLevel:function(){return null!=h.config&&null!=h.config.settings&&Object.prototype.hasOwnProperty.call(h.config.settings,"maxLevel")?h.config.settings.maxLevel:500},get_lifeRestoreDuration:function(){return null!=h.config&&null!=h.config.settings&&Object.prototype.hasOwnProperty.call(h.config.settings,"lifeRestoreDuration")?h.config.settings.lifeRestoreDuration:18E4},setLevelScore:function(a,b,d){var l=
this.getLevelScoreData(a);if(l.score<d){var p=l.stars,c=this.get_storage().getEntry("stars");null==c&&(c={});l.score=d;l.stars=b;c[null==a?"null":""+a]=l;this.get_storage().setEntry("stars",c);this.get_storage().save();return b-p}return b},getLevelScoreData:function(a){a=w.field(this.get_storage().getEntry("stars"),null==a?"null":""+a);null==a&&(a={score:0,stars:0});return a},getStreak:function(){return Math.max(this.streakAtLevelStart,this.getResource("streak"))|0},getStreakBonus:function(a){null==
a&&(a=-1);-1==a&&(a=this.getStreak());return 0>=a?1:1+.1*(Math.pow(a,.2)-.5)},get_lifeUsedTime:function(){0==this.getResource("lifeUsedTime")&&(this.get_connected()||this.setResource("lifeUsedTime",C.get_now().getTime()));return this.getResource("lifeUsedTime")},set_lifeUsedTime:function(a){return this.get_connected()?a:this.setResource("lifeUsedTime",a)},getPackageData:function(a){var b=null!=h.get_instance().packageData?h.get_instance().packageData:h.config.buyables;return null!=b&&(a=w.field(b,
a),null!=a)?a:{}},listenToShopEvents:function(){var a=this;if(null==this.mPackageListener){var b=new Xa;this.mPackageListener=ba.instance.listenTo("config/packages",function(d){a.packageData=d;a.dispatchSimpleXEvent("ZooBackendLayer::packageUpdate",d);null!=b&&(b.complete(a.packageData),b=null)});if(ba.instance.signedIn)this.mShopListener=ba.instance.listenTo("users/"+this.get_uid()+"/shop",function(b){if(null!=b&&"string"==typeof b&&null!=b){y.instance.addScreen(new nh(b));ba.instance.write("users/"+
a.get_uid()+"/shop",null);u.get_instance().get_tracking().customEvent("shop","payment",1);switch(b){case "package_level":case "package_lifes":case "package_progress":u.get_instance().get_tracking().customEvent("shop","payment_offer",1);break;default:u.get_instance().get_tracking().customEvent("shop","payment",1)}a.dispatchSimpleXEvent("ZooBackendLayer::PAYMENT")}});else if(u.get_instance().get_payment()instanceof Yj){var d=u.get_instance().get_payment();null!=d&&(this.mPendingResourceListener=ba.instance.listenTo("pendingResources/"+
d.alternativeId,function(b){if(null!=b){for(var l=w.fields(b),c=0;c<l.length;){var e=l[c];++c;a.addResource(e,1);var f=w.field(b,e);y.instance.addScreen(new nh(e));for(var g=w.fields(f),h=0;h<g.length;){var m=g[h];++h;a.addResource(m,w.field(f,m))}u.get_instance().get_tracking().payment(e,a.getPackageData(e))}ba.instance.write("pendingResources/"+d.alternativeId,null);u.get_instance().get_tracking().customEvent("shop","grantResources",1);u.get_instance().get_tracking().customEvent("shop","payment",
1);a.get_storage().save();a.dispatchSimpleXEvent("ZooBackendLayer::PAYMENT")}}))}this.mPendingResourceListener=ba.instance.listenTo("pendingResources/"+u.get_instance().get_uid(),function(b){if(null!=b){for(var d=w.fields(b),l=0;l<d.length;){var c=d[l];++l;a.addResource(c,1);var e=w.field(b,c);y.instance.addScreen(new nh(c));for(var f=w.fields(e),g=0;g<f.length;){var h=f[g];++g;a.addResource(h,w.field(e,h))}u.get_instance().get_tracking().payment(c,a.getPackageData(c))}a.get_storage().save();ba.instance.write("pendingResources/"+
u.get_instance().get_uid(),null);u.get_instance().get_tracking().customEvent("shop","grantResources",1);u.get_instance().get_tracking().customEvent("shop","payment",1);a.dispatchSimpleXEvent("ZooBackendLayer::PAYMENT")}});return b.future}return oa.withValue(this.packageData)},onResourceUpdate:function(a){var b=this,d=a.resourceType;if(this.isTemporaryResource(d))this.dispatchSimpleXEvent("ZooBackendLayer::tempBonusUpdate");else switch(d){case "chestLevel":case "chestStars":case "level":case "lifes":case "mtx":case "nextLevel":"lifes"==
a.resourceType&&5>a.resourceValue&&0!=this.getResource("lifeUsedTime")&&this.checkForLifes();d=Math.round((null==a.resourceValue?0:a.resourceValue)-(null==a.resourceOldValue?0:a.resourceOldValue));if("nextLevel"==a.resourceType)this.delayedResources[a.resourceType]=a.resourceValue;else if(0<d){var l=this.delayedResources,p=a.resourceType;this.delayedResources[a.resourceType]=(w.isObject(l)&&Object.prototype.hasOwnProperty.call(l,p)?w.field(l,p):0)+d}else this.resourceEvent.type="ZooBackendLayer::VISIBLE_RESOURCE_UPDATE",
this.resourceEvent.resourceType=a.resourceType,this.resourceEvent.resourceValue=a.resourceValue,this.resourceEvent.resourceOldValue=a.resourceOldValue,this.dispatchXEvent(this.resourceEvent);break;case "noAd":u.get_instance().supressAds(0<a.resourceValue);break;case "tournament":if(a.resourceOldValue!=a.resourceValue)if(null!=a.resourceValue){var c=!0;this.dispatchSimpleXEvent("TOURNAMENT_INIT",a.resourceValue);ba.instance.listenTo("tournaments/entries/"+R.string(a.resourceValue),function(a){for(var d=
[],l=w.fields(a.members),p=0;p<l.length;){var e=l[p];++p;var f=w.field(a.members,e);d.push({uid:e,stars:f.stars,date:f.date})}d.sort(function(a,b){return a.stars<b.stars?1:a.stars==b.stars?a.date>b.date?1:-1:-1});a.arr=d;b.tournamentData=a;c&&(c=!1,u.get_instance().notification(2,"SID_TOURNAMENT_END_HEAD","SID_TOURNAMENT_END_TEXT",null,(b.tournamentData.endTime-C.get_now().getTime())/1E3|0));null==b.mTournamentCountDown&&(d=b.tournamentData.endTime-C.get_now().getTime()|0,b.mTournamentCountDown=Dc.delay(function(){b.dispatchSimpleXEvent("TOURNAMENT_FINISHED")},
d));b.dispatchSimpleXEvent("TOURNAMENT_UPDATE",a)})}else d=this.mTournamentCountDown,null!=d&&d.dispose(),this.mTournamentCountDown=null,this.dispatchSimpleXEvent("TOURNAMENT_REMOVED",a.resourceOldValue)}},getVisibleResource:function(a){var b=Db.prototype.getResource.call(this,a),d=this.delayedResources;return b-(w.isObject(d)&&Object.prototype.hasOwnProperty.call(d,a)?w.field(d,a):0)},applyResources:function(a,b){null==b&&(b=!1);Db.prototype.applyResources.call(this,a,b);b&&this.consumeAllDelayedResources()},
consumeDelayedResource:function(a,b){var d=Math.round(this.getVisibleResource(a));if(null==b)b=0;else{var l=this.delayedResources;b=(w.isObject(l)&&Object.prototype.hasOwnProperty.call(l,a)?w.field(l,a):0)-b}0<b?this.delayedResources[a]=b:w.deleteField(this.delayedResources,a);this.resourceEvent.type="ZooBackendLayer::VISIBLE_RESOURCE_UPDATE";this.resourceEvent.resourceType=a;a=this.getVisibleResource(a);this.resourceEvent.resourceValue=Math.round(a);this.resourceEvent.resourceOldValue=d;this.dispatchXEvent(this.resourceEvent)},
consumeAllDelayedResources:function(){for(var a=w.fields(this.delayedResources),b=0;b<a.length;)this.consumeDelayedResource(a[b++])},hasDelayedResources:function(){return 0<w.fields(this.delayedResources).length},onFirebaseAuthChange:function(a){var b=this;Db.prototype.onFirebaseAuthChange.call(this);this.mPackageListener=ba.instance.stopListen(this.mPackageListener);this.mShopListener=ba.instance.stopListen(this.mShopListener);this.mPendingResourceListener=ba.instance.stopListen(this.mPendingResourceListener);
this.get_connected()&&(this.uploadPlayerResources(),Za.get_instance(),this.mListenerData=ba.instance.listenTo("users/"+this.get_uid()+"/events",function(a){for(var d={},p=w.fields(a),c=0;c<p.length;){var e=p[c];++c;b.onEvent(w.field(a,e));d[e]=null}0<p.length&&ba.instance.update("users/"+b.get_uid()+"/events",d)}),this.registerXEventListener(this,"TEAM_PLAYER_CHANGE",c(this,this.onPlayerTeamChange)),this.registerXEventListener(this,"TEAM_RANK_CHANGE",c(this,this.onPlayerRankChange)));this.lastLevelWon=
null},uploadPlayerResources:function(){var a=this,b="users/"+ba.instance.uid+"/data";ba.instance.read(b,function(d){if(null==d){d=a.get_resourceStorage().get_localData();for(var l={},p=w.fields(d),c=0;c<p.length;){var e=p[c];++c;var f=w.field(d,e);isNaN(f)||(l[e]=w.field(d,e))}l.mtx=(w.isObject(l)&&Object.prototype.hasOwnProperty.call(l,"mtx")?w.field(l,"mtx"):0)+h.config.settings.registerReward.mtx;l.singleHit=(w.isObject(l)&&Object.prototype.hasOwnProperty.call(l,"singleHit")?w.field(l,"singleHit"):
0)+h.config.settings.registerReward2.singleHit;l.starterSkunk=(w.isObject(l)&&Object.prototype.hasOwnProperty.call(l,"starterSkunk")?w.field(l,"starterSkunk"):0)+h.config.settings.registerReward3.starterSkunk;ba.instance.update(b,{resources:l})}})},onFirebaseSignOut:function(a){null!=this.mListenerData&&(ba.instance.stopListen(this.mListenerData),this.mListenerData=null);this.releaseXEventListener(this,"TEAM_PLAYER_CHANGE",c(this,this.onPlayerTeamChange));this.releaseXEventListener(this,"TEAM_RANK_CHANGE",
c(this,this.onPlayerRankChange));Db.prototype.onFirebaseSignOut.call(this);this.dispatchSimpleXEvent("TOURNAMENT_REMOVED");this.tournamentData=null;this.set_teamId(null);this.teamRank=10;this.streakAtLevelStart=0;this.consumeAllDelayedResources();this.uid=null},bypassBackend:function(){return this.forceMode?!0:null!=this.levelToken},firstRun:function(){if(u.get_instance().firstRun||0==this.getResource("lifes")&&0==this.getResource("mtx")&&1>=this.getResource("level"))this.addResource("lifes",5),this.addResource("mtx",
200),this.addResource("singleHit",1),this.addResource("starterLine",1)},start:function(){this.delayedResources={};Db.prototype.start.call(this);if(!this.get_connected()&&12<this.get_nextLevel()){var a=this.get_storage().getEntry("discount");if(null==a||a.startTime+1728E5<C.get_now().getTime())a={startTime:C.get_now().getTime(),duration:36E5,bonus:.2>Math.random()?Math.round(17*Math.random())/10+.3:Math.round(6*Math.random())/10+.2},this.get_storage().setEntry("discount",a,!0);null!=a&&u.get_instance().get_payment().setDiscount(a.startTime,
a.duration,a.bonus)}},clearDiscount:function(){if(!this.get_connected()){var a=this.get_storage().getEntry("discount");null!=a&&(a.startTime-=36E5,this.get_storage().setEntry("discount",a,!0))}u.get_instance().get_payment().clearDiscount()},onStarted:function(){this.consumeAllDelayedResources();null!=this.forceCash&&this.setResource("mtx",1*this.forceCash);Db.prototype.onStarted.call(this);this.registerXEventListener(u.get_instance(),"Player::CONSUME_PACKAGE_EVENT",c(this,this.onConsumePackage));
u.get_instance().get_payment().init();this.checkForLifes();this.dispatchSimpleXEvent("ZooBackendLayer::BEST_LEVEL");this.get_connected()},onConsumePackage:function(a){a=a.data;if(null!=a){var b=w.field(null!=h.get_instance().packageData?h.get_instance().packageData:h.config.buyables,a);if(null!=b){var d=b.resources;if(null!=d){u.get_instance().get_tracking().payment(a,b);var l=w.isObject(b)&&Object.prototype.hasOwnProperty.call(b,"bonus")?w.field(b,"bonus"):0;d=w.copy(d);u.get_instance().get_payment().hasDiscount()&&
(l+=u.get_instance().get_payment().discount.bonus);b=d;d.mtx=(w.isObject(b)&&Object.prototype.hasOwnProperty.call(b,"mtx")?w.field(b,"mtx"):0)*(1+l);this.consume(d);this.get_storage().save();y.instance.addScreen(new nh(a));this.get_resourceStorage().save()}}}},getNextLifeTime:function(){return Math.round(this.get_lifeRestoreDuration()-Math.min((new Date).getTime()-this.get_lifeUsedTime(),5*this.get_lifeRestoreDuration()))},secondsNewLife:function(){return.001*this.getNextLifeTime()},checkForLifes:function(){var a=
this;if(!this.bypassBackend())if(this.get_connected())this.call("checkForLifes",{uid:ba.instance.uid}).onComplete(function(b){a.set_lifeUsedTime(b.lifeUsedTime);a.newLifeIn(b.newLifeIn)});else 0>this.getNextLifeTime()&&5>Db.prototype.getResource.call(this,"lifes")&&(this.set_lifeUsedTime(this.get_lifeUsedTime()+this.get_lifeRestoreDuration()),this.addResource("lifes",1),this.consumeDelayedResource("lifes")),5>Db.prototype.getResource.call(this,"lifes")&&this.newLifeIn(this.getNextLifeTime())},newLifeIn:function(a){var b=
this;if(0<a){var d=this.lifeRestoreTimer;null!=d&&d.dispose();this.dispatchSimpleXEvent("LIFE_TIMER_UPDATE");this.lifeRestoreTimer=new Dc(a+100);this.lifeRestoreTimer.run=function(){var a=b.lifeRestoreTimer;null!=a&&a.dispose();b.lifeRestoreTimer=null;b.checkForLifes();b.dispatchSimpleXEvent("LIFE_TIMER_UPDATE")}}else this.dispatchSimpleXEvent("LIFE_TIMER_UPDATE")},buy:function(a,b){null==b&&(b=!0);this.consumeAllDelayedResources();b=w.field(h.config.buyables,a);if(null!=b){if(this.get_connected())return b=
this.call("buy",{type:a}),b.onComplete(function(b){if(null!=b&&null!=b.pack&&null!=b.pack.costs){b=b.pack.costs;for(var d=w.fields(b),l=0;l<d.length;){var p=d[l];++l;u.get_instance().get_tracking().customEvent(p,a,w.field(b,p))}}}),b;var d={};if(null!=b.costs&&this.spend(b.costs)){d.costs=b.costs;d.resources=b.resources;d.pack=b;this.consume(b.resources);for(var l=w.fields(b.costs),p=0;p<l.length;){var c=l[p];++p;u.get_instance().get_tracking().customEvent(c,a,w.field(b.costs,c))}return oa.withValue(d)}y.instance.addScreen(new ei);
return oa.withError(d)}return oa.withError(8)},startLevel:function(a,b){this.lastLevelWon=!1;++this.totalPlays;++this.attempts;if(this.bypassBackend())return oa.withValue({});if(this.get_connected())return this.streakAtLevelStart=this.getResource("streak")|0,this.call("startLevel",{level:a,jumpStarter:b});this.mLifesAtLevelStart=Math.round(this.getResource("lifes"));if(1<=this.mLifesAtLevelStart){5==this.mLifesAtLevelStart&&this.set_lifeUsedTime((new Date).getTime());this.streakAtLevelStart=this.getResource("streak")|
0;var d=a={revives:0};d.streak=0;var l={};a=l;var p=0;Object.prototype.hasOwnProperty.call(a,"attempts")&&(p=w.field(a,"attempts"));a.attempts=p+1;this.hasTemporaryBonus("tempUnlimitedLife")||(a=l,p=0,Object.prototype.hasOwnProperty.call(a,"lifes")&&(p=w.field(a,"lifes")),a.lifes=p+-1);for(var c=0;c<b.length;){var e=b[c];++c;switch(e){case "starterLine":case "starterOrb":case "starterSkunk":a=l,p=0,Object.prototype.hasOwnProperty.call(a,e)&&(p=w.field(a,e)),a[e]=p+-1}}this.consume(l,d)}return oa.withValue({})},
finishLevel:function(a,b,d){var l=this,p=u.get_instance().currentProfile;if(null!=p){p=u.get_instance().getProfile(p);var c=p.data.level;p.data={level:c>a?c:a};u.get_instance().saveProfiles()}if(this.bypassBackend())return oa.withValue({});if(this.get_connected())return this.justfinishedMaxLevel=a==this.get_maxLevel(),p=this.setLevelScore(a,d,b),this.call("finishLevel",{level:a,score:b,stars:d,ml:this.get_maxLevel(),oldStars:d-p}).onComplete(function(a){l.consumeDelayedResource("lifes")});c={};var e=
{};e.streak=this.streakAtLevelStart+1;this.streakAtLevelStart=0;(this.getResource("lifes")<this.mLifesAtLevelStart||5>this.getResource("lifes"))&&!this.hasTemporaryBonus("tempUnlimitedLife")&&(c.lifes=1);a==this.getResource("nextLevel")?(c.chestLevel=1,c.chestStars=d):(p=this.setLevelScore(a,d,b),0<p&&p==d&&(c.chestLevel=1),c.chestStars=p);e.attempts=0;c.score=b;a>this.getResource("level")&&(e.level=a);if(a>=this.get_maxLevel()||0!=this.getResource("nextLevel"))this.justfinishedMaxLevel=a==this.get_maxLevel(),
e.nextLevel=R.random(this.get_maxLevel()-50)+50;this.consume(c,e);this.consumeDelayedResource("lifes");return oa.withValue({})},useCode:function(a){var b=this,d=new Xa;this.consumeAllDelayedResources();this.call("code",{code:a}).onComplete(function(a){if(!b.get_connected()){var l=a.set;w.deleteField(a,"set");b.consume(a,l);b.get_resourceStorage().save()}d.complete(a)}).onError(function(a){d.error(a)});return d.future},rewardedAdForLife:function(){if(this.get_connected())return this.call("earnLife",
{uid:this.get_uid()});this.addResource("lifes",1);return oa.withValue({})},openChest:function(a){if(this.bypassBackend()||"star"==a&&this.getResource("chestStars")<this.get_starsPerChest()||"level"==a&&this.getResource("chestLevel")<this.get_levelPerChest())return oa.withError({});if(this.get_connected())return this.call("openChest",{type:"star"==a?"star":"level"});for(var b=this.getRandomEntries(h.config.chest,3),d=Array(b.length),l=0,p=b.length;l<p;){var c=l++;d[c]=this.getRandomEntries(b[c].sub,
1)[0].resources}b=h.config.settings.maxLifes-Math.round(this.getResource("lifes"));0<b&&!this.hasTemporaryBonus("tempUnlimitedLife")&&(d.pop(),d.push({lifes:R.random(b)+1}));"star"==a?d.push({chestStars:-this.get_starsPerChest()}):d.push({chestLevel:-this.get_levelPerChest()});for(l=0;l<d.length;)this.consume(d[l++]);d.pop();return oa.withValue({rewards:d})},isExpeditionReady:function(){return 0>=this.getTimeToExpedition()},getTimeToExpedition:function(){var a=ia.startOfDay(new Date(this.getResource("expedition")),
864E5);return ia.deltaNow(a)/1E3},resetExpedition:function(){if(this.bypassBackend())return oa.withError({});if(this.get_connected())return this.call("resetExpedition",{});if(!this.isExpeditionReady()&&this.canAfford(h.config.settings.expeditionCosts)){var a={};a.mtx=-h.config.settings.expeditionCosts.mtx;this.consume(a,{expedition:0});return oa.withValue({success:!0})}return oa.withError({})},expedition:function(a){if(this.bypassBackend())return oa.withError({});if(this.get_connected())return this.call("expedition",
{idx:a});if(this.isExpeditionReady()){for(var b=this.getRandomEntries(h.config.expedition,7),d=Array(b.length),l=0,p=b.length;l<p;){var c=l++;d[c]=this.getRandomEntries(b[c].sub,1)[0].resources}b=d[a%d.length];l=C.get_now().getTime();p={};p.expedition=l;this.consume(b,p);return oa.withValue({idx:a,success:!0,rewards:d,reward:b})}return oa.withError({})},usePowerup:function(a){return 0<this.getResource(a)?(this.addResource(a,-1),oa.withValue(!0)):oa.withError(!1)},getRandomEntries:function(a,b){for(var d=
ta.fold(a,function(a,b){return b+a.weight},0),l=[];l.length<b;){for(var p=R.random(d)-a[0].weight,c=0;0<p;)++c,p-=a[c].weight;p=a[c];-1==l.indexOf(p)&&l.push(p)}return l},earn:function(){if(this.get_connected())return this.call("earn",{});this.consume(h.config.settings.adReward);return oa.withValue({reward:h.config.settings.adReward})},getTournamentHighscore:function(){var a=new Xa;ba.instance.read("tournaments/highscores",function(b){a.complete(b)});return a.future},hasOpenTournamentReward:function(){if(null!=
this.tournamentData&&this.tournamentData.endTime<C.get_now().getTime()){var a=this.tournamentData.members,b=this.get_uid();if(Object.prototype.hasOwnProperty.call(a,b)&&(a=w.field(this.tournamentData.members,this.get_uid()),null!=a))return 1!=a.fetched}return!1},createTeam:function(a,b,d){var l=this;if(this.get_connected()){var p=new Xa;this.call("teams-create",{uid:this.get_uid(),name:a,desc:b,badge:d}).onComplete(function(a){l.getVCard(l.get_uid(),!0).onComplete(function(b){l.set_teamId(a.teamId);
l.teamRank=0;p.complete(a)})});return p.future}return oa.withError(8)},declineInvitation:function(a){var b=this;if(this.get_connected()){var d=new Xa;this.call("teams-decline",{teamId:a}).onComplete(function(a){b.getVCard(b.get_uid(),!0).onComplete(function(b){d.complete(a)})});return d.future}return oa.withError(8)},acceptInvitation:function(a){var b=this;if(this.get_connected()){var d=new Xa;this.call("teams-accept",{teamId:a},!1).onComplete(function(a){b.getVCard(b.get_uid(),!0).onComplete(function(l){b.teamRank=
2;b.set_teamId(l.teamId);d.complete(a)})}).onError(function(a){3==a.code?$e.show("You are already in a team"):b.defaultOnError(a)});return d.future}return oa.withError(8)},removeFromTeam:function(a){return this.get_connected()?this.call("teams-remove",{uid:a}):oa.withError(8)},promote:function(a){return this.get_connected()?this.call("teams-promote",{uid:a}):oa.withError(8)},demote:function(a){return this.get_connected()?this.call("teams-demote",{uid:a}):oa.withError(8)},teamInvite:function(a){return this.get_connected()?
this.call("teams-invite",{uid:a}):oa.withError(8)},quitTeam:function(){var a=this;if(this.get_connected()){var b=new Xa;this.call("teams-quit",{}).onComplete(function(d){a.teamRank=-1;a.set_teamId(null);b.complete(d)});return b.future}return oa.withError("not connected")},setCId:function(a){var b=this;return ba.instance.signedIn?(a=ba.instance.write("users/"+this.get_uid()+"/vcard/cid",a),a.onComplete(function(a){b.getVCard(b.get_uid(),!0)}),a):oa.withError("not logged in")},setPlayerDescription:function(a){return ba.instance.write("users/"+
this.get_uid()+"/public/desc",a)},set_teamId:function(a){a!=this.teamId&&(this.teamId=a,this.getVCard(this.get_uid(),!0),this.dispatchSimpleXEvent("TEAM_UPDATE",a));return this.teamId},getVCard:function(a,b){null==b&&(b=!1);return"jenny"==a?oa.withValue(this.mJennyVCard):Db.prototype.getVCard.call(this,a,b)},onPlayerTeamChange:function(a){a=a.data.uid;this.getVCard(a,!0);a==this.get_uid()&&(this.teamRank=null,this.set_teamId(null))},onPlayerRankChange:function(a){var b=a.data.rank;a.data.uid==this.get_uid()&&
(this.teamRank=b)},defaultOnError:function(a,b){Object.prototype.hasOwnProperty.call(a,"code")&&(5==a.code?(null!=b&&Object.prototype.hasOwnProperty.call(b,"type")&&u.get_instance().get_tracking().customEvent("insufficientResources",b.type,1),y.instance.addScreen(new ei)):$e.show(a.error))},editTeam:function(a){return this.call("teams-edit",a)},requestUnlimitedLife:function(){if(this.bypassBackend())return oa.withValue({});if(this.get_connected())return this.call("requestUnlimitedLife",{});var a=
this.getTemporaryBonusDuration("tempUnlimitedLife");if(a<-h.config.settings.dailyUnlimitedLifeCoolDown){var b=h.config.settings.dailyUnlimitedLifeDuration;this.setResource("tempUnlimitedLife",this.getServerTime()+Math.max(0,1E3*a)+1E3*b);return oa.withValue({duration:b})}return oa.withValue({})},hasTemporaryBonus:function(a){return this.isTemporaryResource(a)?0<this.getTemporaryBonusDuration(a):!1},getTemporaryBonusDuration:function(a){return this.isTemporaryResource(a)?.001*(this.getResource(a)-
this.getServerTime()):0},addTemporaryBonusDuration:function(a,b){var d=1E3*Math.max(0,this.getTemporaryBonusDuration(a));this.setResource(a,this.getServerTime()+(d+b))},getRewardDuration:function(){return 900},getRewardGold:function(){u.get_instance().get_payment();return 50},getLastRewardTime:function(){return Math.round(this.getResource("lastReward"))},getNextRewardTime:function(){return Math.round(this.getLastRewardTime()+1E3*this.getRewardDuration()-C.get_now().getTime())},isRewardAvailable:function(){return 0>=
this.getNextRewardTime()},getBoosterSum:function(){return Math.round(this.getResource("rowHit")+this.getResource("columnHit")+this.getResource("singleHit"))},isFetchBoosterOk:function(){return 4>this.getBoosterSum()&&0==this.getResource("fetchBooster")?8<this.get_nextLevel():!1},fetchBooster:function(){if(this.get_connected())return this.call("fetchBooster",{});var a=new Xa;if(this.isFetchBoosterOk()){var b=["rowHit","columnHit","swizzle","singleHit"],d=R.random(4);this.addResource(b[d],1);this.get_resourceStorage().save();
var l={};l[b[d]]=1;a.complete({success:!0,reward:l})}else a.complete({success:!1,reward:{}});return a.future},fetchReward:function(){if(this.get_connected())return this.call("fetchReward",{special:u.get_instance().get_payment().allow});this.consume({mtx:this.getRewardGold()});this.setResource("lastReward",C.get_now().getTime());this.get_resourceStorage().save();return oa.withValue({})},onEvent:function(a){switch(a.e){case "CHAT_DELETE":this.dispatchSimpleXEvent("CHAT_DELETE_MESSAGE",{uid:a.uid,chatId:a.chatId,
messageId:a.messageId});break;case "TEAM_INVITED":this.dispatchSimpleXEvent("TEAM_PLAYER_INVITED",{uid:a.uid,teamId:a.teamId});break;case "TEAM_JOINED":this.dispatchSimpleXEvent("TEAM_PLAYER_CHANGE",{uid:a.uid,teamId:a.teamId});this.dispatchSimpleXEvent("TEAM_RANK_CHANGE",{uid:a.uid,teamId:a.teamId,rank:2});break;case "TEAM_QUIT":this.dispatchSimpleXEvent("TEAM_PLAYER_CHANGE",{uid:a.uid,teamId:null});break;case "TEAM_RANK":this.dispatchSimpleXEvent("TEAM_RANK_CHANGE",{uid:a.uid,teamId:a.teamId,rank:a.rank});
break;case "TEAM_REMOVED":this.dispatchSimpleXEvent("TEAM_PLAYER_CHANGE",{uid:a.uid,teamId:null})}},levelWon:function(a,b,d){this.lastLevelWon=!0;this.attempts=0;V.__cast(u.get_instance(),dd).reportStats("stars",null,b)},isTemporaryResource:function(a){return-1!=Zk.indexOf(a)},addResource:function(a,b){return this.isTemporaryResource(a)?(this.addTemporaryBonusDuration(a,1E3*b),b):Db.prototype.addResource.call(this,a,b)},__class__:h,__properties__:k(Db.prototype.__properties__,{get_resourceStorage:"get_resourceStorage",
get_storage:"get_storage",get_lifeRestoreDuration:"get_lifeRestoreDuration",set_lifeUsedTime:"set_lifeUsedTime",get_lifeUsedTime:"get_lifeUsedTime",set_teamId:"set_teamId",get_nextLevel:"get_nextLevel",get_bestLevel:"get_bestLevel",get_levelPerChest:"get_levelPerChest",get_starsPerChest:"get_starsPerChest",get_maxLifes:"get_maxLifes",get_maxLevel:"get_maxLevel"})});var Jb=function(){this.base=new se;this.modelMatrix=O._new();this.mTranslationMatrixStack=[];this.mChildren=[];this.mXEventListener=null};
f["system.gfx.render.RenderNode"]=Jb;Jb.__name__="system.gfx.render.RenderNode";Jb.__super__=H;Jb.prototype=k(H.prototype,{addChild:function(a,b){null==b&&(b=-1);-1==b?this.mChildren.push(a):this.mChildren.splice(b,0,a)},draw:function(){},render:function(){q.sCurrentView.pushTranslationMatrix();q.sCurrentView.applyTranslationMatrix(this.base.matrix());this.draw();for(var a=0,b=this.mChildren;a<b.length;)b[a++].render();q.sCurrentView.popTranslationMatrix()},update:function(){for(var a=0,b=this.mChildren;a<
b.length;)b[a++].update()},pushTranslationMatrix:function(){this.mTranslationMatrixStack.push(O.copyFrom(O.getM3D(),this.modelMatrix))},applyTranslationMatrix:function(a){var b=this.modelMatrix;O.MUL(b,b,a);return b},popTranslationMatrix:function(){var a=this.mTranslationMatrixStack.pop();O.copyFrom(this.modelMatrix,a);O.recycleM3D(a)},dispose:function(){var a=this.base;null!=a&&a.dispose();this.base=null;H.prototype.dispose.call(this)},__class__:Jb});var M=function(){var a=new pa(1,1,0),b=1/Math.sqrt(a.x*
a.x+a.y*a.y+a.z*a.z);a.x*=b;a.y*=b;a.z*=b;this.light=a;this.camera=new yk;Jb.call(this)};f["system.gfx.render.RenderView"]=M;M.__name__="system.gfx.render.RenderView";M.__super__=Jb;M.prototype=k(Jb.prototype,{update:function(){if(null!=this.cameraController&&(this.cameraController.update(),null!=this.shadowView)){var a=V.__cast(this.shadowView.camera,uj);null!=a&&(a.lookAt(this.cameraController.cameraBase.pos,pa.MAD(pa.sTempV3D[++pa.sTempV3DIdx%pa.sTempV3DLen],this.cameraController.cameraBase.pos,
this.light,100),pa.Y_AXIS),a.width=a.height=Math.max(2,1.7*this.camera.pos.y))}null!=this.fogSettings&&(a=this.fogSettings,a.x=this.camera.far,a.y=.75*this.camera.far,a.z=0,a.w=0);Jb.prototype.update.call(this)},__class__:M});var ea=function(){var a=this;M.call(this);var b=N.get_currentLocale();ua.loadImage("splash/"+(-1!=(null!=b?b.indexOf("ru"):null)?"logoRU":"logo")+".jpg",!1).onComplete(function(b){if(null!=b){a.addChild(a.mPresenter=new Sc(new Ic(b)));b=q.instance;var d=c(a,a.onScreenSizeChanged);
d(null);a.registerXEventListener(b,"SIZE_CHANGED",d)}})};f["boot.Splash"]=ea;ea.__name__="boot.Splash";ea.__properties__={get_instance:"get_instance"};ea.get_instance=function(){return ea.sInstance=null!=ea.sInstance?ea.sInstance:new ea};ea.__super__=M;ea.prototype=k(M.prototype,{onScreenSizeChanged:function(a){a=q.instance.ratio;var b=1<a?.25:.5;O.makeScaleMatrix(this.mPresenter.modelMatrix,b,-b*a,0)},dispose:function(){if(null!=this.mPresenter){var a=this.mPresenter.texture;null!=a&&a.dispose();
a=this.mPresenter;null!=a&&a.dispose();this.mPresenter=null}E.remove(q.instance.views,this);M.prototype.dispose.call(this)},__class__:ea});var ac=function(){};f["data.LevelBalancing"]=ac;ac.__name__="data.LevelBalancing";ac.ratioToDifficulty=function(a){return 3>a?0:10>a?1:2};ac.scoreToStars=function(a,b){return a>1.1*b?3:a>.7*b?2:a>.3*b?1:0};ac.getLevelDifficulty=function(a){var b=new Xa;ac.getLevel(a).onComplete(function(a){b.complete(ac.ratioToDifficulty(null==a.ratio?1:a.ratio))}).onError(function(a){b.error(a)});
return b.future};ac.getLevel=function(a){var b=ac.mLevel.h[a];if(null==b){var d=new Xa;ua.loadText("level/level"+ia.ndigits(a,4)+".json").onComplete(function(a){null!=a?d.complete(JSON.parse(a)):d.error({})}).onError(function(a){d.error({})});b=d.future;ac.mLevel.h[a]=b}return b};var Ie=function(){this.image="";this.endSize=this.gravity=this.rotationStart=this.rotationEnd=0;this.startSize=15;this.startColor=this.endColor=-1;this.duration=.5;this.rangeRange=null;this.range=120};f["system.gfx.ui.elements.data.particle.XParticleDescriptor"]=
Ie;Ie.__name__="system.gfx.ui.elements.data.particle.XParticleDescriptor";Ie.prototype={fromTemplate:function(a){var b=a.mFloatMap.h.duration;this.duration=null==b?this.duration:b;b=a.mFloatMap.h.startSize;this.startSize=null==b?this.startSize:b;b=a.mFloatMap.h.endSize;this.endSize=null==b?this.endSize:b;b=a.mFloatMap.h.gravity;this.gravity=null==b?this.gravity:b;b=a.mFloatMap.h.range;this.range=null==b?this.range:b;b=a.mStringMap.h.image;this.image=null==b?this.image:b;a.mFloatMap.h.hasOwnProperty("startRotationMin")&&
a.mFloatMap.h.hasOwnProperty("startRotationMax")?this.rotationStartRange=new Hk(a.mFloatMap.h.startRotationMin,a.mFloatMap.h.startRotationMax):(b=a.mFloatMap.h.rotationStart,this.rotationStart=null==b?this.rotationStart:b);a.mFloatMap.h.hasOwnProperty("endRotationMin")&&a.mFloatMap.h.hasOwnProperty("endRotationMax")?this.rotationEndRange=new Hk(a.mFloatMap.h.endRotationMin,a.mFloatMap.h.endRotationMax):(b=a.mFloatMap.h.rotationEnd,this.rotationEnd=null==b?this.rotationEnd:b);a.mUIntMap.h.hasOwnProperty("startColorMin")&&
a.mUIntMap.h.hasOwnProperty("startColorMax")?this.startColorRange=new Ik(a.mUIntMap.h.startColorMin,a.mUIntMap.h.startColorMax):(b=this.startColor,this.startColor=a.mUIntMap.h.hasOwnProperty("startColor")?a.mUIntMap.h.startColor:b);a.mUIntMap.h.hasOwnProperty("endColorMin")&&a.mUIntMap.h.hasOwnProperty("endColorMax")?this.endColorRange=new Ik(a.mUIntMap.h.endColorMin,a.mUIntMap.h.endColorMax):(b=this.endColor,this.endColor=a.mUIntMap.h.hasOwnProperty("endColor")?a.mUIntMap.h.endColor:b)},copyFrom:function(a){this.range=
a.range;this.duration=a.duration;this.startColor=a.startColor;this.endColor=a.endColor;this.startSize=a.startSize;this.endSize=a.endSize;this.gravity=a.gravity;this.rotationStart=a.rotationStart;this.rotationStartRange=a.rotationStartRange;this.rotationEnd=a.rotationEnd;this.rotationEndRange=a.rotationEndRange;this.image=a.image;return this},__class__:Ie};var Ba={_new:function(a){if(null==a||9!=a.length)a=Ba.sIdentityArray,a=null!=a?new Float32Array(a):null;return a},copyFrom:function(a,b){a[0]=b[0];
a[3]=b[3];a[6]=b[6];a[1]=b[1];a[4]=b[4];a[7]=b[7];a[2]=b[2];a[5]=b[5];a[8]=b[8];return a},makeIdentity:function(a){a[0]=1;a[3]=0;a[6]=0;a[1]=0;a[4]=1;a[7]=0;a[2]=0;a[5]=0;a[8]=1;return a},rotate:function(a,b){b=b*Math.PI/180;var d=Math.cos(b);b=Math.sin(b);var l=a[0]*b+a[1]*d,p=a[3]*d+a[4]*-b,c=a[3]*b+a[4]*d,e=a[6]*d+a[7]*-b,f=a[6]*b+a[7]*d;a[0]=a[0]*d+a[1]*-b;a[3]=p;a[6]=e;a[1]=l;a[4]=c;a[7]=f},MUL:function(a,b,d){var l=b[0]*d[1]+b[1]*d[4]+b[2]*d[7],p=b[0]*d[2]+b[1]*d[5]+b[2]*d[8],c=b[3]*d[0]+b[4]*
d[3]+b[5]*d[6],e=b[3]*d[1]+b[4]*d[4]+b[5]*d[7],f=b[3]*d[2]+b[4]*d[5]+b[5]*d[8],g=b[6]*d[0]+b[7]*d[3]+b[8]*d[6],h=b[6]*d[1]+b[7]*d[4]+b[8]*d[7],m=b[6]*d[2]+b[7]*d[5]+b[8]*d[8];a[0]=b[0]*d[0]+b[1]*d[3]+b[2]*d[6];a[3]=c;a[6]=g;a[1]=l;a[4]=e;a[7]=h;a[2]=p;a[5]=f;a[8]=m;return a}},g=function(a,b,d){null==d&&(d=1);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.w=d};f["system.gfx.math.V2D"]=g;g.__name__="system.gfx.math.V2D";g.SUB=function(a,b,d){a.x=b.x-d.x;a.y=b.y-d.y;return a};g.MAD=function(a,
b,d,l){a.x=b.x+d.x*l;a.y=b.y+d.y*l;return a};g.LERP=function(a,b,d,l){var p=1-l;a.x=b.x*p+d.x*l;a.y=b.y*p+d.y*l;return a};g.NORMALIZE=function(a,b){a.x=b.x;a.y=b.y;a.w=b.w;b=1/Math.sqrt(a.x*a.x+a.y*a.y);a.x*=b;a.y*=b;return a};g.BEZIER=function(a,b,d,l,p){var c=1-p;a.x=0;a.y=0;a.w=0;var e=c*c;a.x+=b.x*e;a.y+=b.y*e;e=2*p*c;a.x+=d.x*e;a.y+=d.y*e;e=p*p;a.x+=l.x*e;a.y+=l.y*e;return a};g.prototype={multiplyMatrix:function(a){var b=this.x,d=this.y;this.x=a[0]*b+a[3]*d+a[6];this.y=a[1]*b+a[4]*d+a[7];return this},
multiplyNonTransMatrix:function(a){var b=a[1]*this.x+a[4]*this.y;this.x=a[0]*this.x+a[3]*this.y;this.y=b;return this},__class__:g};var ca=function(a){this.mMiddle=new g;this.touched=!1;this.resultMatrix=Ba._new();this.resultOffsetColor=0;this.resultWidth=this.resultHeight=this.resultAlpha=this.resultColorR=this.resultColorG=this.resultColorB=1;this.parent=this.calcParent=this.preParticleEmitter=this.postParticleEmitter=null;this.children=[];this.mAnimations=this.mStates=this.mLastSetState=this.highlightAnimation=
null;this.tweenIndex=0;this.tweens=null;this.invalid=!0;this.numChildren=0;this.drag=this.data=null;this.enabled=this.clickableChildren=!0;this.dragable=this.clickable=!1;this.tooltip=this.dynamicIdx=null;this.valign="top";this.halign="left";this.colorOffset=0;this.colorR=this.colorG=this.colorB=1;this.color=-1;this.absolute=this.highlight=!1;this.visible=!0;this.rotation=0;this.ratio=null;this.alpha=1;this.margin=this.marginLeft=this.marginRight=this.marginTop=this.marginBottom=this.padding=this.paddingLeft=
this.paddingRight=this.paddingTop=this.paddingBottom=0;this.scaleX=this.scaleY=this.scale=1;this.pivotX=this.pivotY=.5;this.relativeWidth=this.relativeHeight=null;this.width=this.height=NaN;this.relativeX=this.relativeY=null;this.x=this.y=0;this.context=this.name=null;this.context=a;this.mXEventListener=null};f["system.gfx.ui.elements.XDisplayObject"]=ca;ca.__name__="system.gfx.ui.elements.XDisplayObject";ca.__super__=H;ca.prototype=k(H.prototype,{set_visible:function(a){this.visible!=a&&this.invalidate();
return this.visible=a},write:function(a){var b=this.preParticleEmitter;null!=b&&b.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix);if(null!=this.children){b=0;for(var d=this.children;b<d.length;){var l=d[b];++b;l.visible&&l.write(a)}}b=this.postParticleEmitter;null!=b&&b.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix)},update:function(){if(this.visible){if(this.invalid)var a=!0;else a=this.mAnimations,a=0<(null!=a?a.length:null);if(a||null!=
this.tweens)if(this.calc(),this.invalid=!1,null!=this.children){a=0;for(var b=this.children;a<b.length;)b[a++].invalidate()}if(null!=this.children)for(a=0,b=this.children;a<b.length;)b[a++].update()}},invalidate:function(){this.invalid||(this.invalid=!0)},onAdded:function(){},calc:function(){var a=0,b=0,d=this.calcParent,l=null!=d?d:this.parent,c=0,e=0;this.resultOffsetColor=this.colorOffset;this.resultColorR=this.colorR;this.resultColorG=this.colorG;this.resultColorB=this.colorB;this.resultAlpha=
this.alpha;this.absolute&&(l=y.instance);if(null!=l&&(a=l.padding+l.paddingLeft,b=l.padding+l.paddingTop,c=l.resultWidth-2*l.padding-l.paddingLeft-l.paddingRight,e=l.resultHeight-2*l.padding-l.paddingTop-l.paddingBottom,null!=this.parent)){this.resultColorR*=this.parent.resultColorR;this.resultColorG*=this.parent.resultColorG;this.resultColorB*=this.parent.resultColorB;this.resultAlpha*=this.parent.resultAlpha;d=this.resultOffsetColor;var f=this.parent.resultOffsetColor;this.resultOffsetColor=((d>>>
24&255)+(f>>>24&255)<<24)+((d>>>16&255)+(f>>>16&255)<<16)+((d>>>8&255)+(f>>>8&255)<<8)+((d&255)+(f&255))}this.resultWidth=null==this.relativeWidth?this.width:c*this.relativeWidth;this.resultHeight=null==this.relativeHeight?this.height:e*this.relativeHeight;var g=this.ratio;null!=(isFinite(g)?this.ratio:this.resultWidth/this.resultHeight)&&(g=this.resultWidth,isNaN(g)?d=!1:(g=this.ratio,d=0!=(isFinite(g)?this.ratio:this.resultWidth/this.resultHeight)),d?(g=this.ratio,this.resultHeight=this.resultWidth/
(isFinite(g)?this.ratio:this.resultWidth/this.resultHeight)):(g=this.resultHeight,isNaN(g)||(g=this.ratio,this.resultWidth=this.resultHeight*(isFinite(g)?this.ratio:this.resultWidth/this.resultHeight))));d=this.scale*this.scaleX;f=this.scale*this.scaleY;g=Ba.makeIdentity(ca.sM);switch(this.halign){case "center":a+=.5*c-.5*this.resultWidth;break;case "leftOf":a+=-Math.abs(this.resultWidth*d);break;case "right":a+=c-Math.abs(this.resultWidth*d);break;case "rightOf":a+=c}switch(this.valign){case "bottom":b+=
e-Math.abs(this.resultHeight*f);break;case "bottomOf":b+=e;break;case "center":b+=.5*e-.5*this.resultHeight;break;case "topOf":b+=-Math.abs(this.resultHeight*f)}this.resultWidth-=2*this.margin+this.marginLeft+this.marginRight;this.resultHeight-=2*this.margin+this.marginTop+this.marginBottom;a+=this.margin+(null==this.relativeX?this.x:c*this.relativeX)+this.marginLeft;b+=this.margin+(null==this.relativeY?this.y:e*this.relativeY)+this.marginTop;if(null!=this.mAnimations||null!=this.tweens||0!=this.rotation||
1!=d||1!=f){c=this.resultWidth*this.pivotX;e=this.resultHeight*(1-this.pivotY);var h=-c,m=-e,k=g[1]+g[2]*m,n=g[2],q=g[3]+g[5]*h,t=g[4]+g[5]*m,r=g[5],u=g[6]+g[8]*h;m=g[7]+g[8]*m;var M=g[8];g[0]+=g[2]*h;g[3]=q;g[6]=u;g[1]=k;g[4]=t;g[7]=m;g[2]=n;g[5]=r;g[8]=M;0!=this.rotation&&Ba.rotate(g,this.rotation);g[0]*=d;g[3]*=d;g[6]*=d;g[1]*=f;g[4]*=f;g[7]*=f;d=this.mAnimations;if(0<(null!=d?d.length:null)){for(h=0;h<this.mAnimations.length;)f=this.mAnimations[h],Ba.MUL(g,g,f.getMatrix()),this.resultAlpha*=f.alpha,
0!=f.colorOffset&&(d=this.resultOffsetColor,f=f.colorOffset,this.resultOffsetColor=((d>>>24&255)+(f>>>24&255)<<24)+((d>>>16&255)+(f>>>16&255)<<16)+((d>>>8&255)+(f>>>8&255)<<8)+((d&255)+(f&255))),++h;this.invalidate()}d=this.tweens;0<(null!=d?d.length:null)&&(f=this.tweens[this.tweenIndex],null!=f&&(f.calc(this,this.tweens[this.tweenIndex+1]),Ba.MUL(g,g,f.resultMatrix),this.resultAlpha*=f.resultAlpha,0!=f.resultColorOffset&&(d=this.resultOffsetColor,f=f.resultColorOffset,this.resultOffsetColor=((d>>>
24&255)+(f>>>24&255)<<24)+((d>>>16&255)+(f>>>16&255)<<16)+((d>>>8&255)+(f>>>8&255)<<8)+((d&255)+(f&255))),this.invalidate()));k=g[1]+g[2]*e;n=g[2];q=g[3]+g[5]*c;t=g[4]+g[5]*e;r=g[5];u=g[6]+g[8]*c;m=g[7]+g[8]*e;M=g[8];g[0]+=g[2]*c;g[3]=q;g[6]=u;g[1]=k;g[4]=t;g[7]=m;g[2]=n;g[5]=r;g[8]=M}k=g[1]+g[2]*b;n=g[2];q=g[3]+g[5]*a;t=g[4]+g[5]*b;r=g[5];u=g[6]+g[8]*a;m=g[7]+g[8]*b;M=g[8];g[0]+=g[2]*a;g[3]=q;g[6]=u;g[1]=k;g[4]=t;g[7]=m;g[2]=n;g[5]=r;g[8]=M;null!=this.resultMatrix&&(null==l||this.absolute?Ba.copyFrom(this.resultMatrix,
g):this.resultMatrix=Ba.MUL(this.resultMatrix,g,l.resultMatrix))},getClickableElementAt:function(a,b){if(this.clickableChildren&&this.visible)for(var d=this.children.length;0<=--d;){var l=this.children[d].getClickableElementAt(a,b);if(null!=l)return l}return this.clickable&&this.visible&&this.testHit(a,b)?this:null},testHit:function(a,b,d){d=null!=d?d:g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];if(null!=this.resultMatrix){var l=this.resultMatrix,c=Ba.sTempM2D[++Ba.sTempM2DIdx%Ba.sTempM2D.length];null!=
l&&Ba.copyFrom(c,l);l=1/(c[0]*(c[4]*c[8]-c[7]*c[5])-c[1]*(c[3]*c[8]-c[5]*c[6])+c[2]*(c[3]*c[7]-c[4]*c[6]));var e=-(c[1]*c[8]-c[2]*c[7])*l,f=(c[1]*c[5]-c[2]*c[4])*l,h=-(c[3]*c[8]-c[5]*c[6])*l,m=(c[0]*c[8]-c[2]*c[6])*l,k=-(c[0]*c[5]-c[3]*c[2])*l,n=(c[3]*c[7]-c[6]*c[4])*l,q=-(c[0]*c[7]-c[6]*c[1])*l,t=(c[0]*c[4]-c[3]*c[1])*l;c[0]=(c[4]*c[8]-c[7]*c[5])*l;c[3]=h;c[6]=n;c[1]=e;c[4]=m;c[7]=q;c[2]=f;c[5]=k;c[8]=t;d.x=a;d.y=b;a=d.multiplyMatrix(c)}else a=d;return 0<=a.x&&a.x<this.resultWidth&&0<=a.y?a.y<this.resultHeight:
!1},setLocalState:function(a,b){null==b&&(b=!1);if(b||a!=this.mLastSetState){b=this.mStates;var d=null!=b?b.h[a]:null;if(null!=d)for(b=0;b<d.length;)d[b++].applyTo(this);this.mLastSetState=a;if(null!=this.children)for(b=0,d=this.children;b<d.length;)d[b++].setLocalState(a)}},setState:function(a,b,d){null==d&&(d=!1);a=this.find(a);null!=a&&a.setLocalState(b,d)},addState:function(a){this.mStates=null!=this.mStates?this.mStates:new Sa;var b=a.mStringMap.h.state;if(this.mStates.h.hasOwnProperty(b))this.mStates.h[b].push(a);
else{var d=this.mStates;d.h.hasOwnProperty(b)&&E.remove(d.mKeys,b);d.h[b]=[a];d.mKeys.push(b)}b=a.mStringMap.h.state;if(null==b)null!=N.getSupportedLocale(b)&&(this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,c(this,this.onLocaChanged)),b==N.language&&a.applyTo(this));else switch(b){case "disabled":this.enabled||a.applyTo(this);break;case "enabled":this.enabled&&a.applyTo(this);break;case "landscape":this.registerXEventListener(q.instance,"ORIENTATION_CHANGED",c(this,this.onScreenOrientationChange));
q.instance.landscape&&a.applyTo(this);break;case "locaSupported":N.supported&&a.applyTo(this);break;case "locaUnsupported":N.supported||a.applyTo(this);break;case "payment":u.get_instance().get_payment().allow&&a.applyTo(this);break;case "portrait":this.registerXEventListener(q.instance,"ORIENTATION_CHANGED",c(this,this.onScreenOrientationChange));q.instance.landscape||a.applyTo(this);break;default:null!=N.getSupportedLocale(b)&&(this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,c(this,this.onLocaChanged)),
b==N.language&&a.applyTo(this))}return a},onScreenOrientationChange:function(a){a=this.mStates.h[q.instance.landscape?"landscape":"portrait"];if(null!=a)for(var b=0;b<a.length;)a[b++].applyTo(this)},onLocaChanged:function(a){a=this.mStates.h[N.language];if(null!=a)for(var b=0;b<a.length;)a[b++].applyTo(this)},hasAnimation:function(a){if(null!=this.mAnimations)for(var b=0,d=this.mAnimations;b<d.length;)if(V.__instanceof(d[b++],a))return!0;return!1},addAnimation:function(a){this.mAnimations=null!=this.mAnimations?
this.mAnimations:[];this.registerXEventListener(a,"XAnimation:Finished",c(this,this.onAnimationFinished));E.remove(this.mAnimations,a);this.mAnimations.push(a);return a},findAnimation:function(a){if(null!=this.mAnimations)for(var b=0,d=this.mAnimations;b<d.length;){var l=d[b];++b;if((null!=l?l.name:null)==a)return l}if(null!=this.children)for(b=0,d=this.children;b<d.length;)if(l=d[b++].findAnimation(a),null!=l)return l;return null},onAnimationFinished:function(a){a=a.target;null!=a&&(this.releaseXEventListener(a,
"XAnimation:Finished",c(this,this.onAnimationFinished)),this.removeAnimation(a,a!=this.highlightAnimation))},removeAnimation:function(a,b){null==b&&(b=!0);var d=this.mAnimations;null!=d&&E.remove(d,a);b&&null!=a&&Tc.dispose(a);return null},removeAllAnimations:function(a){null==a&&(a=!0);if(a&&(a=this.mAnimations,null!=a))for(;0<a.length;)a.pop().dispose();this.mAnimations=null},onTouch:function(a,b){ca.Dispatcher.dispatchSimpleXEvent("XDisplayObject:TouchEvent",this);this.touched=!0},onTouchUp:function(a,
b,d,l){},onTouchMove:function(a,b,d,l){this.enabled&&this.clickable&&(null!=this.tooltip&&Rg.get_instance().show(this,this.tooltip),this.highlight&&!Vd.isMobileBrowser()&&(this.setHighlightAnimation(.3,.01),q.window.set_cursor(Gc.POINTER)),this.touched&&this.dragable&&null==ca.sDragOperation&&S.get_instance().buttonPressed(0)&&(ca.sDragOperation=new Jk(this.drag,this),this.registerXEventListener(ca.sDragOperation,"DROP_EVENT",c(this,this.onDroppedThisElement))))},onTouchOut:function(a,b){this.touched=
!1;this.highlight&&!Vd.isMobileBrowser()&&(this.setHighlightAnimation(0,.5),q.window.set_cursor(Gc.DEFAULT))},onDroppedThisElement:function(a){this.releaseXEventListener(a.target,"DROP_EVENT",c(this,this.onDroppedThisElement));ca.sDragOperation=null},setHighlightAnimation:function(a,b){this.highlightAnimation=null!=this.highlightAnimation?this.highlightAnimation:new Uj(0,16777215);this.addAnimation(this.highlightAnimation);this.highlightAnimation.setTargetValue(a,b)},getControllListener:function(){return this.parent.getControllListener()},
setVisible:function(a,b){a=this.find(a);null!=a&&a.set_visible(b)},setText:function(a,b){a=this.find(a);return a instanceof Ea?(V.__cast(a,Ea).set_text(b),!0):!1},setTemplate:function(a,b){null!=b&&(a=this.find(a),null!=a&&b.applyTo(a))},getMiddle:function(){if(null!=this.resultMatrix){var a=.5*this.resultWidth,b=.5*this.resultHeight,d=this.resultMatrix[0]*a+this.resultMatrix[3]*b+this.resultMatrix[6];a=this.resultMatrix[1]*a+this.resultMatrix[4]*b+this.resultMatrix[7];b=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];b.x=d;b.y=a;return b}return g.ZERO},addChild:function(a,b){null==b&&(b=-1);a.removeFromParent();null!=this.children&&(-1==b?this.children.push(a):this.children.splice(b,0,a),a.parent=this,a.onAdded(),++this.numChildren);return a},removeChild:function(a){var b=this.children;null!=b&&E.remove(b,a)&&--this.numChildren;a.parent=null},removeAllChildren:function(){for(;0<this.numChildren;){var a=this.children;null!=a&&a.pop().dispose();--this.numChildren}},removeFromParent:function(){var a=
this.parent;null!=a&&a.removeChild(this)},getChildAt:function(a){return null!=this.children?this.children[a]:null},getChildByName:function(a){if(null!=this.children)for(var b=0,d=this.children;b<d.length;){var l=d[b];++b;if(l.name==a)return l}return null},find:function(a){if(this.name==a)return this;if(null!=this.children)for(var b=0,d=this.children;b<d.length;){var l=d[b++].find(a);if(null!=l)return l}return null},findFuture:function(a){a=this.find(a);return null!=a?oa.withValue(a):oa.withError(null)},
findType:function(a,b){a=this.find(a);return V.__instanceof(a,b)?a:null},findTypeFuture:function(a,b){a=this.find(a);return V.__instanceof(a,b)?oa.withValue(a):oa.withError(null)},deepFindType:function(a,b){if(null!=a){a=a.split("/");for(var d=this.find(a.shift());0<a.length&&null!=d;)d=d.find(a.shift());if(V.__instanceof(d,b))return d}return null},deepFindTypeFuture:function(a,b){a=this.deepFindType(a,b);return null!=a?oa.withValue(a):oa.withError(null)},applyStringAttribute:function(a,b){switch(a){case "animation":a=
Ma.createAnimation(b);null!=a&&this.addAnimation(a);break;case "data":0==(null!=b?b.indexOf("{"):null)?this.data=JSON.parse(b):this.data=b;break;case "drag":this.drag=b;this.dragable=null!=b&&""!=b;break;case "halign":this.halign!=b&&this.invalidate();this.halign=b;break;case "name":this.name=b;break;case "tooltip":Vd.isMobileBrowser()||(this.tooltip=b);break;case "valign":this.valign!=b&&this.invalidate(),this.valign=b}},applyBoolAttribute:function(a,b){switch(a){case "absolute":this.absolute!=b&&
this.invalidate();this.absolute=b;break;case "clickable":this.clickable=b;break;case "clickableChildren":this.clickableChildren=b;break;case "emitt":this.activateEmitter(b);break;case "enable":case "enabled":this.enabled=b;this.setLocalState(b?"enabled":"disabled");break;case "highlight":this.highlight!=b&&(this.invalidate(),null!=this.highlightAnimation&&(this.removeAnimation(this.highlightAnimation),this.highlightAnimation=null));this.highlight=b;break;case "visible":this.set_visible(b)}},applyFloatAttribute:function(a,
b){switch(a){case "alpha":this.alpha!=b&&this.invalidate();this.alpha=b;break;case "blue":this.colorB!=b&&this.invalidate();this.colorB=b;break;case "dynamicIdx":this.dynamicIdx=b|0;break;case "green":this.colorG!=b&&this.invalidate();this.colorG=b;break;case "height":this.height!=b&&this.invalidate();a=null;this.relativeHeight!=a&&this.invalidate();this.relativeHeight=a;this.height=b;break;case "margin":this.margin!=b&&this.invalidate();this.margin=b;break;case "marginBottom":this.marginBottom!=
b&&this.invalidate();this.marginBottom=b;break;case "marginLeft":this.marginLeft!=b&&this.invalidate();this.marginLeft=b;break;case "marginRight":this.marginRight!=b&&this.invalidate();this.marginRight=b;break;case "marginTop":this.marginTop!=b&&this.invalidate();this.marginTop=b;break;case "padding":this.padding!=b&&this.invalidate();this.padding=b;break;case "paddingBottom":this.paddingBottom!=b&&this.invalidate();this.paddingBottom=b;break;case "paddingLeft":this.paddingLeft!=b&&this.invalidate();
this.paddingLeft=b;break;case "paddingRight":this.paddingRight!=b&&this.invalidate();this.paddingRight=b;break;case "paddingTop":this.paddingTop!=b&&this.invalidate();this.paddingTop=b;break;case "pivotX":this.pivotX!=b&&this.invalidate();this.pivotX=b;break;case "pivotY":this.pivotY!=b&&this.invalidate();this.pivotY=b;break;case "ratio":(isFinite(this.ratio)?this.ratio:this.resultWidth/this.resultHeight)!=b&&this.invalidate();this.ratio=b;break;case "red":this.colorR!=b&&this.invalidate();this.colorR=
b;break;case "relativeHeight":this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;break;case "relativeWidth":this.relativeWidth!=b&&this.invalidate();this.relativeWidth=b;break;case "relativeX":this.relativeX!=b&&this.invalidate();this.relativeX=b;break;case "relativeY":this.relativeY!=b&&this.invalidate();this.relativeY=b;break;case "rotation":this.rotation!=b&&this.invalidate();this.rotation=b;break;case "scale":this.scale!=b&&this.invalidate();this.scale=b;break;case "scaleX":this.scaleX!=
b&&this.invalidate();this.scaleX=b;break;case "scaleY":this.scaleY!=b&&this.invalidate();this.scaleY=b;break;case "width":this.width!=b&&this.invalidate();a=null;this.relativeWidth!=a&&this.invalidate();this.relativeWidth=a;this.width=b;break;case "x":this.x!=b&&this.invalidate();this.x=b;break;case "y":this.y!=b&&this.invalidate(),this.y=b}},applyUIntAttribute:function(a,b){switch(a){case "color":a=U.toFloat(b>>>16&255)/255;var d=U.toFloat(b>>>8&255)/255,l=U.toFloat(b&255)/255;if(a!=this.colorR||
d!=this.colorG||l!=this.colorB)this.colorR!=a&&this.invalidate(),this.colorR=a,this.colorG!=d&&this.invalidate(),this.colorG=d,this.colorB!=l&&this.invalidate(),this.colorB=l,this.invalidate();this.color=b;break;case "colorOffset":this.colorOffset!=b&&this.invalidate(),this.colorOffset=b}},blubb:function(){var a=this.mAnimations;2>(null!=a?a.length:null)&&this.addAnimation(new yd)},pulse:function(a){null==a&&(a=100);this.blubb();null==this.preParticleEmitter&&(this.preParticleEmitter=new Zi(ca.DEFAULT_PULSE_DESCRIPTOR));
this.preParticleEmitter.pulse(a)},setPulse:function(a,b){null==b&&(b=100);a=this.find(a);null!=a&&a.pulse(b)},activateEmitter:function(a){null==a&&(a=!0);null!=this.preParticleEmitter&&(this.preParticleEmitter.active=a)},copyElements:function(a){a.context=this.context;a.name=new String(this.name);var b=this.x;a.x!=b&&a.invalidate();a.x=b;b=this.y;a.y!=b&&a.invalidate();a.y=b;b=this.width;a.width!=b&&a.invalidate();var d=null;a.relativeWidth!=d&&a.invalidate();a.relativeWidth=d;a.width=b;b=this.height;
a.height!=b&&a.invalidate();d=null;a.relativeHeight!=d&&a.invalidate();a.relativeHeight=d;a.height=b;b=this.relativeWidth;a.relativeWidth!=b&&a.invalidate();a.relativeWidth=b;b=this.relativeHeight;a.relativeHeight!=b&&a.invalidate();a.relativeHeight=b;b=this.pivotX;a.pivotX!=b&&a.invalidate();a.pivotX=b;b=this.pivotY;a.pivotY!=b&&a.invalidate();a.pivotY=b;b=this.scaleX;a.scaleX!=b&&a.invalidate();a.scaleX=b;b=this.scaleY;a.scaleY!=b&&a.invalidate();a.scaleY=b;b=this.scale;a.scale!=b&&a.invalidate();
a.scale=b;b=this.margin;a.margin!=b&&a.invalidate();a.margin=b;b=this.marginLeft;a.marginLeft!=b&&a.invalidate();a.marginLeft=b;b=this.marginRight;a.marginRight!=b&&a.invalidate();a.marginRight=b;b=this.marginTop;a.marginTop!=b&&a.invalidate();a.marginTop=b;b=this.marginBottom;a.marginBottom!=b&&a.invalidate();a.marginBottom=b;b=this.padding;a.padding!=b&&a.invalidate();a.padding=b;b=this.paddingLeft;a.paddingLeft!=b&&a.invalidate();a.paddingLeft=b;b=this.paddingRight;a.paddingRight!=b&&a.invalidate();
a.paddingRight=b;b=this.paddingTop;a.paddingTop!=b&&a.invalidate();a.paddingTop=b;b=this.paddingBottom;a.paddingBottom!=b&&a.invalidate();a.paddingBottom=b;b=this.alpha;a.alpha!=b&&a.invalidate();a.alpha=b;d=this.ratio;b=isFinite(d)?this.ratio:this.resultWidth/this.resultHeight;d=a.ratio;(isFinite(d)?a.ratio:a.resultWidth/a.resultHeight)!=b&&a.invalidate();a.ratio=b;b=this.rotation;a.rotation!=b&&a.invalidate();a.rotation=b;b=this.color;var l=U.toFloat(b>>>16&255)/255;d=U.toFloat(b>>>8&255)/255;var c=
U.toFloat(b&255)/255;if(l!=a.colorR||d!=a.colorG||c!=a.colorB)a.colorR!=l&&a.invalidate(),a.colorR=l,a.colorG!=d&&a.invalidate(),a.colorG=d,a.colorB!=c&&a.invalidate(),a.colorB=c,a.invalidate();a.color=b;b=this.colorOffset;a.colorOffset!=b&&a.invalidate();a.colorOffset=b;a.set_visible(this.visible);b=this.highlight;a.highlight!=b&&(a.invalidate(),null!=a.highlightAnimation&&(a.removeAnimation(a.highlightAnimation),a.highlightAnimation=null));a.highlight=b;a.dragable=this.dragable;a.clickable=this.clickable;
a.clickableChildren=this.clickableChildren;b=this.halign;a.halign!=b&&a.invalidate();a.halign=b;b=this.valign;a.valign!=b&&a.invalidate();a.valign=b;a.drag=this.drag;a.data=this.data;if(null!=this.children)for(d=0,b=this.children;d<b.length;)a.addChild(b[d++].clone())},clone:function(){var a=Ca.createInstance(V.getClass(this),[]);this.copyElements(a);return a},nextTween:function(){var a=this.tweens[this.tweenIndex+1];null!=a&&(this.tweenIndex+=1,a.start())},dispose:function(){H.prototype.dispose.call(this);
null!=this.parent&&(this.parent.removeChild(this),this.parent=null);var a=this.postParticleEmitter;null!=a&&a.dispose();this.postParticleEmitter=null;a=this.preParticleEmitter;null!=a&&a.dispose();this.preParticleEmitter=null;this.invalid=!0;a=this.children;if(null!=a)for(;0<a.length;)a.pop().dispose();this.children=null;this.numChildren=0;a=this.mMiddle=this.name=this.context=null;this.halign!=a&&this.invalidate();this.halign=a;a=null;this.valign!=a&&this.invalidate();this.valign=a;a=this.mAnimations;
if(null!=a)for(;0<a.length;)a.pop().dispose();this.mAnimations=null;if(null!=this.mStates){a=this.mStates;null==a.mIteratorInstance&&(a.mIteratorInstance=new Nk(a,a.mKeys));for(a=a.mIteratorInstance;a.hasNext();){var b=a.next();if(null!=b)for(;0<b.length;)b.pop().dispose()}this.mStates=null}this.highlightAnimation=this.calcParent=this.mLastSetState=this.data=this.drag=this.resultMatrix=null},__class__:ca,__properties__:{set_visible:"set_visible"}});var La=function(a){this.enableControls=!0;ca.call(this,
a)};f["system.gfx.ui.elements.XControllListener"]=La;La.__name__="system.gfx.ui.elements.XControllListener";La.__super__=ca;La.prototype=k(ca.prototype,{onBuy:function(a){},onRewardedAd:function(a,b){},onButtonClick:function(a){},onValueControl:function(a,b){},onList:function(a,b){},onBuyButtonAction:function(a){if(this.enableControls)this.onBuy(a.packageId)},onRewardedAdAction:function(a,b){if(this.enableControls)this.onRewardedAd(a,b)},onButtonAction:function(a){if(this.enableControls)this.onButtonClick(a)},
onValueControlAction:function(a,b){null==b&&(b=0);if(this.enableControls)this.onValueControl(a,b)},onListAction:function(a,b){if(this.enableControls)this.onList(a,b)},getControllListener:function(){return this},__class__:La});var Qc=function(){};f["haxe.IMap"]=Qc;Qc.__name__="haxe.IMap";Qc.__isInterface__=!0;var Sa=function(a){this.mIteratorInstance=null;this.mKeys=[];this.h=null!=a?a:{}};f["system.utils.UnsafeStringMap"]=Sa;Sa.__name__="system.utils.UnsafeStringMap";Sa.__interfaces__=[Qc];Sa.prototype=
{remove:function(a){if(!this.h.hasOwnProperty(a))return!1;E.remove(this.mKeys,a);delete this.h[a];return!0},keys:function(){return new wg(this.mKeys)},__class__:Sa};var Ma=function(a){this.colorOffset=0;this.speed=this.alpha=1;this.matrix=Ba._new();this.running=!0;this.random=Math.random();this.mXEventListener=null;null!=a&&(this.name=a.mStringMap.h.name,a=a.mFloatMap.h.speed,this.speed=null==a?this.speed:a);this.start=C.timer};f["system.gfx.ui.animation.XAnimation"]=Ma;Ma.__name__="system.gfx.ui.animation.XAnimation";
Ma.createAnimation=function(a,b){switch(a){case "glow":return new vk;case "hover":return new lk(b);case "pling":return new kk;case "rotation":return new Ch(b);case "slowHover":return new lk(b,.5,7);case "slowWobble":return new df(b,.25,.1,1);case "wobble":return new df(b,.5,.5);default:return Ma.sAnimationClassMap.h.hasOwnProperty(a)?(a=Ma.sAnimationClassMap.h[a],Ca.createInstance(a.cl,a.params)):null}};Ma.__super__=H;Ma.prototype=k(H.prototype,{getMatrix:function(){return this.matrix},finished:function(){this.dispatchSimpleXEvent("XAnimation:Finished")},
dispose:function(){this.matrix=Ba.sTempM2D[++Ba.sTempM2DIdx%Ba.sTempM2D.length];H.prototype.dispose.call(this)},__class__:Ma});var Nb=function(){Ma.call(this)};f["system.gfx.ui.animation.XAnimMoveIn"]=Nb;Nb.__name__="system.gfx.ui.animation.XAnimMoveIn";Nb.__super__=Ma;Nb.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,Math.min(1,(C.timer-this.start)/.5)),b=Math.pow(a,4),d=this.matrix;d[0]=b;d[3]=0;d[6]=0;d[1]=0;d[4]=b;d[7]=0;d[2]=0;d[5]=0;d[8]=1;this.alpha=a;1<=a&&this.finished();
return this.matrix},__class__:Nb});var xd=function(){Ma.call(this)};f["system.gfx.ui.animation.XAnimMoveOut"]=xd;xd.__name__="system.gfx.ui.animation.XAnimMoveOut";xd.__super__=Ma;xd.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,(C.timer-this.start)/.3),b=1-a,d=this.matrix;d[0]=b;d[3]=0;d[6]=0;d[1]=0;d[4]=b;d[7]=0;d[2]=0;d[5]=0;d[8]=1;this.alpha=Math.max(0,b);1<=a&&this.running&&(this.register(Dc.delay(c(this,this.finished),1)),this.running=!1);return this.matrix},__class__:xd});
var X=function(a,b){this.movedIn=this.mBlocker=this.mOldPlayer=null;this.frame=0;this.loaded=this.atlasInvalid=!1;this.vertexBufferIdx=0;this.drawData=[];this.trackScreen=!0;La.call(this,b);this.XAnimMoveOutClass=X.MoveOutDefault;this.XAnimMoveInClass=X.MoveInDefault;null==X.sShader&&this.createShader();this.currentDrawData=new Nh;this.drawData.push(this.currentDrawData);this.currentDrawData.vertexBuffer.upload();this.registerXEventListener(q.instance,"SIZE_CHANGED",c(this,this.onScreenSizeChangeEvent));
this.registerXEventListener(S.get_instance(),"KEY_DOWN_EVENT",c(this,this.onKeyDown));null!=a&&this.load(a)};f["system.gfx.ui.elements.XLayer"]=X;X.__name__="system.gfx.ui.elements.XLayer";X.__super__=La;X.prototype=k(La.prototype,{onKeyDown:function(a){1073742094==a.code&&this.close()},get_atlas:function(){if(null==this.atlas){var a=this.file;var b=null!=a?a:V.getClass(this).__name__;a=this.initialAtlasSize;this.atlas=new wh(null!=a?a:1024,b);this.registerXEventListener(this.atlas,"XAtlas::update",
c(this,this.onUpdateAtlas))}return this.atlas},onPlayerChange:function(a){this.mOldPlayer!=u.get_instance().get_player()&&(this.releaseXEventListener(this.mOldPlayer,"Player::RESOURCE_UPDATE",c(this,this.onResourceUpdate)),this.registerXEventListener(u.get_instance().get_player(),"Player::RESOURCE_UPDATE",c(this,this.onResourceUpdate)),this.mOldPlayer=u.get_instance().get_player())},onLoadComplete:function(){this.loaded=!0;this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,c(this,this.onLanguageChange));
var a=u.get_instance(),b=c(this,this.onPlayerChange);b(null);this.registerXEventListener(a,"Player::CHANGE_EVENT",b);u.get_instance().hasFeature("share")&&this.setLocalState("share");this.onScreenSizeChangeEvent(null);a=this.moveIn();null!=a&&this.registerXEventListener(a,"XAnimation:Finished",c(this,this.onInitialMoveIn));this.dispatchSimpleXEvent("XLayer::LOAD_COMPLETE")},onInitialMoveIn:function(a){this.releaseXEventListener(a.target,"XAnimation:Finished",c(this,this.onInitialMoveIn));this.onScreenReady()},
onScreenReady:function(){},moveIn:function(){null!=this.mAnimMoveOut&&(this.releaseXEventListener(this.mAnimMoveOut,"XAnimation:Finished",c(this,this.onMoveOutFinished)),this.mAnimMoveOut=this.removeAnimation(this.mAnimMoveOut));return 1!=this.movedIn&&null==this.mAnimMoveIn&&(this.set_visible(!0),this.movedIn=null,null!=this.XAnimMoveInClass)?(this.mAnimMoveIn=Ca.createInstance(this.XAnimMoveInClass,[]),this.registerXEventListener(this.mAnimMoveIn,"XAnimation:Finished",c(this,this.onMoveInFinished)),
this.animateIn(this.mAnimMoveIn)):null},onMoveInFinished:function(a){this.releaseXEventListener(a.target,"XAnimation:Finished",c(this,this.onMoveInFinished));this.mAnimMoveIn=null;this.set_visible(!0);this.movedIn=!0},moveOut:function(){null!=this.mAnimMoveIn&&(this.releaseXEventListener(this.mAnimMoveIn,"XAnimation:Finished",c(this,this.onMoveInFinished)),this.mAnimMoveIn=this.removeAnimation(this.mAnimMoveIn));return 0!=this.movedIn&&null==this.mAnimMoveOut&&(this.movedIn=null,null!=this.XAnimMoveOutClass)?
(this.mAnimMoveOut=Ca.createInstance(this.XAnimMoveOutClass,[]),this.registerXEventListener(this.mAnimMoveOut,"XAnimation:Finished",c(this,this.onMoveOutFinished)),this.addAnimation(this.mAnimMoveOut)):null},onMoveOutFinished:function(a){this.releaseXEventListener(a.target,"XAnimation:Finished",c(this,this.onMoveOutFinished));this.mAnimMoveOut=null;this.set_visible(!1);this.movedIn=!1},presentRenderTarget:function(){if(null!=this.renderTarget){var a=this.presenter;a.texture=this.renderTarget;O.makeIdentity(a.modelMatrix);
var b=a.modelMatrix;b[0]=b[0];b[1]=b[1];b[2]=b[2];b[4]=b[4];b[5]=b[5];b[6]=b[6];b[8]=b[8];b[9]=b[9];b[10]=b[10];b[12]=b[12];b[13]=b[13];b[14]=b[14];a.draw()}},animateIn:function(a){this.registerXEventListener(this.addAnimation(a),"XAnimation:Finished",c(this,this.onAnimateInFinished));return a},onAnimateInFinished:function(a){},onScreenSizeChangeEvent:function(a){this.invalidate();if(null!=this.children){a=0;for(var b=this.children;a<b.length;)b[a++].invalidate()}this.onScreenSizeChanged()},onScreenSizeChanged:function(){},
load:function(a){var b=this;this.file=a;if(this.trackScreen&&null!=this.file){var d=new Ka("/([^/]+)$","");d.match(this.file)?u.get_instance().get_tracking().screen(d.matched(1)):u.get_instance().get_tracking().screen(this.file)}ua.loadText(a).onComplete(function(a){var d=new mk;null!=b.context&&d.externalLibs.push(b.context);d.fromXML(Q.parse(a)).onComplete(function(a){b.context=d;d.template.applyTo(b);b.onLoadComplete()})})},block:function(a,b){null==a&&(a=.5);var d=this.mBlocker;null!=d&&d.dispose();
this.mBlocker=null;this.mBlocker=null!=b?b:new Id;this.mBlocker.fadeTo(a,.4);a=new ca;1!=a.absolute&&a.invalidate();a.absolute=!0;"center"!=a.valign&&a.invalidate();a.valign="center";"center"!=a.halign&&a.invalidate();a.halign="center";200!=a.relativeHeight&&a.invalidate();a.relativeHeight=200;200!=a.relativeWidth&&a.invalidate();a.relativeWidth=200;a.clickable=!0;this.addChild(a,0)},createShader:function(){X.sShader=new qc("attribute vec2 aVertexPosition;attribute vec4 aColor;attribute vec4 aOffsetColor;attribute vec2 aTexCoord;attribute float aBlend;uniform mat4 uViewProjection;varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;varying float vBlend;void main (void){vTexCoord = aTexCoord;vColor = aColor.rgba;vOffsetColor = aOffsetColor.bgra;vBlend = aBlend;gl_Position = uViewProjection * vec4( aVertexPosition - vec2( 0.5, 0.5 ), 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;varying float vBlend;uniform sampler2D uTex0;uniform sampler2D uTex1;void main (void) {vec4 col = texture2D( uTex0, vTexCoord );vec4 text = texture2D( uTex1, vTexCoord, -0.3 ); gl_FragColor = mix( col, text, vBlend ) * vColor + vOffsetColor;}")},write:function(a){if(null!=a){++a.vertexBufferIdx;var b=a.drawData;a.vertexBufferIdx>=(null!=b?b.length:null)?(a.currentDrawData=new Nh,a.drawData.push(a.currentDrawData),a.currentDrawData.vertexBuffer.upload()):
a.currentDrawData=a.drawData[a.vertexBufferIdx];a.currentDrawData.externalLayer=this;++a.vertexBufferIdx;b=a.drawData;a.vertexBufferIdx>=(null!=b?b.length:null)?(a.currentDrawData=new Nh,a.drawData.push(a.currentDrawData),a.currentDrawData.vertexBuffer.upload()):a.currentDrawData=a.drawData[a.vertexBufferIdx]}},onUpdateAtlas:function(a){this.atlasInvalid=!0},update:function(){La.prototype.update.call(this);if(null!=this.drawData){this.vertexBufferIdx=0;this.currentDrawData=this.drawData[this.vertexBufferIdx];
if(null!=this.drawData)for(var a=0,b=this.drawData;a<b.length;)b[a++].reset();if(this.visible&&null!=this.children)for(a=0,b=this.children;a<b.length;){var d=b[a];++a;d.visible&&d.write(this)}for(var l=0;this.atlasInvalid&&4>++l;){this.atlasInvalid=!1;if(null!=this.children)for(a=0,b=this.children;a<b.length;)b[a++].invalidate();La.prototype.update.call(this);this.vertexBufferIdx=0;this.currentDrawData=this.drawData[this.vertexBufferIdx];if(null!=this.drawData)for(d=0,a=this.drawData;d<a.length;)a[d++].reset();
if(this.visible&&null!=this.children)for(a=0,b=this.children;a<b.length;)d=b[a],++a,d.visible&&d.write(this)}++this.frame;if(null!=this.drawData)for(a=0,b=this.drawData;a<b.length;)b[a++].vertexBuffer.upload()}},render:function(){if(null!=this.renderTarget){var a=q.instance;a.mFrameBufferStack.push(a.currentFramebuffer);a=this.renderTarget;var b=pa.sTempV3D[++pa.sTempV3DIdx%pa.sTempV3DLen];b.x=0;b.y=0;b.z=0;b.w=0;q.instance.setFramebuffer(a.mFramebuffer);null!=a.mDepthBuffer&&q.instance.setDepthbuffer(a.mDepthBuffer);
var d=a.width;a=a.height;q.instance.viewport.setTo(0,0,d,a);q.gl.viewport(0,0,d,a);null!=b&&(q.instance.set_clearColor(b),q.gl.clear(q.gl.COLOR_BUFFER_BIT|q.gl.DEPTH_BUFFER_BIT))}b=this.mBlocker;null!=b&&b.draw();this.visible&&this.draw();null!=this.renderTarget&&(a=q.instance,a.setFramebuffer(a.mFrameBufferStack.pop()),this.presentRenderTarget())},draw:function(){if(null!=this.drawData)for(var a=0,b=this.drawData;a<b.length;){var d=b[a];++a;if(null==d.externalLayer){var l=d.vertexBuffer.entries>>
1;if(0<l){d.start();var c=X.sShader,e=d.vertexBuffer,f=zc.getIB(l);c.mVertexBuffer=e;c.mVertexBuffer2=null;c.mIndexBuffer=f;q.gl.useProgram(c.mProgram);e.apply();null!=f&&f.apply();this.setupShader();c=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(c,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);e=X.sShader;f=q.gl;var g=e.mUniformLookUp.h.uViewProjection;if(null==g){var h=e.mUniformLookUp;g=q.gl.getUniformLocation(e.mProgram,"uViewProjection");h.h.hasOwnProperty("uViewProjection")&&E.remove(h.mKeys,
"uViewProjection");h.h.uViewProjection=g;h.mKeys.push("uViewProjection")}pb.uniformMatrix4fv(f,g,!1,c);X.sShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);X.sShader.vertexAttribPointer("aColor",4,q.gl.FLOAT,8);X.sShader.vertexAttribPointer("aOffsetColor",4,q.gl.UNSIGNED_BYTE,24,!0);X.sShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,28);X.sShader.vertexAttribPointer("aBlend",1,q.gl.FLOAT,36);c=X.sShader;e=this.get_atlas().get_texture();f=q.gl;g=c.mUniformLookUp.h.uTex0;null==g&&(h=
c.mUniformLookUp,g=q.gl.getUniformLocation(c.mProgram,"uTex0"),h.h.hasOwnProperty("uTex0")&&E.remove(h.mKeys,"uTex0"),h.h.uTex0=g,h.mKeys.push("uTex0"));f.uniform1i(g,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);c=X.sShader;e=xi.sInstance.texture;f=q.gl;g=c.mUniformLookUp.h.uTex1;null==g&&(h=c.mUniformLookUp,g=q.gl.getUniformLocation(c.mProgram,"uTex1"),h.h.hasOwnProperty("uTex1")&&E.remove(h.mKeys,"uTex1"),h.h.uTex1=g,h.mKeys.push("uTex1"));f.uniform1i(g,1);null!=e?e.apply(1):q.sDefaultTex.apply(1);
q.gl.drawElements(q.gl.TRIANGLES,3*l,q.gl.UNSIGNED_SHORT,0);d.end()}}else d.externalLayer.render()}},setupShader:function(){},onButtonClick:function(a){"uiBtClose"==a.name?this.close():La.prototype.onButtonClick.call(this,a)},applyStringAttribute:function(a,b){switch(a){case "help":this.set_help(b);break;case "label":this.set_label(b);break;default:La.prototype.applyStringAttribute.call(this,a,b)}},set_label:function(a){this.label!=a&&(this.label=a,this.setText("uiTxtHeadText",a));return a},set_help:function(a){this.help!=
a&&(this.help=a);return a},onLanguageChange:function(a){if(this.loaded){var b=[this];for(a=[];0<b.length;){var d=b.pop();a.push(d);b=b.concat(d.children)}for(b=0;b<a.length;)if(d=a[b],++b,d instanceof Ea){var l=null!=d?d.rawText:null;0==(null!=l?l.indexOf("SID_"):null)&&d.set_text(d.rawText)}this.onInitText()}},onInitText:function(){},onMoveOutFinishedThenDispose:function(a){Tc.dispose(this)},onResourceUpdate:function(a){},close:function(){this.enableControls=!1;if(null==this.XAnimMoveOutClass)Tc.dispose(this);
else{this.registerXEventListener(this.addAnimation(Ca.createInstance(this.XAnimMoveOutClass,[])),"XAnimation:Finished",c(this,this.onMoveOutFinishedThenDispose));var a=this.mBlocker;null!=a&&a.fadeTo(0,.3)}},dispose:function(){var a=this.get_atlas();null!=a&&a.dispose();this.atlas=null;this.context instanceof mk&&(a=this.context,null!=a&&a.dispose(),this.context=null);a=this.drawData;if(null!=a)for(;0<a.length;)a.pop().dispose();this.mAnimMoveIn=this.mAnimMoveOut=this.currentDrawData=this.drawData=
null;this.set_visible(!1);a=this.mBlocker;null!=a&&a.dispose();this.mOldPlayer=this.mBlocker=null;La.prototype.dispose.call(this)},__class__:X,__properties__:k(La.prototype.__properties__,{set_help:"set_help",set_label:"set_label",get_atlas:"get_atlas"})});var bd=function(a){X.call(this,a)};f["screens.ZooScreen"]=bd;bd.__name__="screens.ZooScreen";bd.__super__=X;bd.prototype=k(X.prototype,{enableInfoButton:function(a){null==a&&(a=!0);var b=this.findType("uiTxtHeadText",Ea);if(null!=b){b.registerXEventListener(b,
"XText::UPDATE_WIDTH",c(this,this.onTextWidthUpdate));if(isFinite(b.textWidth)){var d=null;b.relativeWidth!=d&&b.invalidate();b.relativeWidth=d;d=b.textWidth;b.width!=d&&b.invalidate();null!=b.relativeWidth&&b.invalidate();b.relativeWidth=null;b.width=d}this.setVisible("uiBtScreenInfo",a)}},onTextWidthUpdate:function(a){var b=a.target;null!=b&&(a=a.data,b.width!=a&&b.invalidate(),null!=b.relativeWidth&&b.invalidate(),b.relativeWidth=null,b.width=a)},set_help:function(a){this.help!=a&&(X.prototype.set_help.call(this,
a),this.enableInfoButton(null!=a));return a},onButtonClick:function(a){"uiBtScreenInfo"==a.name?hi.show(this.help):X.prototype.onButtonClick.call(this,a)},onRewardedAd:function(a,b){switch(a.reward){case "reward_life":if(b.success){a=h.get_instance().rewardedAdForLife();var d=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(d);this.register(a.onComplete(function(a){y.instance.addScreen(new Xe(h.config.rewards.reward_life.resources,
null),!1);null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}))}break;case "reward_mtx":if(b.success){a=h.get_instance().earn();var l=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(l);this.register(a.onComplete(function(a){y.instance.addScreen(new Xe(h.config.rewards.reward_mtx.resources,null),!1);null!=l&&l.dispose()}).onError(function(a){null!=l&&l.dispose()}))}}},__class__:bd});var Eb=
function(a){this.mSettings=null;X.call(this,a);this.registerXEventListener(e.get_instance(),"AudioManager::Update",c(this,this.onAudioUpdate));this.registerXEventListener(ba.instance,"FirebaseManager::AUTH_CHANGE_EVENT",c(this,this.onFirebaseAuthChange));this.onFirebaseAuthChange()};f["screens.SettingsScreen"]=Eb;Eb.__name__="screens.SettingsScreen";Eb.__super__=bd;Eb.prototype=k(bd.prototype,{onLoadComplete:function(){bd.prototype.onLoadComplete.call(this);this.setVisible("uiBtSettings",!h.get_instance().hideSettings)},
onFirebaseAuthChange:function(a){},createSettings:function(a){this.closeSettings();bc.get_instance().set_visible(!1);var b=this.context;b=null!=b?b.getTemplate("tSettings"):null;null==b&&(b=this.context,b=null!=b?b.getTemplate("tBaseSettings"):null);this.mSettings=b.createInstance();this.mSettings.addAnimation(new Hf(.5));a.addChild(this.mSettings);0!=a.highlight&&(a.invalidate(),null!=a.highlightAnimation&&(a.removeAnimation(a.highlightAnimation),a.highlightAnimation=null));a.highlight=!1;this.setVisible("uiBtCode",
!0);this.setVisible("uiBtShop",!h.get_instance().hideShop);this.setVisible("uiBtQuitLevel",!h.get_instance().forceMode);this.mSettings.setVisible("uiBtSound",!u.get_instance().hasFeature("external_mute"));this.mSettings.setVisible("uiBtMusic",!u.get_instance().hasFeature("external_mute"));u.get_instance().hasFeature("version",!0)?this.setText("uiTxtSettingsVersion",""+Da.sInstance.meta.h.name+" V"+Da.sInstance.meta.h.version+" build #"+Da.sInstance.meta.h.build):this.setText("uiTxtSettingsVersion",
"");this.arrange();this.onFirebaseAuthChange();this.onAudioUpdate()},onButtonClick:function(a){switch(a.name){case "uiBtCloseSettings":this.closeSettings();break;case "uiBtCode":y.instance.addScreen(new $d);break;case "uiBtDebug":break;case "uiBtFacebook":a=ba.instance.signIn(Jc.FACEBOOK);var b=c(this,this.onLoginResult),d=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(d);this.register(a.onComplete(function(a){null!=
b&&b(a);null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}));break;case "uiBtGoogle":a=ba.instance.signIn(Jc.GOOGLE);var l=c(this,this.onLoginResult),p=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(p);this.register(a.onComplete(function(a){null!=l&&l(a);null!=p&&p.dispose()}).onError(function(a){null!=p&&p.dispose()}));break;case "uiBtMusic":e.get_instance().set_muteMusic(!e.get_instance().get_muteMusic());
V.__cast(u.get_instance(),dd).reportEvent("EVENT_VOLUMECHANGE",{bgmVolume:e.get_instance().get_muteMusic()?0:1,sfxVolume:e.get_instance().get_muteSound()?0:1});break;case "uiBtSettings":this.createSettings(a);break;case "uiBtShop":this.closeSettings();bc.get_instance().showHelp(null);y.instance.addScreen(new Hc("menu"));break;case "uiBtSound":e.get_instance().set_muteSound(!e.get_instance().get_muteSound());V.__cast(u.get_instance(),dd).reportEvent("EVENT_VOLUMECHANGE",{bgmVolume:e.get_instance().get_muteMusic()?
0:1,sfxVolume:e.get_instance().get_muteSound()?0:1});break;default:var f=N.getSupportedLocale(a.name);null!=f?(N.initLang(f),u.get_instance().get_player().storage.setEntry("loca",f)):bd.prototype.onButtonClick.call(this,a)}},onLoginResult:function(a){},arrange:function(){if(null!=this.mSettings)for(var a=0,b=0,d=this.mSettings.children;b<d.length;){var l=d[b];++b;l instanceof Aa&&(l=V.__cast(l,Aa),l.visible&&0==l.x&&(l.y!=a&&l.invalidate(),l.y=a,a-=l.height+10))}},closeSettings:function(){bc.get_instance().set_visible(!0);
if(null!=this.mSettings){if(null!=this.mSettings.parent){var a=this.mSettings.parent;1!=a.highlight&&(a.invalidate(),null!=a.highlightAnimation&&(a.removeAnimation(a.highlightAnimation),a.highlightAnimation=null));a.highlight=!0}a=this.mSettings;null!=a&&a.dispose();this.mSettings=null}},onAudioUpdate:function(a){a=e.get_instance().get_muteSound()?"dynamic/sound_off.png":"dynamic/sound.png";var b=this.find("uiBtSound");null!=b&&b instanceof G&&b.set_image(a);a=e.get_instance().get_muteMusic()?"dynamic/music_off.png":
"dynamic/music.png";b=this.find("uiBtMusic");null!=b&&b instanceof G&&b.set_image(a)},__class__:Eb});var wa=function(a){this.mGold=this.mGoldStart=this.mGoldAnimationStartTime=null;this.mAllowShop=!0;Eb.call(this,a)};f["screens.PortraitScreen"]=wa;wa.__name__="screens.PortraitScreen";wa.__super__=Eb;wa.prototype=k(Eb.prototype,{onLoadComplete:function(){Eb.prototype.onLoadComplete.call(this);if(null!=this.find("uiResourceBlock")){var a=h.get_instance(),b=c(this,this.onExtraResourceUpdate);b(null);
this.registerXEventListener(a,"RESOURCE_UPDATE",b);a=h.get_instance();b=c(this,this.onExtraResourceUpdate);b(null);this.registerXEventListener(a,"ZooBackendLayer::VISIBLE_RESOURCE_UPDATE",b);this.onExtraLifeUpdate()}a=this.find("uiBtGold");null!=a&&(a.setVisible("uiImgPlus",this.mAllowShop),a.clickable=this.mAllowShop);this.onScreenSizeChanged()},setGold:function(a){null==this.mGold||this.mGold>a?(this.mGold=a,a=this.find("uiBtGold"),null!=a&&a.setText("uiTxtAmount",N.number(this.mGold))):(null==
this.mGoldStart&&(this.mGoldStart=this.mGold),this.mGold=a,this.mGoldAnimationStartTime=C.timer)},update:function(){if(null!=this.mGoldAnimationStartTime&&this.mGoldStart!=this.mGold){var a=Math.min(C.timer-this.mGoldAnimationStartTime,1),b=this.find("uiBtGold");null!=b&&(b.setText("uiTxtAmount",N.number(Math.round(this.mGoldStart*(1-a)+this.mGold*a))),1<=a&&(this.mGoldStart=this.mGoldAnimationStartTime=null,b.pulse()))}Eb.prototype.update.call(this)},onExtraResourceUpdate:function(a){h.get_instance().consumeAllDelayedResources();
(null==a&&null==this.mGold||null!=a&&"mtx"==a.resourceType)&&this.setGold(Math.round(h.get_instance().getVisibleResource("mtx")));if(null!=a&&"lifes"==a.resourceType)this.onExtraLifeUpdate()},onExtraLifeUpdate:function(a){a=this.mExtraLifeCountDown;null!=a&&a.dispose();this.mExtraLifeCountDown=null;null!=this.mExtraLifeInfinityCountDown&&(this.releaseXEventListener(this.mExtraLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.onExtraLifeUpdate)),a=this.mExtraLifeInfinityCountDown,
null!=a&&a.dispose(),this.mExtraLifeInfinityCountDown=null);if(h.get_instance().hasTemporaryBonus("tempUnlimitedLife"))this.setState("uiBtLifes","unlimited"),this.mExtraLifeInfinityCountDown=new Cc(Math.max(1,h.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")|0),this.findType("uiTxtLifeCountdown",Ea)),this.registerXEventListener(this.mExtraLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.onExtraLifeUpdate)),this.mExtraLifeInfinityCountDown.start();else{a=h.get_instance();
if(a.getResource("lifes")>=a.get_maxLifes())a=this.find("uiBtLifes"),null!=a&&(180!=a.width&&a.invalidate(),b=null,a.relativeWidth!=b&&a.invalidate(),a.relativeWidth=b,a.width=180),this.setText("uiTxtLifeCountdown","");else if(this.mExtraLifeCountDown=(new Cc(Math.max(0,h.get_instance().secondsNewLife()),this.findType("uiTxtLifeCountdown",Ea))).start(),a=this.find("uiBtLifes"),null!=a){350!=a.width&&a.invalidate();var b=null;a.relativeWidth!=b&&a.invalidate();a.relativeWidth=b;a.width=350}a=Math.round(h.get_instance().getVisibleResource("lifes"));
this.setState("uiBtLifes","limited");this.setText("uiTxtLifeAmount",N.number(Math.max(0,a)))}},onButtonClick:function(a){switch(a.name){case "uiBtGold":if(this.mAllowShop){y.instance.addScreen(new Hc("resource"));return}break;case "uiBtLifes":y.instance.addScreen(new sd("lifes"));return}Eb.prototype.onButtonClick.call(this,a)},onScreenSizeChanged:function(){Eb.prototype.onScreenSizeChanged.call(this);var a=this.width/this.height,b=q.instance.ratio;1!=this.scale&&this.invalidate();this.scale=1;if(b<
y.V_AR){var d=y.V_AR/b;this.scale!=d&&this.invalidate();this.scale=d}b<a&&(d=b/a*this.scale,this.scale!=d&&this.invalidate(),this.scale=d);a=this.find("uiViewFrame");null!=a&&(1.5<q.instance.ratio?(d=1.5+(q.instance.ratio-1.5)/3,b=a.ratio,(isFinite(b)?a.ratio:a.resultWidth/a.resultHeight)!=d&&a.invalidate(),a.ratio=d,d=null,a.relativeWidth!=d&&a.invalidate(),a.relativeWidth=d):(d=null,b=a.ratio,(isFinite(b)?a.ratio:a.resultWidth/a.resultHeight)!=d&&a.invalidate(),a.ratio=d,1!=a.relativeWidth&&a.invalidate(),
a.relativeWidth=1))},__class__:wa});var L=function(a){this.long=!1;wa.call(this,a)};f["screens.ZooPortraitScreen"]=L;L.__name__="screens.ZooPortraitScreen";L.__super__=wa;L.prototype=k(wa.prototype,{onLoadComplete:function(){this.mJennyTag="JennyScreen-"+this.file+"-"+ia.createGUID();dc.instance.hideJenny(this.mJennyTag);wa.prototype.onLoadComplete.call(this)},setLevel:function(a){var b=this;ac.getLevelDifficulty(a).onComplete(function(d){b.setVisible("uiHardLevel",0!=d);b.set_label(N.translate("SID_LEVEL_X",
[a]));if(0<d){var l=b.find("uiImgDifficulty");null!=l&&l instanceof G&&l.set_image(1==d?"dynamic/difficulty_1.png":"dynamic/difficulty_2.png");b.setText("uiTxtDifficulty",1==d?"SID_HARD":"SID_VERY_HARD");null!=b.find("uiImgDifficulty")&&b.find("uiImgDifficulty").addAnimation(new df(null,1,.1,1))}}).onError(function(a){b.setVisible("uiHardLevel",!1);b.setText("uiTxtHeadText","")})},onScreenSizeChanged:function(){wa.prototype.onScreenSizeChanged.call(this);var a=q.instance.ratio;1!=this.scale&&this.invalidate();
this.scale=1;a<y.V_AR&&(a=y.V_AR/a,this.scale!=a&&this.invalidate(),this.scale=a);this.long&&(1250!=this.height&&this.invalidate(),a=null,this.relativeHeight!=a&&this.invalidate(),this.relativeHeight=a,this.height=1250);var b=y.SCREEN_WIDTH/this.scale/1.25;this.width>b&&(a=b/this.width*this.scale,this.scale!=a&&this.invalidate(),this.scale=a,this.long&&(a=Math.min(1250/(b/this.width),1600),this.height!=a&&this.invalidate(),null!=this.relativeHeight&&this.invalidate(),this.relativeHeight=null,this.height=
a))},dispose:function(){dc.instance.showJenny(this.mJennyTag);this.mJennyTag=null;wa.prototype.dispose.call(this)},__class__:L});var fc=function(a){this.mAnimals=a;L.call(this,"xml/choose_animals.xml");this.block()};f["editor.EditorChooseAnimals"]=fc;fc.__name__="editor.EditorChooseAnimals";fc.__super__=L;fc.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.updateDisplay()},updateDisplay:function(){var a=-1!=this.mAnimals.indexOf("GEM_BLUE");this.find("uiBtAnimal1").setVisible("uiImgSelected",
a);a=-1!=this.mAnimals.indexOf("GEM_RED");this.find("uiBtAnimal2").setVisible("uiImgSelected",a);a=-1!=this.mAnimals.indexOf("GEM_GREEN");this.find("uiBtAnimal3").setVisible("uiImgSelected",a);a=-1!=this.mAnimals.indexOf("GEM_YELLOW");this.find("uiBtAnimal4").setVisible("uiImgSelected",a);a=-1!=this.mAnimals.indexOf("GEM_PURPLE");this.find("uiBtAnimal5").setVisible("uiImgSelected",a);a=-1!=this.mAnimals.indexOf("GEM_WHITE");this.find("uiBtAnimal6").setVisible("uiImgSelected",a)},toggle:function(a){(!E.remove(this.mAnimals,
a)||1>=this.mAnimals.length)&&this.mAnimals.push(a);this.updateDisplay()},onButtonClick:function(a){switch(a.name){case "uiBtAnimal1":this.toggle("GEM_BLUE");break;case "uiBtAnimal2":this.toggle("GEM_RED");break;case "uiBtAnimal3":this.toggle("GEM_GREEN");break;case "uiBtAnimal4":this.toggle("GEM_YELLOW");break;case "uiBtAnimal5":this.toggle("GEM_PURPLE");break;case "uiBtAnimal6":this.toggle("GEM_WHITE");break;case "uiBtOk":this.dispatchSimpleXEvent("EditorChooseAnimals:CHOOSE",this.mAnimals);this.close();
break;default:L.prototype.onButtonClick.call(this,a)}},__class__:fc});var Ga=function(a){L.call(this,"xml/choose_stone.xml");this.mStones=a;this.block()};f["editor.EditorChooseStone"]=Ga;Ga.__name__="editor.EditorChooseStone";Ga.__super__=L;Ga.prototype=k(L.prototype,{onLoadComplete:function(){var a=this.findType("uiList",Lb);if(null!=a)for(var b=this.mStones.slice();0<b.length;)a.addContainer(new Ya(this.context,b));L.prototype.onLoadComplete.call(this)},onButtonClick:function(a){0==a.name.indexOf("uiBtStone")?
(this.dispatchSimpleXEvent("ChooseStone:CHOOSE",a.data.stone),this.close()):L.prototype.onButtonClick.call(this,a)},dispose:function(){this.mStones=null;L.prototype.dispose.call(this)},__class__:Ga});var hb=function(a,b){this.mTasks=a;this.mMoves=b;L.call(this,"xml/choose_tasks.xml");this.block()};f["editor.EditorChooseTasks"]=hb;hb.__name__="editor.EditorChooseTasks";hb.__super__=L;hb.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=this.find("uiContent");
if(null!=a)for(var b=0;4>b;){var d=b++,l=new Je(this.context,this.mTasks[d],d),c=a.addChild(l);d*=l.height;c.y!=d&&c.invalidate();c.y=d}this.setAmount(this.mMoves)},setAmount:function(a){this.mMoves=5>a?5:a;a=this.find("uiImgMovesBlock");null!=a&&a.setText("uiTxtAmount",N.number(this.mMoves))},addAmount:function(a){this.setAmount(this.mMoves+a)},onButtonClick:function(a){var b=S.get_instance().keyPressed(1073742053)||S.get_instance().keyPressed(1073742049);switch(a.name){case "uiBtAdd":this.addAmount(b?
5:1);break;case "uiBtOk":this.dispatchSimpleXEvent("EditorChooseTasks:CHOOSE",{tasks:this.mTasks,moves:this.mMoves});this.close();break;case "uiBtSub":this.addAmount(b?-5:-1);break;default:L.prototype.onButtonClick.call(this,a)}},dispose:function(){this.mTasks=null;L.prototype.dispose.call(this)},__class__:hb});var Je=function(a,b,d){this.mTask=b;this.mIdx=d;La.call(this,a);a=this.context;a=null!=a?a.getTemplate("tTaskBlock"):null;null!=a&&a.applyTo(this);this.setType(this.mTask.type);this.setAmount(this.mTask.count)};
f["editor.EditorModifyTask"]=Je;Je.__name__="editor.EditorModifyTask";Je.__super__=La;Je.prototype=k(La.prototype,{setType:function(a){this.mTask.type=a;this.setLocalState("UNDEFINED"!=a?"enabled":"disabled");var b=this.find("uiImgIcon");null!=b&&(b.removeAllChildren(),a=new xb(this.context,a),"center"!=a.valign&&a.invalidate(),a.valign="center","center"!=a.halign&&a.invalidate(),a.halign="center",1.6!=a.scale&&a.invalidate(),a.scale=1.6,b.addChild(a))},setAmount:function(a){var b=0==this.mIdx?1:
0;b>a&&(a=b);this.mTask.count=a;this.setText("uiTxtAmount",N.number(a))},addAmount:function(a){this.setAmount(this.mTask.count+a)},onButtonClick:function(a){var b=this,d=S.get_instance().keyPressed(1073742053)||S.get_instance().keyPressed(1073742049);switch(a.name){case "uiBtAdd":this.addAmount(d?5:1);break;case "uiBtSub":this.addAmount(d?-5:-1);break;case "uiBtTaskType":y.instance.addScreen(new Ga(od.GOALS)).addXEventListener("ChooseStone:CHOOSE",function(a){b.setType(a.data)});break;default:La.prototype.onButtonClick.call(this,
a)}},dispose:function(){this.mTask=null;La.prototype.dispose.call(this)},__class__:Je});var od=function(){this.mCurrentAction=null;this.mRedoStack=[];this.mUndoStack=[];this.mMoves=35;this.mTasks=[{type:"GEM_YELLOW",count:10},{type:"UNDEFINED",count:0},{type:"UNDEFINED",count:0},{type:"UNDEFINED",count:0}];this.mAnimals=["GEM_RED","GEM_BLUE","GEM_YELLOW","GEM_PURPLE"];this.mOverlay=new Yb;this.mStones=new Yb;this.editorStone=this.editorOverlay="UNDEFINED";this.editorState="default";this.rows=this.columns=
8;this.mOverlayDirty=this.mItemDirty=!1;X.call(this);this.block();this.load("xml/level_editor.xml")};f["editor.LevelEditor"]=od;od.__name__="editor.LevelEditor";od.getStoneTemplateName=function(a){switch(a){case "ANVIL":return"tAnvil";case "APPLE":return"tApple";case "BALLON":return"tBallon";case "BEEHIVE":return"tBeehive";case "BLOB":return"tBlob";case "BOMB":return"tBomb";case "BOX":return"tGemBox1";case "BOX2":return"tGemBox2";case "BOX3":return"tGemBox";case "BOX_BLUE":return"tBoxBlue";case "BOX_GREEN":return"tBoxGreen";
case "BOX_PURPLE":return"tBoxPurple";case "BOX_RED":return"tBoxRed";case "BOX_WHITE":return"tBoxWhite";case "BOX_YELLOW":return"tBoxYellow";case "BREAKER":return"tRowBreaker";case "BREAKER_COLUMN":return"tColumnBreaker";case "CELL":return"tCell";case "CHAMELEON":return"tChameleon";case "CHEST":return"tChest";case "CHICKEN":return"tChicken";case "COCONUT":return"tCoconut";case "COIN":return"tCoin";case "COINS":return"tCoins";case "COLOR_BOX":return"tColorBoxEditor";case "COLOR_EGG":return"tColorEgg";
case "CRACKLING":return"tCrackling";case "CRACKLING2":return"tCrackling2";case "DUNG":return"tDung";case "DUNG_PILE":return"tDungPile";case "FAT_ANVIL":return"tFatAnvil";case "FAT_MULTI":return"tFatMultiEditor";case "FAT_MULTI2":return"tFatMulti2";case "FAT_MULTI_COLOR":return"tFatMultiColorEditor";case "FAT_MULTI_COLOR_TWISTER":return"tFatMultiColorTwisterEditor";case "FERTILIZER":return"tFertilizer";case "FLIES":return"tFlies";case "FOOD_BOWL":return"tFoodBowl";case "GEM_BLUE":return"tGemBlue";
case "GEM_GREEN":return"tGemGreen";case "GEM_PURPLE":return"tGemPurple";case "GEM_RANDOM":return"tEditorGem";case "GEM_RED":return"tGemRed";case "GEM_WHITE":return"tGemWhite";case "GEM_YELLOW":return"tGemYellow";case "GIFT":return"tGift";case "GROUP_5_HITS_ONE_PLACE":return"tFish";case "GROUP_5_HITS_ONE_PLACE2":return"tFish2";case "GROUP_SINGLE_HIT_EACH":return"tPumpkin";case "GROUP_SINGLE_HIT_EACH2":return"tPumpkin2";case "HARD_CAGE":return"tHardCage";case "HARD_CAGE2":return"tHardCage2";case "HARD_CAGE3":return"tHardCage3";
case "HARD_CAGE4":return"tHardCage4";case "HONEYPOT":return"tHoneyPot";case "LEAF":return"tLeaf";case "METAL_PLATE":return"tMetalPlate";case "MULTI_CAGE":return"tMultiCage";case "ORB":return"tEditorOrb";case "ORE":return"tOre";case "ORE_PILE":return"tOrePile";case "ROCKS":return"tEditorRock";case "ROCKS_BLUE":return"tEditorBlockedBlue";case "ROCKS_GREEN":return"tEditorBlockedGreen";case "ROCKS_PURPLE":return"tEditorBlockedPurple";case "ROCKS_RED":return"tEditorBlockedRed";case "ROCKS_WHITE":return"tEditorBlockedWhite";
case "ROCKS_YELLOW":return"tEditorBlockedYellow";case "SKUNK":return"tSkunk";case "SNOWBALL":return"tSnowball";case "SNOWFLAKE":return"tSnowflake";case "SNOWMAN":return"tSnowman";case "SOFT_CAGE":return"tSoftCage";case "STUNNED":return"tEditorGem";case "TICKER":return"tTicker";case "TICKER2":return"tTicker2";case "TIMEBOMB":return"tTimebomb";case "UNDEFINED":return"tEditorStone";case "WATER":return"tWater";case "X_HIT":return"tXHit"}};od.__super__=X;od.prototype=k(X.prototype,{onLoadComplete:function(){this.mContent=
this.find("uiContent");this.mEditField=this.find("uiEditField");this.mField=this.find("uiField");this.mStoneContainer=this.find("uiStones");this.mOverlayContainer=this.find("uiOverlay");this.find("uiEditorBG").addChild(this.editorBg=new mg);var a=this.find("uiClicks");if(null!=a){var b=this.context;b=null!=b?b.getTemplate("tClickTarget"):null;for(var d=0;10>d;)for(var l=d++,p=0;10>p;){var e=p++;this.setStone(e,l,"GEM_RANDOM");var f=b.createInstance(),g=100*e;f.x!=g&&f.invalidate();f.x=g;g=100*l;f.y!=
g&&f.invalidate();f.y=g;f.data={row:l,column:e};a.addChild(f)}}this.setAnimals(this.mAnimals);this.setTasks({tasks:this.mTasks,moves:this.mMoves});this.setMax(this.columns,this.rows);this.update();this.onScreenSizeChanged();this.registerXEventListener(S.get_instance(),"UP_EVENT",c(this,this.onMoveUp));this.registerXEventListener(y.instance,"XRoot::UI_ELEMENT_TOUCHED",c(this,this.onMoveOver));this.registerXEventListener(y.instance,"XRoot::UI_ELEMENT_MOVE_OVER",c(this,this.onMoveOver));this.registerXEventListener(this,
"LevelEditor::ITEM_ADDED",c(this,this.onItemAdded));this.registerXEventListener(this,"LevelEditor::OVERLAY_ADDED",c(this,this.onOverlayAdded));this.setEditorState("field");X.prototype.onLoadComplete.call(this)},onItemAdded:function(a){},onOverlayAdded:function(a){},setMax:function(a,b){this.rows=b;this.columns=a;var d=this.mField,l=100*this.rows;d.height!=l&&d.invalidate();var c=null;d.relativeHeight!=c&&d.invalidate();d.relativeHeight=c;d.height=l;d=this.mField;l=100*this.columns;d.width!=l&&d.invalidate();
c=null;d.relativeWidth!=c&&d.invalidate();d.relativeWidth=c;d.width=l;for(d=0;10>d;){var e=d++;this.setVisible("uiBtAddRow"+e,e<=this.rows);l=9>this.rows;c=this.find("uiBtAddRow"+e);null!=c&&(c.enabled=l,c.setLocalState(l?"enabled":"disabled"));this.setVisible("uiBtRemoveRow"+e,e<this.rows);c=4<this.rows;l=this.find("uiBtRemoveRow"+e);null!=l&&(l.enabled=c,l.setLocalState(c?"enabled":"disabled"));this.setVisible("uiBtAddColumn"+e,e<=this.columns);l=9>this.columns;c=this.find("uiBtAddColumn"+e);null!=
c&&(c.enabled=l,c.setLocalState(l?"enabled":"disabled"));this.setVisible("uiBtRemoveColumn"+e,e<this.columns);l=4<this.columns;e=this.find("uiBtRemoveColumn"+e);null!=e&&(e.enabled=l,e.setLocalState(l?"enabled":"disabled"))}this.editorBg.setMax(a,b);this.update();this.onScreenSizeChanged()},isFatPos:function(a,b){var d=this.getStone(a,b);if(null!=d&&d.fat)return!0;d=this.getStone(a-1,b-1);if(null!=d&&d.fat)return!0;d=this.getStone(a-1,b);if(null!=d&&d.fat)return!0;d=this.getStone(a,b-1);return null!=
d&&d.fat?!0:!1},isFree:function(a,b){if(0>a||a>=this.columns||0>b||b>=this.rows||!this.editorBg.getPos(a,b))return!1;var d=this.getStone(a-1,b-1);if(null!=d&&d.fat)return!1;d=this.getStone(a-1,b);if(null!=d&&d.fat)return!1;d=this.getStone(a,b-1);return null!=d&&d.fat?!1:!0},getStoneType:function(a,b){a=this.getStone(a,b);return null!=a?a.type:null},getStone:function(a,b){return this.mStones.h[a+100*b]},setStone:function(a,b,d,l){null==l&&(l=!1);var c=this.getStone(a,b);null!=c&&c.dispose();d=new ue(a,
b,d,this);l&&d.pulse();this.mStoneContainer.addChild(d);this.mStones.h[a+100*b]=d;this.mItemDirty=!0},getOverlay:function(a,b){return this.mOverlay.h[a+100*b]},getOverlayType:function(a,b){a=this.getOverlay(a,b);return null!=a?a.type:null},setOverlay:function(a,b,d,l){null==l&&(l=!1);var c=this.getOverlay(a,b);null!=c&&c.dispose();d=new ue(a,b,d,this);l&&d.pulse();this.mOverlayContainer.addChild(d);this.mOverlay.h[a+100*b]=d;this.mOverlayDirty=!0},draw:function(){X.prototype.draw.call(this)},onScreenSizeChanged:function(){if(null!=
this.mContent){var a=this.mContent,b=q.instance.ratio>this.mContent.width/this.mContent.height?y.SCREEN_HEIGHT/this.mContent.height:y.SCREEN_WIDTH/this.mContent.width;a.scale!=b&&a.invalidate();a.scale=b;a=this.mField;b=Math.min(this.mEditField.resultWidth/this.mField.width,this.mEditField.resultHeight/this.mField.height);a.scale!=b&&a.invalidate();a.scale=b}},setEditorState:function(a){this.editorState=a;this.setLocalState("default");this.setLocalState(a,!0);this.onScreenSizeChanged();this.update();
this.onScreenSizeChanged()},onMoveUp:function(a){a=this.mCurrentAction;null!=a&&a.dispose();this.mCurrentAction=null},onMoveOver:function(a){var b=a.data;if(null!=b&&null!=b.data&&"uiBtClick"==b.name){a=b.data.row;b=b.data.column;var d=S.get_instance().buttonPressed(0);switch(this.editorState){case "field":var l=this.mCurrentAction;d&&(null==l&&(this.mCurrentAction=l=new zh(this,!this.editorBg.getPos(b,a)),this.addAction(l)),l.addFieldEntry(b,a));break;case "overlay":d&&(l=this.mCurrentAction,null==
l&&(this.mCurrentAction=l=ee.create(this,this.editorOverlay),this.addAction(l)),l.addFieldEntry(b,a));break;case "stones":d&&(l=this.mCurrentAction,null==l&&(this.mCurrentAction=l=new Ah(this,this.editorStone),this.addAction(l)),l.addFieldEntry(b,a))}}},addAction:function(a,b){null==b&&(b=!1);null!=a&&(this.mUndoStack.push(a),b&&a.redo());a=this.find("uiBtUndo");null!=a&&(a.enabled=!0,a.setLocalState("enabled"))},undo:function(){var a=this.mUndoStack.pop(),b=0<this.mUndoStack.length,d=this.find("uiBtUndo");
null!=d&&(d.enabled=b,d.setLocalState(b?"enabled":"disabled"));null!=a&&(a.undo(),this.mRedoStack.push(a),d=this.find("uiBtRedo"),null!=d&&(d.enabled=!0,d.setLocalState("enabled")))},redo:function(){var a=this.mRedoStack.pop(),b=0<this.mRedoStack.length,d=this.find("uiBtRedo");null!=d&&(d.enabled=b,d.setLocalState(b?"enabled":"disabled"));null!=a&&(a.redo(),this.addAction(a))},isFat:function(a){a=this.context.getTemplate(od.getStoneTemplateName(a));return null!=a?100<a.mFloatMap.h.width:!1},chooseOverlay:function(a){this.editorOverlay=
a;a=this.find("uiOverlayIcon");if(null!=a){a.removeAllChildren();var b=new xb(this.context,this.editorOverlay);a.addChild(b);"center"!=b.valign&&b.invalidate();b.valign="center";b.clickable=!1}this.setEditorState("overlay")},chooseStone:function(a){this.editorStone=a;a=this.find("uiStoneIcon");if(null!=a){a.removeAllChildren();var b=new xb(this.context,this.editorStone);a.addChild(b);"center"!=b.valign&&b.invalidate();b.valign="center";b.clickable=!1}this.setEditorState("stones")},"export":function(){for(var a=
[],b=0,d=this.rows;b<d;){for(var l=b++,c="",e=0,f=this.columns;e<f;)c+=this.editorBg.getPos(e++,l)?"x":"o";a.push(c)}c=[];b=0;for(d=this.rows;b<d;)for(l=b++,e=0,f=this.columns;e<f;){var g=e++,h={},m=this.getStone(g,l);if(this.editorBg.getPos(g,l)){null!=m&&m.visible&&(h.type=m.type);var k=this.getOverlay(g,l);null!=k&&(h.overlay=k.type)}0<w.fields(h).length&&(h.x=g,h.y=this.rows-1-l,null!=m&&m.fat&&--h.y,c.push(h))}l=this.rows;e=this.columns;f=this.rows;g=this.mMoves;h=this.mAnimals;m=this.mTasks;
b=[];for(d=0;d<m.length;)k=m[d],++d,"UNDEFINED"!=k.type&&0<k.count&&b.push(k);return{size:l,sizeX:e,sizeY:f,version:1,moves:g,add:c,allowedGemTypes:h,tasks:b,field:a}},onButtonClick:function(a){var b=this,d=a.name;if(0==d.indexOf("uiBtRemoveColumn"))this.addAction(new te(this,R.parseInt(E.substr(a.name,16,null))),!0);else if(0==d.indexOf("uiBtAddColumn"))this.addAction(new nb(this,R.parseInt(E.substr(a.name,13,null))),!0);else if(0==d.indexOf("uiBtRemoveRow"))this.addAction(new mb(this,R.parseInt(E.substr(a.name,
13,null))),!0);else if(0==d.indexOf("uiBtAddRow"))this.addAction(new Hb(this,R.parseInt(E.substr(a.name,10,null))),!0);else switch(d){case "uiBtAnimals":this.registerXEventListener(this.addChild(new fc(this.mAnimals)),"EditorChooseAnimals:CHOOSE",function(a){b.setAnimals(a.data)});break;case "uiBtClick":break;case "uiBtField":this.setEditorState("field");break;case "uiBtOverlay":"UNDEFINED"==this.editorOverlay||"overlay"==this.editorState?this.addChild(new Ga(od.OVERLAY)).addXEventListener("ChooseStone:CHOOSE",
function(a){b.chooseOverlay(a.data)}):this.chooseOverlay(this.editorOverlay);break;case "uiBtPlay":t.get_instance().playLevelData(this.export(),"EDITOR");break;case "uiBtRedo":this.redo();break;case "uiBtStones":"UNDEFINED"==this.editorStone||"stones"==this.editorState?this.addChild(new Ga(od.ITEMS)).addXEventListener("ChooseStone:CHOOSE",function(a){b.chooseStone(a.data)}):this.chooseStone(this.editorStone);break;case "uiBtTasks":this.registerXEventListener(this.addChild(new hb(this.mTasks,this.mMoves)),
"EditorChooseTasks:CHOOSE",function(a){b.setTasks(a.data)});break;case "uiBtUndo":this.undo();break;default:X.prototype.onButtonClick.call(this,a)}},setTasks:function(a){this.mTasks=a.tasks;this.mMoves=a.moves;this.setText("uiTxtMoves",N.number(this.mMoves));for(a=0;4>a;){var b=a++,d=this.mTasks[b];b=this.find("uiImgTask"+b);null!=b&&null!=d&&(b.set_visible(0<d.count&&"UNDEFINED"!=d.type),b.visible&&(b.setText("uiTxtCount",N.number(d.count)),b=b.find("uiContainer"),null!=b&&(b.removeAllChildren(),
d=new xb(this.context,d.type),"center"!=d.valign&&d.invalidate(),d.valign="center","center"!=d.halign&&d.invalidate(),d.halign="center",b.addChild(d))))}},setAnimals:function(a){this.mAnimals=a;this.enableAnimal(0,-1!=this.mAnimals.indexOf("GEM_BLUE"));this.enableAnimal(1,-1!=this.mAnimals.indexOf("GEM_GREEN"));this.enableAnimal(2,-1!=this.mAnimals.indexOf("GEM_PURPLE"));this.enableAnimal(3,-1!=this.mAnimals.indexOf("GEM_RED"));this.enableAnimal(4,-1!=this.mAnimals.indexOf("GEM_WHITE"));this.enableAnimal(5,
-1!=this.mAnimals.indexOf("GEM_YELLOW"))},enableAnimal:function(a,b){a="uiImgAnimal"+a;var d=b?-1:0,l=this.find(a);if(null!=l){var c=U.toFloat(d>>>16&255)/255,e=U.toFloat(d>>>8&255)/255,f=U.toFloat(d&255)/255;if(c!=l.colorR||e!=l.colorG||f!=l.colorB)l.colorR!=c&&l.invalidate(),l.colorR=c,l.colorG!=e&&l.invalidate(),l.colorG=e,l.colorB!=f&&l.invalidate(),l.colorB=f,l.invalidate();l.color=d}d=b?1:.7;l=this.find(a);null!=l&&(l.alpha!=d&&l.invalidate(),l.alpha=d)},update:function(){this.mItemDirty&&(this.dispatchSimpleXEvent("LevelEditor::ITEM_ADDED"),
this.mItemDirty=!1);this.mOverlayDirty&&(this.dispatchSimpleXEvent("LevelEditor::OVERLAY_ADDED"),this.mOverlayDirty=!1);X.prototype.update.call(this)},dispose:function(){this.editorBg=this.mStones=this.mOverlayContainer=this.mStoneContainer=this.mEditField=this.mField=this.mContent=null;X.prototype.dispose.call(this)},__class__:od});var qb=function(a){this.levelEditor=a};f["editor.action.BaseAction"]=qb;qb.__name__="editor.action.BaseAction";qb.__super__=Fa;qb.prototype=k(Fa.prototype,{undo:function(){},
redo:function(){},__class__:qb});var nb=function(a,b){this.levelEditor=a;this.column=b};f["editor.action.AddColumnAction"]=nb;nb.__name__="editor.action.AddColumnAction";nb.__super__=qb;nb.prototype=k(qb.prototype,{redo:function(){this.levelEditor.setMax(this.levelEditor.columns+1,this.levelEditor.rows);for(var a=0,b=this.levelEditor.rows;a<b;){for(var d=a++,l=0,c=this.levelEditor.columns-this.column;l<c;){var e=this.levelEditor.columns-l++-1;this.levelEditor.editorBg.setPos(e+1,d,this.levelEditor.editorBg.getPos(e,
d));this.levelEditor.setStone(e+1,d,this.levelEditor.getStoneType(e,d))}this.levelEditor.setStone(this.column,d,"GEM_RANDOM",!0)}},undo:function(){for(var a=0,b=this.levelEditor.rows;a<b;)for(var d=a++,l=this.column,c=this.levelEditor.columns;l<c;){var e=l++;this.levelEditor.editorBg.setPos(e,d,this.levelEditor.editorBg.getPos(e+1,d));this.levelEditor.setStone(e,d,this.levelEditor.getStoneType(e+1,d))}this.levelEditor.setMax(this.levelEditor.columns-1,this.levelEditor.rows)},__class__:nb});var Hb=
function(a,b){this.levelEditor=a;this.row=b};f["editor.action.AddRowAction"]=Hb;Hb.__name__="editor.action.AddRowAction";Hb.__super__=qb;Hb.prototype=k(qb.prototype,{redo:function(){this.levelEditor.setMax(this.levelEditor.columns,this.levelEditor.rows+1);for(var a=0,b=this.levelEditor.columns;a<b;){for(var d=a++,l=0,c=this.levelEditor.rows-this.row;l<c;){var e=this.levelEditor.rows-l++-1;this.levelEditor.editorBg.setPos(d,e+1,this.levelEditor.editorBg.getPos(d,e));this.levelEditor.setStone(d,e+1,
this.levelEditor.getStoneType(d,e))}this.levelEditor.setStone(d,this.row,"GEM_RANDOM",!0)}},undo:function(){this.levelEditor.setMax(this.levelEditor.columns,this.levelEditor.rows-1);for(var a=0,b=this.levelEditor.columns;a<b;)for(var d=a++,l=this.row,c=this.levelEditor.rows;l<c;){var e=l++;this.levelEditor.editorBg.setPos(d,e,this.levelEditor.editorBg.getPos(d,e+1));this.levelEditor.setStone(d,e,this.levelEditor.getStoneType(d,e+1))}},__class__:Hb});var zh=function(a,b){this.mArr=[];this.levelEditor=
a;this.mode=b};f["editor.action.EditBackgroundAction"]=zh;zh.__name__="editor.action.EditBackgroundAction";zh.__super__=qb;zh.prototype=k(qb.prototype,{addFieldEntry:function(a,b){1!=this.mode&&this.levelEditor.isFatPos(a,b)||!this.levelEditor.editorBg.setPos(a,b,this.mode)||this.mArr.push({row:b,column:a})},undo:function(){for(var a=0,b=this.mArr;a<b.length;){var d=b[a];++a;this.levelEditor.editorBg.setPos(d.column,d.row,!this.mode)}},redo:function(){for(var a=0,b=this.mArr;a<b.length;){var d=b[a];
++a;this.levelEditor.editorBg.setPos(d.column,d.row,this.mode)}},__class__:zh});var ee=function(a,b){this.mArr=[];this.levelEditor=a;this.stoneType=b};f["editor.action.EditOverlayAction"]=ee;ee.__name__="editor.action.EditOverlayAction";ee.create=function(a,b){switch(b){case "ROCKS":case "ROCKS_BLUE":case "ROCKS_GREEN":case "ROCKS_PURPLE":case "ROCKS_RED":case "ROCKS_WHITE":case "ROCKS_YELLOW":return new jd(a,b);default:return new ee(a,b)}};ee.__super__=qb;ee.prototype=k(qb.prototype,{check:function(a,
b){var d=this.levelEditor.getOverlayType(a,b);return this.stoneType!=d&&this.levelEditor.editorBg.getPos(a,b)?!0:!1},addFieldEntry:function(a,b){this.check(a,b)&&this.forceFieldEntry(a,b)},forceFieldEntry:function(a,b){this.mArr.push({row:b,column:a,old:this.levelEditor.getOverlayType(a,b),stone:this.stoneType});this.levelEditor.setOverlay(a,b,this.stoneType)},undo:function(){for(var a=0,b=this.mArr;a<b.length;){var d=b[a];++a;this.levelEditor.setOverlay(d.column,d.row,d.old)}},redo:function(){for(var a=
0,b=this.mArr;a<b.length;){var d=b[a];++a;this.levelEditor.setOverlay(d.column,d.row,d.stone)}},__class__:ee});var jd=function(a,b){this.mToCheck=[];this.mVisited=[];ee.call(this,a,b)};f["editor.action.EditOverlayActionRocks"]=jd;jd.__name__="editor.action.EditOverlayActionRocks";jd.__super__=ee;jd.prototype=k(ee.prototype,{addFieldEntry:function(a,b){this.maxRow=this.minRow=b;this.maxColumn=this.minColumn=a;this.mVisited=[];this.mToCheck=[];this.search(a,b);a=this.minRow;for(b=this.maxRow+1;a<b;)for(var d=
a++,l=this.minColumn,c=this.maxColumn+1;l<c;){var e=l++,f=this.levelEditor.getOverlayType(e,d);this.stoneType!=f&&this.forceFieldEntry(e,d)}},search:function(a,b){for(var d=[{row:-1,column:0},{row:1,column:0},{row:0,column:1},{row:0,column:-1}],l=0;l<d.length;){var c=d[l];++l;var e=c.column;c=c.row;var f=this.levelEditor.getOverlay(a+e,b+c);if(null!=f&&this.levelEditor.editorBg.getPos(a+e,b+c)&&f.type==this.stoneType&&-1==this.mVisited.indexOf(f)){var g=this.minRow,h=f.row;this.minRow=h<g?h:g;g=this.maxRow;
h=f.row;this.maxRow=h>g?h:g;g=this.minColumn;h=f.column;this.minColumn=h<g?h:g;g=this.maxColumn;h=f.column;this.maxColumn=h>g?h:g;this.mVisited.push(f);this.search(a+e,b+c)}}},__class__:jd});var Ah=function(a,b){this.mArr=[];this.levelEditor=a;this.stoneType=b;this.fat=this.levelEditor.isFat(b)};f["editor.action.EditStoneAction"]=Ah;Ah.__name__="editor.action.EditStoneAction";Ah.__super__=qb;Ah.prototype=k(qb.prototype,{check:function(a,b){var d=this.levelEditor.getStoneType(a,b),l=this.levelEditor.isFree(a,
b);this.fat&&(l=(l=(l=(l=l&&this.levelEditor.isFree(a+1,b))&&this.levelEditor.isFree(a,b+1))&&this.levelEditor.isFree(a+1,b+1))&&(null==this.levelEditor.getStone(a+1,b+1)||!this.levelEditor.getStone(a+1,b+1).fat));return this.stoneType!=d&&this.levelEditor.editorBg.getPos(a,b)&&l?!0:!1},addFieldEntry:function(a,b){this.check(a,b)&&(this.mArr.push({row:b,column:a,old:this.levelEditor.getStoneType(a,b),stone:this.stoneType}),this.levelEditor.setStone(a,b,this.stoneType))},undo:function(){for(var a=
0,b=this.mArr;a<b.length;){var d=b[a];++a;this.levelEditor.setStone(d.column,d.row,d.old)}},redo:function(){for(var a=0,b=this.mArr;a<b.length;){var d=b[a];++a;this.levelEditor.setStone(d.column,d.row,d.stone)}},__class__:Ah});var te=function(a,b){this.mStoneBackup=[];this.mFieldBackup=[];this.levelEditor=a;this.column=b};f["editor.action.RemoveColumnAction"]=te;te.__name__="editor.action.RemoveColumnAction";te.__super__=qb;te.prototype=k(qb.prototype,{redo:function(){for(var a=0,b=this.levelEditor.rows;a<
b;){var d=a++;this.mFieldBackup[d]=this.levelEditor.editorBg.getPos(this.column,d);this.mStoneBackup[d]=this.levelEditor.getStoneType(this.column,d);for(var l=this.column,c=this.levelEditor.columns;l<c;){var e=l++;this.levelEditor.editorBg.setPos(e,d,this.levelEditor.editorBg.getPos(e+1,d));this.levelEditor.setStone(e,d,this.levelEditor.getStoneType(e+1,d))}}this.levelEditor.setMax(this.levelEditor.columns-1,this.levelEditor.rows)},undo:function(){this.levelEditor.setMax(this.levelEditor.columns+
1,this.levelEditor.rows);for(var a=0,b=this.levelEditor.rows;a<b;){for(var d=a++,l=0,c=this.levelEditor.columns-this.column;l<c;){var e=this.levelEditor.columns-l++-1;this.levelEditor.editorBg.setPos(e+1,d,this.levelEditor.editorBg.getPos(e,d));this.levelEditor.setStone(e+1,d,this.levelEditor.getStoneType(e,d))}this.levelEditor.setStone(this.column,d,this.mStoneBackup[d],!0);this.levelEditor.editorBg.setPos(this.column,d,this.mFieldBackup[d])}},__class__:te});var mb=function(a,b){this.mStoneBackup=
[];this.mFieldBackup=[];this.levelEditor=a;this.row=b};f["editor.action.RemoveRowAction"]=mb;mb.__name__="editor.action.RemoveRowAction";mb.__super__=qb;mb.prototype=k(qb.prototype,{redo:function(){for(var a=0,b=this.levelEditor.columns;a<b;){var d=a++;this.mFieldBackup[d]=this.levelEditor.editorBg.getPos(d,this.row);this.mStoneBackup[d]=this.levelEditor.getStoneType(d,this.row);for(var l=this.row,c=this.levelEditor.rows;l<c;){var e=l++;this.levelEditor.editorBg.setPos(d,e,this.levelEditor.editorBg.getPos(d,
e+1));this.levelEditor.setStone(d,e,this.levelEditor.getStoneType(d,e+1))}}this.levelEditor.setMax(this.levelEditor.columns,this.levelEditor.rows-1)},undo:function(){this.levelEditor.setMax(this.levelEditor.columns,this.levelEditor.rows+1);for(var a=0,b=this.levelEditor.columns;a<b;){for(var d=a++,l=0,c=this.levelEditor.rows-this.row;l<c;){var e=this.levelEditor.rows-l++-1;this.levelEditor.editorBg.setPos(d,e+1,this.levelEditor.editorBg.getPos(d,e));this.levelEditor.setStone(d,e+1,this.levelEditor.getStoneType(d,
e))}this.levelEditor.setStone(d,this.row,this.mStoneBackup[d],!0);this.levelEditor.editorBg.setPos(d,this.row,this.mFieldBackup[d])}},__class__:mb});var Ia=function(a){this.length=this.size=0;this.bytes=null;this.position=0;this.length=this.size=a;this.bytes=nc.alloc(a);this.floatArray=new Float32Array(this.bytes.b.bufferValue,0);this.byteArray=new Uint8Array(this.bytes.b.bufferValue)};f["system.utils.XBytes"]=Ia;Ia.__name__="system.utils.XBytes";Ia.__interfaces__=[wb];Ia.create=function(a){var b=
Ia.sPool.h[a];return null!=b&&0<b.length?b.pop():new Ia(a)};Ia.recycle=function(a){if(null!=a){var b=a.size,d=Ia.sPool.h[b];null==d&&(d=[],Ia.sPool.h[b]=d);d.push(a)}return null};Ia.prototype={increaseSize:function(a){null==a&&(a=2);this.size=this.length*=a;a=this.byteArray;this.bytes=nc.alloc(this.length);this.floatArray=new Float32Array(this.bytes.b.bufferValue,0);this.byteArray=new Uint8Array(this.bytes.b.bufferValue);this.byteArray.set(a,0);this.uintArray=null},fillFloat:function(a,b,d){null==
b&&(b=0);for(d=null!=d?d:this.floatArray.length;b<d;)this.floatArray[b++]=a},dispose:function(){this.byteArray=this.floatArray=this.bytes=null},__class__:Ia};var nc={_new:function(a,b){return new Wa(b)},alloc:function(a){return new Wa(new ArrayBuffer(a))},decompress:function(a,b){switch(b._hx_index){case 0:return tk.decompress(a);case 1:return uk.decompress(a);case 2:return gj.decompress(a);case 3:return hj.decompress(a)}},fromBytes:function(a){return null==a?null:nc._new(a.length,a.b.bufferValue)},
fromFile:function(a){return null},loadFromFile:function(a){return(new Hi).load(a)},ofString:function(a){a=Wa.ofString(a);return nc._new(a.length,a.b.bufferValue)}},Wa=function(a){this.length=a.byteLength;this.b=new Uint8Array(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};f["haxe.io.Bytes"]=Wa;Wa.__name__="haxe.io.Bytes";Wa.ofString=function(a,b){b=[];for(var d=0;d<a.length;){var l=a.charCodeAt(d++);55296<=l&&56319>=l&&(l=l-55232<<10|a.charCodeAt(d++)&1023);127>=l?b.push(l):(2047>=l?b.push(192|
l>>6):(65535>=l?b.push(224|l>>12):(b.push(240|l>>18),b.push(128|l>>12&63)),b.push(128|l>>6&63)),b.push(128|l&63))}return new Wa((new Uint8Array(b)).buffer)};Wa.ofData=function(a){var b=a.hxBytes;return null!=b?b:new Wa(a)};Wa.prototype={blit:function(a,b,d,l){if(0>a||0>d||0>l||a+l>this.length||d+l>b.length)throw T.thrown(Ld.OutsideBounds);0==d&&l==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(d,d+l),a)},setInt32:function(a,b){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,
this.b.byteLength));this.data.setInt32(a,b,!0)},getString:function(a,b,d){if(0>a||0>b||a+b>this.length)throw T.thrown(Ld.OutsideBounds);d="";var l=this.b,c=Pb.fromCharCode,e=a;for(a+=b;e<a;)if(b=l[e++],128>b){if(0==b)break;d+=c(b)}else 224>b?d+=c((b&63)<<6|l[e++]&127):240>b?d+=c((b&31)<<12|(l[e++]&127)<<6|l[e++]&127):(b=(b&15)<<18|(l[e++]&127)<<12|(l[e++]&127)<<6|l[e++]&127,d+=c((b>>10)+55232),d+=c(b&1023|56320));return d},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var a=
"",b=[],d=0,l=16;d<l;)b.push(E.cca("0123456789abcdef",d++));d=0;for(l=this.length;d<l;){var c=this.b[d++];a+=String.fromCodePoint(b[c>>4]);a+=String.fromCodePoint(b[c&15])}return a},__class__:Wa};var G=function(a){this.rewrite=!0;this.nssScale=1;this.nss=null;ca.call(this,a);this.mLocalBuffer=Ia.create(1440);this.mLocalBuffer.fillFloat(0)};f["system.gfx.ui.elements.XImage"]=G;G.__name__="system.gfx.ui.elements.XImage";G.__super__=ca;G.prototype=k(ca.prototype,{calc:function(){this.rewrite=!0;ca.prototype.calc.call(this)},
set_image:function(a){""==a&&(a=null);this.image!=a&&(this.image=a,this.invalidate());return a},set_nssScale:function(a){this.nssScale=a;this.invalidate();return a},set_nss:function(a){this.nss=a;this.invalidate();return a},write:function(a){if(null!=this.image&&0<this.resultWidth&&0<this.resultHeight){var b=a.get_atlas().getTexture(this.image);if(null!=b&&0!=b.width){var d=G.sP[0],l=this.resultMatrix[7];d.x=this.resultMatrix[6];d.y=l;d=G.sP[3];l=this.resultWidth*this.resultMatrix[1]+this.resultMatrix[7];
d.x=this.resultWidth*this.resultMatrix[0]+this.resultMatrix[6];d.y=l;d=G.sP[12];l=this.resultHeight*this.resultMatrix[4]+this.resultMatrix[7];d.x=this.resultHeight*this.resultMatrix[3]+this.resultMatrix[6];d.y=l;d=G.sP[15];l=G.sP[3];d.x=l.x;d.y=l.y;d.w=l.w;l=G.sP[12];d.x+=l.x;d.y+=l.y;l=G.sP[0];d.x-=l.x;d.y-=l.y;d=this.preParticleEmitter;null!=d&&d.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix);if(this.rewrite)if(this.rewrite=!1,G.su[0]=b.scaledLeft,G.su[3]=b.scaledRight,
G.sv[0]=b.scaledTop,G.sv[3]=b.scaledBottom,G.sLocalBuffer.floatArray[0]=this.resultColorR,G.sLocalBuffer.floatArray[1]=this.resultColorG,G.sLocalBuffer.floatArray[2]=this.resultColorB,G.sLocalBuffer.floatArray[3]=this.resultAlpha,G.sLocalBuffer.position=16,d=G.sLocalBuffer,d.bytes.setInt32(d.position,this.resultOffsetColor),d.position+=4,null==this.nss){l=this.mLocalBuffer;var c=l.position=0,e=l.floatArray;for(b=0;2>b;){var f=b++;for(d=0;2>d;){var h=d++,m=G.sP[3*h+12*f];e[c++]=m.x;e[c++]=m.y;l.bytes.blit(c<<
2,G.sLocalBuffer.bytes,0,20);c+=5;e[c++]=G.su[3*h];e[c++]=G.sv[3*f];++c}}}else if(c=b.invTexSize,l=this.nssScale/this.resultWidth,d=this.nssScale/this.resultHeight,G.sP[0].x==G.sP[12].x&&G.sP[0].y==G.sP[3].y){G.su[1]=G.su[0]+this.nss.get_left()*c;G.su[2]=G.su[0]+this.nss.get_right()*c;G.sv[1]=G.sv[0]+this.nss.get_top()*c;G.sv[2]=G.sv[0]+this.nss.get_bottom()*c;G.sx[0]=G.sP[0].x;G.sx[3]=G.sP[15].x;c=G.sx;e=G.sx[0];f=G.sx[3];h=this.nss.get_left()*l;c[1]=e*(1-h)+f*h;c=G.sx;e=G.sx[0];f=G.sx[3];h=1-(b.width-
this.nss.get_right())*l;c[2]=e*(1-h)+f*h;G.sy[0]=G.sP[0].y;G.sy[3]=G.sP[15].y;c=G.sy;e=G.sy[0];f=G.sy[3];h=this.nss.get_top()*d;c[1]=e*(1-h)+f*h;c=G.sy;e=G.sy[0];f=G.sy[3];h=1-(b.height-this.nss.get_bottom())*d;c[2]=e*(1-h)+f*h;l=this.mLocalBuffer;c=l.position=0;e=l.floatArray;var k=G.sLocalBuffer.bytes;for(b=0;3>b;)for(f=b++,d=0;3>d;){h=d++;for(var n=0;2>n;)for(var q=n++,t=0;2>t;){var r=t++;e[c++]=G.sx[h+r];e[c++]=G.sy[f+q];l.bytes.blit(c<<2,k,0,20);c+=5;e[c++]=G.su[h+r];e[c++]=G.sv[f+q];++c}}}else for(G.su[1]=
G.su[0]+this.nss.get_left()*c,G.su[2]=G.su[0]+this.nss.get_right()*c,G.sv[1]=G.sv[0]+this.nss.get_top()*c,G.sv[2]=G.sv[0]+this.nss.get_bottom()*c,g.LERP(G.sP[1],G.sP[0],G.sP[3],this.nss.get_left()*l),g.LERP(G.sP[2],G.sP[0],G.sP[3],1-(b.width-this.nss.get_right())*l),g.LERP(G.sP[13],G.sP[12],G.sP[15],this.nss.get_left()*l),g.LERP(G.sP[14],G.sP[12],G.sP[15],1-(b.width-this.nss.get_right())*l),l=this.nss.get_top()*d,g.LERP(G.sP[4],G.sP[0],G.sP[12],l),g.LERP(G.sP[5],G.sP[1],G.sP[13],l),g.LERP(G.sP[6],
G.sP[2],G.sP[14],l),g.LERP(G.sP[7],G.sP[3],G.sP[15],l),b=1-(b.height-this.nss.get_bottom())*d,g.LERP(G.sP[8],G.sP[0],G.sP[12],b),g.LERP(G.sP[9],G.sP[1],G.sP[13],b),g.LERP(G.sP[10],G.sP[2],G.sP[14],b),g.LERP(G.sP[11],G.sP[3],G.sP[15],b),l=this.mLocalBuffer,c=l.position=0,e=l.floatArray,k=G.sLocalBuffer.bytes,b=0;3>b;)for(q=b++,d=0;3>d;)for(r=d++,n=0;2>n;)for(f=n++,t=0;2>t;)h=t++,m=G.sP[h+r+4*(f+q)],e[c++]=m.x,e[c++]=m.y,l.bytes.blit(c<<2,k,0,20),c+=5,e[c++]=G.su[h+r],e[c++]=G.sv[f+q],++c;b=a.currentDrawData.vertexBuffer;
null==this.nss?(b.addEntry(4),d=b.data,b=16*b.stride):(b.addEntry(36),d=b.data,b=144*b.stride);d.bytes.blit(d.position,this.mLocalBuffer.bytes,0,b);d.position+=b;d=this.postParticleEmitter;null!=d&&d.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix)}if(null!=this.children)for(b=0,d=this.children;b<d.length;)l=d[b],++b,l.visible&&l.write(a)}else ca.prototype.write.call(this,a)},applyFloatAttribute:function(a,b){"nssScale"==a?this.set_nssScale(b):ca.prototype.applyFloatAttribute.call(this,
a,b)},applyStringAttribute:function(a,b){switch(a){case "image":this.set_image(""!=b?b:null);break;case "nss":a=b.split(",");this.set_nss(new tc(R.parseInt(a[0]),R.parseInt(a[1]),R.parseInt(a[2]),R.parseInt(a[3])));break;default:ca.prototype.applyStringAttribute.call(this,a,b)}},copyElements:function(a){ca.prototype.copyElements.call(this,a);a.set_image(this.image);a.set_nss(this.nss)},dispose:function(){this.set_image(null);this.set_nss(null);this.mLocalBuffer=Ia.recycle(this.mLocalBuffer);ca.prototype.dispose.call(this)},
__class__:G,__properties__:k(ca.prototype.__properties__,{set_nssScale:"set_nssScale",set_nss:"set_nss",set_image:"set_image"})});var ue=function(a,b,d,l){G.call(this,l.context);this.mParentScreen=l;this.row=b;this.column=a;this.type=d;a=100*this.column;this.x!=a&&this.invalidate();this.x=a;a=100*this.row;this.y!=a&&this.invalidate();this.y=a;this.setup()};f["editor.container.EditorStone"]=ue;ue.__name__="editor.container.EditorStone";ue.__super__=G;ue.prototype=k(G.prototype,{update:function(){var a=
this.row<this.mParentScreen.rows&&this.column<this.mParentScreen.columns&&this.mParentScreen.editorBg.getPos(this.column,this.row),b=this.mParentScreen.isFree(this.column,this.row);!this.fat||this.mParentScreen.editorBg.getPos(this.column+1,this.row)&&this.mParentScreen.editorBg.getPos(this.column+1,this.row+1)&&this.mParentScreen.editorBg.getPos(this.column,this.row+1)||(b=!1);this.set_visible(a&&b);G.prototype.update.call(this)},setup:function(){var a=this.context;a=null!=a?a.getTemplate(od.getStoneTemplateName(this.type)):
null;null!=a&&(a.applyTo(this),"left"!=this.halign&&this.invalidate(),this.halign="left","top"!=this.valign&&this.invalidate(),this.valign="top");this.fat=100<this.width},dispose:function(){this.type=this.mParentScreen=null;G.prototype.dispose.call(this)},__class__:ue});var xb=function(a,b){G.call(this,a);this.type=b;100!=this.height&&this.invalidate();var d=null;this.relativeHeight!=d&&this.invalidate();this.relativeHeight=d;d=this.height=100;this.width!=d&&this.invalidate();null!=this.relativeWidth&&
this.invalidate();this.relativeWidth=null;this.width=d;a=this.context;a=null!=a?a.getTemplate(od.getStoneTemplateName(this.type)):null;null!=a&&(a=a.createInstance(),this.addChild(a),(d=100<a.width)&&this.addChild(qa.createInstanceFromString('<text template="tFontSmall,tElement" halignText="right" valignText="bottom" text="2x2" />',this.context)),"center"!=a.halign&&a.invalidate(),a.halign="center","center"!=a.valign&&a.invalidate(),a.valign="center",d=d?.5:1,a.scale!=d&&a.invalidate(),a.scale=d,
a.clickable=!1,"UNDEFINED"==b&&this.addChild(qa.createInstanceFromString('<image image="dynamic/X.png" template="tElement"/>',this.context)))};f["editor.container.EditorStoneIcon"]=xb;xb.__name__="editor.container.EditorStoneIcon";xb.__super__=G;xb.prototype=k(G.prototype,{dispose:function(){this.type=null;G.prototype.dispose.call(this)},__class__:xb});var Na=function(a,b,d){G.call(this,a);1!=this.highlight&&(this.invalidate(),null!=this.highlightAnimation&&(this.removeAnimation(this.highlightAnimation),
this.highlightAnimation=null));this.clickable=this.highlight=!0;this.index=d;null!=b&&(a=this.context,b=null!=a?a.getTemplate(b):null,null!=b&&b.applyTo(this))};f["system.gfx.ui.elements.container.XListContainer"]=Na;Na.__name__="system.gfx.ui.elements.container.XListContainer";Na.__super__=G;Na.prototype=k(G.prototype,{onAddedToList:function(a){this.parentList=a},onRemovedFromList:function(){this.parentList=null},calc:function(){G.prototype.calc.call(this);null==this.parentList||this.mOldWidth==
this.width&&this.mOldHeight==this.height||(this.mOldWidth=this.width,this.mOldHeight=this.height,this.parentList.invalidate())},onTouchUp:function(a,b,d,l){this.enabled&&.5>d&&10>l&&null!=this.parentList&&(e.get_instance().play("sound/click.mp3",0,1,1),this.blubb(),this.parentList.onContainerAction(this),this.dispatchSimpleXEvent("XCONTAINER_CLICKED"));G.prototype.onTouchUp.call(this,a,b,d,l)},onTouchMove:function(a,b,d,l){this.parentList.onTouchMove(a,b,d,l);G.prototype.onTouchMove.call(this,a,b,
d,l)},setRank:function(a){},updateVisability:function(){if(null!=this.parentList&&this.parentList.get_content()==this.parent)if(this.parentList.vertical){if(this.y+this.height<-this.parent.y){this.set_visible(!1);return}if(this.y>this.parent.resultHeight-this.parent.y){this.set_visible(!1);return}}else{if(this.x+this.width<-this.parent.x){this.set_visible(!1);return}if(this.x>this.parent.resultWidth-this.parent.x){this.set_visible(!1);return}}this.set_visible(!0)},copyElements:function(a){G.prototype.copyElements.call(this,
a)},compare:function(a,b){return this.index-a.index},getPrevious:function(){var a=this.parentList.containers,b=a.indexOf(this);return 0<b&&b<a.length?a[b-1]:null},dispose:function(){G.prototype.dispose.call(this);this.parentList=null},__class__:Na});var Ya=function(a,b){Na.call(this,a,"tStonesContainer");for(a=0;5>=++a&&0<b.length;){var d=this.findType("uiBtStone"+ia.ndigits(a,2),G);if(null!=d){var l=b.shift(),c=new xb(this.context,l);if(null!=c){"center"!=c.halign&&c.invalidate();c.halign="center";
"center"!=c.valign&&c.invalidate();c.valign="center";var e=1.45*c.scale;c.scale!=e&&c.invalidate();c.scale=e;c.clickable=!1;e=d.find("uiContainer");null!=e&&(e.addChild(c),d.set_visible(!0))}d.data={stone:l}}}};f["editor.container.StonesContainer"]=Ya;Ya.__name__="editor.container.StonesContainer";Ya.__super__=Na;Ya.prototype=k(Na.prototype,{__class__:Ya});var Jc=ra["firebase.AuthService"]={__ename__:"firebase.AuthService",__constructs__:null,GOOGLE:{_hx_name:"GOOGLE",_hx_index:0,__enum__:"firebase.AuthService",
toString:r},EMAIL:{_hx_name:"EMAIL",_hx_index:1,__enum__:"firebase.AuthService",toString:r},FACEBOOK:{_hx_name:"FACEBOOK",_hx_index:2,__enum__:"firebase.AuthService",toString:r},APPLE:{_hx_name:"APPLE",_hx_index:3,__enum__:"firebase.AuthService",toString:r},CRAZYGAMES:{_hx_name:"CRAZYGAMES",_hx_index:4,__enum__:"firebase.AuthService",toString:r},FACEBOOKINSTANT:{_hx_name:"FACEBOOKINSTANT",_hx_index:5,__enum__:"firebase.AuthService",toString:r}};Jc.__constructs__=[Jc.GOOGLE,Jc.EMAIL,Jc.FACEBOOK,Jc.APPLE,
Jc.CRAZYGAMES,Jc.FACEBOOKINSTANT];var cd=function(){};f["system.http.Request"]=cd;cd.__name__="system.http.Request";cd.registerService=function(a,b,d,l,c){b=new Bh(a,b,d,l,c);d=cd.sServiceMap;d.h.hasOwnProperty(a)&&E.remove(d.mKeys,a);d.h[a]=b;d.mKeys.push(a);return b};cd.hasService=function(a){return cd.sServiceMap.h.hasOwnProperty(a)};cd.call=function(a,b,d,l,c,e){var p=cd.sServiceMap.h[a];if(null!=p){a=cd.callFuture(p.url+"/"+b,d,p,e);if(null!=l)a.onComplete(function(a){l(a)});if(null!=c)a.onError(function(a){c(a)});
return a}throw T.thrown("HTTP Request Service "+a+" not found!");};cd.callFuture=function(a,b,d,l){var c=new Xa;l={url:a,method:null==l?null!=d&&null!=d.method?d.method:"POST":l,content:null!=b?JSON.stringify(b):null,contentType:"application/json",headers:new Tg({"Content-Type":"application/json"}),async:!0,callback:function(l){Dc.delay(function(){if(l.get_isOK()){var e=""==l.get_content()?{}:JSON.parse(l.get_content());null==e&&(e={});e=new Lk(null!=e.data?e.data:e,b,a);null!=d&&null!=d.responseHandler&&
(e=d.responseHandler(e));c.complete(e)}else e=new Kk(404,"connection error:"+l.get_error(),b),null!=d&&null!=d.errorHandler&&(e=d.errorHandler(e)),c.error(e)},1)}};null!=d&&null!=d.requestModifier&&(l=d.requestModifier(l));(new nk(l)).send();return c.future};var Bh=function(a,b,d,l,c){this.method=null;this.name=a;this.url=b;this.requestModifier=d;this.responseHandler=l;this.errorHandler=c};f["system.http.data.RequestService"]=Bh;Bh.__name__="system.http.data.RequestService";Bh.prototype={__class__:Bh};
var V=function(){};f["js.Boot"]=V;V.__name__="js.Boot";V.getClass=function(a){if(null==a)return null;if(a instanceof Array)return Array;var b=a.__class__;if(null!=b)return b;a=V.__nativeClassName(a);return null!=a?V.__resolveNativeClass(a):null};V.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var d=typeof a;"function"==d&&(a.__name__||a.__ename__)&&(d="object");switch(d){case "function":return"<function>";case "object":if(a.__enum__){var l=ra[a.__enum__].__constructs__[a._hx_index];
d=l._hx_name;if(l.__params__){b+="\t";var c=[],e=0;for(l=l.__params__;e<l.length;){var f=l[e];e+=1;c.push(V.__string_rec(a[f],b))}return d+"("+c.join(",")+")"}return d}if(a instanceof Array){d="[";b+="\t";c=0;for(e=a.length;c<e;)l=c++,d+=(0<l?",":"")+V.__string_rec(a[l],b);return d+"]"}try{c=a.toString}catch(Od){return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c&&(d=a.toString(),"[object Object]"!=d))return d;d="{\n";b+="\t";c=null!=a.hasOwnProperty;e=null;for(e in a)c&&!a.hasOwnProperty(e)||
"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=d.length&&(d+=", \n"),d+=b+e+" : "+V.__string_rec(a[e],b));b=b.substring(1);return d+("\n"+b+"}");case "string":return a;default:return String(a)}};V.__interfLoop=function(a,b){for(;;){if(null==a)return!1;if(a==b)return!0;var d=a.__interfaces__;if(null!=d)for(var l=0,c=d.length;l<c;){var e=d[l++];if(e==b||V.__interfLoop(e,b))return!0}a=a.__super__}};V.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Array:return a instanceof
Array;case hl:return"boolean"==typeof a;case el:return null!=a;case fl:return"number"==typeof a;case dl:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(V.__downcastCheck(a,b))return!0}else{if("object"==typeof b&&V.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==gl&&null!=a.__name__||b==Wk&&null!=a.__ename__?!0:null!=a.__enum__?ra[a.__enum__]==b:!1}};V.__downcastCheck=function(a,b){return a instanceof b?!0:
b.__isInterface__?V.__interfLoop(V.getClass(a),b):!1};V.__implements=function(a,b){return V.__interfLoop(V.getClass(a),b)};V.__cast=function(a,b){if(null==a||V.__instanceof(a,b))return a;throw T.thrown("Cannot cast "+R.string(a)+" to "+R.string(b));};V.__nativeClassName=function(a){a=V.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};V.__isNativeObj=function(a){return null!=V.__nativeClassName(a)};V.__resolveNativeClass=function(a){return v[a]};var u=function(){this.mProfileMap=
new Sa;this.profiles=[];this.currentProfile=null;this.firstRun=this.adsSupressed=!1;this.mXEventListener=null};f["system.external.Integration"]=u;u.__name__="system.external.Integration";u.__properties__={get_instance:"get_instance"};u.get_instance=function(){return u.instance=null!=u.instance?u.instance:new dd};u.__super__=H;u.prototype=k(H.prototype,{get_uid:function(){return this.uid},set_uid:function(a){return this.uid=a},preCreate:function(){return oa.withValue({})},init:function(a){this.get_tracking().addTracking(new Bk);
this.get_tracking().addTracking(new Zj);return oa.withValue(a)},get_payment:function(){null==this.payment&&(this.payment=new Yj,this.payment.allow=this.hasFeature("payment",!0));return this.payment},get_tracking:function(){return this.tracking=null!=this.tracking?this.tracking:new pk},get_ads:function(){null==this.ads&&(this.ads=new vh,this.ads.allow=this.hasFeature("ads",this.ads.allow),this.ads.allowRewarded=this.hasFeature("rewarded",this.ads.allowRewarded));return this.ads},get_storage:function(){return this.storage=
null!=this.storage?this.storage:new Rc("default")},get_resourceStorage:function(){return this.resourceStorage=null!=this.resourceStorage?this.resourceStorage:new Rc("resources")},get_player:function(){null==this.mPlayer&&(this.mPlayer=new Ac,this.mPlayer.storage=this.get_storage(),this.mPlayer.resourceStorage=this.get_resourceStorage());return this.mPlayer},share:function(a,b,d,l){return oa.withValue({})},notification:function(a,b,d,l,c,e){return oa.withValue({})},forcePrivacyForm:function(){return oa.withValue({})},
supressAds:function(a){this.adsSupressed=a},getProfile:function(a){return this.mProfileMap.h[a]},deleteProfile:function(a){var b=this.getProfile(a);E.remove(this.profiles,b);this.mProfileMap.remove(a);this.dispatchSimpleXEvent("Integration::PROFILE_REMOVE_EVENT",a);a==this.currentProfile&&(this.currentProfile=null,this.get_storage().setEntry("currentProfile",null));this.saveProfiles()},addProfile:function(a){if(!this.mProfileMap.h.hasOwnProperty(a.id)){var b=this.mProfileMap,d=a.id;b.h.hasOwnProperty(d)&&
E.remove(b.mKeys,d);b.h[d]=a;b.mKeys.push(d);this.profiles.push(a);this.saveProfiles();this.dispatchSimpleXEvent("Integration::PROFILE_ADD_EVENT",a)}},activateProfile:function(a){this.currentProfile=a;this.get_storage().setEntry("currentProfile",this.currentProfile,!0)},saveProfiles:function(){this.get_storage().setEntry("profiles",this.profiles,!0)},trackEvent:function(a,b){this.get_tracking().event(a,b)},finishLoading:function(){this.checkForUpdates()},setGameProgress:function(a){},setGameScore:function(a){},
levelStart:function(a,b){return oa.withValue({})},levelRevived:function(a,b){return oa.withValue({})},hasFeature:function(a,b){null==b&&(b=!1);return b},checkForUpdates:function(){},platformLogin:function(a){return oa.withError({})},__class__:u,__properties__:{get_resourceStorage:"get_resourceStorage",get_storage:"get_storage",get_player:"get_player",get_ads:"get_ads",get_tracking:"get_tracking",get_payment:"get_payment",set_uid:"set_uid",get_uid:"get_uid"}});var lg=function(){};f["system.utils.clock.IFrameTickObject"]=
lg;lg.__name__="system.utils.clock.IFrameTickObject";lg.__isInterface__=!0;lg.prototype={__class__:lg};var dd=function(){this.mFamobiCheckOffsets=!0;this.mFamobiSDKReady=!1;this.mLevelFailDelay=900;this.mGameReadyPosted=!1;u.call(this);this.mFamobiSDKReady="undefined"!=typeof window.famobi;try{window.famobi.getOffsets()}catch(a){this.mFamobiCheckOffsets=!1}C.get_instance().addClockObject(this)};f["system.external.famobi.FamobiIntegration"]=dd;dd.__name__="system.external.famobi.FamobiIntegration";
dd.__interfaces__=[lg];dd.__super__=u;dd.prototype=k(u.prototype,{frameTick:function(){if(this.mFamobiCheckOffsets){var a=window.famobi.getOffsets();if(null!=a&&null!=y.instance&&null!=q.instance){var b=y.SCREEN_WIDTH/q.instance.width/y.instance.scale,d=y.instance.UIScreens;b*=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"left")?w.field(a,"left"):0;d.marginLeft!=b&&d.invalidate();d.marginLeft=b;b=y.SCREEN_HEIGHT/q.instance.height/y.instance.scale;d=y.instance.UIScreens;b*=w.isObject(a)&&
Object.prototype.hasOwnProperty.call(a,"top")?w.field(a,"top"):0;d.marginTop!=b&&d.invalidate();d.marginTop=b;d=NaN;b=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"bottom");y.instance.bannerBottom=b?w.field(a,"bottom"):d;d=NaN;b=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"right");y.instance.bannerRight=b?w.field(a,"right"):d}}},init:function(a){var b=this;window.famobi_onPauseRequested=c(this,this.onPause);window.famobi_onResumeRequested=c(this,this.onResume);window.famobi_onMuteRequested=
c(this,this.onMute);window.famobi_onUnmuteRequested=c(this,this.onUnmute);var d=new Xa;u.prototype.init.call(this,a).onComplete(function(a){b.onRequest("changeVolume",function(a){e.get_instance().set_volumeFactor(b.getVolume())});b.onRequest("enableAudio",function(a){e.get_instance().set_muteSound(!1)});b.onRequest("disableAudio",function(a){e.get_instance().set_muteSound(!0)});b.onRequest("enableMusic",function(a){e.get_instance().set_muteMusic(!1)});b.onRequest("disableMusic",function(a){e.get_instance().set_muteMusic(!0)});
b.onRequest("pauseGameplay",function(a){Da.sInstance.active=!1});b.onRequest("resumeGameplay",function(a){Da.sInstance.active=!0});d.complete({})});return d.future},startUp:function(a){var b=this,d=new Xa,l=new Rc("default"),c=new Rc("resources");oa.wait([this.get_storage().load(),this.get_resourceStorage().load(),l.load(),c.load()]).onComplete(function(p){var f=c.getKeys();if(0<f.length){for(p=0;p<f.length;){var g=f[p];++p;b.get_resourceStorage().hasEntry(g)||b.get_resourceStorage().setEntry(g,c.getEntry(g))}b.get_resourceStorage().setEntry("backup",
c.get_localData());b.get_resourceStorage().save();c.deleteData()}f=l.getKeys();if(0<f.length){for(p=0;p<f.length;)g=f[p],++p,b.get_storage().hasEntry(g)||b.get_storage().setEntry(g,l.getEntry(g));b.get_storage().setEntry("backup",l.get_localData());b.get_storage().save();l.deleteData()}b.set_uid(b.get_storage().getEntry("guid"));null==b.get_uid()&&(b.set_uid(ia.createGUID()),b.get_storage().setEntry("guid",b.get_uid(),!0));p=b.get_storage().getEntry("runs",0);b.firstRun=0>=p;b.get_storage().setEntry("runs",
p+1);b.get_storage().save();b.currentProfile=b.get_storage().getEntry("currentProfile");b.profiles=b.get_storage().getEntry("profiles",[]);p=0;for(g=b.profiles;p<g.length;){f=g[p];++p;var D=b.mProfileMap,h=f.id;D.h.hasOwnProperty(h)&&E.remove(D.mKeys,h);D.h[h]=f;D.mKeys.push(h)}e.get_instance().init();b.get_ads().init(a);d.complete({})}).onError(function(a){d.error(a)});return d.future},get_resourceStorage:function(){null==this.mDefaultResourceStorage&&(this.mDefaultResourceStorage=new bf("resources"));
return this.mDefaultResourceStorage},get_storage:function(){null==this.mDefaultStorage&&(this.mDefaultStorage=new bf("default"));return this.mDefaultStorage},get_brandingButton:function(){return window.famobi.getBrandingButtonImage([!0])},openBrandingLink:function(){this.mFamobiSDKReady&&window.famobi.openBrandingLink()},setPreloadProgress:function(a){this.mFamobiSDKReady&&window.famobi.setPreloadProgress(a)},reportStats:function(a,b,d){null==d&&(d=1);window.famobi_analytics.trackStats(a.toLowerCase(),
b,d)},reportEvent:function(a,b){return oa.from(window.famobi_analytics.trackEvent(a,b))},onPause:function(){Da.sInstance.active=!1;e.get_instance().onAdStart()},onResume:function(){Da.sInstance.active=!0;e.get_instance().onAdEnd()},onMute:function(){e.get_instance().set_muteMusic(!0);e.get_instance().set_muteSound(!0)},onUnmute:function(){e.get_instance().set_muteMusic(!1);e.get_instance().set_muteSound(!1)},get_currentLocale:function(){return this.mFamobiSDKReady?window.famobi.getCurrentLanguage():
N.get_currentLocale()},levelStart:function(a,b){this.reportEvent("EVENT_LEVELSTART",{levelName:"level"+ia.ndigits(a,4),level:a});return u.prototype.levelStart.call(this,a,b)},buttonAction:function(a,b){return oa.from(window.famobi.showInterstitialAd(a))},levelSuccess:function(a,b,d){try{this.reportEvent("EVENT_CUSTOM",{eventName:"LEVELEND",result:"success",score:b});if("A-ZOOBOOM"==this.get_affiliateId()&&5>a)return oa.withValue({});var l="level"+ia.ndigits(a,4);return oa.wait([this.reportEvent("EVENT_LEVELSUCCESS",
{levelName:l,level:a}),this.reportEvent("EVENT_LEVELSCORE",{levelName:l,level:a,levelScore:b})])}catch(p){return oa.withError({})}},supressAds:function(a){a&&a!=this.adsSupressed&&(window.famobi.showAd=function(a){"function"===typeof a&&a()});this.mLevelFailDelay=a?1:900;u.prototype.supressAds.call(this,a)},levelRevived:function(a,b){var d="level"+ia.ndigits(a,4);this.reportEvent("EVENT_CUSTOM",{eventName:"EVENT_REVIVE",levelName:d,level:a,moves:b.moves});this.reportEvent("EVENT_REVIVE",{levelName:d,
level:a,moves:b.moves});return u.prototype.levelRevived.call(this,a,b)},levelFailed:function(a,b){var d="level"+ia.ndigits(a,4),l=null!=b?b.reason:"quit";this.reportEvent("EVENT_CUSTOM",{eventName:"LEVELEND",result:"fail",score:b.score});null!=b&&1==b.surrender&&this.reportEvent("EVENT_CUSTOM",{eventName:"GAME_END",levelName:d,level:a,score:b.score});var c=new Xa;Dc.delay(function(){"quit"==l?Promise.all([window.famobi_analytics.trackEvent("EVENT_LEVELFAIL",{levelName:d,reason:l,level:a})]).then(function(){window.famobi.showAd(function(a){return c.complete(a)})}):
Promise.all([window.famobi_analytics.trackEvent("EVENT_LEVELFAIL",{levelName:d,reason:l,level:a})]).then(function(a){return c.complete(a)})},this.mLevelFailDelay);return c.future},get_affiliateId:function(){return this.mFamobiSDKReady?window.famobi.config.aid:null},hasFeature:function(a,b){null==b&&(b=!1);return this.mFamobiSDKReady?window.famobi.hasFeature(a):b},gameReady:function(){this.mFamobiSDKReady&&!this.mGameReadyPosted&&(this.mGameReadyPosted=!0,window.famobi.gameReady())},getVolume:function(){return this.mFamobiSDKReady?
window.famobi.getVolume():1},onRequest:function(a,b){if(this.mFamobiSDKReady)window.famobi.onRequest(a,b)},__class__:dd,__properties__:k(u.prototype.__properties__,{get_brandingButton:"get_brandingButton"})});var C=function(){this.mLastUpdateTime=this.mLastTickTime=0;this.mTickExecutor=[];this.mTickObjects=[];this.mClockExecutor=[];this.mClockObjects=[];this.mXEventListener=null};f["system.utils.clock.MasterClock"]=C;C.__name__="system.utils.clock.MasterClock";C.__properties__={get_now:"get_now",
get_instance:"get_instance"};C.get_instance=function(){return C.sInstance=null!=C.sInstance?C.sInstance:new C};C.get_now=function(){return C.sNowDate=null!=C.sNowDate?C.sNowDate:new Date};C.__super__=H;C.prototype=k(H.prototype,{addClockObject:function(a){this.mClockObjects.unshift(a)},removeClockObject:function(a){E.remove(this.mClockObjects,a)&&E.remove(this.mClockExecutor,a)},addTickObject:function(a){this.mTickObjects.unshift(a)},removeTickObject:function(a){E.remove(this.mTickObjects,a)&&E.remove(this.mTickExecutor,
a)},update:function(a){++C.frame;Tc.update();C.sNowDate=null;C.delta=a;C.timer+=a;this.mLastUpdateTime=C.timer;if(this.mLastTickTime+1<=C.timer){this.mLastTickTime=C.timer;a=this.mTickObjects.length;for(var b=0;b<a;)this.mTickExecutor.push(this.mTickObjects[b++]);for(;0<this.mTickExecutor.length;)this.mTickExecutor.pop().secondlyTick();this.dispatchSimpleXEvent("tickEvent")}a=this.mClockObjects.length;for(b=0;b<a;)this.mClockExecutor.push(this.mClockObjects[b++]);for(;0<this.mClockExecutor.length;)this.mClockExecutor.pop().frameTick();
this.dispatchSimpleXEvent("updateEvent",C.delta)},__class__:C});var ba=function(){this.allow=!0;this.uid=this.user=this.name=this.icon=this.token=this.oauthAccessToken=null;this.initialized=this.signedIn=!1;var a=this;this.mXEventListener=null;cd.registerService("firebase","https://us-central1-zooboom-cb593.cloudfunctions.net",function(b){V.__cast(b.headers,Tg).add("X-Auth-Token",a.token);return b},function(a){if(null!=a.data&&null!=a.data.error&&400==a.data.code){var b={name:"firebase",message:'firebase request "'+
a.url+'" failed: '+R.string(a.data.error),url:window.location.href};u.get_instance().trackEvent("event/error",b)}return a},function(a){return a})};f["firebase.FirebaseManager"]=ba;ba.__name__="firebase.FirebaseManager";ba.__super__=H;ba.prototype=k(H.prototype,{get_auth:function(){return this.app.auth()},getPermission:function(){return""},initMessaging:function(){var a=this.app.messaging();if(null!=a){var b=window.swRegistration,d={vapidKey:"BBE1qYRB0cipe2wWIs7ldk7O1TTdkM0i2GtCpypxfKqHF662YTTqhB56ay-dQYCL1OQWh0p4NA3JIOuFjDMVB6Q"};
null!=b&&(d.serviceWorkerRegistration=b);a.getToken(d).then(function(a){}).catch(function(a){})}},init:function(a){var b=this;this.app=firebase.initializeApp({projectId:"zooboom-cb593",appId:"1:916268279892:web:3fc7650b7b3d5f863525c1",apiKey:"AIzaSyC-DAY2nxY7Hmz3Taubn2Tj6lHE8-WJFHk",authDomain:"zooboom-cb593.firebaseapp.com",databaseURL:"https://zooboom-cb593.firebaseio.com",storageBucket:"zooboom-cb593.appspot.com",measurementId:"G-GY8FXJNET0",messagingSenderId:"916268279892"},"zoo-boom");if(u.get_instance().get_tracking().allow)try{this.analytics=
this.app.analytics(),firebase.Analytics=this.analytics,null!=this.analytics&&(this.analytics.setAnalyticsCollectionEnabled(!0),this.analytics.setUserId(u.get_instance().get_uid()))}catch(d){}Uc.delay(function(){"granted"==b.getPermission()&&b.initMessaging()},2E3);this.get_auth().setPersistence("local");this.get_auth().onIdTokenChanged(function(a){null!=a?b.get_auth().currentUser.getIdToken().then(function(d){b.token=d;b.dispatchSimpleXEvent("FirebaseManager::TOKEN_CHANGE_EVENT",a)}):b.token=null});
this.get_auth().onAuthStateChanged(function(d){b.user=d;null!=b.mTokenUpdateTimer&&(b.mTokenUpdateTimer.stop(),b.mTokenUpdateTimer=null);var l=oa.withValue(!0);b.initialized||b.dispatchSimpleXEvent("FirebaseManager::INIT_DONE_EVENT",d);b.initialized=!0;l.onComplete(function(l){if(l)if(b.signedIn=null!=d,null!=d){l=0;for(var c=d.providerData;l<c.length;)++l;b.uid=d.uid;b.name=d.displayName;b.icon=d.photoURL;b.dispatchSimpleXEvent("FirebaseManager::USER_UPDATE_EVENT");b.get_auth().currentUser.getIdToken().then(function(l){b.token=
l;b.dispatchSimpleXEvent("FirebaseManager::TOKEN_CHANGE_EVENT",d);b.dispatchSimpleXEvent("FirebaseManager::AUTH_CHANGE_EVENT",d);null!=a&&(a(),a=null)})}else b.token=b.uid=b.name=b.icon=null,null!=b.mTokenUpdateTimer&&(b.mTokenUpdateTimer.stop(),b.mTokenUpdateTimer=null),b.dispatchSimpleXEvent("FirebaseManager::AUTH_CHANGE_EVENT",d),null!=a&&(a(),a=null);else b.signOut()})})},getNewToken:function(){var a=this,b=new Xa;this.get_auth().currentUser.getIdToken().then(function(d){a.token=d;b.complete(d)});
return b.future},listenTo:function(a,b){if(null!=this.app){a=this.app.database().ref(a);var d=a.on("value",function(a,d){null!=b&&b(a.val())});return{ref:a,type:"value",func:d}}return null},stopListen:function(a){null!=a&&null!=this.app&&null!=a&&Object.prototype.hasOwnProperty.call(a,"ref")&&Object.prototype.hasOwnProperty.call(a,"type")&&a.ref.off(a.type,a.cb);return null},read:function(a,b){if(null!=this.app){var d=new Xa;this.app.database().ref(a).once("value").then(function(a){a=a.val();null!=
b&&b(a);d.complete(a)},function(a){d.error(a)});return d.future}return oa.withError("No App")},write:function(a,b){if(null!=this.app){var d=new Xa;this.app.database().ref(a).set(b).then(function(a){d.complete(null)},function(a){d.error(a)});return d.future}return oa.withError("No App")},update:function(a,b){if(null!=this.app){var d=new Xa;this.app.database().ref(a).update(b).then(function(a){d.complete(null)},function(a){d.error(a)});return d.future}return oa.withError("No App")},signOut:function(){var a=
this,b=new Xa;null!=this.app?(this.signedIn=!1,this.get_auth().signOut().then(function(d){a.dispatchSimpleXEvent("FirebaseManager::SIGN_OUT_EVENT");b.complete({})},function(a){b.complete({})})):b.error({});return b.future},signIn:function(a){var b=this,d=new Xa,l="unknown";if(null!=this.app){var c=null;switch(a._hx_index){case 0:l="google";c=new firebase.auth.GoogleAuthProvider;break;case 2:a=new firebase.auth.FacebookAuthProvider,a.addScope("email"),c=a,l="facebook"}null!=c&&this.get_auth().signInWithPopup(c).then(function(a){var l=
a.credential;null!=l&&"facebook.com"==l.providerId&&(b.oauthAccessToken=l.accessToken);d.complete(a.user)},function(a){var b={name:"firebase",url:window.location.href,message:"sign in failed: "+JSON.stringify(a)};u.get_instance().trackEvent("event/error",b);u.get_instance().get_tracking().customEvent("register","error_"+l,1);d.error({error:a})})}else d.error({});return d.future},signInWithEmailAndPassword:function(a,b){var d=new Xa;null!=this.app?this.get_auth().signInWithEmailAndPassword(a,b).then(function(a){d.complete(a)},
function(a){d.error(a)}):d.error({});return d.future},sendPasswordResetEmail:function(a){var b=new Xa;null!=this.app?this.get_auth().sendPasswordResetEmail(a).then(function(a){u.get_instance().get_tracking().customEvent("register","password_forgotten",1);b.complete({})},function(a){b.error({error:a})}):b.error({});return b.future},createUserWithEmailAndPassword:function(a,b,d,l){var c=this,e=new Xa;null!=this.app?this.get_auth().createUserWithEmailAndPassword(a,b).then(function(a){a.user.updateProfile({displayName:d,
photoURL:l}).then(function(b){b=c.get_auth().currentUser;c.uid=b.uid;c.name=b.displayName;c.icon=b.photoURL;c.dispatchSimpleXEvent("FirebaseManager::USER_UPDATE_EVENT");e.complete(a.user)},function(b){e.complete(a.user)})},function(a){u.get_instance().get_tracking().customEvent("register","error_email",1);e.error(a)}):e.error({});return e.future},updateProfileIcon:function(a){var b=this;if(null!=this.user){var d=new Xa;this.user.updateProfile({photoURL:a}).then(function(l){b.icon=a;ba.instance.write("users/"+
ba.instance.uid+"/vcard/icon",a).onComplete(function(a){d.complete(a)})},function(a){d.error(a)});return d.future}return oa.withValue({})},deleteUser:function(){var a=this;if(null!=this.user){var b=new Xa;this.user.delete().then(function(d){a.dispatchSimpleXEvent("FirebaseManager::SIGN_OUT_EVENT");b.complete({})},function(a){return b.error(a)});return b.future}return oa.withError({})},__class__:ba,__properties__:{get_auth:"get_auth"}});var Ta=function(){};f["game.Command"]=Ta;Ta.__name__="game.Command";
Ta.__interfaces__=[wb];Ta.prototype={get_startTime:function(){return this.startTime},set_startTime:function(a){return this.startTime=a},execute:function(){this.dispose()},dispose:function(){},__class__:Ta,__properties__:{set_startTime:"set_startTime",get_startTime:"get_startTime"}};var Yc=function(a,b,d,l){null==l&&(l=!1);this.mColumn=a;this.mRow=b;this.mOverlayType=d;this.mDynamic=l};f["game.AddOverlayCommand"]=Yc;Yc.__name__="game.AddOverlayCommand";Yc.checkPlace=function(a,b){if(0>a||0>b||b>=t.ROWS||
a>=t.COLUMNS||!t.get_instance().getField(a,b)||null!=Ra.getOverlay(a,b))return!1;a=t.get_instance().getStone(a,b);return null!=a&&a.fixed&&!a.destroyable?!1:!0};Yc.__super__=Ta;Yc.prototype=k(Ta.prototype,{execute:function(){if(Yc.checkPlace(this.mColumn,this.mRow))switch(this.mOverlayType){case "FLIES":new Ai(this.mColumn,this.mRow,this.mDynamic);break;case "LEAF":new Xg(this.mColumn,this.mRow,this.mDynamic);break;case "SNOWFLAKE":new Th(this.mColumn,this.mRow,this.mDynamic);break;default:throw T.thrown("Unkown overlay!");
}Ta.prototype.execute.call(this)},__class__:Yc});var Mb=function(a){var b=this.startPos=new g,d=a.getMiddle();b.x=d.x;b.y=d.y;b.w=d.w;this.mChicken=a;null==Mb.sTargets&&(Mb.sTargets=[],t.get_instance().addXEventListener("COMMAND_STACK_EMPTY",Mb.onCommandsEmpty))};f["game.AddRandomEggCommand"]=Mb;Mb.__name__="game.AddRandomEggCommand";Mb.onCommandsEmpty=function(a){for(a=Mb.sTargets;0<a.length;)a.pop()};Mb.__super__=Ta;Mb.prototype=k(Ta.prototype,{execute:function(){for(var a=t.get_instance().stones,
b=[],d=0;d<a.length;){var l=a[d];++d;null!=l&&l.gem&&l.get_valid()&&-1==Mb.sTargets.indexOf(l)&&null==Ra.getOverlay(l.column,l.row)&&null!=K.sStones.h.__keys__[l.__id__]&&b.push(l)}0<b.length?(a=b[R.random(b.length)],Mb.sTargets.push(a),t.get_instance().addCommand(.6,new hf(a,new Wg,ef.Starter)),t.get_instance().animations.addChild(new Qe(.6,this.startPos,a.getMiddle()))):t.get_instance().finishAnimation(this.mChicken,"CRACKLING");Ta.prototype.execute.call(this)},dispose:function(){this.startPos=
this.mChicken=null;Ta.prototype.dispose.call(this)},__class__:Mb});var fe=function(a){this.startPos=new g;this.source=a;a=this.startPos;var b=this.source.getMiddle();a.x=b.x;a.y=b.y;a.w=b.w;null==fe.sTargets&&(fe.sTargets=[],t.get_instance().addXEventListener("COMMAND_STACK_EMPTY",fe.onCommandsEmpty))};f["game.AddRandomFliesCommand"]=fe;fe.__name__="game.AddRandomFliesCommand";fe.onCommandsEmpty=function(a){for(a=fe.sTargets;0<a.length;)a.pop()};fe.__super__=Ta;fe.prototype=k(Ta.prototype,{execute:function(){for(var a=
t.get_instance().stones,b=[],d=0;d<a.length;){var l=a[d];++d;null!=l&&l.gem&&-1==fe.sTargets.indexOf(l)&&null==Ra.getOverlay(l.column,l.row)&&b.push(l)}0<b.length?(a=b[R.random(b.length)],fe.sTargets.push(a),t.get_instance().addCommand(1,new Yc(a.column,a.row,"FLIES",!1)),t.get_instance().animations.addChild(new $i(1,this.startPos,a.getMiddle()))):t.get_instance().finishAnimation(this.source,"FLIES");Ta.prototype.execute.call(this)},dispose:function(){this.startPos=this.source=null;Ta.prototype.dispose.call(this)},
__class__:fe});var dc=function(){this.mThemes="zoo desert meadow winter water mountain beach forest farm waterfall egypt cave jungle lava arctic safari river hayloft carnival space dino plane crypt ocean castle tribe asia western park bridge".split(" ");this.mCurrentIdx=-1;this.mBGName=null;dc.instance=this;this.initialAtlasSize=0;X.call(this,"xml/background.xml");this.currentDrawData.blend=!1};f["game.BackgroundLayer"]=dc;dc.__name__="game.BackgroundLayer";dc.__super__=X;dc.prototype=k(X.prototype,
{onLoadComplete:function(){this.mBGImage=this.findType("uiImgBG",G);this.checkBackGround();this.registerXEventListener(h.get_instance(),"ZooBackendLayer::BEST_LEVEL",c(this,this.onBestLevelChanged));X.prototype.onLoadComplete.call(this);this.onScreenSizeChanged()},hideJenny:function(a){this.dispatchSimpleXEvent("BackgroundLayer::HIDE_JENNY",a)},showJenny:function(a){this.dispatchSimpleXEvent("BackgroundLayer::SHOW_JENNY",a)},onBestLevelChanged:function(a){this.checkBackGround()},setBG:function(a){if(null!=
this.mBGImage){this.mBGImage.removeAllChildren();switch(a){case "arctic":this.mBG=new zj;break;case "asia":this.mBG=new Fh;break;case "beach":this.mBG=new Eh;break;case "bridge":this.mBG=new ng;break;case "carnival":this.mBG=new Ng;break;case "castle":this.mBG=new Gh;break;case "cave":this.mBG=new If;break;case "crypt":this.mBG=new yb;break;case "desert":this.mBG=new si;break;case "dino":this.mBG=new Jf;break;case "drama":this.mBG=new Hh;break;case "egypt":this.mBG=new ti;break;case "farm":this.mBG=
new Td;break;case "forest":this.mBG=new ld;break;case "forest2":this.mBG=new ld;break;case "hayloft":this.mBG=new Vi;break;case "jungle":this.mBG=new Sd;break;case "lava":this.mBG=new we;break;case "meadow":this.mBG=new kd;break;case "mountain":this.mBG=new oc;break;case "ocean":this.mBG=new Wi;break;case "park":this.mBG=new Lf;break;case "plane":this.mBG=new Jh;break;case "preview":this.mBG=new kf;break;case "river":this.mBG=new pg;break;case "safari":this.mBG=new Pg;break;case "space":this.mBG=
new Kh;break;case "tiny":this.mBG=new Mf;break;case "tribe":this.mBG=new Kf;break;case "water":this.mBG=new Qg;break;case "waterfall":this.mBG=new ui;break;case "western":this.mBG=new Me;break;case "winter":this.mBG=new Lh;break;case "zoo":this.mBG=new Aj;break;default:this.mBG=new Aj}this.mBGImage.addChild(this.mBG);this.mBGName=a;this.onScreenSizeChanged()}},checkBackGround:function(){if(null!=h.get_instance().forceBackground){if(null==this.mBGName){this.setBG(h.get_instance().forceBackground);
for(var a=0,b=this.mThemes.length;a<b;){var d=a++;this.mThemes[d]==h.get_instance().forceBackground&&(this.mCurrentIdx=d)}}}else a=h.get_instance().get_nextLevel(),0<a&&this.setLevel(a)},setLevel:function(a){a=Math.floor((a-1)/50)%this.mThemes.length;this.mCurrentIdx!=a&&(h.get_instance().lastLevelWon&&null==Ig.sInstance&&y.instance.addScreen(new Ig),this.setBG(this.mThemes[a]),this.mCurrentIdx=a)},update:function(){this.onScreenSizeChanged();X.prototype.update.call(this)},onScreenSizeChanged:function(){if(null!=
this.mBGImage){var a=this.mBGImage;if(y.SCREEN_WIDTH/y.SCREEN_HEIGHT>(isFinite(a.ratio)?a.ratio:a.resultWidth/a.resultHeight)){a=this.mBGImage;var b=y.SCREEN_WIDTH/this.mBGImage.height}else a=this.mBGImage,b=y.SCREEN_HEIGHT/this.mBGImage.height;a.scale!=b&&a.invalidate();a.scale=b}},draw:function(){X.prototype.draw.call(this);null!=this.mBG&&this.mBG.draw()},dispose:function(){this.mBGImage=dc.instance=null;var a=this.mBG;null!=a&&a.dispose();this.mBG=null;X.prototype.dispose.call(this)},__class__:dc});
var Za=function(){this.chats={};this.mListenerData=null;this.mBlockList={};this.mLastChatTime=0;var a=this;this.mXEventListener=null;ba.instance.signedIn&&(this.mUid=ba.instance.uid,this.init());this.registerXEventListener(ba.instance,"FirebaseManager::AUTH_CHANGE_EVENT",c(this,this.onAuthChanged));this.registerXEventListener(h.get_instance(),"CHAT_DELETE_MESSAGE",function(b){a.dispatchSimpleXEvent("ChatManager::DELETE_MESSAGE",{chatId:b.data.chatId,messageId:b.data.messageId});a.dispatchSimpleXEvent("ChatManager::CHANNEL_UPDATE",
b.data.chatId);a.dispatchSimpleXEvent("ChatManager::UPDATE")})};f["game.ChatManager"]=Za;Za.__name__="game.ChatManager";Za.__properties__={get_instance:"get_instance"};Za.get_instance=function(){null==Za.instance&&(Za.instance=new Za);return Za.instance};Za.__super__=H;Za.prototype=k(H.prototype,{onAuthChanged:function(a){ba.instance.signedIn?this.mUid!=ba.instance.uid&&(null!=this.mListenerData&&(ba.instance.stopListen(this.mListenerData),this.mListenerData=null),this.chats={list:{}},this.mBlockList=
{},this.init(),this.mUid=ba.instance.uid):(null!=this.mListenerData&&(ba.instance.stopListen(this.mListenerData),this.mListenerData=null),this.mUid=null,a=this.mStorage,null!=a&&a.dispose(),this.mStorage=null,this.chats={list:{}},this.mBlockList={},this.dispatchSimpleXEvent("ChatManager::UPDATE"))},init:function(){var a=this;this.mStorage=new bf("chat_"+ba.instance.uid);if(null!=this.mStorage){var b=this.mStorage.get_localData();this.mLastChatTime=w.field(b,"last");var d=this.getChatIdByUid("jenny"),
l=w.field(b,"chats");if(null==l){var c={last:0,members:{},list:{0:{sender:"jenny",text:"SID_JENNY_WELCOME"}}};c.members.jenny=!0;c.members[h.get_instance().get_uid()]=!0;this.mLastChatTime=0;l={};l[d]=c}this.chats=l;b=w.field(b,"blocked");null==b&&(b={});this.mBlockList=b}this.mListenerData=ba.instance.listenTo("users/"+ba.instance.uid+"/chat/last",function(b){a.mLastChatTime!=b&&ba.instance.app.database().ref("users/"+ba.instance.uid+"/chat").once("value").then(function(d){d=d.val();if(null!=d&&
(d=d.list,null!=d))for(var l=w.fields(d),c=0;c<l.length;){var e=[l[c]];++c;var p=w.isObject(d)&&Object.prototype.hasOwnProperty.call(d,e[0])?w.field(d,e[0]):{},f=Object.prototype.hasOwnProperty.call(p,"blocked"),g=[w.field(p,"read")];a.updateBlockState(e[0],f);var D="number"==typeof p&&(p|0)===p?p:p.last;p=[w.isObject(p)&&Object.prototype.hasOwnProperty.call(p,"min")?w.field(p,"min"):0];!f&&D>a.mLastChatTime&&(Object.prototype.hasOwnProperty.call(a.chats,e[0])?ba.instance.app.database().ref("chat/"+
e[0]+"/list").orderByKey().startAt(R.string(a.mLastChatTime+1)).once("value").then(function(b,d,l){return function(c){c=c.val();var e=w.field(a.chats,l[0]);null==e.list&&(e.list={});null!=d[0]&&(e.read=d[0]);for(var p=w.fields(c),f=0;f<p.length;){var g=p[f];++f;if(R.parseInt(g)>b[0]){var D=w.field(c,g);e.list[g]=D;var h=R.parseInt(g);if(!Object.prototype.hasOwnProperty.call(e,"last")||e.last<h)e.last=h;a.dispatchSimpleXEvent("ChatManager::NEW",{chatId:l[0],messageId:g,message:D})}}a.dispatchSimpleXEvent("ChatManager::CHANNEL_UPDATE",
l[0]);a.dispatchSimpleXEvent("ChatManager::UPDATE")}}(p,g,e)):ba.instance.app.database().ref("chat/"+e[0]).once("value").then(function(b,d,l){return function(c){c=c.val();if(null!=c){a.chats[l[0]]=c;null!=d[0]&&(c.read=d[0]);c=c.list;if(null!=c)for(var e=w.fields(c),p=0;p<e.length;){var f=e[p];++p;R.parseInt(f)>b[0]?a.dispatchSimpleXEvent("ChatManager::NEW",{chatId:l[0],messageId:f,message:w.field(c,f)}):w.deleteField(c,f)}a.dispatchSimpleXEvent("ChatManager::CHANNEL_UPDATE",l[0]);a.dispatchSimpleXEvent("ChatManager::UPDATE")}}}(p,
g,e)))}null!=a.mStorage&&(a.mLastChatTime=b,a.mStorage.setEntry("last",a.mLastChatTime),a.mStorage.setEntry("chats",a.chats))})})},getNumUnread:function(a){null==a&&(a=!1);for(var b=0,d=w.fields(this.chats),l=0;l<d.length;)b+=this.getNumUnreadByChannel(d[l++],a);return b},getNumUnreadByChannel:function(a,b){null==b&&(b=!1);var d=0;if(!this.isBlocked(a)&&(a=w.field(this.chats,a),null!=a&&null!=a.list&&(w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"teamChat")&&w.field(a,"teamChat"))==b)){b=
ia.toInt(null!=a.read?a.read:0);a=w.fields(a.list);for(var l=0;l<a.length;)R.parseInt(a[l++])>b&&++d}return d},readChat:function(a){var b=w.field(this.chats,a);null!=b&&(b.read=b.last,ba.instance.write("users/"+ba.instance.uid+"/chat/list/"+a+"/read",b.last),this.dispatchSimpleXEvent("ChatManager::CHANNEL_UPDATE",a),this.dispatchSimpleXEvent("ChatManager::UPDATE"),this.save())},save:function(){null!=this.mStorage&&this.mStorage.setEntry(this.chats,this.chats)},deleteMessage:function(a,b){if("jenny"!=
a){var d=w.field(this.chats,a);null!=d&&(w.deleteField(d.list,b),h.get_instance().call("chat-deleteMessage",{chatId:a,messageId:b}))}},updateBlockState:function(a,b){Object.prototype.hasOwnProperty.call(this.mBlockList,a)!=b&&(b?(this.mBlockList[a]=!0,this.dispatchSimpleXEvent("ChatManager::CHANNEL_UPDATE",a),this.dispatchSimpleXEvent("ChatManager::UPDATE")):w.deleteField(this.mBlockList,a),this.dispatchSimpleXEvent("ChatManager::BLOCK_UPDATE",{chatId:a,blocked:b}))},blockChannel:function(a){ba.instance.update("users/"+
ba.instance.uid+"/chat/list/"+a,{blocked:!0,last:firebase.database.ServerValue.TIMESTAMP}).onComplete(function(a){ba.instance.write("users/"+ba.instance.uid+"/chat/last",firebase.database.ServerValue.TIMESTAMP)})},unblockChannel:function(a){ba.instance.update("users/"+ba.instance.uid+"/chat/list/"+a,{blocked:null,last:firebase.database.ServerValue.TIMESTAMP}).onComplete(function(a){ba.instance.write("users/"+ba.instance.uid+"/chat/last",firebase.database.ServerValue.TIMESTAMP)})},isBlocked:function(a){return Object.prototype.hasOwnProperty.call(this.mBlockList,
a)},sendMessage:function(a,b,d){return h.get_instance().call("chat-send",{to:a,text:b,params:d})},sendMessageTeam:function(a,b){return h.get_instance().call("teams-sendChat",{text:a,params:b})},getChatIdByUid:function(a){var b=h.get_instance().get_uid();return b<a?b+"_"+a:a+"_"+b},getChat:function(a){return w.field(this.chats,a)},dispose:function(){H.prototype.dispose.call(this)},__class__:Za});var zd=function(a){var b=this.startPos=new g;b.x=a.x;b.y=a.y;b.w=a.w};f["game.ClearRandomTaskCommand"]=
zd;zd.__name__="game.ClearRandomTaskCommand";zd.clear=function(){for(;0<zd.sTargets.length;)zd.sTargets.pop()};zd.__super__=Ta;zd.prototype=k(Ta.prototype,{execute:function(){t.get_instance();e.get_instance().play("sound/bee.mp3",0,1,1);for(var a=t.get_instance().stones,b=[],d=Object.create(null),l=new xg(t.get_instance().task.tasks.h);l.hasNext();){var c=l.next();switch(c){case "COINS":d.COIN=!0;break;case "CRACKLING":d.CRACKLING2=!0;break;case "TICKER":d.TICKER2=!0}d[c]=!0}for(c=l=0;c<a.length;){var f=
a[c];++c;if(null!=f&&-1==zd.sTargets.indexOf(f)&&null!=K.sStones.h.__keys__[f.__id__]&&f.destroyable){var g=f.stoneType,h=Ra.getOverlay(f.column,f.row);if(Object.prototype.hasOwnProperty.call(d,g)||null!=h&&Object.prototype.hasOwnProperty.call(d,h.stoneType))++l,b.push(f),"COIN"==g&&b.push(f)}}a=[];for(d=0;a.length<Math.min(l,3)&&10>++d;)c=b[R.random(b.length)],-1==a.indexOf(c)&&null!=c&&(a.push(c),E.remove(b,c),zd.sTargets.push(c),t.get_instance().addCommand(1.5,new ed(c)),t.get_instance().animations.addChild(new je(1.5,
this.startPos,c.getMiddle())));Ta.prototype.execute.call(this)},dispose:function(){this.startPos=null;Ta.prototype.dispose.call(this)},__class__:zd});var ub=function(a,b,d){this.interact=d;this.column=a;this.row=b};f["game.PloppCommand"]=ub;ub.__name__="game.PloppCommand";ub.__super__=Ta;ub.prototype=k(Ta.prototype,{execute:function(){var a=t.get_instance().getStone(this.column,this.row);null!=a&&null!=a.get_playField()&&a.kick(this.interact);a=Ra.getOverlay(this.column,this.row);null!=a&&a.interact(this.interact);
this.interact=null},__class__:ub});var cf=function(a,b,d){ub.call(this,a,b,d)};f["game.ForcePloppCommand"]=cf;cf.__name__="game.ForcePloppCommand";cf.__super__=ub;cf.prototype=k(ub.prototype,{execute:function(){var a=t.get_instance().getStone(this.column,this.row);null!=a&&null!=a.get_playField()&&a.forcePlopp(this.interact);a=Ra.getOverlay(this.column,this.row);null!=a&&a.plopp();this.interact=null},__class__:cf});var Gd=function(a){this.stoneType=this.mapStone(w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,
"type")?w.field(a,"type"):"UNDEFINED");this.count=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"count")?w.field(a,"count"):1};f["game.TaskDescription"]=Gd;Gd.__name__="game.TaskDescription";Gd.prototype={mapStone:function(a){switch(a){case "BOX2":case "BOX3":return"BOX";case "BOX_BLUE":case "BOX_GREEN":case "BOX_PURPLE":case "BOX_RED":case "BOX_WHITE":case "BOX_YELLOW":return"COLOR_BOX";case "COINS":return"COIN";default:return a}},applyToTask:function(a){a.countType(this.stoneType,this.count)},
__class__:Gd};var Hd=function(a){this.count=this.softCage=!1;this.dx=this.dy=1;this.x=this.y=0;this.x=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"x")?w.field(a,"x"):0;this.y=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"y")?w.field(a,"y"):0;this.dx=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"dx")?w.field(a,"dx"):1;this.dy=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"dy")?w.field(a,"dy"):1;this.stoneType=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,
"type")?w.field(a,"type"):"UNDEFINED";this.count=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"count")&&w.field(a,"count");this.softCage=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"softCage")&&w.field(a,"softCage");this.params=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"params")?w.field(a,"params"):{};this.overlayParams=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"overlayParams")?w.field(a,"overlayParams"):null;this.overlay=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,
"overlay")?w.field(a,"overlay"):null};f["game.AddStone"]=Hd;Hd.__name__="game.AddStone";Hd.prototype={applyToTask:function(a){for(var b=null,d=this.x,l=this.x+this.dx;d<l;)for(var c=d++,e=this.y,f=this.y+this.dy;e<f;){var g=e++;switch(this.stoneType){case "ANVIL":b=new Ug;break;case "APPLE":b=new Dj;break;case "BALLON":b=new ie(a.ballonCounter);break;case "BEEHIVE":b=new rg;break;case "BLOB":b=new Wb;break;case "BOMB":b=new Pf(a.bombCounter);break;case "BOX":b=new nf(Object.prototype.hasOwnProperty.call(this.params,
"count")?this.params.count:1);break;case "BOX2":b=new nf(2);break;case "BOX3":b=new nf(3);break;case "BOX_BLUE":b=new Oe("GEM_BLUE");break;case "BOX_GREEN":b=new Oe("GEM_GREEN");break;case "BOX_PURPLE":b=new Oe("GEM_PURPLE");break;case "BOX_RED":b=new Oe("GEM_RED");break;case "BOX_WHITE":b=new Oe("GEM_WHITE");break;case "BOX_YELLOW":b=new Oe("GEM_YELLOW");break;case "BREAKER":b=new Qf;break;case "BREAKER_COLUMN":b=new Qf(!1);break;case "CELL":b=new Ne;break;case "CHAMELEON":b=new pf;break;case "CHEST":b=
new Rf;break;case "CHICKEN":b=new Qh;break;case "COCONUT":b=new Rh;break;case "COIN":b=new ke;break;case "COINS":b=new Vg;break;case "COLOR_BOX":b=new Oe(Xb.GEM_TYPE_MAP.h[this.params.color]);break;case "COLOR_EGG":b=new Pe;break;case "CRACKLING":b=new Wg;break;case "CRACKLING2":b=new Wg(1);break;case "DUNG":b=new pd;break;case "DUNG_PILE":b=new yi;break;case "FAT_ANVIL":b=new aj;break;case "FAT_MULTI":b=new Sf;break;case "FAT_MULTI2":b=new zi;break;case "FAT_MULTI_COLOR":b=new Jd;break;case "FAT_MULTI_COLOR_TWISTER":b=
new Sh;break;case "FERTILIZER":b=new Re;break;case "FOOD_BOWL":b=new qf;break;case "GEM_RANDOM":b=new Xb(a.allowedGemTypes[R.random(a.allowedGemTypes.length)]);break;case "GEM_BLUE":case "GEM_GREEN":case "GEM_PURPLE":case "GEM_RED":case "GEM_WHITE":case "GEM_YELLOW":b=new Xb(this.stoneType);break;case "GIFT":b=new Tf;break;case "GROUP_5_HITS_ONE_PLACE":b=new Kd(1);break;case "GROUP_5_HITS_ONE_PLACE2":b=new Kd(2);break;case "GROUP_SINGLE_HIT_EACH":b=new ze(1);break;case "GROUP_SINGLE_HIT_EACH2":b=
new ze(2);break;case "HONEYPOT":b=new tg(2);break;case "MULTI_CAGE":b=new le(a.allowedGemTypes);break;case "ORB":b=new Uf(a.allowedGemTypes[R.random(a.allowedGemTypes.length)]);break;case "ORE":b=new tg;break;case "ORE_PILE":b=new Se;break;case "SKUNK":b=new Te;break;case "SNOWBALL":b=new ug;break;case "SNOWMAN":b=new Yg;break;case "SOFT_CAGE":a.overlay.push({x:c,y:g,stoneType:this.stoneType});this.count&&a.countType(this.stoneType,1);break;case "TICKER":b=new Vf;break;case "TICKER2":b=new Vf(!0);
break;case "TIMEBOMB":b=new Ue;break;case "WATER":b=new Ae;break;case "X_HIT":b=new Cd}a.overlay.push({x:c,y:g,stoneType:this.overlay,params:this.overlayParams});null!=b&&(a.addStone(c,g,b),this.count&&a.countTask(b));this.softCage&&(a.overlay.push({x:c,y:g,stoneType:"SOFT_CAGE"}),a.countType("SOFT_CAGE",1))}},__class__:Hd};var gc=function(){this.spawnObjects=[];this.bombCounter=this.ballonCounter=20;this.allowedGemTypes=null;this.stones=[];this.tasks=[];this.fill=this.field=null;this.moves=this.version=
0;this.sizeX=this.sizeY=null;this.size=0};f["game.LevelData"]=gc;gc.__name__="game.LevelData";gc.create=function(a){var b=new gc;b.applyData(a);return b};gc.prototype={applyData:function(a){this.size=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"size")?w.field(a,"size"):8;this.sizeX=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"sizeX")?w.field(a,"sizeX"):null;this.sizeY=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"sizeY")?w.field(a,"sizeY"):null;this.moves=w.isObject(a)&&
Object.prototype.hasOwnProperty.call(a,"moves")?w.field(a,"moves"):30;this.version=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"version")?w.field(a,"version"):0;var b=gc.DEFAULT_FIELD[this.size];this.field=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"field")?w.field(a,"field"):b;this.fill=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"fill")?w.field(a,"fill"):null;this.score=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"score")?w.field(a,"score"):5E3;this.spawnObjects=
w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"spawnObjects")?w.field(a,"spawnObjects"):[];if(null!=this.spawnObjects&&0<this.spawnObjects.length){b=0;for(var d=this.spawnObjects;b<d.length;){var l=d[b];++b;switch(l.stoneType){case "BALLON":this.ballonCounter=l.params;break;case "BOMB":this.bombCounter=l.params}}}else this.bombCounter=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"bombCounter")?w.field(a,"bombCounter"):20,this.ballonCounter=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,
"ballonCounter")?w.field(a,"ballonCounter"):20;d=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"allowedGemTypes")?w.field(a,"allowedGemTypes"):["GEM_BLUE","GEM_RED","GEM_YELLOW","GEM_PURPLE"];if(null!=d)for(this.allowedGemTypes=[],b=0;b<d.length;)this.allowedGemTypes.push(d[b++]);d=V.__cast(w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"tasks")?w.field(a,"tasks"):[],Array);for(b=0;b<d.length;)this.tasks.push(new Gd(d[b++]));d=V.__cast(w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,
"add")?w.field(a,"add"):[],Array);for(b=0;b<d.length;)this.stones.push(new Hd(d[b++]))},applyToTask:function(a){var b=this.sizeX,d=this.sizeY;t.setSize(null!=b?b:this.size,null!=d?d:this.size,this.field);b=this.moves;d=h.get_instance().get_bestLevel()>=h.config.settings.maxLevel?h.config.settings.moveMalusCrown:0;a.setMoves(null!=h.get_instance().forceMoves?h.get_instance().forceMoves:b-d);a.bombCounter=this.bombCounter;null!=this.allowedGemTypes&&(a.allowedGemTypes=this.allowedGemTypes);b=0;for(d=
this.tasks;b<d.length;)d[b++].applyToTask(a);b=0;for(d=this.stones;b<d.length;)d[b++].applyToTask(a);a.spawnObjects=this.spawnObjects;a.targetScore=this.score;a.calcScore();t.get_instance().rearrange();"up"==this.fill?a.fillRandomUp():1>this.version?a.fillRandom():a.fillRandomUp()},__class__:gc};var ve=function(a){this.overlay=[];this.targetScore=1;this.spawnObjects=[];this.bombCounter=this.ballonCounter=20;this.progress=100;this.allowedGemTypes=ve.ALL_GEM_TYPES;this.solved=!1;this.tasks=new cb;this.targetScoreStart1=
this.targetScoreStart2=this.targetScoreStart3=1;this.score=0;this.maxMoves=30;this.revives=0;this.moves=30;this.mXEventListener=null;this.registerXEventListener(a,"USER_ACTION",c(this,this.onUserAction))};f["game.LevelTask"]=ve;ve.__name__="game.LevelTask";ve.__super__=H;ve.prototype=k(H.prototype,{addStone:function(a,b,d){t.get_instance().addStone(a,b,d);return d},getOrCreateTask:function(a){if(!Object.prototype.hasOwnProperty.call(this.tasks.h,a)){var b=new ri(a,0);this.tasks.h[a]=b;this.registerXEventListener(b,
"Task::TASK_SOLVED",c(this,this.onTaskSolved));this.registerXEventListener(b,"Task::TASK_UPDATE",c(this,this.onTaskUpdate));this.dispatchSimpleXEvent("Task::NewTask",b);return b}return this.tasks.h[a]},isFree:function(a,b){return null==t.get_instance().getStone(a,b)?t.get_instance().getField(a,b):!1},fillRandom:function(){for(var a=0,b=t.ROWS;a<b;)for(var d=a++,l=0,c=t.COLUMNS;l<c;){var e=l++;this.isFree(e,d)&&this.addStone(e,d,new Xb)}},fillRandomUp:function(){for(var a=0,b=t.COLUMNS;a<b;)for(var d=
a++,l=0,c=t.ROWS;l<c;){var e=t.ROWS-l++-1;if(this.isFree(d,e))this.addStone(d,e,new Xb);else break}},setMoves:function(a){this.set_moves(this.maxMoves=a)},calcScore:function(){this.targetScoreStart1=this.getScoreForStar(1);this.targetScoreStart2=this.getScoreForStar(2);this.targetScoreStart3=this.getScoreForStar(3);this.set_score(0)},countType:function(a,b){null==b&&(b=1);a=this.getOrCreateTask(a);a.set_amount(a.get_amount()+b)},countTask:function(a){this.countType(a.stoneType);return a},isTask:function(a){return Object.prototype.hasOwnProperty.call(this.tasks.h,
a)?!this.tasks.h[a].finished:!1},solveTaskType:function(a,b){null==b&&(b=!1);Object.prototype.hasOwnProperty.call(this.tasks.h,a)&&this.getOrCreateTask(a).addAmount(-1,b)},consumeTaskType:function(a){Object.prototype.hasOwnProperty.call(this.tasks.h,a)&&this.getOrCreateTask(a).consume()},reset:function(){for(var a=this.tasks.h,b=Object.keys(a),d=b.length,l=0;l<d;){var e=a[b[l++]];this.releaseXEventListener(e,"Task::TASK_SOLVED",c(this,this.onTaskSolved));var f=this.tasks;e=e.type;Object.prototype.hasOwnProperty.call(f.h,
e)&&delete f.h[e]}this.overlay=[];this.spawnObjects=[];this.set_score(0);this.revives=0},onTaskUpdate:function(a){for(var b=a=0,d=this.tasks.h,l=Object.keys(d),c=l.length,e=0;e<c;){var f=d[l[e++]];a+=f.max;b+=f.get_amount()}this.progress=100*b/Math.max(a,1);u.get_instance().setGameProgress(this.progress)},onTaskSolved:function(a){a=!1;for(var b=this.tasks.h,d=Object.keys(b),l=d.length,c=0;c<l;)if(!b[d[c++]].finished){a=!0;break}if(!a&&!this.solved){this.solved=!0;this.dispatchSimpleXEvent("Task::LEVEL_SOLVED");
var e=this.get_moves(),f=Math.round(100*Math.pow(this.get_moves(),1.2));a=0;if(null!=t.get_instance().taskView.find("uiTxtMoves")){b=0;for(d=Math.floor(e/5);b<d;)++b,Uc.delay(function(){t.get_instance().scoreAnimation(t.get_instance().taskView.find("uiTxtMoves").getMiddle(),Math.round(5*f/e));t.get_instance().taskView.setMoveDisplayAdd(5)},300*++a);b=0;for(d=e%5;b<d;)++b,Uc.delay(function(){t.get_instance().scoreAnimation(t.get_instance().taskView.find("uiTxtMoves").getMiddle(),Math.round(f/e));t.get_instance().taskView.setMoveDisplayAdd(1)},
300*++a)}this.set_score(this.score+f);1==this.get_moves()&&this.set_score(this.score+1E3)}},onUserAction:function(a){0!=h.get_instance().forceMoves&&this.set_moves(this.get_moves()-1)},get_moves:function(){return this.moves},set_moves:function(a){if(this.get_moves()!=a){var b=this.get_moves();this.moves=a;this.dispatchSimpleXEvent("Task::UpdateEvent");b<a&&this.dispatchSimpleXEvent("Task::MORE_MOVES")}return a},set_score:function(a){this.score!=a&&(u.get_instance().setGameScore(a),this.score=a,this.dispatchSimpleXEvent("Task::UpdateEvent"),
V.__cast(u.get_instance(),dd).reportEvent("EVENT_LIVESCORE",{liveScore:this.score}));return a},getScoreForStar:function(a){var b=this.targetScore;switch(a){case 1:return Math.round(.3*b);case 2:return Math.round(.7*b);case 3:return Math.round(1.1*b)}return 1},getStarsForScore:function(a){return ac.scoreToStars(a,this.targetScore)},getStars:function(){return this.getStarsForScore(this.score)},dispose:function(){H.prototype.dispose.call(this)},__class__:ve,__properties__:{set_score:"set_score",set_moves:"set_moves",
get_moves:"get_moves"}});var Ke=function(a){null==a&&(a=5);ca.call(this);this.mCount=a;a=t.get_instance().context;a=null!=a?a.getTemplate("tMoreMovesBlock"):null;null!=a&&a.applyTo(this);this.setText("uiTxtMoreMoves",N.translate("SID_PLUS_X",[this.mCount]));var b=[{alpha:0,scale:0,duration:.2},{alpha:0,scale:0,duration:.05},{scale:2,duration:.1}];if(null!=b)for(a=0;a<b.length;){var d=new mf(b[a++]);null==this.tweens&&(this.tweens=[]);this.tweens.push(d)}a=0;for(b=this.mCount;a<b;)++a,d=new mf({duration:.25,
event:"ANIMATION_READY"}),null==this.tweens&&(this.tweens=[]),this.tweens.push(d);b=[{pos:g.ZERO,duration:1.1,bezier:{pos:new g(0,-y.SCREEN_HEIGHT/2),scale:1.6,angle:-90}},{angle:180,pos:new g(0,y.SCREEN_HEIGHT/2),alpha:0,scale:0,duration:1,action:"DISPOSE"}];if(null!=b)for(a=0;a<b.length;)d=new mf(b[a++]),null==this.tweens&&(this.tweens=[]),this.tweens.push(d);this.registerXEventListener(this,mf.EVENT,c(this,this.onTweenEvent))};f["game.MoreMovesAnimation"]=Ke;Ke.__name__="game.MoreMovesAnimation";
Ke.__super__=ca;Ke.prototype=k(ca.prototype,{onTweenEvent:function(a){if("ANIMATION_READY"==a.data){this.setText("uiTxtMoreMoves",1<this.mCount?N.translate("SID_PLUS_X",[--this.mCount]):N.number(0));var b=t.get_instance().animations;a=b.addChild(qa.createInstanceFromString('<image template="tPlusOneMove" scale="2.0" />',t.get_instance().context));b=[{duration:.1,pos:b.getMiddle()},{scale:2,duration:.3,pos:b.getMiddle()},{duration:.7,pos:b.getMiddle(),bezier:{pos:new g(y.SCREEN_WIDTH/2,0),scale:1.2}},
{duration:0,pos:t.get_instance().find("uiMoveDisplay").getMiddle(),event:"BLINK",action:"DISPOSE"}];if(null!=b)for(var d=0;d<b.length;){var l=new mf(b[d++]);null==a.tweens&&(a.tweens=[]);a.tweens.push(l)}a.registerXEventListener(a,"BLINK",function(a){a=t.get_instance().find("uiMoveDisplay");if(null!=a){var b=t.get_instance().task;b.set_moves(b.get_moves()+1);a.pulse()}})}},__class__:Ke});var Ad=function(){this.maxNewsId="1";this.newsMap=new cb;this.list=[];var a=this;this.mXEventListener=null;this.mStorage=
new bf("news");var b=this.mStorage.get_localData();if(null!=b){for(var d=w.fields(b),l=0;l<d.length;){var e=d[l];++l;this.newsMap.h[e]=!0;this.addNews(w.field(b,e))}this.sortList()}this.registerXEventListener(this,"NewsManager::NEW_NEWS",c(this,this.onNewNews));ba.instance.listenTo("newsfeed/control/counter",function(b){a.maxNewsId!=b&&ba.instance.app.database().ref("newsfeed/list").orderByKey().startAt(R.string(R.parseInt(a.maxNewsId)+1)).once("value").then(function(b){b=b.val();for(var d=0,l=w.fields(b);d<
l.length;){var c=l[d];++d;var e=w.field(b,c);e.id=c;a.addNews(e)}a.sortList();a.dispatchSimpleXEvent("NewsManager::NEWS_UPDATE")})})};f["game.NewsManager"]=Ad;Ad.__name__="game.NewsManager";Ad.__properties__={get_instance:"get_instance"};Ad.get_instance=function(){null==Ad.instance&&(Ad.instance=new Ad);return Ad.instance};Ad.__super__=H;Ad.prototype=k(H.prototype,{sortList:function(){this.list.sort(function(a,d){return a.date<d.date?1:a.date==d.date?0:-1});if(0<this.list.length)for(this.maxNewsId=
this.list[0].id;20<this.list.length;){var a=this.list.pop();this.mStorage.deleteEntry(a.id)}},addNews:function(a){this.list.push(a);var b=a.uid;Object.prototype.hasOwnProperty.call(this.newsMap.h,b)||(this.newsMap.h[b]=!0,this.dispatchSimpleXEvent("NewsManager::NEW_NEWS",a),this.mStorage.setEntry(a.id,a))},onNewNews:function(a){var b=a.data;if("tournament_won"==b.type)h.get_instance().getVCard(b.uid).onComplete(function(a){0<a.vCardCreationTime-h.get_instance().serverTimeDiff-b.date&&h.get_instance().getVCard(b.uid,
!0)})},dispose:function(){this.list=null;H.prototype.dispose.call(this)},__class__:Ad});var mg=function(){this.rows=this.columns=null;this.mInvalidBG=!0;X.call(this);this.init()};f["game.PlayBackground"]=mg;mg.__name__="game.PlayBackground";mg.__super__=X;mg.prototype=k(X.prototype,{init:function(){this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec2 aTexCoord;uniform mat4 uViewProjection;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;gl_Position = uViewProjection * vec4( aVertexPosition, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord ); gl_FragColor = col0 * uColor;}");this.vertexBuffer=new yc(512,4);this.create()},setMax:function(a,b){this.rows=b;this.columns=a;this.mInvalidBG=!0},setPos:function(a,b,d){return 0<=a&&15>a&&0<=b&&15>b&&this.mBGArray[a+15*b]!=d?(this.mInvalidBG=!0,this.mBGArray[a+15*b]=d,!0):!1},getPos:function(a,b){return 0<=a&&a<(null!=this.columns?this.columns:15)&&0<=b&&b<(null!=this.rows?
this.rows:15)?this.mBGArray[a+15*b]:!1},create:function(a){var b=this;this.mBGArray=[];for(var d=0;15>d;)for(var l=d++,c=0;15>c;){var e=c++;if(null!=a)if(l<a.length){var f=a[l];e<f.length?this.mBGArray.push("o"!=f.charAt(e)):this.mBGArray.push(!1)}else this.mBGArray.push(!1);else this.mBGArray.push(!0)}this.registerXEventListener(this.get_atlas(),"XAtlas::update",function(a){b.build()});this.build()},build:function(){this.vertexBuffer.entries=0;if(null!=this.get_atlas())for(var a=-1;16>a;)for(var b=
a++,d=-1;16>d;){var l=d++;this.getPos(b,l)?this.writeQuad(b,l,"a000000000"):this.getPos(b-1,l)&&this.getPos(b+1,l)&&this.getPos(b,l-1)&&this.getPos(b,l+1)?this.writeQuad(b,l,"a111101111"):(this.getPos(b+1,l)&&(!this.getPos(b-1,l)&&this.getPos(b,l-1)&&this.getPos(b,l+1)?this.writeQuad(b,l,"a111011111"):this.getPos(b,l+1)&&this.getPos(b+1,l)&&!this.getPos(b,l-1)&&!this.getPos(b-1,l)?this.writeQuad(b,l,"a000001111"):this.getPos(b,l-1)&&this.getPos(b+1,l)&&!this.getPos(b,l+1)&&!this.getPos(b-1,l)?this.writeQuad(b,
l,"a111001000"):this.getPos(b,l-1)||this.getPos(b,l+1)||this.writeQuad(b,l,"a000001000")),this.getPos(b-1,l)&&(!this.getPos(b+1,l)&&this.getPos(b,l-1)&&this.getPos(b,l+1)?this.writeQuad(b,l,"a111110111"):this.getPos(b,l+1)&&this.getPos(b-1,l)&&!this.getPos(b,l-1)&&!this.getPos(b+1,l)?this.writeQuad(b,l,"a000100111"):this.getPos(b,l-1)&&this.getPos(b-1,l)&&!this.getPos(b,l+1)&&!this.getPos(b+1,l)?this.writeQuad(b,l,"a111100000"):this.getPos(b,l-1)||this.getPos(b,l+1)||this.writeQuad(b,l,"a000100000")),
this.getPos(b+1,l)||this.getPos(b,l+1)||!this.getPos(b+1,l+1)||this.writeQuad(b,l,"a000000001"),this.getPos(b,l+1)&&(this.getPos(b-1,l)&&this.getPos(b+1,l)&&this.getPos(b,l+1)?this.writeQuad(b,l,"a101111111"):this.getPos(b-1,l)||this.getPos(b+1,l)||this.writeQuad(b,l,"a000000010")),this.getPos(b-1,l)||this.getPos(b,l+1)||!this.getPos(b-1,l+1)||this.writeQuad(b,l,"a000000100"),this.getPos(b+1,l)||this.getPos(b,l-1)||!this.getPos(b+1,l-1)||this.writeQuad(b,l,"a001000000"),this.getPos(b,l-1)&&(this.getPos(b-
1,l)&&this.getPos(b+1,l)&&this.getPos(b,l-1)?this.writeQuad(b,l,"a111111101"):this.getPos(b-1,l)||this.getPos(b+1,l)||this.writeQuad(b,l,"a010000000")),this.getPos(b-1,l)||this.getPos(b,l-1)||!this.getPos(b-1,l-1)||this.writeQuad(b,l,"a100000000"))}this.vertexBuffer.upload()},writeQuad:function(a,b,d){d=this.get_atlas().getTexture("field/"+d+".png");var l=1/this.get_atlas().get_texture().width,c=t.STONE_SIZE;a*=c;b=(b+0)*c;this.vertexBuffer.addEntry(4);var e=this.vertexBuffer.data;e.floatArray[e.position>>>
2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;var f=(d.get_left()+1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;f=(d.get_top()+1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;e.floatArray[e.position>>>2]=a+c;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;f=(d.get_right()-1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;f=(d.get_top()+1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b+c;
e.position+=4;f=(d.get_left()+1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;f=(d.get_bottom()-1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;e.floatArray[e.position>>>2]=a+c;e.position+=4;e.floatArray[e.position>>>2]=b+c;e.position+=4;f=(d.get_right()-1)*l;e.floatArray[e.position>>>2]=f;e.position+=4;f=(d.get_bottom()-1)*l;e.floatArray[e.position>>>2]=f;e.position+=4},draw:function(){this.mInvalidBG&&(this.build(),this.mInvalidBG=!1);var a=this.vertexBuffer.entries>>1;if(0<a){var b=this.mShader,
d=this.vertexBuffer,l=zc.getIB(a);b.mVertexBuffer=d;b.mVertexBuffer2=null;b.mIndexBuffer=l;q.gl.useProgram(b.mProgram);d.apply();null!=l&&l.apply();var c=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(c,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(c,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],this.parent.resultMatrix),c);b=this.mShader;d=q.gl;l=b.mUniformLookUp.h.uViewProjection;if(null==l){var e=b.mUniformLookUp;l=q.gl.getUniformLocation(b.mProgram,"uViewProjection");e.h.hasOwnProperty("uViewProjection")&&
E.remove(e.mKeys,"uViewProjection");e.h.uViewProjection=l;e.mKeys.push("uViewProjection")}pb.uniformMatrix4fv(d,l,!1,c);b=this.mShader;c=this.parent.resultColorR;var f=this.parent.resultColorG,g=this.parent.resultColorB,h=this.parent.resultAlpha;d=q.gl;l=b.mUniformLookUp.h.uColor;null==l&&(e=b.mUniformLookUp,l=q.gl.getUniformLocation(b.mProgram,"uColor"),e.h.hasOwnProperty("uColor")&&E.remove(e.mKeys,"uColor"),e.h.uColor=l,e.mKeys.push("uColor"));d.uniform4f(l,c,f,g,h);this.mShader.vertexAttribPointer("aVertexPosition",
2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,8);b=this.mShader;c=this.get_atlas().get_texture();d=q.gl;l=b.mUniformLookUp.h.uTex0;null==l&&(e=b.mUniformLookUp,l=q.gl.getUniformLocation(b.mProgram,"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),e.h.uTex0=l,e.mKeys.push("uTex0"));d.uniform1i(l,0);null!=c?c.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*a,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){},__class__:mg});var t=function(){this.particleRendererAdd=
new ah;this.particleRenderer=new sf;this.ploppedStones=[];this.lockPowerUps=this.mAddedJumpstarters=!1;this.mGlowList=[];this.mAmbientLoop=null;this.jumpStarterArray=[];this.mLevelStartTime=this.mSwizzleCount=0;this.mSwizzleAnimationArray=null;this.currentMove=0;this.mHighLightStones=new oe;this.animations=this.taskView=this.mPowerUpView=null;this.mPlayBackground=new mg;this.mUserAction=!1;this.mLandscape=null;this.level=-1;this.mEndLock=this.mGameOver=this.mGameOverPlopping=this.mMoving=!1;this.succeeded=
null;this.mDirty=!0;this.commands=[];this.levelEventData={};Eb.call(this);t.instance=this;this.allowHighlight=!Vd.isMobile();this.task=new ve(this);this.load("xml/playfield.xml")};f["game.PlayField"]=t;t.__name__="game.PlayField";t.__properties__={get_instance:"get_instance"};t.get_instance=function(){null==t.instance&&(t.instance=new t);return t.instance};t.setSize=function(a,b,d){if(t.COLUMNS!=a||t.ROWS!=b){t.COLUMNS=a;t.ROWS=b;t.get_instance().stones=[];a=t.get_instance().stones;b=0;for(var l=
t.COLUMNS;b<l;){++b;for(var c=0,e=2*t.ROWS;c<e;)++c,a.push(null)}}t.get_instance().mPlayBackground.create(d)};t.__super__=Eb;t.prototype=k(Eb.prototype,{onLoadComplete:function(){Eb.prototype.onLoadComplete.call(this);this.mContainer=this.find("uiContainer");this.mOverlay=this.find("uiCages");this.uiPlayField=this.find("uiPlayField");this.animations=this.find("uiAnimation");var a=this.context;this.mGlowTemplate=null!=a?a.getTemplate("tGemGlow"):null;this.get_atlas().getTexture("gems/eyes_sad.png");
this.registerXEventListener(this.task,"Task::LEVEL_SOLVED",c(this,this.onLevelSolved));t.setSize(8,8);this.find("uiFieldBG").addChild(this.mPlayBackground);null==this.mPowerUpView&&this.find("uiMenu").addChild(this.mPowerUpView=new jf);Ra.staticInit(this.mOverlay)},set_level:function(a){this.level=a;this.dispatchSimpleXEvent("NEW_LEVEL");return a},finishAnimation:function(a,b){null!=t.get_instance().taskView.getTaskView(b)&&(h.get_instance().hideScoreBoard?h.get_instance().forceMode||t.get_instance().task.solveTaskType(b):
t.get_instance().task.isTask(b)&&t.get_instance().animations.addChild(new hc(a,b)))},getField:function(a,b){return t.get_instance().mPlayBackground.getPos(a,t.ROWS-1-b)},resetField:function(){for(var a=0,b=t.COLUMNS;a<b;)for(var d=a++,l=0,c=t.ROWS;l<c;)this.removeStone(d,l++);null!=this.mContainer&&this.mContainer.removeAllChildren();this.task.reset();null!=Ra.sOverlayContainer&&Ra.sOverlayContainer.removeAllChildren();K.sStoneCounts={};Pf.sBombs=[];ie.sBallons=[];this.currentMove=0},startLevel:function(a,
b){var d=this;null!=a&&this.set_level(a);var l=sb.get_instance();l.loggedIn&&l.sendEvent(13,{startGame:this.level},!1);0!=this.scale&&this.invalidate();this.scale=0;this.levelType=b;this.mPowerUpView.set_visible(!0);l=h.get_instance().startLevel(t.get_instance().level,t.get_instance().jumpStarterArray);var c=function(l){l=d.find("uiOverlay");null!=l&&l.removeAllChildren();y.instance.setVisible("uiBtBrand",!1);ac.getLevel(a).onComplete(function(a){y.overrideVirtualScreen(2048,1536);d.playLevelData(a,
b)})},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(l.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))},getTutorialStone:function(a,b){var d=this.getStone(a,b+t.ROWS);null==d&&(d=this.getStone(a,b));return d},playLevelData:function(a,b){null==b&&(b="NORMAL");var d=this;u.get_instance().levelStart(this.level).onComplete(function(l){u.get_instance().get_tracking().customEvent("level",
"play",1);d.succeeded=null;d.resetField();d.levelType=b;d.dispatchSimpleXEvent("PlayField::LevelStart");y.instance.removeScreen(d);y.instance.addScreen(d);d.mLevelStartTime=C.timer;gc.create(a).applyToTask(d.task);d.task.solved=!1;d.mEndLock=!1;1!=d.scale&&d.invalidate();d.scale=1;d.moveIn();l=d.task.maxMoves;var c=d.jumpStarterArray.slice(0),e=ia.createGUID();d.levelEventData={maxMoves:l,jumpStarters:c,_id:e,level:d.level};u.get_instance().get_tracking().levelStart(d.level,d.levelEventData);d.recreateUIElements();
Ra.initLevel(d.task.overlay);d.fall(!0);l=d.find("uiBtSettings");null!=l&&(l.enabled=!0,l.setLocalState("enabled"));d.mAddedJumpstarters=!1;d.mDirty=!0;d.mGameOver=!1;d.mGameOverPlopping=!1;Wb.initLevel();d.checkTutorial()})},leave:function(){this.mEndLock=!1;h.get_instance().forceMoves=null;u.get_instance().get_player().storage.setEntry("totalLevelsPlayed",u.get_instance().get_player().storage.getEntry("totalLevelsPlayed",0)+1);this.dispatchSimpleXEvent("PlayField::LevelEnd");y.instance.setVisible("uiBtBrand",
!0);h.get_instance().lastLevelFinished=this.level;this.levelEventData.success=this.succeeded;this.levelEventData.movesLeft=this.task.get_moves();this.succeeded&&2>=this.task.get_moves()&&u.get_instance().get_tracking().customEvent("level","near-lost",1);this.succeeded?(this.levelEventData.stars=this.task.getStars(),this.levelEventData.score=this.task.score):h.get_instance().checkForLifes();u.get_instance().get_tracking().levelEnd(this.level,this.succeeded,this.levelEventData);if(null!=this.mAmbientLoop){if(this.mAmbientLoop.isComplete){var a=
this.mAmbientLoop.value;null!=a&&a.dispose()}else this.mAmbientLoop.onComplete(function(a){null!=a&&a.dispose()});this.mAmbientLoop=null}this.resetField();y.instance.removeScreen(this)},applyJumpStartAndStreak:function(){if(!this.mAddedJumpstarters){this.mAddedJumpstarters=!0;for(var a=[],b=0,d=this.stones;b<d.length;){var l=d[b];++b;l instanceof Xb&&!l.get_hidden()&&a.push(l)}b=0;h.get_instance().hasTemporaryBonus("tempStarterLine")&&this.jumpStarterArray.push("starterLine");h.get_instance().hasTemporaryBonus("tempStarterOrb")&&
this.jumpStarterArray.push("starterOrb");for(h.get_instance().hasTemporaryBonus("tempStarterSkunk")&&this.jumpStarterArray.push("starterSkunk");0<this.jumpStarterArray.length;){l=this.jumpStarterArray.pop();d=null;if(null!=l)switch(l){case "ad_line":case "starterLine":case "tempStarterLine":d=new Qf(.5>Math.random());break;case "ad_orb":case "starterOrb":d=new Uf(this.task.allowedGemTypes[R.random(this.task.allowedGemTypes.length)]);break;case "ad_skunk":case "starterSkunk":case "tempStarterSkunk":d=
new Te}null!=d&&0<a.length&&(l=a[R.random(a.length)],null!=l&&-1!=this.task.allowedGemTypes.indexOf(l.stoneType)&&(this.addCommand(.3+.3*++b,new hf(l,d,ef.Starter)),E.remove(a,l)))}}},recreateUIElements:function(){var a=this.find("uiMenu");if(null!=a){var b=this.taskView;null!=b&&b.dispose();a.addChild(this.taskView=new Dh,0)}},onLevelSolved:function(a){this.succeeded=!0;e.get_instance().play("sound/win.mp3",0,1,1);a=this.find("uiBtSettings");null!=a&&(a.enabled=!1,a.setLocalState("disabled"));null!=
Ze.sInstance&&Ze.sInstance.close();null!=Hc.sInstance&&Hc.sInstance.close();if(1==this.task.get_moves()){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=.5*y.SCREEN_HEIGHT;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=0;for(var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],l=0;500>l;){var c=-y.SCREEN_HEIGHT*Math.random()*2;d.x=Math.random()*y.SCREEN_WIDTH;d.y=c;c=.3*y.SCREEN_HEIGHT*(Math.random()+1);a.x=0;a.y=c;c=.01+.05*Math.random();var f=Oa.sInstance,h=3600*(Math.random()-.5),m=
3600*(Math.random()-.5),k=300>l++?760*Math.random():0;null==k&&(k=0);null==m&&(m=0);null==h&&(h=0);f.addParticle(f.mVertexBuffer2,"gems/star.png",d,15,a,b,c,.02,-1,-1,h,m,k,0)}}},scoreAnimation:function(a,b,d){null==d&&(d=-1);h.get_instance().hideFloatingPoints||this.addChild(new ff(a,b,d));this.dispatchSimpleXEvent("PlayField::SCORE",b)},screenSizeChanged:function(){if(null!=this.uiPlayField){var a=t.STONE_SIZE*t.COLUMNS,b=t.STONE_SIZE*t.ROWS,d=this.uiPlayField,l=t.STONE_SIZE*t.COLUMNS;d.width!=
l&&d.invalidate();var c=null;d.relativeWidth!=c&&d.invalidate();d.relativeWidth=c;d.width=l;d=this.uiPlayField;l=t.STONE_SIZE*t.ROWS;d.height!=l&&d.invalidate();c=null;d.relativeHeight!=c&&d.invalidate();d.relativeHeight=c;d.height=l;d=q.instance.ratio;(c=1<d)?(l=(this.uiPlayField.width+350)/Math.max(this.uiPlayField.height,7.6*t.STONE_SIZE),t.sScale=d>l?y.instance.UIScreens.resultHeight/Math.max(b,7.6*t.STONE_SIZE)*.92:y.instance.UIScreens.resultWidth/l/Math.max(b,7.6*t.STONE_SIZE)*.92,d=this.uiPlayField,
l=t.sScale,d.scale!=l&&d.invalidate(),d.scale=l,d=this.uiPlayField,0!=d.y&&d.invalidate(),d.y=0):(l=Math.max(this.uiPlayField.width,8*t.STONE_SIZE)/(this.uiPlayField.height+430),t.sScale=d<l?y.instance.UIScreens.resultWidth/Math.max(a,8*t.STONE_SIZE)*.92:y.instance.UIScreens.resultHeight*l/Math.max(a,8*t.STONE_SIZE)*.92,d=this.uiPlayField,l=t.sScale,d.scale!=l&&d.invalidate(),d.scale=l,d=this.uiPlayField,115!=d.y&&d.invalidate(),d.y=115);this.mLandscape!=c&&(this.mLandscape=c,this.recreateUIElements())}},
onPlopp:function(a){a=a.target;this.dispatchSimpleXEvent("Stone::PLOPP",a);this.releaseXEventListener(a,"Stone::PLOPP",c(this,this.onPlopp))},addStone:function(a,b,d){this.registerXEventListener(d,"Stone::PLOPP",c(this,this.onPlopp));d.setPos(a,b);this.mContainer.addChild(d,0);d.setStone(a,b,d);this.mDirty=!0;return d},setStone:function(a,b,d){0<=a&&a<t.COLUMNS&&0<=b&&b<2*t.ROWS&&(this.stones[a+b*t.COLUMNS]=d,this.mDirty=!0)},getStone:function(a,b){return 0<=a&&a<t.COLUMNS&&0<=b&&b<2*t.ROWS?this.stones[a+
b*t.COLUMNS]:null},getRandomStoneOfType:function(a){for(var b=0,d=this.stones;b<d.length;){var l=d[b];++b;if(null!=l&&l.stoneType==a)return l}return null},removeStone:function(a,b){var d=this.getStone(a,b);null!=d&&(d.get_valid()&&this.ploppedStones.push(d),this.setStone(a,b,null))},rearrangeColumn:function(a,b){null==b&&(b=!1);for(var d=1,l=2*t.ROWS;d<l;){var c=this.getStone(a,d++);null==c||c.parent!=this.mContainer&&!b||this.mContainer.addChild(c)}},rearrange:function(a){null==a&&(a=!1);for(var b=
0,d=t.COLUMNS;b<d;)this.rearrangeColumn(b++,a)},getNewGem:function(){if(null!=this.task.spawnObjects&&0<this.task.spawnObjects.length)for(var a=0,b=this.task.spawnObjects;a<b.length;){var d=b[a];++a;if(Math.random()<=d.factor)switch(d.stoneType){case "BALLON":if(ie.sBallons.length<d.maxCount)return new ie(d.params);break;case "BOMB":if(Pf.sBombs.length<d.maxCount)return new Pf(d.params)}}return new Xb},fall:function(a){null==a&&(a=!1);for(var b=1,d=t.ROWS;b<d;)for(var l=b++,c=0,e=t.COLUMNS;c<e;){var f=
this.getStone(c++,l);null!=f&&f.fall(a)}b=0;for(d=t.COLUMNS;b<d;){l=b++;c=f=0;for(e=t.ROWS;c<e;){var g=t.ROWS-c++-1;if(null!=this.getStone(l,g))break;this.getField(l,g)&&++f}c=0;for(e=f;c<e;)f=c++,null==this.getStone(l,f+t.ROWS)&&this.addStone(l,f+t.ROWS,this.getNewGem()).fall(a)}},addCommand:function(a,b,d){null==d&&(d=!1);var l=C.timer;d&&0<this.commands.length&&(l=this.commands[this.commands.length-1].get_startTime());b.set_startTime(l+a);this.commands.push(b)},update:function(){var a=this;if(null!=
this.stones){this.screenSizeChanged();if(null!=rc.sInstance||this.lockPowerUps){var b=t.COLUMNS*t.STONE_SIZE,d=t.ROWS*t.STONE_SIZE,l=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];c.x=0;c.y=0;for(var e=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],f=0;2>f;){++f;switch(R.random(4)){case 0:e.x=Math.random()*(b+40);e.y=-20;l.x=0;l.y=60;break;case 1:e.x=Math.random()*(b+40);e.y=d+20;l.x=0;l.y=-60;break;case 2:var m=Math.random()*(d+40);e.x=b+20;e.y=m;l.x=-60;l.y=0;break;
case 3:m=Math.random()*(d+40),e.x=-20,e.y=m,l.x=60,l.y=0}m=this.particleRenderer;var k=20+10*Math.random(),n=160*(Math.random()-.5),q=160*(Math.random()-.5),r=260*Math.random();null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);m.addParticle(m.mVertexBuffer,"gems/star.png",e,.9,l,c,k,5,-1,16777215,n,q,r,0)}}for(;0<this.ploppedStones.length;)this.ploppedStones.pop().dispose();if(null!=this.mSwizzleAnimationArray&&.2>Math.random()){for(;5<this.mSwizzleAnimationArray.length;)this.mSwizzleAnimationArray.shift().unsetHighlight();
b=this.getStone(R.random(t.COLUMNS),R.random(t.ROWS));null!=b&&b.touchable&&(b.setHighlight(),this.mSwizzleAnimationArray.push(b))}this.checkCommands();this.mMoving=!1;for(b=K.sStones.iterator();b.hasNext();)if(b.next().state!=zb.NORMAL){this.mMoving=!0;break}if(0==this.commands.length){this.mUserAction&&(this.mSwizzleCount=0,Wb.checkBlob(),zd.clear(),this.dispatchSimpleXEvent("USER_ACTION"));if(this.mDirty&&(this.mDirty=!1,this.rearrange(),this.fall(),this.checkGroups(),!this.mMoving))for(b=K.sStones.iterator();b.hasNext();)if(b.next().state!=
zb.NORMAL){this.mMoving=!0;break}this.mUserAction&&(this.mUserAction=!1,this.checkTutorial());if(!this.mEndLock&&(null==this.succeeded&&0>=this.task.get_moves()&&0!=h.get_instance().forceMoves&&!this.mMoving&&!this.task.solved&&0==hc.sAnimationCount&&(this.succeeded=!1),0==this.commands.length&&!this.mGameOver&&null!=this.succeeded&&!this.mMoving))if(!this.succeeded&&90<=100-this.task.progress&&u.get_instance().get_tracking().customEvent("level","almost-win",1),this.mGameOverPlopping||1!=this.succeeded)if(this.mGameOver=
!0,0==this.succeeded){f=0;for(d=this.stones;f<d.length;)b=d[f],++f,b instanceof Xb&&V.__cast(b,Xb).sad();c=sb.get_instance();c.loggedIn&&c.sendEvent(13,{endGame:!1},!1);this.mEndLock=!0;u.get_instance().levelFailed(t.get_instance().level,{reason:"dead",score:this.task.score}).onComplete(function(a){h.get_instance().forceMode||y.instance.addScreen(new oh,!1)}).onError(function(b){a.leave()})}else h.get_instance().forceMode?(u.get_instance().levelSuccess(this.level,this.task.score),h.get_instance().levelWon(this.level,
this.task.getStars(),this.task.score)):(c=sb.get_instance(),c.loggedIn&&c.sendEvent(13,{endGame:!0},!1),y.instance.addScreen(new Ni(this.task.score,this.task.getStars(),this.levelType),!1));else this.ploppAll(.7),this.mGameOverPlopping=!0}Eb.prototype.update.call(this)}},revive:function(a){for(var b=this,d=0,l=this.stones;d<l.length;){var c=l[d];++d;c instanceof Xb&&V.__cast(c,Xb).sad(!1)}this.succeeded=null;this.task.revives+=1;this.mGameOver=!1;u.get_instance().levelRevived(this.level,{moves:a});
d=this.levelEventData;l=w.isObject(d)&&Object.prototype.hasOwnProperty.call(d,"revives");this.levelEventData.revives=((l?w.field(d,"revives"):0)|0)+1;this.addCommand(2.5,new Ta);a=new Ke(a);this.animations.addChild(a);this.registerXEventListener(a,"XEventDispatcher::dispose",function(a){return b.mEndLock=!1});this.dispatchSimpleXEvent("PlayField::REVIVE")},ploppAll:function(a){null==a&&(a=0);this.shake();for(var b=0,d=t.COLUMNS;b<d;)for(var l=b++,c=0,e=t.ROWS;c<e;){var f=c++,g=this.getStone(l,t.ROWS-
f-1);null!=g&&this.addCommand(.03*(l+f*t.ROWS)+a,new ed(g))}},checkGroups:function(){for(var a=[],b=new Yb,d=0,l=this.stones;d<l.length;){var c=l[d];++d;null!=c&&(b.h[c.id]=c)}d=0;for(l=t.COLUMNS;d<l;)for(var e=d++,f=0,g=2*t.ROWS;f<g;){var h=this.getStone(e,f++);if(null!=h&&!h.get_hidden()&&b.h.hasOwnProperty(h.id)){b.remove(h.id);for(var m=new gf([h]),k=0;k<m.data.length;){c=m.data[k++];for(var n=0,q=c.getNeightbours();n<q.length;){var r=q[n];++n;r.get_valid();r.get_valid()&&!r.get_hidden()&&r.isSame(c)&&
b.h.hasOwnProperty(r.id)&&(m.data.push(r),b.remove(r.id))}}h.gem&&1<m.data.length&&a.push(m);if(1<m.data.length)for(r=m.iterator();r.hasNext();)r.next().setGroup(m);else h.setGroup(null),m.dispose()}}if(0==a.length){a=[];d=0;for(l=this.stones;d<l.length;)if(f=l[d],++d,f instanceof Xb)a.push(f);else if(f instanceof pc&&null==Ra.getOverlay(f.column,f.row))return;for(d=m=0;d<a.length;){f=a[d];++d;E.remove(a,f);b=!1;for(e=[f];0<e.length;)for(l=0,f=e.pop().getNeightbours();l<f.length;)r=f[l],++l,r instanceof
Xb&&(g=V.__cast(r,Xb),-1!=a.indexOf(g)&&(e.push(g),E.remove(a,g),b=!0));b&&++m}0<m&&(7>this.mSwizzleCount?this.swizzle():this.handleSwizzleLock())}else if(null==y.forceElements){l=null;for(d=0;d<a.length;)if(m=a[d],++d,null==l||l.data.length<m.data.length||m.hasSpecial())l=m;l.pulse()}},handleSwizzleLock:function(){for(var a=this.task.allowedGemTypes[R.random(this.task.allowedGemTypes.length)],b=0,d=t.COLUMNS;b<d;)for(var l=b++,c=0,e=t.ROWS;c<e;){var f=c++,g=this.getStone(l,f);null!=g&&g.gem&&null!=
g&&g.stoneType!=a&&(this.removeStone(l,f),this.addStone(l,f,new Xb(a)))}},swizzle:function(){for(var a=[],b=[],d=0,l=t.COLUMNS;d<l;)for(var c=d++,e=0,f=t.ROWS;e<f;){var g=e++,h=this.getStone(c,g);null!=h&&(h.gem||h instanceof pc)&&(a.push(c+g*t.COLUMNS),h.state=zb.NORMAL,b.push(h))}for(d=0;d<b.length;)l=b[d++],c=Math.floor(Math.random()*a.length)|0,e=a[c],a.splice(c,1),this.addStone(e%t.COLUMNS,Math.floor(e/t.COLUMNS)|0,l);this.mDirty=!0;++this.mSwizzleCount;this.rearrange()},checkCommands:function(){if(0<
this.commands.length){for(var a=0;a<this.commands.length;){var b=this.commands[a];b.get_startTime()<C.timer?(b.execute(),E.remove(this.commands,b)):++a}0==this.commands.length&&this.dispatchSimpleXEvent("COMMAND_STACK_EMPTY")}},get_locked:function(){return 0<this.commands.length||0>=this.task.get_moves()&&0!=h.get_instance().forceMoves||this.task.solved?!0:this.mMoving},draw:function(){Eb.prototype.draw.call(this);null!=this.uiPlayField&&(O.fromM2D(this.particleRenderer.matrix,this.uiPlayField.resultMatrix),
this.particleRenderer.render(),O.copyFrom(this.particleRendererAdd.matrix,this.particleRenderer.matrix),this.particleRendererAdd.render())},checkTutorial:function(){h.get_instance().lastLevelFinished!=t.get_instance().level?bc.get_instance().checkTutorial(this.level,this.currentMove)||this.applyJumpStartAndStreak():this.applyJumpStartAndStreak()},userAction:function(){++this.currentMove;this.mUserAction=!0},shake:function(){this.addAnimation(new Fk)},dragOver:function(a,b,d){if(a instanceof K&&this.allowHighlight)switch(this.unhighlightStones(),
b){case "columnHit":b=0;for(var l=t.ROWS;b<l;){var c=this.getStone(Math.round(a.column+d.x),b++);null!=c&&c.get_affectedByPowerUp()&&(c.setHighlight(),this.mHighLightStones.set(c,c))}break;case "rowHit":b=0;for(l=t.COLUMNS;b<l;)c=this.getStone(b++,Math.round(a.row+(a instanceof ab?1:0)-d.y)),null!=c&&c.get_affectedByPowerUp()&&(c.setHighlight(),this.mHighLightStones.set(c,c));break;case "singleHit":a.get_affectedByPowerUp()&&(a.setHighlight(),this.mHighLightStones.set(a,a))}},usePowerUp:function(a){var b=
null;switch(a){case "columnHit":0<h.get_instance().forceColumnBoost&&(b=h.get_instance(),--b.forceColumnBoost,b=oa.withValue(!0));break;case "rowHit":0<h.get_instance().forceRowBoost&&(b=h.get_instance(),--b.forceRowBoost,b=oa.withValue(!0));break;case "singleHit":0<h.get_instance().forceSingleBoost&&(b=h.get_instance(),--b.forceSingleBoost,b=oa.withValue(!0));break;case "swizzle":0<h.get_instance().forceSwizzleBoost&&(b=h.get_instance(),--b.forceSwizzleBoost,b=oa.withValue(!0))}if(null!=b){if(null!=
this.mPowerUpView)this.mPowerUpView.onUpdateText();return b}zd.clear();return h.get_instance().usePowerup(a)},drop:function(a,b,d){var l=this;for(this.unhighlightStones();null!=this.mSwizzleAnimationArray&&0<this.mSwizzleAnimationArray.length;)this.mSwizzleAnimationArray.pop().unsetHighlight();this.mSwizzleAnimationArray=null;if(a instanceof K){var c=this.levelEventData,f=[],h=w.isObject(c)&&Object.prototype.hasOwnProperty.call(c,"powerUps");c=this.levelEventData.powerUps=h?w.field(c,"powerUps"):
f;switch(b){case "columnHit":this.lockPowerUps=!0;var m=new me;K.sTouchObject=null;c.push({move:this.task.get_moves(),name:"COLUMN_HIT"});var k=this.usePowerUp(b),n=function(b){if(b){if(null!=a){var c=a.x+a.resultWidth/2,p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];p.x=c;p.y=t.ROWS*t.STONE_SIZE*0;var f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f.x=0;f.y=2E3;c=l.particleRenderer;c.addParticle(c.mVertexBuffer,"dynamic/column.png",p,1,f,g.ZERO,60,60,-1,-1,0,0,0,0);f.x=0;f.y=-10;var D=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];b=0;for(var h=30;b<h;){var xa=360*Math.random();f.x=200*(Math.random()-.5);f.y=0;c=p.x+50*(Math.random()-.5);var k=p.y+50*(Math.random()-.5);D.x=c;D.y=k;c=l.particleRenderer;k=g.ZERO;var Od=xa,n=xa+40*(Math.random()-.5),q=.1*b++/3;null==q&&(q=0);null==n&&(n=0);null==xa&&(Od=0);c.addParticle(c.mVertexBuffer,"particles/snow.png",D,.7,f,k,50,150,-1,328965,Od,n,0,q);p.y+=200*t.sScale/3}}e.get_instance().play("sound/drill.mp3",0,1,1);b=0;for(h=t.ROWS;b<h;)p=b++,f=l.getStone(Math.round(a.column+
d.x),t.ROWS-p-1),(null==f||f.get_affectedByPowerUp())&&l.addCommand(.05*p,new cf(Math.round(a.column+d.x),t.ROWS-p-1,m));l.fall()}l.lockPowerUps=!1},q=function(a){l.lockPowerUps=!1},r=this;this.register(k.onComplete(function(a){r.unregister(k);null!=n&&n(a)}).onError(function(a){r.unregister(k);null!=q&&q(a)}));break;case "rowHit":this.lockPowerUps=!0;c.push({move:this.task.get_moves(),name:"ROW_HIT"});K.sTouchObject=null;var u=this.usePowerUp(b),M=function(b){if(b){if(null!=a){var c=t.ROWS*t.STONE_SIZE+
a.y-a.resultHeight/2,p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];p.x=t.STONE_SIZE*t.COLUMNS;p.y=c;var f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f.x=-2E3;f.y=0;c=l.particleRenderer;c.addParticle(c.mVertexBuffer,"dynamic/row.png",p,1,f,g.ZERO,60,60,-1,-1,0,0,0,0);f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f.x=0;f.y=-40;var D=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b=0;for(var h=30;b<h;){var m=360*Math.random(),xa=p.x;c=p.y+30*(Math.random()-.5);D.x=xa;D.y=c;c=l.particleRenderer;xa=g.ZERO;var k=
m,Od=m+40*(Math.random()-.5),n=.1*b++/3;null==n&&(n=0);null==Od&&(Od=0);null==m&&(k=0);c.addParticle(c.mVertexBuffer,"particles/smelly.png",D,1,xa,f,0,200,-1,16777215,k,Od,0,n);p.x-=200*t.sScale/3}}e.get_instance().play("sound/rocket.mp3",0,.5,1);p=new me;b=0;for(h=t.COLUMNS;b<h;)f=b++,D=l.getStone(f,Math.round(a.row+(a instanceof ab?1:0)-d.y)),(null==D||D.get_affectedByPowerUp())&&l.addCommand(.05*(t.COLUMNS-f-1),new cf(f,Math.round(a.row+(a instanceof ab?1:0)-d.y),p));l.fall()}l.lockPowerUps=!1},
ea=function(a){l.lockPowerUps=!1},y=this;this.register(u.onComplete(function(a){y.unregister(u);null!=M&&M(a)}).onError(function(a){y.unregister(u);null!=ea&&ea(a)}));break;case "singleHit":if(null!=a&&a.get_affectedByPowerUp()){c.push({move:this.task.get_moves(),name:"SINGLE_HIT"});this.lockPowerUps=!0;K.sTouchObject=null;var A=this.usePowerUp(b),C=function(b){b&&(e.get_instance().play("sound/net.mp3",0,1,1),a.forcePlopp(new me),l.fall());l.lockPowerUps=!1},v=function(a){l.lockPowerUps=!1},G=this;
this.register(A.onComplete(function(a){G.unregister(A);null!=C&&C(a)}).onError(function(a){G.unregister(A);null!=v&&v(a)}))}break;case "swizzle":K.sTouchObject=null;this.lockPowerUps=!0;c.push({move:this.task.get_moves(),name:"SWIZZLE"});var E=this.usePowerUp(b),F=function(a){a&&(e.get_instance().play("sound/dice.mp3",0,.5,1),l.swizzle());l.lockPowerUps=!1},H=function(a){l.lockPowerUps=!1},x=this;this.register(E.onComplete(function(a){x.unregister(E);null!=F&&F(a)}).onError(function(a){x.unregister(E);
null!=H&&H(a)}))}}},unhighlightStones:function(){if(this.allowHighlight){for(var a=this.mHighLightStones.iterator();a.hasNext();){var b=a.next();b.unsetHighlight();this.mHighLightStones.remove(b)}if(null!=this.mSwizzleAnimationArray)for(;5<this.mSwizzleAnimationArray.length;)this.mSwizzleAnimationArray.pop().unsetHighlight()}},hasAdJumpstarter:function(){for(var a=0,b=this.jumpStarterArray;a<b.length;)switch(b[a++]){case "ad_line":case "ad_orb":case "ad_skunk":return!0}return!1},setJumpStarter:function(a,
b){return b&&-1==this.jumpStarterArray.indexOf(a)?(this.jumpStarterArray.push(a),!0):b?!1:!E.remove(this.jumpStarterArray,a)},hasJumpStarter:function(a){return-1!=this.jumpStarterArray.indexOf(a)},checkPowerUp:function(a){if(null!=rc.sInstance)return rc.sInstance.dispose(),!1;if(0>=this.getLocalResource(a))return h.get_instance().hideShop||y.instance.addScreen(new sd(a)),!1;this.find("uiPowerUpOverlay").addChild(new rc(a));"selectHammer"==bc.get_instance().helpState&&(bc.get_instance().showHelp([this.getStone(3,
1)],"SID_TUT_USE_POWER_UP"),bc.get_instance().helpState="useHammer");return!0},getLocalResource:function(a){switch(a){case "columnHit":if(null!=h.get_instance().forceColumnBoost)return h.get_instance().forceColumnBoost;break;case "rowHit":if(null!=h.get_instance().forceRowBoost)return h.get_instance().forceRowBoost;break;case "singleHit":if(null!=h.get_instance().forceSingleBoost)return h.get_instance().forceSingleBoost;break;case "swizzle":if(null!=h.get_instance().forceSwizzleBoost)return h.get_instance().forceSwizzleBoost}return h.get_instance().getResource(a)|
0},getGemGlow:function(){return 0<this.mGlowList.length?this.mGlowList.pop():this.mGlowTemplate.createInstance()},createSettings:function(a){u.get_instance().buttonAction("button:ingame:pause");Eb.prototype.createSettings.call(this,a)},recycleGemGlow:function(a){this.mGlowList.push(a)},blubbStoneType:function(a){for(var b=0,d=this.stones;b<d.length;){var l=d[b];++b;(null!=l?l.stoneType:null)==a&&l.addAnimation(new yd)}},onButtonClick:function(a){switch(a.name){case "uiBtColumnPowerUp":this.lockPowerUps||
null!=this.succeeded||this.checkPowerUp("columnHit");break;case "uiBtHammerPowerUp":this.lockPowerUps||null!=this.succeeded||this.checkPowerUp("singleHit");break;case "uiBtQuitLevel":bc.get_instance().showHelp(null);this.closeSettings();"EDITOR"==this.levelType||"SERVER"==this.levelType?this.leave():y.instance.addScreen(new Ze);break;case "uiBtRowPowerUp":this.lockPowerUps||null!=this.succeeded||this.checkPowerUp("rowHit");break;case "uiBtSwizzlePowerUp":!this.lockPowerUps&&null==this.succeeded&&
this.checkPowerUp("swizzle")&&(this.mSwizzleAnimationArray=[]);break;case "uiBtTask":this.blubbStoneType(a.data.type);break;default:Eb.prototype.onButtonClick.call(this,a)}},__class__:t,__properties__:k(Eb.prototype.__properties__,{set_level:"set_level",get_locked:"get_locked"})});var Ob=function(a,b){this.column=a;this.row=b};f["game.PloppAndInteractCommand"]=Ob;Ob.__name__="game.PloppAndInteractCommand";Ob.__super__=Ta;Ob.prototype=k(Ta.prototype,{execute:function(){var a=t.get_instance().getStone(this.column,
this.row);null!=a&&null!=a.get_playField()&&null!=K.sStones.h.__keys__[a.__id__]&&(a.interactWithNeighbours(),a.plopp())},__class__:Ob});var ed=function(a,b){this.stone=a;this.interact=b};f["game.PloppStoneCommand"]=ed;ed.__name__="game.PloppStoneCommand";ed.__super__=Ta;ed.prototype=k(Ta.prototype,{execute:function(){null!=this.stone&&"UNDEFINED"!=this.stone.stoneType&&null!=K.sStones.h.__keys__[this.stone.__id__]&&this.stone.kick(this.interact);this.stone=this.interact=null},__class__:ed});var rc=
function(a){this.mOldOffset=new g;this.mOffset=new g;this.delta=0;this.lastElement=this.currentElement=null;ca.call(this);rc.sInstance=this;1!=this.relativeHeight&&this.invalidate();this.relativeHeight=1;1!=this.relativeWidth&&this.invalidate();this.relativeWidth=1;q.window.set_cursor(Gc.MOVE);this.resource=a;var b=this.xdo=new G;200!=b.width&&b.invalidate();var d=null;b.relativeWidth!=d&&b.invalidate();b.relativeWidth=d;b.width=200;b=this.xdo;200!=b.height&&b.invalidate();d=null;b.relativeHeight!=
d&&b.invalidate();b.relativeHeight=d;b.height=200;this.xdo.set_image(this.getIcon(a));this.addChild(this.xdo);this.enableParticles(!0);b=this.xdo;d=S.get_instance().x*y.getScreenScaleX()-100;b.x!=d&&b.invalidate();b.x=d;b=this.xdo;d=S.get_instance().y*y.getScreenScaleY()-100;b.y!=d&&b.invalidate();b.y=d;this.registerXEventListener(S.get_instance(),"MOVE_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"DOWN_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),
"UP_EVENT",c(this,this.onTouchEvent))};f["game.PowerUpAction"]=rc;rc.__name__="game.PowerUpAction";rc.__super__=ca;rc.prototype=k(ca.prototype,{getIcon:function(a){switch(a){case "columnHit":return"dynamic/column.png";case "rowHit":return"dynamic/row.png";case "singleHit":return"dynamic/hammer.png";case "swizzle":return"dynamic/swizzle.png"}return""},onTouchEvent:function(a){switch(a.type){case "DOWN_EVENT":null!=y.forceElements&&-1==y.forceElements.indexOf(y.sLastElement)||this.drop();break;case "MOVE_EVENT":var b=
-this.xdo.resultWidth/2,d=a.x*y.getScreenScaleX(),l=a.y*y.getScreenScaleY();this.delta+=Math.abs(this.xdo.y-(l-b))+Math.abs(this.xdo.x-(d-b));var c=this.xdo,e=d+b;c.x!=e&&c.invalidate();c.x=e;c=this.xdo;e=l+b;c.y!=e&&c.invalidate();c.y=e;if(null!=y.sLastElement){c=y.sLastElement;b=this.mOffset;if(null!=c.resultMatrix){e=c.resultMatrix;c=Ba.sTempM2D[++Ba.sTempM2DIdx%Ba.sTempM2D.length];null!=e&&Ba.copyFrom(c,e);e=1/(c[0]*(c[4]*c[8]-c[7]*c[5])-c[1]*(c[3]*c[8]-c[5]*c[6])+c[2]*(c[3]*c[7]-c[4]*c[6]));
var f=-(c[1]*c[8]-c[2]*c[7])*e,g=(c[1]*c[5]-c[2]*c[4])*e,h=-(c[3]*c[8]-c[5]*c[6])*e,m=(c[0]*c[8]-c[2]*c[6])*e,k=-(c[0]*c[5]-c[3]*c[2])*e,n=(c[3]*c[7]-c[6]*c[4])*e,q=-(c[0]*c[7]-c[6]*c[1])*e,r=(c[0]*c[4]-c[3]*c[1])*e;c[0]=(c[4]*c[8]-c[7]*c[5])*e;c[3]=h;c[6]=n;c[1]=f;c[4]=m;c[7]=q;c[2]=g;c[5]=k;c[8]=r;b.x=d;b.y=l;b.multiplyMatrix(c)}c=this.mOffset;l=Math.floor(this.mOffset.y/100);c.x=Math.floor(this.mOffset.x/100);c.y=l}}this.currentElement==y.sLastElement?(c=this.mOldOffset,d=this.mOffset,d=!(d.x==
c.x&&d.y==c.y)):d=!0;d&&"UP_EVENT"!=a.type&&(c=this.mOldOffset,d=this.mOffset,c.x=d.x,c.y=d.y,c.w=d.w,this.lastElement=this.currentElement,this.currentElement=y.sLastElement,y.instance.dispatchSimpleXEvent("DRAG_OVER_EVENT",this),t.get_instance().dragOver(this.currentElement,this.resource,this.mOffset))},drop:function(){this.target=y.sLastElement;t.get_instance().drop(this.target,this.resource,this.mOffset);Tc.dispose(this)},enableParticles:function(a){var b=null;switch(this.resource){case "columnHit":b=
"uiBtColumnPowerUp";break;case "rowHit":b="uiBtRowPowerUp";break;case "singleHit":b="uiBtHammerPowerUp";break;case "swizzle":b="uiBtSwizzlePowerUp"}b=y.instance.find(b);null!=b&&null!=b.preParticleEmitter&&(b.preParticleEmitter.numParticlesPerSecond=a?100:0)},dispose:function(){this.lastElement=this.currentElement=this.target=null;var a=this.xdo;null!=a&&a.dispose();this.xdo=null;this.enableParticles(!1);this.mOldOffset=this.mOffset=rc.sInstance=null;q.window.set_cursor(Gc.DEFAULT);ca.prototype.dispose.call(this)},
__class__:rc});var jf=function(){G.call(this);var a=t.get_instance().context;a=null!=a?a.getTemplate("tTools"):null;null!=a&&a.applyTo(this);this.registerXEventListener(h.get_instance(),"RESOURCE_UPDATE",c(this,this.onUpdateText));this.onUpdateText();this.setVisible("uiBtSettings",!h.get_instance().hideSettings)};f["game.PowerUpView"]=jf;jf.__name__="game.PowerUpView";jf.__super__=G;jf.prototype=k(G.prototype,{onUpdateText:function(a){this.find("uiBtHammerPowerUp").setText("uiTxtAmount",N.number(t.get_instance().getLocalResource("singleHit")));
this.find("uiBtColumnPowerUp").setText("uiTxtAmount",N.number(t.get_instance().getLocalResource("columnHit")));this.find("uiBtRowPowerUp").setText("uiTxtAmount",N.number(t.get_instance().getLocalResource("rowHit")));this.find("uiBtSwizzlePowerUp").setText("uiTxtAmount",N.number(t.get_instance().getLocalResource("swizzle")));this.setVisible("uiImgContent",("NORMAL"!=t.get_instance().levelType||8<=t.get_instance().level)&&!h.get_instance().hideBoost)},__class__:jf});var ef=ra["game.AnimationType"]=
{__ename__:"game.AnimationType",__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"game.AnimationType",toString:r},Starter:{_hx_name:"Starter",_hx_index:1,__enum__:"game.AnimationType",toString:r},Streak:{_hx_name:"Streak",_hx_index:2,__enum__:"game.AnimationType",toString:r}};ef.__constructs__=[ef.None,ef.Starter,ef.Streak];var hf=function(a,b,d){this.stone=a;this.newStone=b;this.animationType=d};f["game.ReplaceStoneCommand"]=hf;hf.__name__="game.ReplaceStoneCommand";hf.__super__=Ta;
hf.prototype=k(Ta.prototype,{execute:function(){if(null!=this.stone&&this.stone.get_valid()&&null!=K.sStones.h.__keys__[this.stone.__id__]){var a=this.stone.column,b=this.stone.row,d=this.stone.getMiddle(),l=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];switch(this.animationType._hx_index){case 1:var e=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];e.x=0;for(var f=e.y=0;25>f;){++f;l.x=2*Math.random()-1;l.y=2*Math.random()-1;var h=100*t.sScale;l.x*=h;l.y*=h;g.MAD(c,
d,l,.3);h=Oa.sInstance;var m=.5+.5*Math.random(),k=4*(360*Math.random()-720),n=4*(360*Math.random()-720);null==n&&(n=0);null==k&&(k=0);h.addParticle(h.mVertexBuffer,"gems/bg_glow.png",c,m,l,e,.05,.01,-1,16777215,k,n,0,0)}}this.stone.dispose();this.stone=null;this.newStone.get_valid()&&(t.get_instance().addStone(a,b,this.newStone),this.newStone.resetAnimation())}else null!=this.newStone&&(e=t.get_instance().task,Object.prototype.hasOwnProperty.call(e.tasks.h,this.newStone.stoneType)&&(a=t.get_instance().task.getOrCreateTask(this.newStone.stoneType),
a.set_amount(a.get_amount()-1)));this.newStone=null},__class__:hf});var yj=function(a,b,d){this.mAnimationStart=0;this.animationTarget=new g(0,0);this.animationStart=new g(0,0);this.duration=1;G.call(this);++hc.sAnimationCount;this.duration=1;var l=this.animationStart;a=a.getMiddle();l.x=a.x;l.y=a.y;l.w=a.w;this.mStoneType=b;1!=this.height&&this.invalidate();l=null;this.relativeHeight!=l&&this.invalidate();this.relativeHeight=l;l=this.height=1;this.width!=l&&this.invalidate();null!=this.relativeWidth&&
this.invalidate();this.relativeWidth=null;this.width=l;switch(b){case "GEM_BLUE":case "GEM_GREEN":case "GEM_PURPLE":case "GEM_RED":case "GEM_WHITE":case "GEM_YELLOW":b=qa.createInstanceFromString('<image x="-50" y="-50" width="100" height="100" image="'+K.getIcon(this.mStoneType)+'" template="tFace"/> ',t.get_instance().context);break;default:b=qa.createInstanceFromString('<image x="-50" y="-50" width="100" height="100" image="'+K.getIcon(this.mStoneType)+'"/>')}l=.7*t.sScale;b.scale!=l&&b.invalidate();
b.scale=l;this.addChild(b);hc.sAnimationDelay<C.timer?(this.mAnimationStart=C.timer,hc.sAnimationDelay=C.timer+.1):(this.mAnimationStart=hc.sAnimationDelay,hc.sAnimationDelay+=hc.sAnimationDelay>C.timer+.5?.05:.1);this.mTarget=d;null!=this.mTarget&&(l=this.animationTarget,a=this.mTarget.find("uiImgRockInfo").getMiddle(),l.x=a.x,l.y=a.y,l.w=a.w)};f["game.RockFinishedAnimation"]=yj;yj.__name__="game.RockFinishedAnimation";yj.__super__=G;yj.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-
this.mAnimationStart)/this.duration,0,1),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=y.SCREEN_WIDTH/2;d.y=y.SCREEN_HEIGHT/2;g.BEZIER(b,this.animationStart,d,this.animationTarget,a);d=b.x;this.x!=d&&this.invalidate();this.x=d;d=b.y;this.y!=d&&this.invalidate();this.y=d;d=1+Math.pow(Math.sin(a*Math.PI),2);this.scale!=d&&this.invalidate();this.scale=d;G.prototype.update.call(this);1<=a&&(a=this.mTarget.find("uiImgRockInfo"),this.dispatchSimpleXEvent("RockFinishedAnimation::FINISHED"),
null!=a&&a.pulse(),this.dispose())},dispose:function(){--hc.sAnimationCount;this.mTarget=this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:yj});var ff=function(a,b,d){null==d&&(d=-1);this.mAnimationStartTick=0;this.animationTarget=new g(0,0);this.animationStart=new g(0,0);this.duration=1;G.call(this);this.duration=1.5;var l=this.animationStart;l.x=a.x;l.y=a.y;l.w=a.w;l=this.animationTarget;a=this.animationStart;l.x=a.x;l.y=a.y;l.w=a.w;this.animationTarget.y-=
200;1!=this.height&&this.invalidate();l=null;this.relativeHeight!=l&&this.invalidate();this.relativeHeight=l;l=this.height=1;this.width!=l&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=l;b=qa.createInstanceFromString('<text x="-100" y="-25" width="200" height="50" text="+'+N.number(b)+'" size="60.0" halignText="center" valignText="center" shadow="true" />');l=.7*t.sScale;b.scale!=l&&b.invalidate();b.scale=l;l=-1!=d?d:16777215;d=U.toFloat(l>>>16&
255)/255;a=U.toFloat(l>>>8&255)/255;var c=U.toFloat(l&255)/255;if(d!=b.colorR||a!=b.colorG||c!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=a&&b.invalidate(),b.colorG=a,b.colorB!=c&&b.invalidate(),b.colorB=c,b.invalidate();b.color=l;this.addChild(b);this.mAnimationStartTick=C.timer};f["game.ScoreAnimation"]=ff;ff.__name__="game.ScoreAnimation";ff.__super__=G;ff.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-this.mAnimationStartTick)/this.duration,0,1),b=g.LERP(g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen],this.animationStart,this.animationTarget,a*a),d=b.x;this.x!=d&&this.invalidate();this.x=d;d=b.y;this.y!=d&&this.invalidate();this.y=d;d=1-a;this.alpha!=d&&this.invalidate();this.alpha=d;d=1+a*a*.5;this.scale!=d&&this.invalidate();this.scale=d;G.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:ff});var gf=function(a){this.markTimer=0;this.marked=!1;this.data=null!=a?a:[]};f["game.StoneGroup"]=
gf;gf.__name__="game.StoneGroup";gf.prototype={pulse:function(){this.marked=!0;this.markTimer=C.timer+2+ia.fClamp(t.get_instance().level-10,0,8)},hasSpecial:function(){for(var a=0,b=this.data;a<b.length;)if(b[a++]instanceof pc)return!0;return!1},iterator:function(){return new wg(this.data)},dispose:function(){for(;0<this.data.length;)this.data.pop()},__class__:gf};var ri=function(a,b){this.delayed=this.max=this.mAmount=0;this.finished=!1;this.mXEventListener=null;this.type=a;this.mAmount=this.max=
b};f["game.Task"]=ri;ri.__name__="game.Task";ri.__super__=H;ri.prototype=k(H.prototype,{addAmount:function(a,b){null==b&&(b=!1);this.mAmount+=a;var d=this.max,l=this.mAmount;this.max=l>d?l:d;b&&(this.delayed-=a);this.checkAmount()},get_amount:function(){return this.mAmount+this.delayed},set_amount:function(a){if(this.mAmount!=a){this.mAmount=a;var b=this.max,d=this.mAmount;this.max=d>b?d:b;this.checkAmount()}return a},checkAmount:function(){this.finished!=0>=this.mAmount&&(this.finished=0>=this.mAmount,
this.dispatchSimpleXEvent("Task::TASK_SOLVED"));this.dispatchSimpleXEvent("Task::TASK_UPDATE")},consume:function(a){null==a&&(a=1);this.delayed-=a;this.checkAmount()},__class__:ri,__properties__:{set_amount:"set_amount",get_amount:"get_amount"}});var Rd=function(a){this.mOldCount=-1;G.call(this);this.task=a;this.stoneType=a.type;a=t.get_instance().context;a=null!=a?a.getTemplate("tTaskInfo"+(1<q.instance.ratio?"Landscape":"Portrait")):null;null!=a&&a.applyTo(this);a=this.find("uiBtTask");null!=a&&
(this.getTaskTemplate(this.stoneType).applyTo(a),a.data={type:this.stoneType});this.registerXEventListener(this.task,"Task::TASK_UPDATE",c(this,this.onUpdateText));this.onUpdateText()};f["game.TaskContainer"]=Rd;Rd.__name__="game.TaskContainer";Rd.__super__=G;Rd.prototype=k(G.prototype,{onUpdateText:function(a){this.count=Math.max(0,this.task.get_amount())|0;this.mOldCount!=this.count&&(a=this.find("uiBtTask"),-1!=this.mOldCount&&!a.hasAnimation(yd)&&this.mOldCount>this.count?a.pulse():a.blubb(),
this.mOldCount=this.count,0<this.count&&this.setText("uiTaskAmount",N.number(this.count)),this.setVisible("uiImgTaskAmount",0<this.count),this.setVisible("uiImgTaskDoneOk",0>=this.count))},getTaskTemplate:function(a){var b="tTaskAnvil";switch(a){case "ANVIL":b="tTaskAnvil";break;case "APPLE":b="tTaskApple";break;case "BALLON":b="tTaskBallon";break;case "BEEHIVE":b="tTaskBeehive";break;case "BLOB":b="tTaskBlob";break;case "BOMB":b="tTaskBomb";break;case "BOX":case "BOX2":case "BOX3":b="tTaskBox";break;
case "BOX_BLUE":case "BOX_GREEN":case "BOX_PURPLE":case "BOX_RED":case "BOX_WHITE":case "BOX_YELLOW":case "COLOR_BOX":b="tTaskColorBox";break;case "BREAKER":case "BREAKER_COLUMN":b="tTaskBreaker";break;case "CELL":b="tTaskCell";break;case "CHAMELEON":b="tTaskChameleon";break;case "CHEST":b="tTaskChest";break;case "COCONUT":b="tTaskCoconut";break;case "COIN":b="tTaskCoin";break;case "COLOR_EGG":b="tTaskColorEgg";break;case "CRACKLING":case "CRACKLING2":b="tTaskCrackling";break;case "DUNG_PILE":b="tTaskDungPile";
break;case "FAT_ANVIL":b="tTaskFatAnvil";break;case "FAT_MULTI":b="tTaskFatMulti";break;case "FAT_MULTI2":b="tTaskFatMulti2";break;case "FAT_MULTI_COLOR":b="tTaskFatMultiColor";break;case "FAT_MULTI_COLOR_TWISTER":b="tTaskFatMultiColorTwister";break;case "FERTILIZER":b="tTaskFertilizer";break;case "FLIES":b="tTaskFlies";break;case "FOOD_BOWL":b="tTaskFoodBowl";break;case "GEM_BLUE":b="tTaskGemBlue";break;case "GEM_GREEN":b="tTaskGemGreen";break;case "GEM_PURPLE":b="tTaskGemPurple";break;case "GEM_RED":b=
"tTaskGemRed";break;case "GEM_WHITE":b="tTaskGemWhite";break;case "GEM_YELLOW":b="tTaskGemYellow";break;case "GIFT":b="tTaskGift";break;case "GROUP_5_HITS_ONE_PLACE":case "GROUP_5_HITS_ONE_PLACE2":b="tTaskGroup5HitsOnePlace";break;case "GROUP_SINGLE_HIT_EACH":case "GROUP_SINGLE_HIT_EACH2":b="tTaskGroupSingleHitEach";break;case "HARD_CAGE":case "HARD_CAGE2":case "HARD_CAGE3":case "HARD_CAGE4":b="tTaskHardCage";break;case "HONEYPOT":b="tTaskHoneypot";break;case "LEAF":b="tTaskLeaf";break;case "METAL_PLATE":b=
"tTaskMetalPlate";break;case "MULTI_CAGE":b="tTaskMultiCage";break;case "ORB":b="tTaskOrb";break;case "ORE":b="tTaskOre";break;case "ORE_PILE":b="tTaskOrePile";break;case "ROCKS":case "ROCKS_BLUE":case "ROCKS_GREEN":case "ROCKS_PURPLE":case "ROCKS_RED":case "ROCKS_WHITE":case "ROCKS_YELLOW":b="tTaskRocks";break;case "SKUNK":b="tTaskSkunk";break;case "SNOWBALL":b="tTaskSnowball";break;case "SNOWFLAKE":b="tTaskSnowflake";break;case "SNOWMAN":b="tTaskSnowman";break;case "SOFT_CAGE":b="tTaskSoftCage";
break;case "STUNNED":b="tTaskStunned";break;case "TICKER":case "TICKER2":b="tTaskTicker";break;case "TIMEBOMB":b="tTaskTimebomb";break;case "WATER":b="tTaskWater";break;case "X_HIT":b="tTaskXHit"}a=b+t.THEME_POSTFIX;return t.get_instance().context.exits(a)?t.get_instance().context.getTemplate(a):t.get_instance().context.getTemplate(b)},dispose:function(){this.task=null;G.prototype.dispose.call(this)},__class__:Rd});var hc=function(a,b){this.mAnimationStart=0;this.animationTarget=new g(0,0);this.animationStart=
new g(0,0);this.duration=1;G.call(this);++hc.sAnimationCount;var d=t.sScale;this.scale!=d&&this.invalidate();this.scale=d;this.duration=1;d=this.animationStart;a=a.getMiddle();d.x=a.x;d.y=a.y;d.w=a.w;this.mStoneType=b;t.get_instance().task.solveTaskType(this.mStoneType,!0);1!=this.height&&this.invalidate();d=null;this.relativeHeight!=d&&this.invalidate();this.relativeHeight=d;d=this.height=1;this.width!=d&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=
d;switch(b){case "GEM_BLUE":case "GEM_GREEN":case "GEM_PURPLE":case "GEM_RED":case "GEM_WHITE":case "GEM_YELLOW":b=qa.createInstanceFromString('<image x="-50" y="-50" width="100" height="100" image="'+K.getIcon(this.mStoneType)+'" template="tFace"/> ',t.get_instance().context);break;default:b=qa.createInstanceFromString('<image x="-50" y="-50" width="100" height="100" image="'+K.getIcon(this.mStoneType)+'"/>')}d=.7*t.sScale;b.scale!=d&&b.invalidate();b.scale=d;this.addChild(b);hc.sAnimationDelay<
C.timer?(this.mAnimationStart=C.timer,hc.sAnimationDelay=C.timer+.1):(this.mAnimationStart=hc.sAnimationDelay,hc.sAnimationDelay+=hc.sAnimationDelay>C.timer+.5?.05:.1);d=this.animationTarget;a=t.get_instance().taskView.getTaskView(this.mStoneType).getMiddle();d.x=a.x;d.y=a.y;d.w=a.w};f["game.TaskFinishedAnimation"]=hc;hc.__name__="game.TaskFinishedAnimation";hc.__super__=G;hc.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-this.mAnimationStart)/this.duration,0,1),b=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen],d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=y.SCREEN_WIDTH/2;d.y=y.SCREEN_HEIGHT/2;g.BEZIER(b,this.animationStart,d,this.animationTarget,a);d=b.x;this.x!=d&&this.invalidate();this.x=d;d=b.y;this.y!=d&&this.invalidate();this.y=d;d=1+Math.pow(Math.sin(a*Math.PI),2);this.scale!=d&&this.invalidate();this.scale=d;G.prototype.update.call(this);1<=a&&(t.get_instance().task.consumeTaskType(this.mStoneType),this.dispose())},dispose:function(){--hc.sAnimationCount;if(null!=t.get_instance().taskView.getTaskView(this.mStoneType)){var a=
"sound/snap"+R.random(4)+".mp3";e.get_instance().playUnique(a,0,.4,1)}this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:hc});var Dh=function(){this.mSoftScore=this.mOldStars=this.mMoveDisplayAdd=0;this.mTaskMap=new cb;G.call(this);var a=t.get_instance().context;a=null!=a?a.getTemplate(1<q.instance.ratio?"tTasksLandscape":"tTasksPortrait"):null;null!=a&&a.applyTo(this);this.mTaskText=this.findType("uiTxtMoves",Ea);this.setVisible("uiMoveDisplay",0!=h.get_instance().forceMoves);
this.setVisible("uiImgLogo",!h.get_instance().hideUiLogo);this.levelTask=t.get_instance().task;this.addTask(null);a=this.levelTask.tasks.h;for(var b=Object.keys(a),d=b.length,l=0;l<d;)this.addTask(a[b[l++]]);this.set_visible(!h.get_instance().hideScoreBoard);this.setVisible("uiScoreBlock",!h.get_instance().hideScore);this.setVisible("uiTaskContainer",!h.get_instance().hideTasks);this.registerXEventListener(this.levelTask,"Task::UpdateEvent",c(this,this.onUpdateText));this.registerXEventListener(this.levelTask,
"Task::NewTask",c(this,this.onNewTask));this.onUpdateText()};f["game.TaskView"]=Dh;Dh.__name__="game.TaskView";Dh.__super__=G;Dh.prototype=k(G.prototype,{addTask:function(a){var b=0;if(null!=a){b=ia.numEntries(this.mTaskMap);var d=new Rd(a);if(1<q.instance.ratio){var l=130*b++;d.y!=l&&d.invalidate();d.y=l}else l=130*b++,d.x!=l&&d.invalidate(),d.x=l;this.mTaskMap.h[a.type]=d;this.find("uiTaskContainer").addChild(d)}1<q.instance.ratio?(d=h.get_instance().hideTasks?0:130*b,a=this.find("uiTaskContainer"),
null!=a&&(a.height!=d&&a.invalidate(),l=null,a.relativeHeight!=l&&a.invalidate(),a.relativeHeight=l,a.height=d),l=d+(h.get_instance().hideScore?270:355),this.height!=l&&this.invalidate(),a=null,this.relativeHeight!=a&&this.invalidate(),this.relativeHeight=a,this.height=l):(d=h.get_instance().hideTasks?0:130*b,a=this.find("uiTaskContainer"),null!=a&&(a.width!=d&&a.invalidate(),l=null,a.relativeWidth!=l&&a.invalidate(),a.relativeWidth=l,a.width=d),l=d+(h.get_instance().hideScore?180:320),this.width!=
l&&this.invalidate(),a=null,this.relativeWidth!=a&&this.invalidate(),this.relativeWidth=a,this.width=l);l=4<b?.85:1;this.scale!=l&&this.invalidate();this.scale=l},setMoveDisplayAdd:function(a){this.mMoveDisplayAdd+=a;this.onUpdateText()},onNewTask:function(a){this.addTask(a.data)},onUpdateText:function(a){a=this.mTaskText;if(null!=a){var b=this.levelTask.get_moves()-this.mMoveDisplayAdd;b=N.number(0<b?b:0);if(this.mOldText!=b){this.mOldText=b;a.set_text(b);a.hasAnimation(yd)||a.addAnimation(new yd);
var d=t.get_instance().succeeded?44800:5>=this.levelTask.get_moves()?16740352:16777215,l=U.toFloat(d>>>16&255)/255,c=U.toFloat(d>>>8&255)/255;b=U.toFloat(d&255)/255;if(l!=a.colorR||c!=a.colorG||b!=a.colorB)a.colorR!=l&&a.invalidate(),a.colorR=l,a.colorG!=c&&a.invalidate(),a.colorG=c,a.colorB!=b&&a.invalidate(),a.colorB=b,a.invalidate();a.color=d}}},update:function(){var a=this.levelTask.score-this.mSoftScore;if(0<a){var b=Math.round(C.delta*Math.max(800,a));this.mSoftScore+=a<b?a:b;b=this.find("uiImgProgress");
if(null!=b){this.setText("uiTxtScoreText",N.number(this.mSoftScore));a=this.levelTask.getStarsForScore(this.mSoftScore);var d=this.find("uiImgStar3");null!=d&&d instanceof G&&d.set_image(2<a?"ui/star_on.png":"ui/star_off.png");d=this.find("uiImgStar2");null!=d&&d instanceof G&&d.set_image(1<a?"ui/star_on.png":"ui/star_off.png");d=this.find("uiImgStar1");null!=d&&d instanceof G&&d.set_image(0<a?"ui/star_on.png":"ui/star_off.png");d=ia.fClamp(1*this.mSoftScore/this.levelTask.targetScoreStart3,0,1);
b.relativeWidth!=d&&b.invalidate();b.relativeWidth=d;a>this.mOldStars&&(b=this.find("uiImgStar"+a),null!=b&&(b.blubb(),b.pulse()),this.mOldStars=a)}}G.prototype.update.call(this)},getTaskView:function(a){return this.mTaskMap.h[a]},dispose:function(){this.mTaskMap=this.mTaskText=this.mOldText=this.levelTask=null;G.prototype.dispose.call(this)},__class__:Dh});var Le=function(a,b,d){null==b&&(b=7);null==a&&(a=2);Ma.call(this);null!=d&&(this.random=d);this.mSpeed=a+.5*Math.random();this.mAngle=b};f["game.animation.FlyAnimation"]=
Le;Le.__name__="game.animation.FlyAnimation";Le.__super__=Ma;Le.prototype=k(Ma.prototype,{getMatrix:function(){Ba.makeIdentity(this.matrix);var a=this.matrix,b=10*Math.sin(C.timer*this.mSpeed+12*this.random),d=8*Math.cos(C.timer*this.mSpeed+10*this.random),l=a[1]+a[2]*d,c=a[2],e=a[3]+a[5]*b,f=a[4]+a[5]*d,g=a[5],h=a[6]+a[8]*b;d=a[7]+a[8]*d;var m=a[8];a[0]+=a[2]*b;a[3]=e;a[6]=h;a[1]=l;a[4]=f;a[7]=d;a[2]=c;a[5]=g;a[8]=m;Ba.rotate(this.matrix,Math.sin(C.timer*this.mSpeed*1.5+10*this.random)*this.mAngle);
return this.matrix},__class__:Le});var Z=function(){this.hidden=!1;this.music="theme";this.mShowIngameElements=[];this.mHideIngameElements=[];this.mElements=[];this.mVisibilities=[];this.initialAtlasSize=0;X.call(this);this.set_postfix(null);1!=this.relativeWidth&&this.invalidate();this.relativeWidth=1;1!=this.relativeHeight&&this.invalidate();this.relativeHeight=1;this.registerXEventListener(t.get_instance(),"PlayField::LevelStart",c(this,this.onHideLevelJenny));this.registerXEventListener(dc.instance,
"BackgroundLayer::HIDE_JENNY",c(this,this.onHideJenny));this.registerXEventListener(t.get_instance(),"PlayField::LevelEnd",c(this,this.onShowLevelJenny));this.registerXEventListener(dc.instance,"BackgroundLayer::SHOW_JENNY",c(this,this.onShowJenny));this.register(Dc.delay(c(this,this.setupSound),100))};f["game.backgrounds.BaseBackground"]=Z;Z.__name__="game.backgrounds.BaseBackground";Z.__super__=X;Z.prototype=k(X.prototype,{hideIngame:function(a){this.mHideIngameElements.push(a);return a},showIngame:function(a){this.mShowIngameElements.push(a);
return a},set_postfix:function(a){return t.THEME_POSTFIX=null!=a?a:""},setupSound:function(){var a=this.music;this.currentMusic!=a&&(e.get_instance().playChannel(a,"music"),this.currentMusic=a);null==this.atmos||""==this.atmos?e.get_instance().stopChannel("atmos"):this.currentAtmos!=this.atmos&&(e.get_instance().playChannel(this.atmos,"atmos",1,this.atmosVolume),this.currentAtmos=this.atmos)},setScaleAndPos:function(a,b,d,l,c){null==c&&(c=1);null==l&&(l=0);if(null!=a){var e=a.matrix2D;e[0]=1;e[3]=
0;e[6]=-500;e[1]=0;e[4]=1;e[7]=-500;e[2]=0;e[5]=0;e[8]=1;var p=Ba.sDummyM2D;p[0]=b*c;p[3]=0;p[6]=0;p[1]=0;p[4]=b;p[7]=0;p[2]=0;p[5]=0;p[8]=1;Ba.MUL(e,e,p);0!=l&&(p=Ba.sDummyM2D,l*=ia.PI_GRAD,b=Math.cos(l),l=Math.sin(l),p[0]=b,p[3]=-l,p[6]=0,p[1]=l,p[4]=b,p[7]=0,p[2]=0,p[5]=0,p[8]=1,Ba.MUL(e,e,p));p=Ba.sDummyM2D;p[0]=1;p[3]=0;p[6]=500;p[1]=0;p[4]=1;p[7]=500;p[2]=0;p[5]=0;p[8]=1;Ba.MUL(e,e,p);null!=d&&(p=Ba.sDummyM2D,p[0]=1,p[3]=0,p[6]=d.x,p[1]=0,p[4]=1,p[7]=d.y,p[2]=0,p[5]=0,p[8]=1,Ba.MUL(e,e,p))}return a},
onHideLevelJenny:function(a){this.hideJenny("level")},onShowLevelJenny:function(a){this.showJenny("level")},onHideJenny:function(a){this.hideJenny(a.data)},onShowJenny:function(a){this.showJenny(a.data)},hideJenny:function(a){-1==this.mVisibilities.indexOf(a)&&this.mVisibilities.push(a);this.onVisibilityChange(0==this.mVisibilities.length)},showJenny:function(a){E.remove(this.mVisibilities,a);this.onVisibilityChange(0==this.mVisibilities.length)},onVisibilityChange:function(a){this.hidden=!a;null!=
this.mCharacterLayer&&this.mCharacterLayer.set_visible(a);null!=this.mBird&&this.mBird.set_visible(a);if(null!=this.mHideIngameElements)for(var b=0,d=this.mHideIngameElements;b<d.length;)d[b++].set_visible(a);if(null!=this.mShowIngameElements)for(b=0,d=this.mShowIngameElements;b<d.length;)d[b++].set_visible(!a)},draw:function(){for(var a=0,b=this.mElements;a<b.length;)b[a++].draw(this.resultMatrix);X.prototype.draw.call(this)},dispose:function(){var a=this.mElements;if(null!=a)for(;0<a.length;)a.pop().dispose();
this.mShowIngameElements=this.mHideIngameElements=this.mBird=this.mCharacterLayer=this.mElements=null;X.prototype.dispose.call(this)},__class__:Z,__properties__:k(X.prototype.__properties__,{set_postfix:"set_postfix"})});var zj=function(){Z.call(this);this.mElements.push(new ha("bg/arctic/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ha("bg/arctic/characters.png"));var a=this.mElements,b=new ha("bg/arctic/bear.png"),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-193;d.y=160;a.push(this.hideIngame(this.setScaleAndPos(b,
.125,d)));this.mElements.push(new Yi);this.music="theme_winter";this.set_postfix("_ice");this.atmos="wind";this.atmosVolume=.1};f["game.backgrounds.BackgroundArctic"]=zj;zj.__name__="game.backgrounds.BackgroundArctic";zj.__super__=Z;zj.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.7*C.timer)+20,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.5,b);Z.prototype.draw.call(this)},__class__:zj});var Fh=function(){this.mLantern=[null,null,
null,null,null];Z.call(this);this.atmos="wind";this.atmosVolume=.1;this.mElements.push(new ha("bg/asia/bg.jpg"));var a=this.mElements,b=new ha("bg/asia/shadow.png"),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=65;d.y=180;a.push(this.hideIngame(this.setScaleAndPos(b,.35,d)));a=this.mElements;b=new ha("bg/asia/shadow2.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-170;d.y=250;a.push(this.hideIngame(this.setScaleAndPos(b,.3,d)));for(a=0;5>a;)this.mElements.push(this.mLantern[a++]=this.hideIngame(new ha("bg/asia/lantern.png")));
this.mElements.push(this.mCat=this.hideIngame(new ha("bg/asia/cat.png")));this.mElements.push(this.mCharacterLayer=new ha("bg/asia/girl.png"));this.mElements.push(this.mBird=new ha("bg/asia/bird.png"));this.mElements.push(this.mPanda=this.hideIngame(new ha("bg/asia/panda.png")));a=this.mElements;b=new ha("bg/asia/foreground.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-306;d.y=306;a.push(this.setScaleAndPos(b,.5,d));a=this.mElements;b=new ha("bg/asia/foreground.png");d=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];d.x=306;d.y=326;a.push(this.setScaleAndPos(b,.5,d,0,-1))};f["game.backgrounds.BackgroundAsia"]=Fh;Fh.__name__="game.backgrounds.BackgroundAsia";Fh.__super__=Z;Fh.prototype=k(Z.prototype,{draw:function(){var a=.125*(1+.01*Math.sin(3.2*C.timer+1353)),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=.125;b.y=a;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-25;a.y=140;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=450;this.setScaleAndPos2(this.mCat,b,a,d);a=.28*(1+.01*Math.sin(3*
C.timer+23453));b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=.28;b.y=a;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=100;a.y=180;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=450;this.setScaleAndPos2(this.mCharacterLayer,b,a,d);a=.14*(1+.01*Math.sin(3.9*C.timer));b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=.14;b.y=a;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=135;a.y=210;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=450;this.setScaleAndPos2(this.mBird,b,a,d);a=.26*(1+
.01*Math.sin(2.9*C.timer));b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=.26;b.y=a;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-140;a.y=252;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=450;this.setScaleAndPos2(this.mPanda,b,a,d);for(var l=0;5>l;){var c=l++,e=this.mLantern[c];b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=.15;b.y=.15;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-120+60*c;a.y=-208;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=-500;this.setScaleAndPos2(e,b,
a,d,20*Math.sin(1.6*C.timer+345+57*c))}Z.prototype.draw.call(this)},setScaleAndPos2:function(a,b,d,l,c){null==c&&(c=0);if(null!=a){var e=Ba.makeIdentity(a.matrix2D),p=e[1]+-500*e[2],f=e[2],g=e[3]+-500*e[5],h=e[4]+-500*e[5],m=e[5],k=e[6]+-500*e[8],n=e[7]+-500*e[8],q=e[8];e[0]+=-500*e[2];e[3]=g;e[6]=k;e[1]=p;e[4]=h;e[7]=n;e[2]=f;e[5]=m;e[8]=q;var t=-l.x;l=-l.y;p=e[1]+e[2]*l;f=e[2];g=e[3]+e[5]*t;h=e[4]+e[5]*l;m=e[5];k=e[6]+e[8]*t;n=e[7]+e[8]*l;q=e[8];e[0]+=e[2]*t;e[3]=g;e[6]=k;e[1]=p;e[4]=h;e[7]=n;e[2]=
f;e[5]=m;e[8]=q;0!=c&&Ba.rotate(e,c);c=b.x;b=b.y;e[0]*=c;e[3]*=c;e[6]*=c;e[1]*=b;e[4]*=b;e[7]*=b;p=e[1]+500*e[2];f=e[2];g=e[3]+500*e[5];h=e[4]+500*e[5];m=e[5];k=e[6]+500*e[8];n=e[7]+500*e[8];q=e[8];e[0]+=500*e[2];e[3]=g;e[6]=k;e[1]=p;e[4]=h;e[7]=n;e[2]=f;e[5]=m;e[8]=q;null!=d&&(t=d.x,l=d.y,p=e[1]+e[2]*l,f=e[2],g=e[3]+e[5]*t,h=e[4]+e[5]*l,m=e[5],k=e[6]+e[8]*t,n=e[7]+e[8]*l,q=e[8],e[0]+=e[2]*t,e[3]=g,e[6]=k,e[1]=p,e[4]=h,e[7]=n,e[2]=f,e[5]=m,e[8]=q)}return a},dispose:function(){this.mCat=this.mPanda=
this.mLantern=null;Z.prototype.dispose.call(this)},__class__:Fh});var Eh=function(){Z.call(this);this.mElements.push(new ha("bg/beach/bg_beach_background.jpg"));this.mElements.push(this.mCharacterLayer=new ha("bg/beach/bg_beach_characters2.png"));this.mElements.push(this.mBird=new ha("bg/beach/parrot.png"));this.mElements.push(new Bc);this.music="theme_safari";this.set_postfix("_desert");this.atmos="ocean";this.atmosVolume=.2};f["game.backgrounds.BackgroundBeach"]=Eh;Eh.__name__="game.backgrounds.BackgroundBeach";
Eh.__super__=Z;Eh.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(.3*C.timer),b=5*Math.sin(.4*C.timer)+30,d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=a;d.y=b;this.setScaleAndPos(this.mCharacterLayer,.6,d);b=15*Math.sin(1.7*C.timer)-50;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=100;d.y=b;this.setScaleAndPos(this.mBird,.1,d);Z.prototype.draw.call(this)},__class__:Eh});var ng=function(){Z.call(this);this.mElements.push(new ha("bg/bridge/bg.jpg"));var a=this.mElements,b=new ha("bg/bridge/tiger.jpg"),
d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=136;d.y=-129;a.push(this.mTiger=this.hideIngame(this.setScaleAndPos(b,.125,d)));this.mElements.push(this.hideIngame(new Mh));a=this.mElements;b=new ha("bg/bridge/foreground01.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-325;d.y=225;a.push(this.setScaleAndPos(b,.65,d));a=this.mElements;b=new ha("bg/bridge/foreground02.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=325;d.y=225;a.push(this.setScaleAndPos(b,.65,d));a=this.mElements;b=new ha("bg/bridge/characters.png");
d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=0;a.push(this.mCharacterLayer=this.setScaleAndPos(b,.5,d));this.mElements.push(this.mBird=new ha("bg/bridge/bird.png"))};f["game.backgrounds.BackgroundBridge"]=ng;ng.__name__="game.backgrounds.BackgroundBridge";ng.__super__=Z;ng.prototype=k(Z.prototype,{draw:function(){var a=20+15*Math.sin(1.7*C.timer),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-120;b.y=a;this.setScaleAndPos(this.mBird,.125,b);Z.prototype.draw.call(this)},dispose:function(){this.mTiger=
null;Z.prototype.dispose.call(this)},__class__:ng});var Ng=function(){Z.call(this);this.mElements.push(new ha("bg/carnival/bg.jpg"));this.mElements.push(new md);this.mElements.push(new ha("bg/carnival/middleground.png"));var a=this.mElements,b=new ha("bg/carnival/characters2.png"),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=17;d.y=-87;a.push(this.hideIngame(this.setScaleAndPos(b,.5,d)));this.mElements.push(this.mCharacterLayer=new ha("bg/carnival/characters.png"));this.mElements.push(this.mBird=
new ha("bg/carnival/bird.png"));this.atmos="people";this.music="theme_medieval";this.atmosVolume=.3};f["game.backgrounds.BackgroundCarnival"]=Ng;Ng.__name__="game.backgrounds.BackgroundCarnival";Ng.__super__=Z;Ng.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(2.7*C.timer)+20,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=135;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.7*C.timer));var d=5*Math.cos(1.2*C.timer);a=15*Math.sin(1.1*C.timer)+150;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];
b.x=d;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.53,b,2*Math.sin(.4*C.timer));Z.prototype.draw.call(this)},__class__:Ng});var Gh=function(){this.mBats=[null,null,null,null,null];Z.call(this);this.music="theme_lava";this.mElements.push(this.showIngame(new ha("bg/castle/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/castle/bg2.jpg"));for(var a=0;5>a;){var b=a++;this.mElements.push(this.mBats[b]=this.hideIngame(new ha("bg/castle/bat"+(b%4+1)+".png")))}this.mElements.push(this.mBird=
new ha("bg/castle/bird.png"))};f["game.backgrounds.BackgroundCastle"]=Gh;Gh.__name__="game.backgrounds.BackgroundCastle";Gh.__super__=Z;Gh.prototype=k(Z.prototype,{draw:function(){var a=18*Math.sin(2.31*C.timer)-10,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-150;b.y=a;this.setScaleAndPos(this.mBird,.125,b,2*Math.sin(1.6*C.timer));var d=this.mBats[0];a=6*Math.sin(3.2*C.timer+2234)-230;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=90;b.y=a;this.setScaleAndPos(d,.08,b,4*Math.sin(3.1*C.timer+345));
d=this.mBats[1];a=5*Math.sin(3.1*C.timer+134)-205;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-140;b.y=a;this.setScaleAndPos(d,.09,b,4*Math.sin(3.2*C.timer+45));d=this.mBats[2];a=7*Math.sin(3.2*C.timer+1234)-220;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-60;b.y=a;this.setScaleAndPos(d,.1,b,4*Math.sin(3.6*C.timer+645));d=this.mBats[3];a=6*Math.sin(3.3*C.timer+124)-160;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=80;b.y=a;this.setScaleAndPos(d,.12,b,4*Math.sin(3.4*C.timer+123)+24);d=this.mBats[4];
a=15*Math.sin(3.1*C.timer)-285;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-40;b.y=a;this.setScaleAndPos(d,.15,b,4*Math.sin(2.6*C.timer+5345));Z.prototype.draw.call(this)},dispose:function(){this.mBats=null;Z.prototype.dispose.call(this)},__class__:Gh});var If=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/cave/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/cave/characters.jpg"));this.mElements.push(new Bc);this.atmos="cave";this.atmosVolume=.5};f["game.backgrounds.BackgroundCave"]=
If;If.__name__="game.backgrounds.BackgroundCave";If.__super__=Z;If.prototype=k(Z.prototype,{__class__:If});var yb=function(){Z.call(this);this.mElements.push(new ha("bg/crypt/bg.jpg"));this.mElements.push(this.mCharacterLayer=this.setScaleAndPos(new ha("bg/crypt/characters.jpg"),.5));this.mElements.push(this.mBird=new ha("bg/crypt/bird.png"));this.mElements.push(new Bc);this.music="theme_safari";this.set_postfix("_desert")};f["game.backgrounds.BackgroundCrypt"]=yb;yb.__name__="game.backgrounds.BackgroundCrypt";
yb.__super__=Z;yb.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.1*C.timer)-150,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=90;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(1.6*C.timer));Z.prototype.draw.call(this)},__class__:yb});var si=function(){Z.call(this);this.mElements.push(new Ph("bg/desert/bg_desert_background.jpg"));this.mElements.push(new ha("bg/desert/bg_desert_middleground.png"));this.mElements.push(this.mCharacterLayer=new ha("bg/desert/bg_desert_characters_dust.png"));
this.mElements.push(this.mBird=new ha("bg/desert/bd_desert_bird.png"));this.mElements.push(this.hideIngame(new wi));this.music="theme_safari";this.set_postfix("_desert")};f["game.backgrounds.BackgroundDesert"]=si;si.__name__="game.backgrounds.BackgroundDesert";si.__super__=Z;si.prototype=k(Z.prototype,{draw:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=150;a.y=58;this.setScaleAndPos(this.mCharacterLayer,.7,a);var b=15*Math.sin(1.7*C.timer)-50;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];
a.x=100;a.y=b;this.setScaleAndPos(this.mBird,.14,a);Z.prototype.draw.call(this)},__class__:si});var Jf=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/dino/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/dino/characters.jpg"));this.mElements.push(new Bc);this.music="theme_safari";this.set_postfix("_desert")};f["game.backgrounds.BackgroundDino"]=Jf;Jf.__name__="game.backgrounds.BackgroundDino";Jf.__super__=Z;Jf.prototype=k(Z.prototype,{__class__:Jf});var Hh=function(){Z.call(this);
this.music="theme_lava";this.mElements.push(new ha("bg/drama/bg.jpg"))};f["game.backgrounds.BackgroundDrama"]=Hh;Hh.__name__="game.backgrounds.BackgroundDrama";Hh.__super__=Z;Hh.prototype=k(Z.prototype,{__class__:Hh});var ti=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/egypt/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/egypt/characters.jpg"));this.mElements.push(this.mBird=new ha("bg/egypt/bird.png"));this.mElements.push(new Bc);this.music="theme_safari";
this.set_postfix("_desert")};f["game.backgrounds.BackgroundEgypt"]=ti;ti.__name__="game.backgrounds.BackgroundEgypt";ti.__super__=Z;ti.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.7*C.timer)-120,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-120;b.y=a;this.setScaleAndPos(this.mBird,.125,b);Z.prototype.draw.call(this)},__class__:ti});var Td=function(){Z.call(this);this.mElements.push(new ha("bg/farm/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ha("bg/farm/characters.png"));
this.mElements.push(new Bc);this.mElements.push(this.mBird=new ha("bg/farm/bird.png"));this.mElements.push(this.hideIngame(this.mChicken=new ha("bg/farm/chicken.png")))};f["game.backgrounds.BackgroundFarm"]=Td;Td.__name__="game.backgrounds.BackgroundFarm";Td.__super__=Z;Td.prototype=k(Z.prototype,{draw:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=39;a.y=72;this.setScaleAndPos(this.mCharacterLayer,.5,a);var b=15*Math.sin(1.7*C.timer)-80;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];
a.x=-70;a.y=b;this.setScaleAndPos(this.mBird,.125,a);b=9*Math.sin(3.7*C.timer)+80;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-100;a.y=b;this.setScaleAndPos(this.mChicken,.25,a);Z.prototype.draw.call(this)},dispose:function(){this.mChicken=null;Z.prototype.dispose.call(this)},__class__:Td});var ld=function(){Z.call(this);this.mElements.push(new ha("bg/forest/bg.jpg"));this.mElements.push(this.mCharacterLayer=this.setScaleAndPos(new ha("bg/forest/characters.jpg"),.5));this.mElements.push(this.mBird=
new ha("bg/forest/bird.png"))};f["game.backgrounds.BackgroundForest"]=ld;ld.__name__="game.backgrounds.BackgroundForest";ld.__super__=Z;ld.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.1*C.timer)-80,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-110;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.4*C.timer));Z.prototype.draw.call(this)},__class__:ld});var Vi=function(){Z.call(this);this.mElements.push(new ha("bg/hayloft/bg.jpg"));this.mElements.push(this.mBird=new ha("bg/hayloft/bird.png"));
var a=this.mElements,b=this.mCharacterLayer=new ha("bg/hayloft/characters.png"),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-40.0390625;d.y=99.12109375;a.push(this.setScaleAndPos(b,.5,d));a=this.mElements;b=new ha("bg/hayloft/car.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=256;d.y=226;a.push(this.setScaleAndPos(b,.6,d));this.mElements.push(new Bc);a=this.mElements;b=new ha("bg/hayloft/foreground.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-220;d.y=220;a.push(this.setScaleAndPos(b,
.6,d));this.music="theme_farm"};f["game.backgrounds.BackgroundHayloft"]=Vi;Vi.__name__="game.backgrounds.BackgroundHayloft";Vi.__super__=Z;Vi.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.7*C.timer)-40,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=100;b.y=a;this.setScaleAndPos(this.mBird,.25,b);Z.prototype.draw.call(this)},__class__:Vi});var Sd=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/jungle/bg_jungle_background.jpg")));this.mElements.push(this.mCharacterLayer=
new ha("bg/jungle/characters.jpg"));this.mElements.push(new Bc);this.set_postfix("_desert");this.atmos="jungle";this.atmosVolume=.2};f["game.backgrounds.BackgroundJungle"]=Sd;Sd.__name__="game.backgrounds.BackgroundJungle";Sd.__super__=Z;Sd.prototype=k(Z.prototype,{__class__:Sd});var we=function(){Z.call(this);this.mElements.push(new ha("bg/lava/bg_lava.jpg"));this.mElements.push(new vi);this.mElements.push(this.mCharacterLayer=new ha("bg/lava/bg_lava_characters.png"))};f["game.backgrounds.BackgroundLava"]=
we;we.__name__="game.backgrounds.BackgroundLava";we.__super__=Z;we.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(.1*C.timer),b=25*Math.sin(.2*C.timer)-25,d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=a;d.y=b;this.setScaleAndPos(this.mCharacterLayer,1,d);Z.prototype.draw.call(this)},__class__:we});var kd=function(){Z.call(this);this.mElements.push(new ha("bg/meadow/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ha("bg/meadow/characters.png"));this.mElements.push(new Bc);this.mElements.push(this.mBird=
new ha("bg/meadow/bird.png"));this.mElements.push(this.hideIngame(this.mBee=new ha("bg/meadow/bee.png")));this.music="theme_medieval"};f["game.backgrounds.BackgroundMeadow"]=kd;kd.__name__="game.backgrounds.BackgroundMeadow";kd.__super__=Z;kd.prototype=k(Z.prototype,{draw:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-133;a.y=16;this.setScaleAndPos(this.mCharacterLayer,.5,a);var b=15*Math.sin(1.7*C.timer)-40;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-190;a.y=b;this.setScaleAndPos(this.mBird,
.14,a);b=5*Math.sin(6.7*C.timer)+80;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=170;a.y=b;this.setScaleAndPos(this.mBee,.14,a);Z.prototype.draw.call(this)},dispose:function(){this.mBee=null;Z.prototype.dispose.call(this)},__class__:kd});var oc=function(){Z.call(this);this.mElements.push(new ha("bg/mountain/bg.jpg"));this.mElements.push(this.mCloud1=new ha("bg/mountain/cloud1.png"));this.mElements.push(this.mCloud2=new ha("bg/mountain/cloud2.png"));this.mElements.push(this.mCloud3=new ha("bg/mountain/cloud3.png"));
this.mElements.push(new ha("bg/mountain/middleground.png"));this.mElements.push(this.mCharacterLayer=new ha("bg/mountain/characters.png"));this.mElements.push(new Bc);this.setScaleAndPos(this.mCharacterLayer,.5);this.music="theme_winter";this.set_postfix("_ice");this.atmos="wind";this.atmosVolume=.2};f["game.backgrounds.BackgroundMountain"]=oc;oc.__name__="game.backgrounds.BackgroundMountain";oc.__super__=Z;oc.prototype=k(Z.prototype,{draw:function(){var a=ia.fmod(10*C.timer,1E3),b=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];b.x=a-200;b.y=.34*a;this.setScaleAndPos(this.mCloud1,.25,b);a=ia.fmod(13*C.timer+800,1E3);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=a-200;b.y=.34*a+150;this.setScaleAndPos(this.mCloud2,.3,b);a=ia.fmod(15*C.timer+190,1E3);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=a-200;b.y=.34*a-300;this.setScaleAndPos(this.mCloud3,.35,b);Z.prototype.draw.call(this)},dispose:function(){this.mCloud3=this.mCloud2=this.mCloud1=null;Z.prototype.dispose.call(this)},__class__:oc});var Wi=function(){this.mFlashShortFactor=
1;this.mTentacles=[null,null,null];Z.call(this);this.mElements.push(this.mBackground=new ha("bg/ocean/bg.jpg"));this.mElements.push(this.mLightning=new ha("bg/ocean/bg2.jpg"));this.mElements.push(this.hideIngame(this.mTentacles[0]=new ha("bg/ocean/tentacle0.png")));this.mElements.push(this.hideIngame(new Oh));this.mElements.push(this.mCharacterLayer=new ha("bg/ocean/characters.png"));this.mElements.push(this.mBird=new ha("bg/ocean/bird.png"));this.mElements.push(this.hideIngame(new Oh));this.mElements.push(this.hideIngame(this.mTentacles[1]=
new ha("bg/ocean/tentacle1.png")));this.mElements.push(this.hideIngame(this.mTentacles[2]=new ha("bg/ocean/tentacle2.png")));this.mElements.push(new ha("bg/ocean/foreground.png"));this.atmos="wind";this.music="theme_lava";this.atmosVolume=.1;this.mNextFlashStart=C.timer+Math.random()+.5};f["game.backgrounds.BackgroundOcean"]=Wi;Wi.__name__="game.backgrounds.BackgroundOcean";Wi.__super__=Z;Wi.prototype=k(Z.prototype,{draw:function(){if(null!=this.mLightning){this.mNextFlashStart<C.timer&&(this.mNextFlashEnd=
C.timer+.1*Math.random()+.1,Math.random()<this.mFlashShortFactor?(this.mNextFlashStart=C.timer+.5*Math.random()+.2,this.mFlashShortFactor/=2):(this.mNextFlashStart=C.timer+2*Math.random()+3,this.mFlashShortFactor=1));var a=this.mNextFlashEnd>C.timer&&!this.hidden;this.mLightning.set_visible(a);this.mBackground.set_visible(!a)}a=15*Math.sin(2.7*C.timer)-70;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-105;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.7*C.timer));var d=5*Math.cos(1.2*
C.timer)+230;a=15*Math.sin(1.1*C.timer)+200;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=d;b.y=a;this.setScaleAndPos(this.mCharacterLayer,1.1,b,2*Math.sin(.4*C.timer));var l=this.mTentacles[0];d=5*Math.cos(1.2*C.timer)+230;a=15*Math.sin(1.7*C.timer)-10;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=d;b.y=a;this.setScaleAndPos(l,.3,b,8*Math.sin(.6*C.timer));l=this.mTentacles[1];d=5*Math.cos(1.3*C.timer)-280;a=15*Math.sin(1.9*C.timer)+140;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=d;b.y=a;
this.setScaleAndPos(l,.4,b,9*Math.sin(.5*C.timer));l=this.mTentacles[2];d=5*Math.cos(1.4*C.timer)+30;a=15*Math.sin(1.2*C.timer)+200;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=d;b.y=a;this.setScaleAndPos(l,.35,b,10*Math.sin(.45*C.timer));Z.prototype.draw.call(this)},dispose:function(){this.mTentacles=this.mLightning=this.mBackground=null;Z.prototype.dispose.call(this)},__class__:Wi});var Lf=function(){Z.call(this);this.atmos="people";this.atmosVolume=.2;this.music="theme_medieval";this.mElements.push(new ha("bg/park/bg.jpg"));
this.mElements.push(this.mBallonsLeft=this.hideIngame(new ha("bg/park/balloons_left.png")));this.mElements.push(this.mBallonsRight=this.hideIngame(new ha("bg/park/balloons_right.png")));var a=this.mElements,b=new ha("bg/park/characters.png"),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-150;d.y=135;a.push(this.mCharacterLayer=this.setScaleAndPos(b,.5,d));this.mElements.push(this.mCat=this.hideIngame(this.setScaleAndPos(new ha("bg/park/cat.png"),.5)));this.mElements.push(this.mBird=new ha("bg/park/bird.png"))};
f["game.backgrounds.BackgroundPark"]=Lf;Lf.__name__="game.backgrounds.BackgroundPark";Lf.__super__=Z;Lf.prototype=k(Z.prototype,{draw:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=.25;a.y=.25;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-220;b.y=-160;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=200;d.y=500;this.setScaleAndPos2(this.mBallonsLeft,a,b,d,10*Math.sin(.6*C.timer+345));a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=.25;a.y=.25;b=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];b.x=180;b.y=-198;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-200;d.y=500;this.setScaleAndPos2(this.mBallonsRight,a,b,d,10*Math.sin(.6*C.timer+12345));b=-100+15*Math.sin(1.7*C.timer);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=-120;a.y=b;this.setScaleAndPos(this.mBird,.125,a);b=-150+25*Math.sin(1.8*C.timer+12345);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=150;a.y=b;this.setScaleAndPos(this.mCat,.5,a);Z.prototype.draw.call(this)},setScaleAndPos2:function(a,b,d,l,c){null==
c&&(c=0);if(null!=a){var e=Ba.makeIdentity(a.matrix2D),p=e[1]+-500*e[2],f=e[2],g=e[3]+-500*e[5],h=e[4]+-500*e[5],m=e[5],k=e[6]+-500*e[8],n=e[7]+-500*e[8],q=e[8];e[0]+=-500*e[2];e[3]=g;e[6]=k;e[1]=p;e[4]=h;e[7]=n;e[2]=f;e[5]=m;e[8]=q;var t=-l.x;l=-l.y;p=e[1]+e[2]*l;f=e[2];g=e[3]+e[5]*t;h=e[4]+e[5]*l;m=e[5];k=e[6]+e[8]*t;n=e[7]+e[8]*l;q=e[8];e[0]+=e[2]*t;e[3]=g;e[6]=k;e[1]=p;e[4]=h;e[7]=n;e[2]=f;e[5]=m;e[8]=q;0!=c&&Ba.rotate(e,c);c=b.x;b=b.y;e[0]*=c;e[3]*=c;e[6]*=c;e[1]*=b;e[4]*=b;e[7]*=b;p=e[1]+500*
e[2];f=e[2];g=e[3]+500*e[5];h=e[4]+500*e[5];m=e[5];k=e[6]+500*e[8];n=e[7]+500*e[8];q=e[8];e[0]+=500*e[2];e[3]=g;e[6]=k;e[1]=p;e[4]=h;e[7]=n;e[2]=f;e[5]=m;e[8]=q;null!=d&&(t=d.x,l=d.y,p=e[1]+e[2]*l,f=e[2],g=e[3]+e[5]*t,h=e[4]+e[5]*l,m=e[5],k=e[6]+e[8]*t,n=e[7]+e[8]*l,q=e[8],e[0]+=e[2]*t,e[3]=g,e[6]=k,e[1]=p,e[4]=h,e[7]=n,e[2]=f,e[5]=m,e[8]=q)}return a},dispose:function(){this.mCat=this.mBallonsRight=this.mBallonsLeft=null;Z.prototype.dispose.call(this)},__class__:Lf});var Jh=function(){this.mSeagulls=
[null,null,null,null,null];Z.call(this);this.atmos="wind";this.atmosVolume=.2;this.mElements.push(new ha("bg/plane/bg.jpg"));for(var a=0;5>a;)this.mElements.push(this.mSeagulls[a++]=this.hideIngame(new ha("bg/plane/seagull.png")));this.mElements.push(this.mBird=new ha("bg/plane/bird.png"));this.mElements.push(this.mCharacterLayer=new ha("bg/plane/characters.png"))};f["game.backgrounds.BackgroundPlane"]=Jh;Jh.__name__="game.backgrounds.BackgroundPlane";Jh.__super__=Z;Jh.prototype=k(Z.prototype,{draw:function(){var a=
20+10*Math.sin(C.timer),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.6,b,3*Math.sin(.5*C.timer));a=15*Math.sin(1.1*C.timer)-210;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=90;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(1.6*C.timer));var d=this.mSeagulls[0];a=15*Math.sin(1.1*C.timer+2234)-330;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-160;b.y=a;this.setScaleAndPos(d,.08,b,2*Math.sin(1.6*C.timer+345));d=this.mSeagulls[1];a=15*
Math.sin(1.1*C.timer+134)-205;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-390;b.y=a;this.setScaleAndPos(d,.09,b,2*Math.sin(1.6*C.timer+45));d=this.mSeagulls[2];a=15*Math.sin(1.1*C.timer+1234)-220;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-310;b.y=a;this.setScaleAndPos(d,.1,b,2*Math.sin(1.6*C.timer+645));d=this.mSeagulls[3];a=15*Math.sin(1.1*C.timer+124)-270;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-170;b.y=a;this.setScaleAndPos(d,.12,b,2*Math.sin(1.6*C.timer+123));d=this.mSeagulls[4];
a=15*Math.sin(1.1*C.timer)-210;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-210;b.y=a;this.setScaleAndPos(d,.15,b,2*Math.sin(1.6*C.timer+5345));Z.prototype.draw.call(this)},dispose:function(){this.mSeagulls=null;Z.prototype.dispose.call(this)},__class__:Jh});var kf=function(){Z.call(this);var a=new ha("bg/arctic/bg.jpg");this.mElements.push(a);var b=window.document.createElement("input");b.id="bgPreviewInput";b.type="file";window.document.getElementById("content").appendChild(b);b.addEventListener("change",
function(){if(null!=b.files&&null!=b.files[0]){var d=window.document.createElement("img");d.crossOrigin="anonymous";d.onerror=function(){};d.onload=function(){var b=lb.fromImageElement(d);a.texture=new Ic(b)};d.src=URL.createObjectURL(b.files[0])}})};f["game.backgrounds.BackgroundPreview"]=kf;kf.__name__="game.backgrounds.BackgroundPreview";kf.__super__=Z;kf.prototype=k(Z.prototype,{__class__:kf});var pg=function(){Z.call(this);this.mElements.push(new ha("bg/river/bg.jpg"));this.mElements.push(this.mCharacterLayer=
new ha("bg/river/characters.png"));var a=this.mElements,b=new ha("bg/river/foreground.png"),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-11.23046875;d.y=79.58984375;a.push(this.hideIngame(this.setScaleAndPos(b,.5,d)))};f["game.backgrounds.BackgroundRiver"]=pg;pg.__name__="game.backgrounds.BackgroundRiver";pg.__super__=Z;pg.prototype=k(Z.prototype,{draw:function(){var a=57.12890625+15*Math.sin(2.5*C.timer),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-15.625;b.y=a;this.setScaleAndPos(this.mCharacterLayer,
.5,b,15*Math.sin(1.7*C.timer));Z.prototype.draw.call(this)},__class__:pg});var Pg=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/safari/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/safari/characters.jpg"));this.mElements.push(this.mBird=new ha("bg/safari/bird.png"));this.mElements.push(new Bc);this.music="theme_safari";this.set_postfix("_desert");this.atmos="scary";this.atmosVolume=.2};f["game.backgrounds.BackgroundSafari"]=Pg;Pg.__name__="game.backgrounds.BackgroundSafari";
Pg.__super__=Z;Pg.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(3.2*C.timer)-120,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-120;b.y=a;this.setScaleAndPos(this.mBird,.125,b,2*Math.sin(C.timer));Z.prototype.draw.call(this)},__class__:Pg});var Kh=function(){Z.call(this);this.mElements.push(new ha("bg/space/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ha("bg/space/characters.png"));this.mElements.push(this.hideIngame(this.mBGUfo=new ha("bg/space/ufo.png")));this.mElements.push(this.mBird=
new ha("bg/space/bird.png"))};f["game.backgrounds.BackgroundSpace"]=Kh;Kh.__name__="game.backgrounds.BackgroundSpace";Kh.__super__=Z;Kh.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.1*C.timer)-120,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=60;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.4*C.timer));var d=-200+15*Math.cos(C.timer);a=15*Math.sin(1.7*C.timer);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=d;b.y=a;this.setScaleAndPos(this.mBGUfo,.125,b,5*Math.sin(.6*C.timer));
a=15*Math.sin(1.05*C.timer);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.5,b,5*Math.sin(.5*C.timer));Z.prototype.draw.call(this)},dispose:function(){this.mBGUfo=null;Z.prototype.dispose.call(this)},__class__:Kh});var Mf=function(){Z.call(this);this.music="theme_water";this.mElements.push(new he("bg/tiny/bg_tiny_background.jpg"));this.mElements.push(this.hideIngame(this.mFish=new ha("bg/tiny/fish.png")));this.mElements.push(this.mCharacterLayer=
new ha("bg/tiny/bg_underwater_characters.png"));this.mElements.push(new Pa)};f["game.backgrounds.BackgroundTiny"]=Mf;Mf.__name__="game.backgrounds.BackgroundTiny";Mf.__super__=Z;Mf.prototype=k(Z.prototype,{draw:function(){var a=20+10*Math.sin(C.timer),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.5,b,3*Math.sin(.5*C.timer));a=15*Math.sin(1.7*C.timer)-130;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=140;b.y=a;this.setScaleAndPos(this.mFish,.09,
b);Z.prototype.draw.call(this)},dispose:function(){this.mFish=null;Z.prototype.dispose.call(this)},__class__:Mf});var Kf=function(){Z.call(this);this.music="theme_lava";this.atmos="jungle";this.atmosVolume=.1;this.mElements.push(this.showIngame(new ha("bg/tribe/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/tribe/bg2.jpg"));this.mElements.push(this.mBird=new ha("bg/tribe/bird.png"))};f["game.backgrounds.BackgroundTribe"]=Kf;Kf.__name__="game.backgrounds.BackgroundTribe";Kf.__super__=
Z;Kf.prototype=k(Z.prototype,{draw:function(){var a=11*Math.sin(2.31*C.timer)-10,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=90;b.y=a;this.setScaleAndPos(this.mBird,.125,b,2*Math.sin(1.6*C.timer));Z.prototype.draw.call(this)},__class__:Kf});var Qg=function(){Z.call(this);this.music="theme_water";this.atmos="underwater_loop";this.atmosVolume=.1;this.mElements.push(new he("bg/water/bg_underwater_background.jpg"));this.mElements.push(this.hideIngame(this.mFish=new ha("bg/water/fish.png")));this.mElements.push(this.mCharacterLayer=
new ha("bg/water/bg_underwater_characters.png"));this.mElements.push(new Pa)};f["game.backgrounds.BackgroundWater"]=Qg;Qg.__name__="game.backgrounds.BackgroundWater";Qg.__super__=Z;Qg.prototype=k(Z.prototype,{draw:function(){var a=20+10*Math.sin(C.timer),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.6,b,3*Math.sin(.5*C.timer));a=15*Math.sin(1.7*C.timer)-130;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=140;b.y=a;this.setScaleAndPos(this.mFish,
.09,b);Z.prototype.draw.call(this)},dispose:function(){this.mFish=null;Z.prototype.dispose.call(this)},__class__:Qg});var ui=function(){Z.call(this);this.mElements.push(new ha("bg/waterfall/bg.jpg"));this.mElements.push(this.mCloud1=new ha("bg/waterfall/cloud01.png"));this.mElements.push(this.mCloud2=new ha("bg/waterfall/cloud02.png"));this.mElements.push(this.mCloud3=new ha("bg/waterfall/cloud03.png"));var a=this.mElements,b=new ha("bg/waterfall/middleground01.png"),d=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];d.x=-250;d.y=-250;a.push(this.setScaleAndPos(b,.5,d));a=this.mElements;b=new ha("bg/waterfall/middleground02.png");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=250;d.y=-250;a.push(this.setScaleAndPos(b,.5,d));a=this.mElements;b=new ha("bg/waterfall/middleground03.jpg");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=-250;d.y=250;a.push(this.setScaleAndPos(b,.5,d));a=this.mElements;b=new ha("bg/waterfall/middleground04.jpg");d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=250;d.y=
250;a.push(this.setScaleAndPos(b,.5,d));this.mElements.push(this.mCharacterLayer=new ha("bg/waterfall/characters.png"));this.mElements.push(this.mBird=new ha("bg/waterfall/bird.png"))};f["game.backgrounds.BackgroundWaterfall"]=ui;ui.__name__="game.backgrounds.BackgroundWaterfall";ui.__super__=Z;ui.prototype=k(Z.prototype,{draw:function(){var a=ia.fmod(30*C.timer,1500),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=a-750;b.y=.04*a-300;this.setScaleAndPos(this.mCloud1,.25,b);a=ia.fmod(39*C.timer+800,
1500);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=a-750;b.y=.04*a-200;this.setScaleAndPos(this.mCloud2,.3,b);a=ia.fmod(45*C.timer+190,1500);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=a-750;b.y=.04*a-400;this.setScaleAndPos(this.mCloud3,.35,b);a=15*Math.sin(2.7*C.timer)-30;b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-130;b.y=a;this.setScaleAndPos(this.mBird,.2,b,5*Math.sin(.7*C.timer));var d=15*Math.cos(1.2*C.timer);a=15*Math.sin(2.1*C.timer);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];
b.x=d;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.7,b,6*Math.sin(.7*C.timer));Z.prototype.draw.call(this)},dispose:function(){this.mCloud3=this.mCloud2=this.mCloud1=null;Z.prototype.dispose.call(this)},__class__:ui});var Me=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/western/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/western/bg2.jpg"));this.mElements.push(this.mBird=new ha("bg/western/bird.png"));this.mElements.push(this.hideIngame(new qg));this.music=
"theme_safari";this.set_postfix("_desert")};f["game.backgrounds.BackgroundWestern"]=Me;Me.__name__="game.backgrounds.BackgroundWestern";Me.__super__=Z;Me.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.7*C.timer)-40,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-195;b.y=a;this.setScaleAndPos(this.mBird,.125,b);Z.prototype.draw.call(this)},__class__:Me});var Lh=function(){Z.call(this);this.mElements.push(new ha("bg/winter/background.jpg"));this.mElements.push(this.mCharacterLayer=new ha("bg/winter/bg2.jpg"));
this.mElements.push(this.mBird=new ha("bg/winter/bird.png"));this.mElements.push(new Yi);this.music="theme_winter";this.set_postfix("_ice");this.atmos="wind";this.atmosVolume=.1};f["game.backgrounds.BackgroundWinter"]=Lh;Lh.__name__="game.backgrounds.BackgroundWinter";Lh.__super__=Z;Lh.prototype=k(Z.prototype,{draw:function(){var a=-93.26171875+15*Math.sin(1.7*C.timer),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=-68.359375;b.y=a;this.setScaleAndPos(this.mBird,.125,b);Z.prototype.draw.call(this)},
__class__:Lh});var Aj=function(){Z.call(this);this.mElements.push(this.showIngame(new ha("bg/zoo/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ha("bg/zoo/characters.jpg"));this.mElements.push(this.mBird=new ha("bg/zoo/bird.png"));this.mElements.push(new Bc)};f["game.backgrounds.BackgroundZoo"]=Aj;Aj.__name__="game.backgrounds.BackgroundZoo";Aj.__super__=Z;Aj.prototype=k(Z.prototype,{draw:function(){var a=15*Math.sin(1.7*C.timer)-80,b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=50;b.y=
a;this.setScaleAndPos(this.mBird,.125,b);Z.prototype.draw.call(this)},__class__:Aj});var Nf=function(){};f["game.backgrounds.shader.IBackgroundElement"]=Nf;Nf.__name__="game.backgrounds.shader.IBackgroundElement";Nf.__isInterface__=!0;Nf.__interfaces__=[wb];Nf.prototype={__class__:Nf,__properties__:{set_visible:"set_visible"}};var ib=function(){this.atlas=new wh(256);this.visible=!0;this.init()};f["game.backgrounds.particles.BaseParticles"]=ib;ib.__name__="game.backgrounds.particles.BaseParticles";
ib.__interfaces__=[Nf];ib.__super__=Fa;ib.prototype=k(Fa.prototype,{set_visible:function(a){return this.visible=a},init:function(){},addParticle:function(a,b,d,l){l=this.atlas.getTexture(l);this.vertexBuffer.addEntry(4);var c=this.vertexBuffer.data;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=-10;c.position+=4;c.floatArray[c.position>>>2]=-10;c.position+=4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>
2]=l.scaledLeft;c.position+=4;c.floatArray[c.position>>>2]=l.scaledTop;c.position+=4;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=10;c.position+=4;c.floatArray[c.position>>>2]=-10;c.position+=4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>2]=l.scaledRight;c.position+=4;c.floatArray[c.position>>>2]=l.scaledTop;c.position+=4;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;
c.position+=4;c.floatArray[c.position>>>2]=-10;c.position+=4;c.floatArray[c.position>>>2]=10;c.position+=4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>2]=l.scaledLeft;c.position+=4;c.floatArray[c.position>>>2]=l.scaledBottom;c.position+=4;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=10;c.position+=4;c.floatArray[c.position>>>2]=10;c.position+=4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>
2]=l.scaledRight;c.position+=4;c.floatArray[c.position>>>2]=l.scaledBottom;c.position+=4},draw:function(a){},dispose:function(){var a=this.atlas;null!=a&&a.dispose();this.atlas=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.matrix2D=this.matrix=this.mShader=null;Fa.prototype.dispose.call(this)},__class__:ib,__properties__:{set_visible:"set_visible"}});var Mh=function(){ib.call(this)};f["game.backgrounds.particles.BridgeParticles"]=Mh;
Mh.__name__="game.backgrounds.particles.BridgeParticles";Mh.__super__=ib;Mh.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;120>a;)++a,this.addParticle(1E3*Math.random(),400*Math.random()+600,2.5*Math.random()+.2,"particles/smelly.png");this.vertexBuffer.upload();this.mShader=new qc("\r\n\t\t\tattribute vec2 aVertexPosition;\r\n\t\t\tattribute vec3 aOffset;\r\n\t\t\tattribute vec2 aTexCoord;\r\n\t\t\t\t\t\t\r\n\t\t\tuniform mat4 uViewProjection;\r\n\t\t\tuniform float uTimer;\r\n\t\t\t\t\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tvTexCoord = aTexCoord;\r\n\t\t\t\t\r\n\t\t\t\tvec2 pos = aVertexPosition + vec2( uTimer * 150.0, sin( aVertexPosition.x + uTimer * 0.5 ) * 17.0 ) * aOffset.z;\r\n\t\t\t\tpos.x = mod( pos.x + 50.0, 1100.0) - 50.0;\r\n\t\t\t\tpos.y += pos.x * 0.1;\r\n\t\t\t\t// FFC977\r\n\t\t\t\tvColor = vec4( 0.9, 0.9, 1.0, 0.2 );\r\n\t\t\t\t\r\n\t\t\t\tfloat a = uTimer * aOffset.z * 0.5;\r\n\t\t\t\tfloat sinA = sin( a ); \r\n\t\t\t\tfloat cosA = cos( a ); \r\n\t\t\t\tfloat _x = cosA * aOffset.x - sinA * aOffset.y; \r\n\t\t\t\tfloat _y = cosA * aOffset.y + sinA * aOffset.x;\r\n\t\t\t\tvec2 add = vec2( _x, _y );\r\n\t\t\t\t\r\n\t\t\t\tgl_Position = uViewProjection * vec4( pos + add * aOffset.z * 1.5, 0.0, 1.0 );\r\n\t\t\t}\t\t\t\r\n\t\t",
"\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\r\n\t\t\tuniform sampler2D uTex0;\r\n\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tvec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ) * vColor;\r\n\t\t\t\t\r\n\t\t\t\t//col0.a *= 0.3;\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\tgl_FragColor = col0;\r\n\t\t\t}\r\n\t\t")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=
c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));
pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();
a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:Mh});var Pa=function(){ib.call(this)};f["game.backgrounds.particles.BubbleParticles"]=Pa;Pa.__name__="game.backgrounds.particles.BubbleParticles";
Pa.__super__=ib;Pa.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;200>a;)++a,this.addParticle(1E3*Math.random(),1E3*Math.random(),.7*Math.random()+.3,"particles/bubbles.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0, -uTimer * 60.0 ) * aOffset.z;pos.y = mod( pos.y, 1000.0);gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.0, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ); gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%
O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,
"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,
0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:Pa});var md=function(){ib.call(this)};f["game.backgrounds.particles.FireworksParticles"]=md;md.__name__="game.backgrounds.particles.FireworksParticles";md.__super__=ib;md.prototype=k(ib.prototype,{add:function(a,b,d,l,c,e){e=this.atlas.getTexture(e);this.vertexBuffer.addEntry(4);var p=this.vertexBuffer.data;p.floatArray[p.position>>>
2]=a.x;p.position+=4;p.floatArray[p.position>>>2]=a.y;p.position+=4;p.floatArray[p.position>>>2]=-30;p.position+=4;p.floatArray[p.position>>>2]=-30;p.position+=4;p.floatArray[p.position>>>2]=d;p.position+=4;p.floatArray[p.position>>>2]=e.scaledLeft;p.position+=4;p.floatArray[p.position>>>2]=e.scaledTop;p.position+=4;p.floatArray[p.position>>>2]=l;p.position+=4;p.bytes.setInt32(p.position,c);p.position+=4;p.floatArray[p.position>>>2]=b.x;p.position+=4;p.floatArray[p.position>>>2]=b.y;p.position+=4;
p.floatArray[p.position>>>2]=a.x;p.position+=4;p.floatArray[p.position>>>2]=a.y;p.position+=4;p.floatArray[p.position>>>2]=30;p.position+=4;p.floatArray[p.position>>>2]=-30;p.position+=4;p.floatArray[p.position>>>2]=d;p.position+=4;p.floatArray[p.position>>>2]=e.scaledRight;p.position+=4;p.floatArray[p.position>>>2]=e.scaledTop;p.position+=4;p.floatArray[p.position>>>2]=l;p.position+=4;p.bytes.setInt32(p.position,c);p.position+=4;p.floatArray[p.position>>>2]=b.x;p.position+=4;p.floatArray[p.position>>>
2]=b.y;p.position+=4;p.floatArray[p.position>>>2]=a.x;p.position+=4;p.floatArray[p.position>>>2]=a.y;p.position+=4;p.floatArray[p.position>>>2]=-30;p.position+=4;p.floatArray[p.position>>>2]=30;p.position+=4;p.floatArray[p.position>>>2]=d;p.position+=4;p.floatArray[p.position>>>2]=e.scaledLeft;p.position+=4;p.floatArray[p.position>>>2]=e.scaledBottom;p.position+=4;p.floatArray[p.position>>>2]=l;p.position+=4;p.bytes.setInt32(p.position,c);p.position+=4;p.floatArray[p.position>>>2]=b.x;p.position+=
4;p.floatArray[p.position>>>2]=b.y;p.position+=4;p.floatArray[p.position>>>2]=a.x;p.position+=4;p.floatArray[p.position>>>2]=a.y;p.position+=4;p.floatArray[p.position>>>2]=30;p.position+=4;p.floatArray[p.position>>>2]=30;p.position+=4;p.floatArray[p.position>>>2]=d;p.position+=4;p.floatArray[p.position>>>2]=e.scaledRight;p.position+=4;p.floatArray[p.position>>>2]=e.scaledBottom;p.position+=4;p.floatArray[p.position>>>2]=l;p.position+=4;p.bytes.setInt32(p.position,c);p.position+=4;p.floatArray[p.position>>>
2]=b.x;p.position+=4;p.floatArray[p.position>>>2]=b.y;p.position+=4},init:function(){this.vertexBuffer=new yc(3200,11);this.vertexBuffer.entries=0;for(var a=[[16776960,16724016,16777008],[16724016,16752688,16732240],[1113872,4259648,9502608],[6316287,4210943,8421631],[16777215,7368959,16777120]],b=0;10>b;){var d=1E3*Math.random(),l=500*Math.random(),c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];c.x=d;c.y=l;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];l=.25*b++;for(var e=a[R.random(a.length)],f=0;80>
f;){++f;var h=e[R.random(e.length)],m=Math.random()-.9;d.x=Math.random()-.5;d.y=m;d.x*=42;d.y*=42;this.add(c,d,.75*Math.random()+.25,l,h,.3>Math.random()?"particles/glow_dot.png":"particles/flare.png")}}this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;attribute vec2 aDir;attribute float aTimeOffset;attribute vec4 aColor;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vColor;void main (void){vTexCoord = aTexCoord;float t = mod( uTimer * 0.5 + aTimeOffset, 2.0 );float sqrtT = sqrt( t );float t2 = t * t;vColor = vec4( aColor.bgr, 1.0 - t2 );vec2 pos = aVertexPosition + aOffset.xy * aOffset.z * ( 1.0 - t ) + ( aDir * sqrtT * 20.0 + vec2( 0.0, 9.81 ) * t2 * 30.0 ) * aOffset.z;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vColor;uniform sampler2D uTex0;void main (void) {gl_FragColor = texture2D( uTex0, vTexCoord, 0.0 ) * vColor;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){q.gl.blendFunc(q.gl.SRC_ALPHA,q.gl.ONE);var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,
0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,
"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);this.mShader.vertexAttribPointer("aTimeOffset",1,q.gl.FLOAT,28);this.mShader.vertexAttribPointer("aColor",4,q.gl.UNSIGNED_BYTE,32,!0);this.mShader.vertexAttribPointer("aDir",2,q.gl.FLOAT,36);d=
this.mShader;e=this.atlas.get_texture();a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0);q.gl.blendFunc(q.gl.SRC_ALPHA,q.gl.ONE_MINUS_SRC_ALPHA)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:md});var Bc=function(){ib.call(this)};
f["game.backgrounds.particles.LandscapeParticles"]=Bc;Bc.__name__="game.backgrounds.particles.LandscapeParticles";Bc.__super__=ib;Bc.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;200>a;)++a,this.addParticle(1E3*Math.random(),1E3*Math.random(),.7*Math.random()+.3,"particles/flarefx.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + aOffset.xy * aOffset.z + vec2( sin( aVertexPosition.x + uTimer ) * 100.2, cos(aVertexPosition.y + uTimer * 2.0 ) * 20.0 ) * aOffset.z;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 );col0.a *= 0.3; gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%
O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=.1*C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,
"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,
0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:Bc});var vi=function(){ib.call(this)};f["game.backgrounds.particles.LavaParticles"]=vi;vi.__name__="game.backgrounds.particles.LavaParticles";vi.__super__=ib;vi.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;100>a;)++a,this.addParticle(1E3*Math.random(),1E3*Math.random(),
.2*Math.random()+.1,"particles/glow.png");for(a=0;400>a;)++a,this.addParticle(1E3*Math.random(),1E3*Math.random(),.2*Math.random()+.05,"particles/ash.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0, uTimer * 40.0 + abs( cos( aVertexPosition.x + uTimer * 0.5 ) * 30.0 ) ) * aOffset.z;pos.y = mod( pos.y, 1000.0);gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.5, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ); gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%
O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,
"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,
0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:vi});var wi=function(){ib.call(this)};f["game.backgrounds.particles.MotionParticles"]=wi;wi.__name__="game.backgrounds.particles.MotionParticles";wi.__super__=ib;wi.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;100>a;)++a,this.addParticle(1E3*Math.random(),1E3*Math.random(),
.5*Math.random()+.2,"particles/flarefx.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vColor;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0 + uTimer * 190.0, -uTimer * 40.0 + abs( uTimer * 0.5 * 30.0 ) ) * aOffset.z;pos = mod( pos, 1000.0);vColor = vec4( 1.0, 1.0, 1.0, 0.3 );gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.5, 0.0, 1.0 );}",
"\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\r\n\t\t\tuniform sampler2D uTex0;\r\n\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tvec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ) * vColor;\r\n\t\t\t\t\r\n\t\t\t\t//col0.a *= 0.3;\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\tgl_FragColor = col0;\r\n\t\t\t}\r\n\t\t")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=
c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));
pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();
a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:wi});var Oh=function(){ib.call(this)};f["game.backgrounds.particles.RainParticles"]=Oh;Oh.__name__="game.backgrounds.particles.RainParticles";
Oh.__super__=ib;Oh.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;250>a;)++a,this.addParticle(1E3*Math.random(),1E3*Math.random(),.8*Math.random()+.2,"particles/snow.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec3 vOffset;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( aVertexPosition.x + uTimer * 7.0, uTimer * 1000.0 ) * aOffset.z;pos.x = mod( pos.x, 1000.0);pos.y = mod( pos.y, 1000.0);vOffset = aOffset;gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec3 vOffset;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ) * vec4(0.7,0.7,0.95, vOffset.z * 0.5 + 0.2 ); gl_FragColor = col0;}")},addParticle:function(a,b,d,l){l=this.atlas.getTexture(l);this.vertexBuffer.addEntry(4);var c=this.vertexBuffer.data;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=-2;c.position+=4;c.floatArray[c.position>>>2]=-50;c.position+=
4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>2]=l.scaledLeft;c.position+=4;c.floatArray[c.position>>>2]=l.scaledTop;c.position+=4;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=2;c.position+=4;c.floatArray[c.position>>>2]=-50;c.position+=4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>2]=l.scaledRight;c.position+=4;c.floatArray[c.position>>>2]=l.scaledTop;c.position+=4;c.floatArray[c.position>>>
2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=-2;c.position+=4;c.floatArray[c.position>>>2]=50;c.position+=4;c.floatArray[c.position>>>2]=d;c.position+=4;c.floatArray[c.position>>>2]=l.scaledLeft;c.position+=4;c.floatArray[c.position>>>2]=l.scaledBottom;c.position+=4;c.floatArray[c.position>>>2]=a;c.position+=4;c.floatArray[c.position>>>2]=b;c.position+=4;c.floatArray[c.position>>>2]=2;c.position+=4;c.floatArray[c.position>>>2]=50;c.position+=4;c.floatArray[c.position>>>
2]=d;c.position+=4;c.floatArray[c.position>>>2]=l.scaledRight;c.position+=4;c.floatArray[c.position>>>2]=l.scaledBottom;c.position+=4},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b&&this.visible){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%
O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,
"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,
0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:Oh});var qg=function(){ib.call(this)};f["game.backgrounds.particles.WesternParticles"]=qg;qg.__name__="game.backgrounds.particles.WesternParticles";qg.__super__=ib;qg.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;70>a;)++a,this.addParticle(1E3*Math.random(),400*Math.random()+
600,2.5*Math.random()+.2,"particles/smelly.png");this.vertexBuffer.upload();this.mShader=new qc("\r\n\t\t\tattribute vec2 aVertexPosition;\r\n\t\t\tattribute vec3 aOffset;\r\n\t\t\tattribute vec2 aTexCoord;\r\n\t\t\t\t\t\t\r\n\t\t\tuniform mat4 uViewProjection;\r\n\t\t\tuniform float uTimer;\r\n\t\t\t\t\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tvTexCoord = aTexCoord;\r\n\t\t\t\t\r\n\t\t\t\tvec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 7.0 + uTimer * 99.0, 0.0 ) * aOffset.z;\r\n\t\t\t\tpos.x = mod( pos.x + 50.0, 1100.0) - 50.0;\r\n\t\t\t\t// FFC977\r\n\t\t\t\tvColor = vec4( 1.0, 0.7851, 0.4648, 0.2 );\r\n\t\t\t\t\r\n\t\t\t\tfloat a = uTimer * aOffset.z * 0.5;\r\n\t\t\t\tfloat sinA = sin( a ); \r\n\t\t\t\tfloat cosA = cos( a ); \r\n\t\t\t\tfloat _x = cosA * aOffset.x - sinA * aOffset.y; \r\n\t\t\t\tfloat _y = cosA * aOffset.y + sinA * aOffset.x;\r\n\t\t\t\tvec2 add = vec2( _x, _y );\r\n\t\t\t\t\r\n\t\t\t\tgl_Position = uViewProjection * vec4( pos + add * aOffset.z * 1.5, 0.0, 1.0 );\r\n\t\t\t}\t\t\t\r\n\t\t",
"\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\r\n\t\t\tuniform sampler2D uTex0;\r\n\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tvec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ) * vColor;\r\n\t\t\t\t\r\n\t\t\t\t//col0.a *= 0.3;\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\tgl_FragColor = col0;\r\n\t\t\t}\r\n\t\t")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=
c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));
pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();
a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:qg});var Yi=function(){ib.call(this)};f["game.backgrounds.particles.WinterParticles"]=Yi;Yi.__name__="game.backgrounds.particles.WinterParticles";
Yi.__super__=ib;Yi.prototype=k(ib.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;500>a;)this.addParticle(1E3*Math.random(),1E3*Math.random(),.25+a++/2E3,"particles/snow.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vCol;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0, uTimer * 40.0 ) * aOffset.z;pos = mod( pos + 50.0, 1100.0) - 50.0;vCol = vec4( 1.0, 1.0, 1.0, 1.0 );vCol.rgb *= aOffset.z / 0.5 * 0.3 + 0.7;float a = uTimer * aOffset.z * 1.5;float sinA = sin( a ); float cosA = cos( a ); vec2 add = vec2( cosA * aOffset.x - sinA * aOffset.y, cosA * aOffset.y + sinA * aOffset.x );gl_Position = uViewProjection * vec4( pos + add * aOffset.z * 2.0, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vCol;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ) * vCol; gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,
O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTimer"),
c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;e=this.atlas.get_texture();a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),
c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){ib.prototype.dispose.call(this)},__class__:Yi});var Ud=function(){this.matrix2D=Ba._new();ca.call(this);this.init()};f["game.backgrounds.shader.ShaderBG"]=Ud;Ud.__name__="game.backgrounds.shader.ShaderBG";Ud.__interfaces__=[Nf];Ud.__super__=ca;Ud.prototype=k(ca.prototype,{init:function(){},draw:function(a){},dispose:function(){var a=
this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.matrix2D=this.mShader=null},__class__:Ud});var ha=function(a){this.blend=!1;this.image=a;a.toLowerCase().indexOf(".png");this.blend=!0;Ud.call(this)};f["game.backgrounds.shader.DefaultShaderBG"]=ha;ha.__name__="game.backgrounds.shader.DefaultShaderBG";ha.__super__=Ud;ha.prototype=k(Ud.prototype,{init:function(){this.texture=new Ic(this.image);
this.texture.wrapS=q.gl.CLAMP_TO_EDGE;this.texture.wrapT=q.gl.CLAMP_TO_EDGE;this.vertexBuffer=new yc(512,2);this.vertexBuffer.entries=0;this.vertexBuffer.addEntry(4);var a=this.vertexBuffer.data;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=
4;a.floatArray[a.position>>>2]=1;a.position+=4;this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;uniform mat4 uViewProjection;varying vec2 vTexCoord;void main (void){vTexCoord = aVertexPosition;gl_Position = uViewProjection * vec4( aVertexPosition * 1000.0, 0.0, 1.0 );}","varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord ) * uColor; gl_FragColor = col0;}")},draw:function(a){Ud.prototype.draw.call(this,
a);var b=this.vertexBuffer.entries>>1;if(this.visible&&0<b&&this.texture.ready){q.instance.pushBlendState();q.instance.enableBlend(this.blend);var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%
O.sTempM3D.length],this.matrix2D),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=y.instance.resultColorR;var f=y.instance.resultColorG,g=y.instance.resultColorB;a=q.gl;l=d.mUniformLookUp.h.uColor;null==l&&(c=d.mUniformLookUp,
l=q.gl.getUniformLocation(d.mProgram,"uColor"),c.h.hasOwnProperty("uColor")&&E.remove(c.mKeys,"uColor"),c.h.uColor=l,c.mKeys.push("uColor"));a.uniform4f(l,e,f,g,1);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);d=this.mShader;e=this.texture;a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);
q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0);q.instance.popBlendState()}},dispose:function(){var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.matrix2D=this.mShader=null},__class__:ha});var Ph=function(a){this.mShaderTex=a;Ud.call(this)};f["game.backgrounds.shader.DesertBlurrBG"]=Ph;Ph.__name__="game.backgrounds.shader.DesertBlurrBG";Ph.__super__=Ud;Ph.prototype=k(Ud.prototype,
{init:function(){this.texture=new Ic(this.mShaderTex);this.texture.wrapS=q.gl.CLAMP_TO_EDGE;this.texture.wrapT=q.gl.CLAMP_TO_EDGE;this.vertexBuffer=new yc(512,2);this.vertexBuffer.entries=0;this.vertexBuffer.addEntry(7056);for(var a=this.vertexBuffer.data,b=-1;41>b;)for(var d=b++,l=-1;41>l;){var c=d/40,e=l++/40;a.floatArray[a.position>>>2]=c;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=c+.025;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>
2]=c;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4;a.floatArray[a.position>>>2]=c+.025;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4}this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aVertexPosition;vec2 pos = aVertexPosition * 1000.0;pos.x = pos.x + sin( pos.x * 0.2 + pos.y * 0.1 + uTimer * 12.0 ) * 2.0;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) { gl_FragColor = texture2D( uTex0, vTexCoord, -1.0 ) * uColor;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){q.instance.pushBlendState();q.instance.enableBlend(!1);var d=this.mShader,l=this.vertexBuffer,c=zc.getIB(b);d.mVertexBuffer=l;d.mVertexBuffer2=null;d.mIndexBuffer=c;q.gl.useProgram(d.mProgram);l.apply();null!=c&&c.apply();var e=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(e,0,y.SCREEN_HEIGHT,
y.SCREEN_WIDTH,0,-.1,100);O.MUL(e,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),e);d=this.mShader;a=q.gl;l=d.mUniformLookUp.h.uViewProjection;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),c.h.hasOwnProperty("uViewProjection")&&E.remove(c.mKeys,"uViewProjection"),c.h.uViewProjection=l,c.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,l,!1,e);d=this.mShader;e=C.timer;a=q.gl;l=d.mUniformLookUp.h.uTimer;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,
"uTimer"),c.h.hasOwnProperty("uTimer")&&E.remove(c.mKeys,"uTimer"),c.h.uTimer=l,c.mKeys.push("uTimer"));a.uniform1f(l,e);d=this.mShader;e=y.instance.resultColorR;var f=y.instance.resultColorG,g=y.instance.resultColorB;a=q.gl;l=d.mUniformLookUp.h.uColor;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uColor"),c.h.hasOwnProperty("uColor")&&E.remove(c.mKeys,"uColor"),c.h.uColor=l,c.mKeys.push("uColor"));a.uniform4f(l,e,f,g,1);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,
0);d=this.mShader;e=this.texture;a=q.gl;l=d.mUniformLookUp.h.uTex0;null==l&&(c=d.mUniformLookUp,l=q.gl.getUniformLocation(d.mProgram,"uTex0"),c.h.hasOwnProperty("uTex0")&&E.remove(c.mKeys,"uTex0"),c.h.uTex0=l,c.mKeys.push("uTex0"));a.uniform1i(l,0);null!=e?e.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0);q.instance.popBlendState()}},dispose:function(){var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=
null;a=this.mShader;null!=a&&a.dispose();this.mShader=null},__class__:Ph});var he=function(a){this.mTextureName=a;Ud.call(this)};f["game.backgrounds.shader.WaterBlurrBG"]=he;he.__name__="game.backgrounds.shader.WaterBlurrBG";he.__super__=Ud;he.prototype=k(Ud.prototype,{init:function(){this.texture=new Ic(this.mTextureName);this.texture.wrapS=q.gl.CLAMP_TO_EDGE;this.texture.wrapT=q.gl.CLAMP_TO_EDGE;this.vertexBuffer=new yc(512,2);this.vertexBuffer.entries=0;this.vertexBuffer.addEntry(7056);for(var a=
this.vertexBuffer.data,b=-1;41>b;)for(var d=b++,c=-1;41>c;){var e=d/40,f=c++/40;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=f;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4;a.floatArray[a.position>>>2]=f;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=f+.025;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4;a.floatArray[a.position>>>2]=f+.025;a.position+=4}this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aVertexPosition;vec2 pos = aVertexPosition * 1000.0;pos.x = pos.x + sin( pos.x * 0.2 + pos.y * 0.1 + uTimer * 6.0 ) * 4.0;pos.y = pos.y + cos( pos.x * 0.2 + pos.y * 0.2 + uTimer * 6.0 ) * 4.0;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) {gl_FragColor = texture2D( uTex0, vTexCoord, -1.0 ) * uColor;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){q.instance.pushBlendState();q.instance.enableBlend(!1);var d=this.mShader,c=this.vertexBuffer,e=zc.getIB(b);d.mVertexBuffer=c;d.mVertexBuffer2=null;d.mIndexBuffer=e;q.gl.useProgram(d.mProgram);c.apply();null!=e&&e.apply();var f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,
y.SCREEN_WIDTH,0,-.1,100);O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),f);d=this.mShader;a=q.gl;c=d.mUniformLookUp.h.uViewProjection;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),e.h.hasOwnProperty("uViewProjection")&&E.remove(e.mKeys,"uViewProjection"),e.h.uViewProjection=c,e.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,c,!1,f);d=this.mShader;f=C.timer;a=q.gl;c=d.mUniformLookUp.h.uTimer;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,
"uTimer"),e.h.hasOwnProperty("uTimer")&&E.remove(e.mKeys,"uTimer"),e.h.uTimer=c,e.mKeys.push("uTimer"));a.uniform1f(c,f);d=this.mShader;f=y.instance.resultColorR;var g=y.instance.resultColorG,h=y.instance.resultColorB;a=q.gl;c=d.mUniformLookUp.h.uColor;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uColor"),e.h.hasOwnProperty("uColor")&&E.remove(e.mKeys,"uColor"),e.h.uColor=c,e.mKeys.push("uColor"));a.uniform4f(c,f,g,h,1);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,
0);d=this.mShader;f=this.texture;a=q.gl;c=d.mUniformLookUp.h.uTex0;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),e.h.uTex0=c,e.mKeys.push("uTex0"));a.uniform1i(c,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0);q.instance.popBlendState()}},dispose:function(){var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=
null;a=this.mShader;null!=a&&a.dispose();this.mShader=null},__class__:he});var $i=function(a,b,d){this.mAnimationStart=0;this.middle=new g(0,0);this.animationTarget=new g(0,0);this.animationStart=new g(0,0);this.duration=1.5;G.call(this);var c=60*t.sScale;this.height!=c&&this.invalidate();var e=null;this.relativeHeight!=e&&this.invalidate();this.relativeHeight=e;e=this.height=c;this.width!=e&&this.invalidate();c=null;this.relativeWidth!=c&&this.invalidate();this.relativeWidth=c;this.width=e;this.set_image("gems/fly_icon.png");
this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=d.x;a.y=d.y;a.w=d.w;a=this.middle;a.x=y.SCREEN_WIDTH/2;a.y=y.SCREEN_HEIGHT/2;this.mAnimationStart=C.timer};f["game.gems.AddFlyAnimation"]=$i;$i.__name__="game.gems.AddFlyAnimation";$i.__super__=G;$i.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-this.mAnimationStart)/this.duration,0,1),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];g.BEZIER(b,this.animationStart,
this.middle,this.animationTarget,a);g.BEZIER(d,this.animationStart,this.middle,this.animationTarget,a+.01);var c=b.x-50;this.x!=c&&this.invalidate();this.x=c;c=b.y-50;this.y!=c&&this.invalidate();this.y=c;c=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=c&&this.invalidate();this.scale=c;d.x-=b.x;d.y-=b.y;G.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:$i});var K=function(a){this.mOverrideHidden=
!1;this.mStartSize=this.mEndSize=1;this.animationTarget=new g;this.animationStart=new g(0,0);this.mAnimationStart=0;this.destroyable=this.countForTask=!0;this.gem=this.touchable=!1;this.duration=1;this.fixed=this.ploppOnInteraction=!1;this.state=zb.NORMAL;this.stoneType="UNDEFINED";this.score=5;G.call(this,this.get_playField().context);this.id=++K.sStoneCount;K.sStones.set(this,this);NaN!=this.y&&this.invalidate();var b=this.y=NaN;this.x!=b&&this.invalidate();this.x=b;null!=a&&this.setStoneTemplate(a)};
f["game.gems.Stone"]=K;K.__name__="game.gems.Stone";K.getStoneColor=function(a){switch(a){case "GEM_BLUE":return 40957;case "GEM_GREEN":return 1886464;case "GEM_PURPLE":return 16491088;case "GEM_RED":return 14222084;case "GEM_WHITE":return 16777215;case "GEM_YELLOW":return 16771328;default:return-1}};K.getIcon=function(a){switch(a){case "APPLE":var b="apple_stone_01";break;case "BALLON":b="ballon";break;case "BEEHIVE":b="beehive";break;case "BLOB":b="blob";break;case "BOMB":b="bomb";break;case "BOX":case "BOX2":case "BOX3":case "BOX_BLUE":case "BOX_GREEN":case "BOX_PURPLE":case "BOX_RED":case "BOX_WHITE":case "BOX_YELLOW":case "COLOR_BOX":b=
"box";break;case "BREAKER":case "BREAKER_COLUMN":b="row";break;case "CELL":b="cell_01";break;case "CHAMELEON":b="chameleon";break;case "CHEST":b="chest";break;case "CHICKEN":b="chicken";break;case "COCONUT":b="coconut_01";break;case "COIN":case "COINS":b="coin";break;case "COLOR_EGG":b="egg";break;case "CRACKLING":b="crackling1";break;case "CRACKLING2":b="crackling2";break;case "DUNG":b="dung";break;case "DUNG_PILE":b="dung_pile";break;case "ANVIL":case "FAT_ANVIL":b="anvil";break;case "FAT_MULTI":return"particles/banana.png";
case "FAT_MULTI2":b="basket";break;case "FAT_MULTI_COLOR":b="basket";break;case "FAT_MULTI_COLOR_TWISTER":b="basket_twister";break;case "FERTILIZER":b="fertilizer";break;case "FLIES":b="fly";break;case "FOOD_BOWL":b="bowl_01";break;case "GEM_BLUE":b="gem_blue";break;case "GEM_GREEN":b="gem_green";break;case "GEM_PURPLE":b="gem_purple";break;case "GEM_RANDOM":case "UNDEFINED":b="";break;case "GEM_RED":b="gem_red";break;case "GEM_WHITE":b="gem_white";break;case "GEM_YELLOW":b="gem_yellow";break;case "GIFT":b=
"gift";break;case "GROUP_5_HITS_ONE_PLACE":case "GROUP_5_HITS_ONE_PLACE2":b="fish_icon";break;case "GROUP_SINGLE_HIT_EACH":case "GROUP_SINGLE_HIT_EACH2":b="pumpkin";break;case "HARD_CAGE":case "HARD_CAGE2":case "HARD_CAGE3":case "HARD_CAGE4":b="hardCage";break;case "HONEYPOT":b="honeypot";break;case "LEAF":b="leaf";break;case "METAL_PLATE":b="metal_plate";break;case "MULTI_CAGE":b="Tierkorb_Front";break;case "ORB":b="orb";break;case "ORE":case "ORE_PILE":b="ore";break;case "ROCKS":case "ROCKS_BLUE":case "ROCKS_GREEN":case "ROCKS_PURPLE":case "ROCKS_RED":case "ROCKS_WHITE":case "ROCKS_YELLOW":b=
"blockarea_stone";break;case "SKUNK":b="skunk";break;case "SNOWBALL":b="snowball";break;case "SNOWFLAKE":b="snowflake";break;case "SNOWMAN":b="snowman";break;case "SOFT_CAGE":b="softCage";break;case "STUNNED":b="star";break;case "TICKER":b="oyster_01";break;case "TICKER2":b="oyster_01";break;case "TIMEBOMB":b="bomb";break;case "WATER":b="water_drop";break;case "X_HIT":b="branch"}a="gems/"+b+t.THEME_POSTFIX+".png";return ua.exists(a)?a:"gems/"+b+".png"};K.__super__=G;K.prototype=k(G.prototype,{setStoneTemplate:function(a){if(null!=
a&&null!=this.get_playField().context){var b=a+t.THEME_POSTFIX;b=this.get_playField().context.getTemplate(b);null!=b?b.applyTo(this):(b=this.get_playField().context.getTemplate(a),null!=b&&b.applyTo(this));this.mBG=this.findType("uiImgBg",G)}},onTouch:function(a,b){K.sTouchObject=this;G.prototype.onTouch.call(this,a,b)},onTouchUp:function(a,b,d,c){this.name=""+K.getIcon(this.stoneType)+" "+this.row+","+this.column;null==rc.sInstance&&(this.touchable&&K.sTouchObject==this?this.userAction():this.addAnimation(new Qd));
G.prototype.onTouchUp.call(this,a,b,d,c)},userAction:function(){},setHighlight:function(){this.setHighlightAnimation(.3,.01)},unsetHighlight:function(){this.setHighlightAnimation(0,.2)},get_stateOk:function(){return this.state!=zb.NORMAL?this.state==zb.JUMP:!0},get_hidden:function(){var a=Ra.getOverlay(this.column,this.row);return!(null==a||!a.hide)},get_playField:function(){return t.get_instance()},getNeightbour:function(a,b){a=this.column+a;b=this.row+b;return 0<=a&&a<t.COLUMNS&&0<=b&&b<t.ROWS?
this.get_playField().getStone(a,b):null},getNeightbours:function(){var a=[],b=this.getNeightbour(-1,0);null!=b&&a.push(b);b=this.getNeightbour(1,0);null!=b&&a.push(b);b=this.getNeightbour(0,-1);null!=b&&a.push(b);b=this.getNeightbour(0,1);null!=b&&a.push(b);return a},getNeightbourOverlay:function(a,b){a=this.column+a;b=this.row+b;return 0<=a&&a<t.COLUMNS&&0<=b&&b<t.ROWS?Ra.getOverlay(a,b):null},getNeightbourOverlays:function(){var a=[],b=this.getNeightbourOverlay(-1,0);null!=b&&a.push(b);b=this.getNeightbourOverlay(1,
0);null!=b&&a.push(b);b=this.getNeightbourOverlay(0,-1);null!=b&&a.push(b);b=this.getNeightbourOverlay(0,1);null!=b&&a.push(b);return a},setGroup:function(a){if(null!=this.mBG){var b=this.mBG;0!=b.colorOffset&&b.invalidate();b.colorOffset=0}this.group=a},fall:function(a){null==a&&(a=!1);if(!this.fixed||this.row>=t.ROWS){var b=1E3;if(this.fixed)b=this.row-t.ROWS;else for(var d=this.row;0<d&&null==this.get_playField().getStone(this.column,d-1);)--d,this.get_playField().getField(this.column,d)&&(b=d);
b<this.row&&(a||(a=this.animationStart,a.x=this.x,a.y=this.y,a=this.animationTarget,a.x=this.column*t.STONE_SIZE,a.y=-b*t.STONE_SIZE,this.state=zb.FALLING,this.mAnimationStart=C.timer,this.duration=.3),this.setStone(this.column,this.row,null),this.setStone(this.column,b,this),this.setPos(this.column,b))}},isSame:function(a){return a.stoneType==this.stoneType},interact:function(a){var b=Ra.getOverlay(this.column,this.row);!this.ploppOnInteraction||this.get_hidden()||null!=b&&b.block||this.plopp(a);
null!=b&&b.interact(a);return!1},interactWithNeighbours:function(){for(var a=0,b=this.getNeightbours();a<b.length;)b[a++].interact(this);a=0;for(b=this.getNeightbourOverlays();a<b.length;)b[a++].interact(this)},forcePlopp:function(a){if(a instanceof me||a instanceof pc){var b=Ra.getOverlay(this.column,this.row);if(null!=b){b.plopp();return}}this.plopp(a)},countStoneTypeForTask:function(){this.countForTask&&this.get_playField().task.isTask(this.stoneType)&&t.get_instance().finishAnimation(this,this.stoneType)},
plopp:function(a){if(!this.get_hidden()||this.mOverrideHidden)K.sStones.remove(this),this.countStoneTypeForTask(),this.setStone(this.column,this.row,null),this.state=zb.PLOPPING,this.duration=.5,this.mAnimationStart=C.timer,null!=this.animationStart&&(a=this.animationStart,a.x=this.x,a.y=this.y,a=this.animationTarget,a.x=this.x,a.y=this.y),this.mEndSize=1.7,a=this.get_playField().task,a.set_score(a.score+this.score),0<this.score&&this.get_playField().scoreAnimation(this.getMiddle(),this.score,this.get_StoneColor()),
this.dispatchSimpleXEvent("Stone::PLOPP")},kick:function(a){var b=Ra.getOverlay(this.column,this.row);if(null!=b)switch(b.stoneType){case "HARD_CAGE":case "HARD_CAGE2":case "HARD_CAGE3":case "HARD_CAGE4":b.plopp();return;case "LEAF":case "METAL_PLATE":b.interact(a);return}this.plopp(a)},moveToRootAnimation:function(a){this.state=zb.PLOPPING;this.duration=.5;this.mAnimationStart=C.timer;var b=this.animationStart;null!=b&&(b.x=this.x,b.y=this.y);null!=a&&(b=this.animationTarget,null!=b&&(b.x=a.x,b.y=
a.y));this.mEndSize=.5},setPos:function(a,b){if(this.state!=zb.PLOPPING)if(this.column=a,this.row=b,isNaN(this.x)){a*=t.STONE_SIZE;this.x!=a&&this.invalidate();this.x=a;a=-b*t.STONE_SIZE;this.y!=a&&this.invalidate();this.y=a;this.state=zb.NORMAL;var d=this.animationStart;d.x=this.x;d.y=this.y;d=this.animationTarget;d.x=this.x;d.y=this.y}else if(this.state!=zb.FALLING){d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=this.x;d.y=this.y;var c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];c.x=a*t.STONE_SIZE;
c.y=-b*t.STONE_SIZE;this.setStoneAnimation(d,c,zb.MOVING)}},setStoneAnimation:function(a,b,d,c){null!=this.animationStart&&(c=this.animationStart,c.x=a.x,c.y=a.y,c.w=a.w,c=this.animationTarget,c.x=b.x,c.y=b.y,c.w=b.w,this.state=d,this.mAnimationStart=C.timer,this.duration=.5)},resetAnimation:function(a){null==a&&(a=!1);a&&(a=this.column*t.STONE_SIZE,this.x!=a&&this.invalidate(),this.x=a,a=-this.row*t.STONE_SIZE,this.y!=a&&this.invalidate(),this.y=a);null!=this.animationTarget&&(this.animationTarget.x=
this.animationStart.x=this.x,this.animationTarget.y=this.animationStart.y=this.y)},setStoneAction:function(a,b,d){this.state=a;this.mAnimationStart=C.timer;this.duration=b;switch(a._hx_index){case 1:b=this.getNeightbour(0,-1);null==b||b.state!=zb.NORMAL||b.fixed||(a=0<g.sPoolV2D.length?g.sPoolV2D.pop():new g,a.x=0,a.y=5,b.setStoneAction(zb.IMPACT,.25,a),b=b.getNeightbour(0,-1),null==b||b.state!=zb.NORMAL||b.fixed||(a=0<g.sPoolV2D.length?g.sPoolV2D.pop():new g,a.x=0,a.y=2.5,b.setStoneAction(zb.IMPACT,
.25,a)));break;case 2:null!=this.impact&&g.sPoolV2D.push(this.impact),this.impact=d}},update:function(){if(null!=this.group&&0!=this.group.markTimer&&this.group.markTimer<C.timer&&null!=this.mBG){var a=1.5*(C.timer-this.group.markTimer),b=this.mBG;a=0==Math.floor(a/2)%2?.2*Math.abs(Math.sin(a*Math.PI)):0;a=(Math.round(U.toFloat(0)*a)<<24)+(Math.round(U.toFloat(255)*a)<<16)+(Math.round(U.toFloat(255)*a)<<8)+Math.round(U.toFloat(255)*a);b.colorOffset!=a&&b.invalidate();b.colorOffset=a}b=Math.min(1,
(C.timer-this.mAnimationStart)/this.duration);switch(this.state._hx_index){case 1:a=this.animationTarget.y-25*(-4*(b-.5)*(b-.5)+1);this.y!=a&&this.invalidate();this.y=a;1<=b&&(a=this.animationTarget.y,this.y!=a&&this.invalidate(),this.y=a,a=this.animationTarget.x,this.x!=a&&this.invalidate(),this.x=a,this.state=zb.NORMAL);break;case 2:var d=-4*(b-.5)*(b-.5)+1;a=this.animationTarget.x+d*this.impact.x;this.x!=a&&this.invalidate();this.x=a;a=this.animationTarget.y+d*this.impact.y;this.y!=a&&this.invalidate();
this.y=a;1<=b&&(a=this.animationTarget.y,this.y!=a&&this.invalidate(),this.y=a,a=this.animationTarget.x,this.x!=a&&this.invalidate(),this.x=a,this.state=zb.NORMAL,g.sPoolV2D.push(this.impact),this.impact=null);break;case 3:b*=b;a=this.animationStart.x*(1-b)+this.animationTarget.x*b;this.x!=a&&this.invalidate();this.x=a;a=this.animationStart.y*(1-b)+this.animationTarget.y*b;this.y!=a&&this.invalidate();this.y=a;1<=b&&(this.state=zb.NORMAL,this.inPlace());break;case 4:a=b;a=this.animationStart.y*(1-
a)+this.animationTarget.y*a;this.y!=a&&this.invalidate();this.y=a;1<=b&&(this.inPlace(),this.setStoneAction(zb.JUMP,.25));break;case 5:b=Math.sqrt(b),a=this.animationStart.x*(1-b)+this.animationTarget.x*b,this.x!=a&&this.invalidate(),this.x=a,a=this.animationStart.y*(1-b)+this.animationTarget.y*b,this.y!=a&&this.invalidate(),this.y=a,a=this.mStartSize*(1-b)+this.mEndSize*b,this.scale!=a&&this.invalidate(),this.scale=a,a=1-b*b,this.alpha!=a&&this.invalidate(),this.alpha=a,7368816!=this.colorOffset&&
this.invalidate(),this.colorOffset=7368816,1<=b&&this.get_playField().ploppedStones.push(this)}G.prototype.update.call(this)},inPlace:function(){},setStone:function(a,b,d){this.get_playField().setStone(a,b,d)},get_valid:function(){return"UNDEFINED"!=this.stoneType},get_affectedByPowerUp:function(){return this.destroyable?!0:this.ploppOnInteraction},get_StoneColor:function(){return K.getStoneColor(this.stoneType)},match:function(a){return null!=a?a.stoneType==this.stoneType:!1},dispose:function(){K.sStones.remove(this);
this.get_playField().getStone(this.column,this.row)==this&&this.get_playField().setStone(this.column,this.row,null);if(null==this.get_playField().succeeded){var a=w.field(K.sStoneCounts,R.string(this.stoneType));null==a?a=1:++a;K.sStoneCounts[R.string(this.stoneType)]=a}this.mMiddle=this.group=this.state=this.impact=this.animationTarget=this.animationStart=null;this.stoneType="UNDEFINED";G.prototype.dispose.call(this)},__class__:K,__properties__:k(G.prototype.__properties__,{get_hidden:"get_hidden",
get_stateOk:"get_stateOk",get_valid:"get_valid",get_affectedByPowerUp:"get_affectedByPowerUp",get_playField:"get_playField"})});var Ug=function(){this.mFloored=!1;K.call(this,"tAnvil");this.touchable=this.destroyable=!1;Oa.sInstance.atlas.getTexture("gems/anvil.png");this.stoneType="ANVIL"};f["game.gems.Anvil"]=Ug;Ug.__name__="game.gems.Anvil";Ug.__super__=K;Ug.prototype=k(K.prototype,{interact:function(a){a instanceof Xb&&this.addAnimation(new Qd);return K.prototype.interact.call(this,a)},plopp:function(a){if(this.mFloored){K.prototype.plopp.call(this,
a);e.get_instance().playUnique("sound/anvil.mp3",0,.7,1);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;10>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=250;c.y*=250;b=c;c.y-=200;var p=1+.5*Math.random(),f=30+20*Math.random(),h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);var k=this.get_playField().particleRenderer,n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+
this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"gems/anvil.png",n,p,c,a,f,0,-1,-1,h,m,0,0)}}},checkGround:function(){for(var a=0,b=this.row;a<b;)if(this.get_playField().getField(this.column,a++))return!1;return!0},inPlace:function(){this.mFloored||0!=this.row&&!this.checkGround()||(this.addAnimation(new wk),this.mFloored=!0,this.get_playField().addCommand(1,new ed(this)))},__class__:Ug});var Dj=function(a,b){null==b&&(b="tApple");null==a&&(a=3);this.mCount=
0;K.call(this,b);this.mCount=a;Oa.sInstance.atlas.getTexture("particles/apple.png");this.get_playField().get_atlas().getTexture("gems/apple_stone_02.png");this.get_playField().get_atlas().getTexture("gems/apple_stone_03.png");this.stoneType="APPLE";this.ploppOnInteraction=!0};f["game.gems.Apple"]=Dj;Dj.__name__="game.gems.Apple";Dj.__super__=K;Dj.prototype=k(K.prototype,{updateDisplay:function(){var a="gems/apple_stone_"+ia.ndigits(4-this.mCount,2)+".png",b=this.find("uiImgIcon");null!=b&&b instanceof
G&&b.set_image(a)},plopp:function(a){0<--this.mCount&&this.updateDisplay();var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.blubb();e.get_instance().playUnique("sound/apple.mp3",0,1,1);switch(this.mCount){case 0:for(var c=0;10>c;){++c;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var p=d;p.x*=230;p.y*=230;d=p;var f=1+.5*Math.random(),h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);var k=this.get_playField().particleRenderer,
n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"particles/apple.png",n,f,p,b,40,40,-1,16777215,h,m,0,0)}K.prototype.plopp.call(this,a);break;case 1:d.x=300;d.y=30;f=1+.5*Math.random();h=4*(360*Math.random()-720);m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);p=this.get_playField().particleRenderer;k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/
2;null==m&&(m=0);null==h&&(h=0);p.addParticle(p.mVertexBuffer,"particles/apple.png",k,f,d,b,40,40,-1,16777215,h,m,0,0);break;case 2:d.x=-300,d.y=10,f=1+.5*Math.random(),h=4*(360*Math.random()-720),m=4*(360*Math.random()-720),null==m&&(m=0),null==h&&(h=0),p=this.get_playField().particleRenderer,k=K.sV2D,k.x=this.x+this.resultWidth/2,k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==m&&(m=0),null==h&&(h=0),p.addParticle(p.mVertexBuffer,"particles/apple.png",k,f,d,b,40,40,-1,16777215,h,m,0,0)}},
__class__:Dj});var Cb=function(a){this.gemType="UNDEFINED";K.call(this,a)};f["game.gems.ColorStone"]=Cb;Cb.__name__="game.gems.ColorStone";Cb.__super__=K;Cb.prototype=k(K.prototype,{interact:function(a){null!=a&&a.gem&&(a.stoneType==this.gemType?this.plopp():this.addAnimation(new Qd));return K.prototype.interact.call(this,a)},__class__:Cb});var ie=function(a){this.countDown=0;Cb.call(this,"tBallon");if("UNDEFINED"==this.gemType){var b=this.get_playField().task.allowedGemTypes.length;this.gemType=
this.get_playField().task.allowedGemTypes[R.random(b)];b=K.getStoneColor(this.gemType);var d=this.find("uiImgBallon");if(null!=d){var l=U.toFloat(b>>>16&255)/255,e=U.toFloat(b>>>8&255)/255,f=U.toFloat(b&255)/255;if(l!=d.colorR||e!=d.colorG||f!=d.colorB)d.colorR!=l&&d.invalidate(),d.colorR=l,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=f&&d.invalidate(),d.colorB=f,d.invalidate();d.color=b}b=K.getIcon(this.gemType);d=this.find("uiImgIcon");null!=d&&d instanceof G&&d.set_image(b)}this.stoneType=
"BALLON";this.countDown=a;this.mOverrideHidden=!0;ie.sBallons.push(this);this.registerXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction));this.updateDisplay()};f["game.gems.Ballon"]=ie;ie.__name__="game.gems.Ballon";ie.__super__=Cb;ie.prototype=k(Cb.prototype,{onUserAction:function(a){0==--this.countDown&&(this.countForTask=!1,this.explode(),this.plopp());this.updateDisplay()},countStoneTypeForTask:function(){e.get_instance().playUnique("sound/ballon_release.mp3",0,1,1);this.countForTask&&
this.get_playField().task.isTask(this.stoneType)&&t.get_instance().finishAnimation(this,this.stoneType)},updateDisplay:function(){this.setText("uiTxtCountDown",N.number(this.countDown));2==this.countDown&&this.addAnimation(new df(null))},explode:function(){e.get_instance().playUnique("sound/ballon_plopp.mp3",0,1,1);var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=150;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=-16777216|K.getStoneColor(this.gemType),c=0;17>c;){++c;b.x=2*Math.random()-
1;b.y=2*Math.random()-1;b.x*=550;b.y*=550;var p=20+2*Math.random(),f=1.5+.5*Math.random(),h=d,m=d,k=360*Math.random()-720,n=360*Math.random()-720,q=1440*Math.random();null==q&&(q=0);null==n&&(n=0);null==k&&(k=0);null==d&&(m=0);null==d&&(h=-1);var r=this.get_playField().particleRenderer,u=K.sV2D;u.x=this.x+this.resultWidth/2;u.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==q&&(q=0);null==n&&(n=0);null==k&&(k=0);null==m&&(m=0);null==h&&(h=-1);r.addParticle(r.mVertexBuffer,"particles/ballon.png",
u,f,b,a,p,p,h,m,k,n,q,0)}a=this.getNeightbours();a.push(this.getNeightbour(0,2));for(c=0;c<a.length;)b=a[c],++c,b instanceof Xb&&b.set_stunned(!0);this.get_playField().addCommand(.5,new Ta);for(c=0;7>c;)for(b=c++,d=0;7>d;)f=d++,a=this.column+(b-3),p=this.row+(f-3),p=this.get_playField().getStone(a,p),null!=p&&p.state==zb.NORMAL&&(a=0<g.sPoolV2D.length?g.sPoolV2D.pop():new g,a.x=b-3,a.y=-(f-3),f=Math.sqrt(a.x*a.x+a.y*a.y),f=1/f/Math.max(1,f),a.x*=f,a.y*=f,a.x*=50,a.y*=50,p.setStoneAction(zb.IMPACT,
.5,a))},plopp:function(a){this.countDown=-1;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=150;for(var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=-16777216|K.getStoneColor(this.gemType),e=0;10>e;){++e;d.x=2*Math.random()-1;d.y=2*Math.random()-1;d.x*=550;d.y*=550;var f=20+5*Math.random(),h=1.5+.5*Math.random(),m=c,k=c,n=360*Math.random()-720,q=360*Math.random()-720,r=1440*Math.random();null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);null==c&&(k=0);null==c&&(m=-1);var u=this.get_playField().particleRenderer,
M=K.sV2D;M.x=this.x+this.resultWidth/2;M.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);null==k&&(k=0);null==m&&(m=-1);u.addParticle(u.mVertexBuffer,"particles/ballon.png",M,h,d,b,f,f,m,k,n,q,r,0)}Cb.prototype.plopp.call(this,a)},dispose:function(){E.remove(ie.sBallons,this);Cb.prototype.dispose.call(this)},__class__:ie});var rg=function(){this.mCount=2;K.call(this,"tBeehive");this.fixed=!0;this.stoneType="BEEHIVE";this.ploppOnInteraction=!0;for(var a=
rg.sBeeTargets;0<a.length;)a.pop()};f["game.gems.Beehive"]=rg;rg.__name__="game.gems.Beehive";rg.__super__=K;rg.prototype=k(K.prototype,{plopp:function(a){--this.mCount;switch(this.mCount){case 0:this.get_playField().addCommand(0,new zd(this.getMiddle()),!0);e.get_instance().playUnique("sound/Bee_fly_loop_end.mp3",0,1,1);K.prototype.plopp.call(this);break;case 1:if(this.blubb(),a=this.context,a=null!=a?a.getTemplate("tBeehiveBee"):null,null!=a){this.addChild(a.createInstance()).addAnimation(new Ch(null,
22*(3*Math.random()+10),360*Math.random()));this.addChild(a.createInstance()).addAnimation(new Ch(null,25*(3*Math.random()+10),360*Math.random()));a=a.createInstance();-1!=a.scaleY&&a.invalidate();a.scaleY=-1;.95!=a.scale&&a.invalidate();a.scale=.95;var b=a.find("uiImgBee");20!=b.x&&b.invalidate();b.x=20;this.addChild(a).addAnimation(new Ch(null,-23*(3*Math.random()+10),360*Math.random()));e.get_instance().playUnique("sound/Bee_loop.mp3",0,1,1)}}},__class__:rg});var je=function(a,b,d){this.mAnimationStart=
0;this.middle=new g(0,0);this.animationTarget=new g(0,0);this.animationStart=new g(0,0);this.duration=1.5;G.call(this);var c=60*t.sScale;this.height!=c&&this.invalidate();var e=null;this.relativeHeight!=e&&this.invalidate();this.relativeHeight=e;e=this.height=c;this.width!=e&&this.invalidate();c=null;this.relativeWidth!=c&&this.invalidate();this.relativeWidth=c;this.width=e;this.set_image("gems/row.png");this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=d.x;
a.y=d.y;a.w=d.w;a=this.middle;b=y.SCREEN_HEIGHT*Math.random();a.x=y.SCREEN_WIDTH*Math.random();a.y=b;this.mAnimationStart=C.timer};f["game.gems.BeehiveAnimation"]=je;je.__name__="game.gems.BeehiveAnimation";je.__super__=G;je.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-this.mAnimationStart)/this.duration,0,1),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];g.BEZIER(b,this.animationStart,this.middle,this.animationTarget,a);g.BEZIER(d,this.animationStart,
this.middle,this.animationTarget,a+.01);var c=b.x-50;this.x!=c&&this.invalidate();this.x=c;c=b.y-50;this.y!=c&&this.invalidate();this.y=c;c=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=c&&this.invalidate();this.scale=c;d.x-=b.x;d.y-=b.y;c=-45+180*Math.atan2(d.y,d.x)/Math.PI;this.rotation!=c&&this.invalidate();this.rotation=c;G.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:je});var Wb=
function(){K.call(this,"tBlob");this.stoneType="BLOB";this.ploppOnInteraction=this.fixed=!0;Oa.sInstance.atlas.getTexture("gems/blob.png");this.addAnimation(new Ek);Wb.sBlobs.push(this)};f["game.gems.Blob"]=Wb;Wb.__name__="game.gems.Blob";Wb.updateTaskCount=function(){var a=t.get_instance().task;if(null!=a&&Object.prototype.hasOwnProperty.call(a.tasks.h,"BLOB")){a=t.get_instance().task.getOrCreateTask("BLOB");for(var b=0,d=0,c=t.COLUMNS;d<c;)for(var e=d++,f=0,g=t.ROWS;f<g;){var h=t.get_instance().getStone(e,
f++);"BLOB"==(null!=h?h.stoneType:null)&&++b}a.set_amount(b)}};Wb.checkBlob=function(){if(0<Wb.sBlobs.length&&Wb.sLastBlobPlopp<t.get_instance().currentMove)for(var a=R.random(Wb.sBlobs.length),b=Wb.sBlobs.length,d=0;d<b;)if(++d,Wb.sBlobs[a++%b].expand()){Wb.updateTaskCount();break}};Wb.initLevel=function(){Wb.sLastBlobPlopp=-1};Wb.__super__=K;Wb.prototype=k(K.prototype,{plopp:function(a){E.remove(Wb.sBlobs,this);K.prototype.plopp.call(this,a);Wb.sLastBlobPlopp=this.get_playField().currentMove;a=
g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;8>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=250;c.y*=250;b=c;var e=1.5+.5*Math.random(),f=25+10*Math.random(),h=2*(360*Math.random()-720),m=2*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);var k=this.get_playField().particleRenderer,n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,
"gems/blob.png",n,e,c,a,f,0,-1,-1,h,m,0,0)}},expand:function(){for(var a=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}],b=R.random(a.length),d=0;4>d;){++d;var c=a[b++%a.length],e=this.column+c.x,f=this.row+c.y;if(0<=e&&0<=f&&e<t.COLUMNS&&f<t.ROWS&&this.get_playField().getField(e,f)){var h=this.getNeightbour(c.x,c.y);if(null==h||h.gem)return null!=h&&h.dispose(),a=t.get_instance().addStone(e,f,new Wb),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],b.x=a.x-c.x*t.STONE_SIZE,b.y=a.y+c.y*t.STONE_SIZE,c=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen],c.x=a.x,c.y=a.y,a.setStoneAnimation(b,c,zb.MOVING),Wb.updateTaskCount(),!0}}return!1},dispose:function(){K.prototype.dispose.call(this);E.remove(Wb.sBlobs,this)},__class__:Wb});var Pf=function(a){this.countDown=0;Cb.call(this,"tBomb");if("UNDEFINED"==this.gemType){var b=this.get_playField().task.allowedGemTypes.length;this.gemType=this.get_playField().task.allowedGemTypes[R.random(b)];b=K.getIcon(this.gemType);var d=this.find("uiImgIcon");null!=d&&d instanceof G&&d.set_image(b)}this.stoneType=
"BOMB";this.countDown=a;this.mOverrideHidden=!0;Pf.sBombs.push(this);this.registerXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction));this.updateDisplay()};f["game.gems.Bomb"]=Pf;Pf.__name__="game.gems.Bomb";Pf.__super__=Cb;Pf.prototype=k(Cb.prototype,{onUserAction:function(a){0==--this.countDown&&(this.explode(),this.plopp(),a=this.get_playField().task,a.set_moves(a.get_moves()-1));this.updateDisplay()},countStoneTypeForTask:function(){var a=!1;if(null!=this.get_playField().task.spawnObjects)for(var b=
0,d=this.get_playField().task.spawnObjects;b<d.length;){var c=d[b];++b;"BOMB"==c.stoneType&&0>=c.factor&&(a=!0)}a&&this.get_playField().task.isTask(this.stoneType)&&t.get_instance().finishAnimation(this,this.stoneType)},updateDisplay:function(){this.setText("uiTxtCountDown",N.number(this.countDown));2==this.countDown&&this.addAnimation(new df(null))},explode:function(){e.get_instance().play("sound/skunk.mp3",0,1,1);for(var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],b=0;5>b;){++b;a.x=2*Math.random()-
1;a.y=2*Math.random()-1;var d=a;a=1/Math.sqrt(d.x*d.x+d.y*d.y);d.x*=a;d.y*=a;d.x*=100;d.y*=100;a=d;var c=2+.5*Math.random(),p=g.ZERO,f=this.get_playField().particleRenderer,h=K.sV2D;h.x=this.x+this.resultWidth/2;h.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;f.addParticle(f.mVertexBuffer,"particles/smelly.png",h,c,d,p,50,150,-2987746,13789471,0,0,0,0)}this.get_playField().addCommand(.5,new Ta);for(b=0;7>b;)for(a=b++,c=0;7>c;)f=c++,d=this.column+(a-3),p=this.row+(f-3),p=this.get_playField().getStone(d,
p),null!=p&&p.state==zb.NORMAL&&(d=0<g.sPoolV2D.length?g.sPoolV2D.pop():new g,d.x=a-3,d.y=-(f-3),f=Math.sqrt(d.x*d.x+d.y*d.y),f=1/f/Math.max(1,f),d.x*=f,d.y*=f,d.x*=50,d.y*=50,p.setStoneAction(zb.IMPACT,.5,d))},plopp:function(a){Cb.prototype.plopp.call(this,a)},dispose:function(){E.remove(Pf.sBombs,this);Cb.prototype.dispose.call(this)},__class__:Pf});var nf=function(a,b){null==b&&(b="tGemBox");null==a&&(a=1);this.mCount=0;K.call(this,b);this.mCount=a;this.updateDisplay();this.stoneType="BOX";this.fixed=
this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("gems/box.png");Oa.sInstance.atlas.getTexture("gems/box2.png")};f["game.gems.Box"]=nf;nf.__name__="game.gems.Box";nf.__super__=K;nf.prototype=k(K.prototype,{updateDisplay:function(){this.setVisible("uiImgBox2",1<this.mCount);this.setVisible("uiImgBox3",2<this.mCount)},plopp:function(a){--this.mCount;this.updateDisplay();var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];switch(this.mCount){case 0:e.get_instance().playUnique("sound/box.mp3",
0,.3,1);for(var c=0;10>c;){++c;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var p=d;p.x*=550;p.y*=550;d=p;p.x*=.7;var f=1.5+.5*Math.random(),h=40+20*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720),n=720*Math.random();null==n&&(n=0);null==k&&(k=0);null==m&&(m=0);var q=this.get_playField().particleRenderer,r=K.sV2D;r.x=this.x+this.resultWidth/2;r.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==n&&(n=0);null==k&&(k=0);null==m&&(m=0);q.addParticle(q.mVertexBuffer,"gems/box.png",
r,f,p,b,h,.04,-1,16777215,m,k,n,0)}K.prototype.plopp.call(this,a);break;case 1:case 2:for(c=0;10>c;)++c,d.x=2*Math.random()-1,d.y=2*Math.random()-1,p=d,p.x*=250,p.y*=250,d=p,p.x*=.7,f=1+.5*Math.random(),h=30+15*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720),null==k&&(k=0),null==m&&(m=0),q=this.get_playField().particleRenderer,r=K.sV2D,r.x=this.x+this.resultWidth/2,r.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==k&&(k=0),null==m&&(m=0),q.addParticle(q.mVertexBuffer,
"gems/box2.png",r,f,p,b,h,0,-1,-1,m,k,0,0)}},__class__:nf});var pc=function(a){K.call(this,a);Oa.sInstance.atlas.getTexture("gems/row.png");Oa.sInstance.atlas.getTexture("particles/wave.png");this.touchable=!0};f["game.gems.Special"]=pc;pc.__name__="game.gems.Special";pc.__super__=K;pc.prototype=k(K.prototype,{userAction:function(){!this.get_stateOk()||this.get_playField().get_locked()||this.get_hidden()||(this.plopp(this),this.get_playField().userAction())},plopp:function(a){K.prototype.plopp.call(this,
a);Ra.overlayPlopp(this.column,this.row)},countStoneTypeForTask:function(){K.prototype.countStoneTypeForTask.call(this)},isSame:function(a){return a instanceof pc},setGroup:function(a){K.prototype.setGroup.call(this,a);null!=this.group&&1<this.group.data.length?(t.get_instance(),a=!0):a=!1;this.setVisible("uiImgGlow",a)},multiBreakerEffect:function(a,b){e.get_instance().play("sound/bee.mp3",0,1,1);var d=a.column;a=a.row;for(var c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],f=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen],h=0;15>h;){++h;c.x=2*Math.random()-1;c.y=2*Math.random()-1;c.x*=2E3;c.y*=2E3;f.x=c.x;f.y=c.y;f.w=c.w;f.x*=-.3;f.y*=-.3;var m=.1*(360*Math.random()-720);null==m&&(m=0);var k=this.get_playField().particleRenderer,n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);k.addParticle(k.mVertexBuffer,"particles/glow_dot.png",n,1.7,c,f,30,10,-1,16777215,0,m,0,0)}c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b?(c.x=1700,c.y=0,h=g.ZERO,k=this.get_playField().particleRenderer,
n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,k.addParticle(k.mVertexBuffer,"gems/row.png",n,1,c,h,60,60,-1,-1,45,45,0,0),c.x*=-1,c.y*=-1,h=g.ZERO,k=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,k.addParticle(k.mVertexBuffer,"gems/row.png",n,1,c,h,60,60,-1,-1,225,225,0,0)):(c.x=0,c.y=1700,h=g.ZERO,k=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/
2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,k.addParticle(k.mVertexBuffer,"gems/row.png",n,1,c,h,60,60,-1,-1,315,315,0,0),c.x*=-1,c.y*=-1,h=g.ZERO,k=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,k.addParticle(k.mVertexBuffer,"gems/row.png",n,1,c,h,60,60,-1,-1,135,135,0,0));if(b)for(h=1,b=t.COLUMNS;h<b;)c=h++,k=d+c,k<t.COLUMNS&&this.get_playField().addCommand(.05*c,new ub(k,a,this)),k=d-c,0<=k&&this.get_playField().addCommand(.05*
c,new ub(k,a,this));else for(h=1,b=t.ROWS;h<b;)c=h++,k=a+c,k<t.ROWS&&this.get_playField().addCommand(.05*c,new ub(d,k,this)),k=a-c,0<=k&&this.get_playField().addCommand(.05*c,new ub(d,k,this))},skunkBreakerEffect:function(){e.get_instance().play("sound/skunk.mp3",0,1,1);e.get_instance().play("sound/bee.mp3",0,1,1);for(var a=this.column,b=this.row,d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],f=0;65>f;){++f;d.x=2*Math.random()-1;d.y=2*Math.random()-1;d.x*=
1E3;d.y*=1E3;c.x=d.x;c.y=d.y;c.w=d.w;c.x*=-.3;c.y*=-.3;var h=.1*(360*Math.random()-720);null==h&&(h=0);var m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);m.addParticle(m.mVertexBuffer,"particles/flare.png",k,1.7,d,c,30,10,-1,16777215,0,h,0,0)}m=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];m.x=1700;m.y=0;k=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];k.x=0;k.y=1700;f=g.ZERO;d=this.get_playField().particleRenderer;
c=K.sV2D;c.x=this.x+this.resultWidth/2;c.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,m,f,60,60,-1,-1,45,45,0,0);m.x*=-1;m.y*=-1;f=g.ZERO;d=this.get_playField().particleRenderer;c=K.sV2D;c.x=this.x+this.resultWidth/2;c.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,m,f,60,60,-1,-1,225,225,0,0);f=g.ZERO;m=this.get_playField().particleRenderer;d=K.sV2D;d.x=this.x+this.resultWidth/2;d.y=t.ROWS*t.STONE_SIZE+
this.y-this.resultHeight/2;m.addParticle(m.mVertexBuffer,"gems/row.png",d,1,k,f,60,60,-1,-1,135,135,0,0);k.x*=-1;k.y*=-1;f=g.ZERO;m=this.get_playField().particleRenderer;d=K.sV2D;d.x=this.x+this.resultWidth/2;d.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;m.addParticle(m.mVertexBuffer,"gems/row.png",d,1,k,f,60,60,-1,-1,-45,-45,0,0);this.get_playField().addCommand(0,new ub(a,b-1,this));this.get_playField().addCommand(0,new ub(a,b,this));this.get_playField().addCommand(0,new ub(a,b+1,this));f=1;
for(m=t.ROWS>t.COLUMNS?t.ROWS:t.COLUMNS;f<m;)k=f++,d=.05*k,c=a+k,c<t.COLUMNS&&(this.get_playField().addCommand(d,new ub(c,b-1,this)),this.get_playField().addCommand(d,new ub(c,b,this)),this.get_playField().addCommand(d,new ub(c,b+1,this))),c=a-k,0<=c&&(this.get_playField().addCommand(d,new ub(c,b-1,this)),this.get_playField().addCommand(d,new ub(c,b,this)),this.get_playField().addCommand(d,new ub(c,b+1,this))),1<k&&(c=b+k,c<t.ROWS&&(this.get_playField().addCommand(d,new ub(a-1,c,this)),this.get_playField().addCommand(d,
new ub(a,c,this)),this.get_playField().addCommand(d,new ub(a+1,c,this))),c=b-k,0<=c&&(this.get_playField().addCommand(d,new ub(a-1,c,this)),this.get_playField().addCommand(d,new ub(a,c,this)),this.get_playField().addCommand(d,new ub(a+1,c,this))))},multiSkunkEffect:function(a,b,d){e.get_instance().play("sound/skunk.mp3",0,1,1);this.get_playField().shake();var c=d+1,f=2*c+1,h=g.ZERO,m=g.ZERO,k=.1*(360*Math.random()-720);null==k&&(k=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+
this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);n.addParticleBez(n.mVertexBuffer,"particles/wave.png",q,1,h,m,10,2E3,2500,-1,16777215,0,k,0);m=g.ZERO;++g.sTempV2DIdx;h=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];for(k=0;15>k;){++k;h.x=2*Math.random()-1;h.y=2*Math.random()-1;n=h;h=1/Math.sqrt(n.x*n.x+n.y*n.y);n.x*=h;n.y*=h;h=100*d;n.x*=h;n.y*=h;h=n;var r=2+.5*Math.random();q=this.get_playField().particleRenderer;var u=K.sV2D;u.x=this.x+this.resultWidth/2;u.y=t.ROWS*
t.STONE_SIZE+this.y-this.resultHeight/2;q.addParticle(q.mVertexBuffer,"particles/smelly.png",u,r,n,m,10,250,-2987746,13789471,0,0,0,0)}for(k=0;k<f;)for(d=k++,m=0;m<f;)q=d-c,r=m++-c,n=a+q,h=b+r,q=q*q+r*r,q<=c*c&&null!=this.get_playField().getStone(n,h)&&this.get_playField().addCommand(.1*Math.sqrt(q),new ub(n,h,this))},ploppAll:function(){var a=this;e.get_instance().play("sound/doubleOrb.mp3",0,1,1);this.register(Dc.delay(function(){a.get_playField().shake();var b=g.ZERO,d=g.ZERO,c=.1*(360*Math.random()-
720);null==c&&(c=0);var l=a.get_playField().particleRenderer,e=K.sV2D,f=t.ROWS*t.STONE_SIZE+a.y-a.resultHeight/2;e.x=a.x+a.resultWidth/2;e.y=f;null==c&&(c=0);l.addParticleBez(l.mVertexBuffer,"particles/wave.png",e,1.2,b,d,0,1500,2E3,-1,16777215,0,c,0);b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];for(var p=0;35>p;)++p,b.x=2*Math.random()-1,b.y=2*Math.random()-1,b.x*=5E3,b.y*=5E3,d.x=b.x,d.y=b.y,d.w=b.w,d.x*=-.4,d.y*=-.4,c=.1*(360*Math.random()-720),null==
c&&(c=0),l=a.get_playField().particleRenderer,e=K.sV2D,f=t.ROWS*t.STONE_SIZE+a.y-a.resultHeight/2,e.x=a.x+a.resultWidth/2,e.y=f,null==c&&(c=0),l.addParticle(l.mVertexBuffer,"particles/glow_dot.png",e,1.2,b,d,100,70,-1,16777215,0,c,0,0);for(p=0;95>p;)++p,b.x=2*Math.random()-1,b.y=2*Math.random()-1,b.x*=6E3,b.y*=6E3,d.x=b.x,d.y=b.y,d.w=b.w,d.x*=-.3,d.y*=-.3,c=.1*(360*Math.random()-720),null==c&&(c=0),l=a.get_playField().particleRenderer,e=K.sV2D,f=t.ROWS*t.STONE_SIZE+a.y-a.resultHeight/2,e.x=a.x+a.resultWidth/
2,e.y=f,null==c&&(c=0),l.addParticle(l.mVertexBuffer,"particles/flare.png",e,1.7,b,d,100,70,-1,16777215,0,c,0,0)},100));for(var b=0,d=t.COLUMNS;b<d;)for(var c=b++,f=0,h=t.ROWS;f<h;){var m=f++;if(null!=this.get_playField().getStone(c,m)){var k=c-this.column,n=m-this.row;this.get_playField().addCommand(.08*Math.sqrt(k*k+n*n)+.1,new ub(c,m,this))}}},replaceAllBy:function(a,b){for(var d=0,c=0,e=t.ROWS;c<e;)for(var f=c++,g=0,h=t.COLUMNS;g<h;){var m=t.ROWS-f-1;m=this.get_playField().getStone(g++,m);if(null!=
m&&m.stoneType==a&&!m.get_hidden()){if("BREAKER"==b){var k=new Qf(.5>Math.random());this.get_playField().addCommand(1,new hf(m,k,ef.None));t.get_instance().animations.addChild(new je(1,this.getMiddle(),m.getMiddle()))}else k=new Te,this.get_playField().addCommand(.7,new hf(m,k,ef.None)),t.get_instance().animations.addChild(new cj(.7,this.getMiddle(),m.getMiddle()));this.get_playField().addCommand(1.5+.15*++d,new ed(k))}}},checkGroupEffect:function(){var a=!1;if(null!=this.group&&1<this.group.data.length){for(var b=
this.group.iterator();b.hasNext();){var d=b.next();this.get_playField().task.isTask(d.stoneType)&&d!=this&&t.get_instance().finishAnimation(this,d.stoneType)}t.get_instance();var c=[],f=[],g=[];for(b=this.group.iterator();b.hasNext();)switch(d=b.next(),d.stoneType){case "BREAKER":g.push(d);break;case "ORB":c.push(d);break;case "SKUNK":f.push(d)}b=200*this.group.data.length;d=this.get_playField().task;d.set_score(d.score+b);this.get_playField().scoreAnimation(this.getMiddle(),b);if(0<c.length)1<c.length?
(this.ploppAll(),a=!0):0<f.length?(e.get_instance().play("sound/port.mp3",0,1,1),this.replaceAllBy(c[0].gemType,"SKUNK"),a=!0):0<g.length&&(e.get_instance().play("sound/port.mp3",0,1,1),this.replaceAllBy(c[0].gemType,"BREAKER"),a=!0);else{if(0<f.length)1<f.length?this.multiSkunkEffect(this.column,this.row,f.length):this.skunkBreakerEffect();else{a=new Yb;c=new Yb;for(f=0;f<g.length;)b=g[f],++f,a.h.hasOwnProperty(b.row)||(a.h[b.row]=b),c.h.hasOwnProperty(b.column)||(c.h[b.column]=b);for(b=a.iterator();b.hasNext();)this.multiBreakerEffect(b.next(),
!0);for(b=c.iterator();b.hasNext();)this.multiBreakerEffect(b.next(),!1)}a=!0}for(b=this.group.iterator();b.hasNext();)d=b.next(),d.dispatchSimpleXEvent("Stone::PLOPP"),this.get_playField().removeStone(d.column,d.row)}a&&(this.score=0);return a},__class__:pc});var Qf=function(a){null==a&&(a=!0);this.horizontal=a;pc.call(this,a?"tRowBreaker":"tColumnBreaker");this.score=25;Oa.sInstance.atlas.getTexture("gems/row.png");this.stoneType="BREAKER"};f["game.gems.Breaker"]=Qf;Qf.__name__="game.gems.Breaker";
Qf.__super__=pc;Qf.prototype=k(pc.prototype,{plopp:function(a){null!=this.group&&1<this.group.data.length&&(this.score=0);pc.prototype.plopp.call(this,a);if(a!=this||!this.checkGroupEffect())if(e.get_instance().playUnique("sound/bee.mp3",0,1,1),this.horizontal){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=1700;a.y=0;var b=g.ZERO,d=this.get_playField().particleRenderer,c=K.sV2D;c.x=this.x+this.resultWidth/2;c.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;d.addParticle(d.mVertexBuffer,"gems/row.png",
c,1,a,b,60,60,-1,-1,45,45,0,0);a.x*=-1;a.y*=-1;b=g.ZERO;d=this.get_playField().particleRenderer;c=K.sV2D;c.x=this.x+this.resultWidth/2;c.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,a,b,60,60,-1,-1,225,225,0,0);a=1;for(b=t.COLUMNS;a<b;)d=a++,c=this.column+d,c<t.COLUMNS&&this.get_playField().addCommand(.05*d,new ub(c,this.row,this)),c=this.column-d,0<=c&&this.get_playField().addCommand(.05*d,new ub(c,this.row,this))}else for(a=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen],a.x=0,a.y=1700,b=g.ZERO,d=this.get_playField().particleRenderer,c=K.sV2D,c.x=this.x+this.resultWidth/2,c.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,a,b,60,60,-1,-1,135,135,0,0),a.x*=-1,a.y*=-1,b=g.ZERO,d=this.get_playField().particleRenderer,c=K.sV2D,c.x=this.x+this.resultWidth/2,c.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,a,b,60,60,-1,-1,-45,-45,0,0),a=1,b=t.ROWS;a<b;)d=a++,
c=this.row+d,c<t.ROWS&&this.get_playField().addCommand(.05*d,new ub(this.column,c,this)),c=this.row-d,0<=c&&this.get_playField().addCommand(.05*d,new ub(this.column,c,this))},__class__:Qf});var Ne=function(a){null==a&&(a=3);this.mCount=0;K.call(this,"tCell");this.mCount=a;this.stoneType="CELL";this.fixed=!0;this.get_playField().get_atlas().getTexture("gems/cell_02.png");this.get_playField().get_atlas().getTexture("gems/cell_03.png");this.updateDisplay()};f["game.gems.Cell"]=Ne;Ne.__name__="game.gems.Cell";
Ne.__super__=K;Ne.prototype=k(K.prototype,{updateDisplay:function(){this.set_image("gems/cell_"+z(x(4-this.mCount,1,3),2)+".png")},interact:function(a){null!=a&&(a instanceof pc?this.plopp():a instanceof Xb&&this.addAnimation(new Qd));return K.prototype.interact.call(this,a)},plopp:function(a){--this.mCount;this.updateDisplay();var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=350;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.blubb();switch(this.mCount){case 0:e.get_instance().playUnique("sound/party.mp3",
0,1,1);for(var c=0;18>c;){d.x=2*Math.random()-1;d.y=2*Math.random()-1;var f=d;f.x*=530;f.y*=530;d=f;var h=Ne.sParticles[c++%3],m=3+.5*Math.random(),k=40*(Math.random()+1),n=360*Math.random()-720,q=360*Math.random()-720,r=360*Math.random()-720;null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);var u=this.get_playField().particleRenderer,M=K.sV2D;M.x=this.x+this.resultWidth/2;M.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);u.addParticle(u.mVertexBuffer,h,M,
m,f,b,k,30,-1,16777215,n,q,r,0)}K.prototype.plopp.call(this,a);this.get_playField().addStone(this.column,this.row,new Uf(this.get_playField().task.allowedGemTypes[R.random(this.get_playField().task.allowedGemTypes.length)])).resetAnimation(!0);break;case 1:case 2:for(c=0;9>c;)d.x=2*Math.random()-1,d.y=2*Math.random()-1,f=d,f.x*=530,f.y*=530,d=f,h=Ne.sParticles[c++%3],m=2+.5*Math.random(),n=2*(360*Math.random()-720),q=2*(360*Math.random()-720),null==q&&(q=0),null==n&&(n=0),u=this.get_playField().particleRenderer,
M=K.sV2D,M.x=this.x+this.resultWidth/2,M.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==q&&(q=0),null==n&&(n=0),u.addParticle(u.mVertexBuffer,h,M,m,f,b,30,10,-1,16777215,n,q,0,0)}},__class__:Ne});var pf=function(){this.idx=0;Cb.call(this,"tChameleon");this.stoneType="CHAMELEON";this.updateGemType();this.registerXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction))};f["game.gems.Chameleon"]=pf;pf.__name__="game.gems.Chameleon";pf.__super__=Cb;pf.prototype=k(Cb.prototype,
{forcePlopp:function(a){this.plopp(a)},plopp:function(a){this.getMiddle();a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;e.get_instance().playUnique("sound/Chameleon_pick.mp3",0,1,1);var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=t.get_instance().task.allowedGemTypes.length;d=ka.replace(K.getIcon(t.get_instance().task.allowedGemTypes[this.idx%d]),"gems","particles");for(var c=0;15>c;){++c;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var f=b;f.x*=450;f.y*=450;b=f;var h=1+.5*Math.random(),
m=30+20*Math.random(),k=4*(360*Math.random()-720),n=4*(360*Math.random()-720);null==n&&(n=0);null==k&&(k=0);var q=this.get_playField().particleRenderer,r=K.sV2D;r.x=this.x+this.resultWidth/2;r.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==n&&(n=0);null==k&&(k=0);q.addParticle(q.mVertexBuffer,d,r,h,f,a,m,0,-1,-1,k,n,0,0)}Cb.prototype.plopp.call(this)},onUserAction:function(a){++this.idx;this.updateGemType()},updateGemType:function(){this.gemType=this.get_playField().task.allowedGemTypes[this.idx%
this.get_playField().task.allowedGemTypes.length];this.updateDisplay()},updateDisplay:function(){var a=this,b=this.find("uiImgMask");if(null!=b){this.startColor=b.color;this.endColor=K.getStoneColor(this.gemType);Bi.create(.7,function(b){var d=a.startColor,c=a.endColor,l=1-b;b=((U.toFloat(d>>>24&255)*l+U.toFloat(c>>>24&255)*b|0)<<24)+((U.toFloat(d>>>16&255)*l+U.toFloat(c>>>16&255)*b|0)<<16)+((U.toFloat(d>>>8&255)*l+U.toFloat(c>>>8&255)*b|0)<<8)+(U.toFloat(d&255)*l+U.toFloat(c&255)*b|0);d=a.find("uiImgMask");
if(null!=d){c=U.toFloat(b>>>16&255)/255;l=U.toFloat(b>>>8&255)/255;var e=U.toFloat(b&255)/255;if(c!=d.colorR||l!=d.colorG||e!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=l&&d.invalidate(),d.colorG=l,d.colorB!=e&&d.invalidate(),d.colorB=e,d.invalidate();d.color=b}},this);b=K.getIcon(this.gemType);var d=this.find("uiImgTypeIcon");null!=d&&d instanceof G&&d.set_image(b)}},__class__:pf});var Rf=function(){this.mIgnoreFirst=!0;this.mOpen=!1;K.call(this,"tChest");this.fixed=!0;Oa.sInstance.atlas.getTexture("gems/chest_open.png");
this.get_playField().get_atlas().getTexture("gems/chest_open.png");this.ploppOnInteraction=!0;this.stoneType="CHEST"};f["game.gems.Chest"]=Rf;Rf.__name__="game.gems.Chest";Rf.__super__=K;Rf.prototype=k(K.prototype,{plopp:function(a){if(this.mOpen){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];t.get_instance();for(var d=0;15>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var l=b;l.x*=450;l.y*=450;b=l;var f=1+.5*Math.random(),h=30+20*
Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"gems/chest_open.png",q,f,l,a,h,0,-1,-1,m,k,0,0)}K.prototype.plopp.call(this)}else this.mIgnoreFirst=this.mOpen=!0,this.addAnimation(new yd),a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/chest_open.png"),
e.get_instance().playUnique("sound/Flower_open01.mp3",0,1,1),this.registerXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction))},onUserAction:function(a){this.mOpen&&!this.mIgnoreFirst&&(this.addAnimation(new yd),a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/chest.png"),this.mOpen=!1,e.get_instance().playUnique("sound/Flower_close01.mp3",0,1,1),this.releaseXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction)));this.mIgnoreFirst&&(this.mIgnoreFirst=
!1)},__class__:Rf});var ic=function(a,b,d){this.mProduceOnNextAction=!1;K.call(this,a);this.stoneType=b;this.productType=d;this.ploppOnInteraction=!0;this.destroyable=!1;d=this.get_playField().task.getOrCreateTask(this.productType);null!=d&&(a=ic.sProductAmount,b=this.productType,d=d.get_amount(),a.h[b]=d);this.registerXEventListener(ic.sProductDispatcher,"Producer::PRODUCTION",c(this,this.onProduction));this.registerXEventListener(this.get_playField(),"USER_ACTION",c(this,this.onUserAction))};f["game.gems.Producer"]=
ic;ic.__name__="game.gems.Producer";ic.__super__=K;ic.prototype=k(K.prototype,{getRemaining:function(){return ic.sProductAmount.h[this.productType]},onUserAction:function(a){this.mProduceOnNextAction&&0<this.getRemaining()&&(this.produce(),this.mProduceOnNextAction=!1)},onProduction:function(a){},plopp:function(a){if(0<ic.sProductAmount.h[this.productType]){this.addAnimation(new yd);var b=this.get_playField().task;b.set_score(b.score+this.score);0<ic.sProductAmount.h[this.productType]&&a instanceof
me?this.produce():this.mProduceOnNextAction=!0}else this.addAnimation(new Qd)},produce:function(){--ic.sProductAmount.h[this.productType];ic.sProductDispatcher.dispatchSimpleXEvent("Producer::PRODUCTION")},__class__:ic});var Qh=function(){ic.call(this,"tChicken","CHICKEN","CRACKLING");Oa.sInstance.atlas.getTexture("particles/feather.png");this.fixed=!0};f["game.gems.Chicken"]=Qh;Qh.__name__="game.gems.Chicken";Qh.__super__=ic;Qh.prototype=k(ic.prototype,{onProduction:function(a){this.setVisible("uiImgChickenEye",
0>=this.getRemaining())},produce:function(){var a=this;this.get_playField().addCommand(.05,new Mb(this),!0);e.get_instance().playUnique("sound/chicken.mp3",0,1,1);var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;for(var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=0;10>c;){++c;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var f=d;f.x*=250;f.y*=250;d=f;f.y-=200;var h=1+.5*Math.random(),m=360*Math.random()-720,k=360*Math.random()-720,n=1440*Math.random();null==n&&(n=0);null==k&&(k=0);null==
m&&(m=0);var q=this.get_playField().particleRenderer,r=K.sV2D;r.x=this.x+this.resultWidth/2;r.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==n&&(n=0);null==k&&(k=0);null==m&&(m=0);q.addParticle(q.mVertexBuffer,"particles/feather.png",r,h,f,b,20,20,-1,16777215,m,k,n,0)}this.setVisible("uiImgChickenHead",!0);this.register(Dc.delay(function(){a.setVisible("uiImgChickenHead",!1)},1E3));ic.prototype.produce.call(this)},__class__:Qh});var Rh=function(a){null==a&&(a=2);this.mCount=0;K.call(this,
"tCoconut");this.mCount=a;1==this.mCount&&(a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/coconut_02.png"));Oa.sInstance.atlas.getTexture("particles/coconut.png");this.get_playField().get_atlas().getTexture("gems/coconut_02.png");this.stoneType="COCONUT";this.fixed=!0};f["game.gems.Coconut"]=Rh;Rh.__name__="game.gems.Coconut";Rh.__super__=K;Rh.prototype=k(K.prototype,{interact:function(a){null!=a&&(1<this.mCount?a instanceof pc?this.plopp():a instanceof Xb&&this.addAnimation(new Qd):
this.plopp(a));return K.prototype.interact.call(this,a)},plopp:function(a){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;4>d;){++d;b.x=550*(2*Math.random()-1);b.y=550*(2*Math.random()-1);var c=1+.5*Math.random(),f=30+10*Math.random(),h=360*Math.random()-720,m=360*Math.random()-720;null==m&&(m=0);null==h&&(h=0);var k=this.get_playField().particleRenderer,n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/
2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"particles/coconut.png",n,c,b,a,f,.06,-1,-1,h,m,0,0)}e.get_instance().playUnique("sound/coconut.mp3",0,.7,1);this.addAnimation(new yd);--this.mCount;1==this.mCount?(a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/coconut_02.png"),this.fixed=!1):K.prototype.plopp.call(this)},__class__:Rh});var ke=function(){K.call(this,"tCoin");this.stoneType="COIN";this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("gems/coin.png")};
f["game.gems.Coin"]=ke;ke.__name__="game.gems.Coin";ke.__super__=K;ke.prototype=k(K.prototype,{plopp:function(a){K.prototype.plopp.call(this,a);e.get_instance().playUnique("sound/coin.mp3",0,1,1);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;10>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=250;c.y*=250;b=c;c.x*=.7;var f=1+.5*Math.random(),h=30+20*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-
720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"gems/coin.png",q,f,c,a,h,0,-1,-1,m,k,0,0)}},__class__:ke});var Vg=function(){K.call(this,"tCoins");this.ploppOnInteraction=this.fixed=!0;this.stoneType="COINS";this.registerXEventListener(t.get_instance().task.getOrCreateTask("COIN"),"Task::TASK_SOLVED",c(this,this.onUpdateBling))};
f["game.gems.Coins"]=Vg;Vg.__name__="game.gems.Coins";Vg.__super__=K;Vg.prototype=k(K.prototype,{onUpdateBling:function(a){this.setVisible("uiImgBling",!1)},plopp:function(a){this.addAnimation(new Qd);a=this.get_playField().task;a.set_score(a.score+this.score);e.get_instance().playUnique("sound/coin.mp3",0,1,1);t.get_instance().finishAnimation(this,"COIN")},__class__:Vg});var Oe=function(a){Cb.call(this,"tColorBox");this.gemType=a;this.stoneType="COLOR_BOX";a=K.getIcon(this.gemType);var b=this.find("uiImgGem");
null!=b&&b instanceof G&&b.set_image(a);a=K.getStoneColor(this.gemType);b=this.find("uiImgBg");if(null!=b){var d=U.toFloat(a>>>16&255)/255,c=U.toFloat(a>>>8&255)/255,e=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}Oa.sInstance.atlas.getTexture("gems/box2.png")};f["game.gems.ColorBox"]=Oe;Oe.__name__="game.gems.ColorBox";Oe.__super__=Cb;Oe.prototype=
k(Cb.prototype,{plopp:function(a){Cb.prototype.plopp.call(this,a);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=-16777216+(K.getStoneColor(this.gemType)&16777215),c=0;10>c;){++c;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var e=b;e.x*=350;e.y*=350;b=e;e.x*=.7;var f=1+.5*Math.random(),h=30+20*Math.random(),m=d,k=d,n=2*(360*Math.random()-720),q=2*(360*Math.random()-720);null==q&&(q=0);null==n&&(n=0);null==d&&(k=0);null==d&&(m=-1);var r=
this.get_playField().particleRenderer,u=K.sV2D;u.x=this.x+this.resultWidth/2;u.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==q&&(q=0);null==n&&(n=0);null==k&&(k=0);null==m&&(m=-1);r.addParticle(r.mVertexBuffer,"particles/box2.png",u,f,e,a,h,0,m,k,n,q,0,0)}},__class__:Oe});var Pe=function(){Cb.call(this,"tColorEgg");Oa.sInstance.atlas.getTexture("gems/egg_white.png");this.stoneType="COLOR_EGG"};f["game.gems.ColorEgg"]=Pe;Pe.__name__="game.gems.ColorEgg";Pe.__super__=Cb;Pe.prototype=k(Cb.prototype,
{plopp:function(a){if("UNDEFINED"==this.gemType){this.gemType=this.get_playField().task.allowedGemTypes[R.random(this.get_playField().task.allowedGemTypes.length)];a=K.getIcon(this.gemType);var b=this.find("uiImgGem");null!=b&&b instanceof G&&b.set_image(a);this.setVisible("uiImgGem",!0);a=K.getStoneColor(this.gemType);b=this.find("uiImgBg");if(null!=b){var d=U.toFloat(a>>>16&255)/255,c=U.toFloat(a>>>8&255)/255,f=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||f!=b.colorB)b.colorR!=d&&b.invalidate(),
b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=f&&b.invalidate(),b.colorB=f,b.invalidate();b.color=a}b=this.find("uiImgBg");null!=b&&b instanceof G&&b.set_image("gems/egg_white.png")}else{b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f=-16777216|K.getStoneColor(this.gemType);for(c=0;10>c;){++c;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var h=d;h.x*=250;h.y*=250;d=h;h.x*=.7;var m=1+.5*Math.random(),k=30+20*Math.random(),n=f,q=f,
r=4*(360*Math.random()-720),u=4*(360*Math.random()-720);null==u&&(u=0);null==r&&(r=0);null==f&&(q=0);null==f&&(n=-1);var M=this.get_playField().particleRenderer,ea=K.sV2D;ea.x=this.x+this.resultWidth/2;ea.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==u&&(u=0);null==r&&(r=0);null==q&&(q=0);null==n&&(n=-1);M.addParticle(M.mVertexBuffer,"gems/egg_white.png",ea,m,h,b,k,0,n,q,r,u,0,0)}e.get_instance().playUnique("sound/Egg_collect01.mp3",0,1,1);Cb.prototype.plopp.call(this,a)}},interact:function(a){var b=
Cb.prototype.interact.call(this,a);if("UNDEFINED"==this.gemType&&a.gem){this.gemType=a.stoneType;a=K.getIcon(this.gemType);var d=this.find("uiImgGem");null!=d&&d instanceof G&&d.set_image(a);this.setVisible("uiImgGem",!0);a=K.getStoneColor(this.gemType);d=this.find("uiImgBg");if(null!=d){var c=U.toFloat(a>>>16&255)/255,e=U.toFloat(a>>>8&255)/255,f=U.toFloat(a&255)/255;if(c!=d.colorR||e!=d.colorG||f!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=f&&
d.invalidate(),d.colorB=f,d.invalidate();d.color=a}}return b},__class__:Pe});var Wg=function(a){null==a&&(a=0);this.mCount=0;K.call(this,"tCrackling");this.mCount=a;1==this.mCount&&(a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/crackling2.png"));Oa.sInstance.atlas.getTexture("gems/crackling1.png");this.get_playField().get_atlas().getTexture("gems/crackling2.png");this.stoneType="CRACKLING";this.ploppOnInteraction=!0};f["game.gems.Crackling"]=Wg;Wg.__name__="game.gems.Crackling";
Wg.__super__=K;Wg.prototype=k(K.prototype,{plopp:function(a){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=4*this.mCount+4,c=0;c<d;){++c;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var f=b;f.x*=450;f.y*=450;b=f;var h=1+.5*Math.random(),m=30+20*Math.random(),k=360*Math.random()-720,n=360*Math.random()-720;null==n&&(n=0);null==k&&(k=0);var q=this.get_playField().particleRenderer,r=K.sV2D;r.x=this.x+this.resultWidth/2;r.y=t.ROWS*t.STONE_SIZE+
this.y-this.resultHeight/2;null==n&&(n=0);null==k&&(k=0);q.addParticle(q.mVertexBuffer,"gems/crackling1.png",r,h,f,a,m,0,-1,-1,k,n,0,0)}e.get_instance().playUnique("sound/crack.mp3",0,.7,1);this.addAnimation(new yd);++this.mCount;1==this.mCount?(a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/crackling2.png")):K.prototype.plopp.call(this)},__class__:Wg});var pd=function(){ic.call(this,"tDung","DUNG","FLIES");this.fixed=!0;var a=this.find("uiImgFly");if(null!=a){a.addAnimation(new Le(3,
10,Math.random()));var b=60*(Math.random()-.5);a.x!=b&&a.invalidate();a.x=b;b=60*(Math.random()-.5);a.y!=b&&a.invalidate();a.y=b}};f["game.gems.Dung"]=pd;pd.__name__="game.gems.Dung";pd.__super__=ic;pd.prototype=k(ic.prototype,{onProduction:function(a){this.setVisible("uiImgFly",0<this.getRemaining())},produce:function(){this.get_playField().addCommand(.1,new fe(this));e.get_instance().playUnique("sound/Flies_loop_start.mp3",0,1,1);ic.prototype.produce.call(this)},__class__:pd});var ab=function(a){this.mHitList=
[];this.size=2;K.call(this,a)};f["game.gems.FatStone"]=ab;ab.__name__="game.gems.FatStone";ab.__super__=K;ab.prototype=k(K.prototype,{fatHitOk:function(a){return null==a?!0:-1==this.mHitList.indexOf(a)?(this.mHitList.push(a),!0):!1},fall:function(a){null==a&&(a=!1);if(!this.fixed||this.row>=t.ROWS){var b=this.row,d=1E3;if(this.fixed)d=this.row-t.ROWS;else for(;0<b&&this.checkFree(this.column,b-1,this.size);)--b,this.checkSpace(this.column,b,this.size)&&(d=b);d<this.row&&(a||(a=this.animationStart,
a.x=this.x,a.y=this.y,a=this.animationTarget,a.x=this.column*t.STONE_SIZE,a.y=-d*t.STONE_SIZE,this.state=zb.FALLING,this.mAnimationStart=C.timer,this.duration=.3),this.setStone(this.column,this.row,null),this.setStone(this.column,d,this),this.setPos(this.column,d))}},checkSpace:function(a,b,d){for(var c=0;c<d;)for(var e=c++,f=0;f<d;)if(!this.get_playField().getField(a+e,b+f++))return!1;return!0},checkFree:function(a,b,d){for(var c=0;c<d;)if(null!=this.get_playField().getStone(a+c++,b))return!1;return!0},
setStone:function(a,b,d){for(var c=0,e=this.size;c<e;)for(var f=c++,g=0,h=this.size;g<h;)this.get_playField().setStone(a+f,b+g++,d)},dispose:function(){this.mHitList=null;K.prototype.dispose.call(this)},__class__:ab});var yi=function(){this.mCount=6;ab.call(this,"tDungPile");this.fixed=!0;this.stoneType="DUNG_PILE";this.ploppOnInteraction=!0};f["game.gems.DungPile"]=yi;yi.__name__="game.gems.DungPile";yi.__super__=ab;yi.prototype=k(ab.prototype,{countStoneTypeForTask:function(){var a=this;this.countForTask&&
this.get_playField().task.isTask(this.stoneType)&&Dc.delay(function(){t.get_instance().finishAnimation(a,a.stoneType)},100)},plopp:function(a){if(this.fatHitOk(a)){--this.mCount;for(var b=g.ZERO,d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=0;15>c;){++c;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var f=d;d=1/Math.sqrt(f.x*f.x+f.y*f.y);f.x*=d;f.y*=d;f.x*=100;f.y*=100;d=f;var h=2+.5*Math.random(),m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+
this.y-this.resultHeight/2;m.addParticle(m.mVertexBuffer,"particles/smelly.png",k,h,f,b,50,15,-2987746,13789471,0,0,0,0)}for(c=0;2>c;)++c,b=this.get_playField().context,b=null!=b?b.getTemplate("tFly"):null,b=null!=b?b.createInstance():null,f=170*(Math.random()-.5),b.x!=f&&b.invalidate(),b.x=f,f=170*(Math.random()-.5),b.y!=f&&b.invalidate(),b.y=f,f=.5>Math.random()?1:-1,b.scaleX!=f&&b.invalidate(),b.scaleX=f,b.addAnimation(new Le(3,10,Math.random())),f=this.find("uiImgIcon"),null!=f&&f.addChild(b);
if(0==this.mCount)for(ab.prototype.plopp.call(this,a),c="sound/dungpile0"+(R.random(2)+1)+".mp3",e.get_instance().play(c,0,1,1),this.get_playField().shake(),c=this.row-1,a=this.row+3;c<a;)for(b=c++,f=this.column-1,d=this.column+3;f<d;)h=f++,Yc.checkPlace(h,b)&&t.get_instance().addCommand(0,new Yc(h,b,"FLIES",!0));else 0<this.mCount&&(c="sound/dungpile0"+(R.random(2)+1)+".mp3",e.get_instance().play(c,0,.7,1),this.blubb())}},__class__:yi});var Qe=function(a,b,d){this.mAnimationStart=0;this.middle=new g(0,
0);this.animationTarget=new g(0,0);this.animationStart=new g(0,0);this.duration=1.5;G.call(this);var c=60*t.sScale;this.height!=c&&this.invalidate();var e=null;this.relativeHeight!=e&&this.invalidate();this.relativeHeight=e;e=this.height=c;this.width!=e&&this.invalidate();c=null;this.relativeWidth!=c&&this.invalidate();this.relativeWidth=c;this.width=e;this.set_image("gems/crackling1.png");this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=d.x;a.y=d.y;a.w=d.w;
a=this.middle;a.x=y.SCREEN_WIDTH/2;a.y=y.SCREEN_HEIGHT/2;this.mAnimationStart=C.timer};f["game.gems.EggAnimation"]=Qe;Qe.__name__="game.gems.EggAnimation";Qe.__super__=G;Qe.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-this.mAnimationStart)/this.duration,0,1),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];g.BEZIER(b,this.animationStart,this.middle,this.animationTarget,a);g.BEZIER(d,this.animationStart,this.middle,this.animationTarget,
a+.01);var c=b.x-50;this.x!=c&&this.invalidate();this.x=c;c=b.y-50;this.y!=c&&this.invalidate();this.y=c;c=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=c&&this.invalidate();this.scale=c;d.x-=b.x;d.y-=b.y;G.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:Qe});var aj=function(){this.mFloored=!1;ab.call(this,"tFatAnvil");this.destroyable=!1;Oa.sInstance.atlas.getTexture("gems/anvil.png");
this.stoneType="FAT_ANVIL"};f["game.gems.FatAnvil"]=aj;aj.__name__="game.gems.FatAnvil";aj.__super__=ab;aj.prototype=k(ab.prototype,{checkGround:function(){for(var a=0,b=this.row;a<b;){var d=a++;if(this.get_playField().getField(this.column,d)&&this.get_playField().getField(this.column,d+1)&&this.get_playField().getField(this.column+1,d)&&this.get_playField().getField(this.column+1,d+1))return!1}return!0},inPlace:function(){this.mFloored||0!=this.row&&!this.checkGround()||(this.addAnimation(new wk),
this.mFloored=!0,this.get_playField().addCommand(1,new ed(this)))},plopp:function(a){if(this.mFloored){ab.prototype.plopp.call(this,a);e.get_instance().playUnique("sound/anvil.mp3",0,1,1);this.get_playField().shake();a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;30>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=750;c.y*=750;b=c;c.y-=200;var f=1+.5*Math.random(),h=50+20*Math.random(),m=4*(360*Math.random()-720),k=
4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"gems/anvil.png",q,f,c,a,h,0,-1,-1,m,k,0,0)}}},__class__:aj});var Sf=function(){this.mCount=8;ab.call(this,"tFatMulti");this.fixed=!0;this.stoneType="FAT_MULTI";this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("particles/banana.png")};f["game.gems.FatMulti"]=
Sf;Sf.__name__="game.gems.FatMulti";Sf.__super__=ab;Sf.prototype=k(ab.prototype,{plopp:function(a){if(this.fatHitOk(a)){--this.mCount;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.setVisible("uiImgItem"+this.mCount,!1);if(0==this.mCount)for(ab.prototype.plopp.call(this,a),a="sound/Basket_impact0"+(R.random(3)+1)+".mp3",e.get_instance().play(a,0,1,1),this.get_playField().shake(),a=0;10>a;){++a;d.x=750*(2*Math.random()-1);d.y=750*
(2*Math.random()-1);var c=d;c.x+=0;c.y+=-200;d=c;var f=2+.5*Math.random(),h=60+20*Math.random(),m=2*(360*Math.random()-720),k=2*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"particles/banana.png",q,f,c,b,h,.1,-1,16777215,m,k,0,0)}else 0<this.mCount&&(this.blubb(),d.x=.5>Math.random()?-.5:.5,d.y=-.5,
c=d,c.x*=450,c.y*=450,f=1+.5*Math.random(),m=2*(360*Math.random()-720),k=360*Math.random()-720,null==k&&(k=0),null==m&&(m=0),c=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==k&&(k=0),null==m&&(m=0),c.addParticle(c.mVertexBuffer,"particles/banana.png",n,f,d,b,60,60,-1,16777215,m,k,0,0))}},__class__:Sf});var zi=function(){this.mCount=9;ab.call(this,"tFatMulti2");this.fixed=!0;Oa.sInstance.atlas.getTexture("gems/basket.png");
Oa.sInstance.atlas.getTexture("particles/egg.png");this.stoneType="FAT_MULTI2";this.ploppOnInteraction=!0};f["game.gems.FatMulti2"]=zi;zi.__name__="game.gems.FatMulti2";zi.__super__=ab;zi.prototype=k(ab.prototype,{plopp:function(a){if(this.fatHitOk(a)){--this.mCount;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.setVisible("uiImgEgg"+this.mCount,!1);if(0==this.mCount)for(ab.prototype.plopp.call(this,a),e.get_instance().play("sound/crack.mp3",
0,1,1),this.get_playField().shake(),a=0;5>a;){++a;d.x=750*(2*Math.random()-1);d.y=750*(2*Math.random()-1);var c=d;c.x+=0;c.y+=-200;d=c;var f=2+.5*Math.random(),h=50+20*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"gems/basket.png",q,f,c,b,h,50,-1,16777215,
m,k,0,0)}else 0<this.mCount&&(this.blubb(),d.x=.5>Math.random()?-.5:.5,d.y=-.5,c=d,c.x*=450,c.y*=450,f=1+.5*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720),null==k&&(k=0),null==m&&(m=0),c=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==k&&(k=0),null==m&&(m=0),c.addParticle(c.mVertexBuffer,"particles/egg.png",n,f,d,b,50,50,-1,16777215,m,k,0,0))}},__class__:zi});var Jd=function(a){null==a&&(a=
"tFatMultiColor");this.gemType="UNDEFINED";this.idx=0;this.mCount=9;ab.call(this,a);this.fixed=!0;Oa.sInstance.atlas.getTexture("gems/basket.png");Oa.sInstance.atlas.getTexture("gems/egg.png");this.stoneType="FAT_MULTI_COLOR";this.idx=R.random(this.get_playField().task.allowedGemTypes.length);475==this.get_playField().level&&(this.idx=this.get_playField().task.allowedGemTypes.indexOf("GEM_PURPLE"));this.updateGemType()};f["game.gems.FatMultiColor"]=Jd;Jd.__name__="game.gems.FatMultiColor";Jd.__super__=
ab;Jd.prototype=k(ab.prototype,{updateGemType:function(){this.gemType=this.get_playField().task.allowedGemTypes[this.idx%this.get_playField().task.allowedGemTypes.length];this.updateDisplay()},updateDisplay:function(){var a=this,b=this.find("uiEggs");null!=b&&(this.startColor=b.color);this.endColor=K.getStoneColor(this.gemType);Bi.create(.7,function(b){var d=a.startColor,c=a.endColor,l=1-b;b=((U.toFloat(d>>>24&255)*l+U.toFloat(c>>>24&255)*b|0)<<24)+((U.toFloat(d>>>16&255)*l+U.toFloat(c>>>16&255)*
b|0)<<16)+((U.toFloat(d>>>8&255)*l+U.toFloat(c>>>8&255)*b|0)<<8)+(U.toFloat(d&255)*l+U.toFloat(c&255)*b|0);d=a.find("uiEggs");if(null!=d){c=U.toFloat(b>>>16&255)/255;l=U.toFloat(b>>>8&255)/255;var e=U.toFloat(b&255)/255;if(c!=d.colorR||l!=d.colorG||e!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=l&&d.invalidate(),d.colorG=l,d.colorB!=e&&d.invalidate(),d.colorB=e,d.invalidate();d.color=b}},this);b=K.getIcon(this.gemType);var d=this.find("uiImgTypeIcon");null!=d&&d instanceof G&&d.set_image(b)},
interact:function(a){null!=a&&a.gem&&(a.stoneType==this.gemType?this.plopp():this.addAnimation(new Qd));return ab.prototype.interact.call(this,a)},plopp:function(a){if(this.fatHitOk(a)){--this.mCount;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.setVisible("uiImgEgg"+this.mCount,!1);if(0==this.mCount){ab.prototype.plopp.call(this,a);e.get_instance().play("sound/crack.mp3",0,1,1);this.get_playField().shake();for(var c=0;10>c;){++c;
d.x=750*(2*Math.random()-1);d.y=750*(2*Math.random()-1);a=d;a.x+=0;a.y+=-200;d=a;var f=2+.5*Math.random(),h=50+10*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"gems/basket.png",q,f,a,b,h,.1,-1,16777215,m,k,0,0)}}else 0<this.mCount&&(this.blubb(),d.x=.5>
Math.random()?-.5:.5,d.y=-.5,a=d,a.x*=450,a.y*=450,f=1+.5*Math.random(),c=-16777216+(this.endColor&16777215),h=this.endColor,m=4*(360*Math.random()-720),k=4*(360*Math.random()-720),null==k&&(k=0),null==m&&(m=0),null==h&&(h=0),null==c&&(c=-1),a=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==k&&(k=0),null==m&&(m=0),null==h&&(h=0),null==c&&(c=-1),a.addParticle(a.mVertexBuffer,"gems/egg.png",n,f,d,b,50,50,c,h,m,k,0,
0))}},__class__:Jd});var Sh=function(){Jd.call(this,"tFatMultiColorTwister");this.stoneType="FAT_MULTI_COLOR_TWISTER";this.registerXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction));490==this.get_playField().level&&(this.idx=this.get_playField().task.allowedGemTypes.indexOf("GEM_BLUE"));this.updateGemType()};f["game.gems.FatMultiColorTwister"]=Sh;Sh.__name__="game.gems.FatMultiColorTwister";Sh.__super__=Jd;Sh.prototype=k(Jd.prototype,{onUserAction:function(a){++this.idx;this.updateGemType()},
updateDisplay:function(){Jd.prototype.updateDisplay.call(this);var a=K.getIcon(this.get_playField().task.allowedGemTypes[(this.idx+1)%this.get_playField().task.allowedGemTypes.length]),b=this.find("uiImgTypeIcon2");null!=b&&b instanceof G&&b.set_image(a)},__class__:Sh});var Re=function(){K.call(this,"tFertilizer");this.fixed=!0;this.stoneType="FERTILIZER";this.ploppOnInteraction=!0};f["game.gems.Fertilizer"]=Re;Re.__name__="game.gems.Fertilizer";Re.__super__=K;Re.prototype=k(K.prototype,{plopp:function(a){K.prototype.plopp.call(this,
a);a="sound/fertilizer0"+(R.random(2)+1)+".mp3";e.get_instance().play(a,0,1,1);this.get_playField().shake();a=this.row-1;for(var b=this.row+2;a<b;)for(var d=a++,c=this.column-1,f=this.column+2;c<f;){var g=c++;0<=d&&d<t.ROWS&&0<=g&&g<t.COLUMNS&&this.get_playField().getField(g,d)&&null==Ra.getOverlay(g,d)&&t.get_instance().addCommand(.4,new Yc(g,d,"LEAF",!0))}},__class__:Re});var jc=function(a,b){null==b&&(b=0);this.count=1;K.call(this,a);this.touchable=!1;this.mTag=b};f["game.gems.GroupStone"]=jc;
jc.__name__="game.gems.GroupStone";jc.__super__=K;jc.prototype=k(K.prototype,{match:function(a){return K.prototype.match.call(this,a)?a.mTag==this.mTag:!1},getGroup:function(){for(var a=jc.stonegroup;0<a.length;)a.pop();this.checkStoneGroupX(this.mTag);return jc.stonegroup},checkStoneGroupX:function(a){if(this.mTag==a&&-1==jc.stonegroup.indexOf(this)){jc.stonegroup.push(this);for(var b=this.getNeightbours(),d=0;d<b.length;){var c=b[d];++d;c.stoneType==this.stoneType&&V.__cast(c,jc).checkStoneGroupX(a)}}},
destroy:function(){this.stoneType="UNDEFINED";K.prototype.plopp.call(this)},__class__:jc});var Kd=function(a){null==a&&(a=0);jc.call(this,1==a?"tFish":"tFish2",a);this.stoneType="GROUP_5_HITS_ONE_PLACE";this.fixed=!0;this.count=5;this.countForTask=!1;this.mOverrideHidden=this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("gems/fish_scale_01.png");Oa.sInstance.atlas.getTexture("gems/fish_scale_02.png")};f["game.gems.Fish"]=Kd;Kd.__name__="game.gems.Fish";Kd.__super__=jc;Kd.prototype=k(jc.prototype,
{plopp:function(a){var b=this;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];if(0>=--this.count){var d=this.getGroup();t.get_instance().finishAnimation(this,this.stoneType);if(0<d.length){var c="sound/fish_finished0"+(R.random(3)+1)+".mp3";e.get_instance().playUnique(c,0,1,1)}for(;0<d.length;)c=d.pop(),c!=this&&c.destroy();d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=-250;for(c=0;20>c;){++c;a.x=2*Math.random()-1;a.y=2*Math.random()-1;a.x*=150;a.y*=150;var f=6+1.5*Math.random(),h=10+5*Math.random(),
m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;m.addParticle(m.mVertexBuffer,"particles/bubbles.png",k,f,a,d,h,10,-1,16777215,0,0,0,0)}jc.prototype.plopp.call(this)}else{d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=250;for(c=0;20>c;){++c;a.x=2*Math.random()-1;a.y=2*Math.random()-1;a.x*=450;a.y*=450;a.x*=.7;f=1+.5*Math.random();h=10+20*Math.random();var n=2*(360*Math.random()-720),q=2*(360*Math.random()-720),
r=760*Math.random();null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);m=this.get_playField().particleRenderer;k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);m.addParticle(m.mVertexBuffer,"particles/starfx.png",k,f,a,d,h,0,-1,16777215,n,q,r,0)}for(c=0;1>c;){++c;a.x=2*Math.random()-1;a.y=2*Math.random()-1;a.x*=450;a.y*=450;a.x*=.7;var u=1==this.mTag?"gems/fish_scale_01.png":"gems/fish_scale_02.png";f=1+.5*Math.random();
h=15+10*Math.random();n=2*(360*Math.random()-720);q=2*(360*Math.random()-720);r=760*Math.random();null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);m=this.get_playField().particleRenderer;k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);m.addParticle(m.mVertexBuffer,u,k,f,a,d,h,0,-1,16777215,n,q,r,0)}this.setVisible("uiImgHead",!1);this.setVisible("uiImgHead2",!0);this.register(Dc.delay(function(){b.setVisible("uiImgHead",
!0);b.setVisible("uiImgHead2",!1)},1E3));c="sound/fish_scale0"+(R.random(2)+1)+".mp3";e.get_instance().playUnique(c,0,1,1);this.setScale(this.count);this.blubb();null!=this.preParticleEmitter&&(this.preParticleEmitter.numParticlesPerSecond=10*(5-this.count))}},setScale:function(a){a=this.findType("uiImgScale"+(a+1),G);if(null!=a){var b=U.toFloat(255)/255,d=U.toFloat(255)/255,c=U.toFloat(255)/255;if(b!=a.colorR||d!=a.colorG||c!=a.colorB)a.colorR!=b&&a.invalidate(),a.colorR=b,a.colorG!=d&&a.invalidate(),
a.colorG=d,a.colorB!=c&&a.invalidate(),a.colorB=c,a.invalidate();a.color=16777215;a.addAnimation(new vk)}},__class__:Kd});var Ra=function(a,b){this.hide=this.block=this.indestructable=!1;G.call(this);this.column=a;this.row=b;this.key=Ra.getKey(this.column,this.row);a=this.column*t.STONE_SIZE;this.x!=a&&this.invalidate();this.x=a;a=-this.row*t.STONE_SIZE;this.y!=a&&this.invalidate();this.y=a;Ra.sOverlays.h[this.key]=this;Ra.sOverlayContainer.addChild(this)};f["game.gems.Overlay"]=Ra;Ra.__name__="game.gems.Overlay";
Ra.staticInit=function(a){Ra.sOverlayContainer=a};Ra.getKey=function(a,b){return a+100*b};Ra.getOverlay=function(a,b){return Ra.sOverlays.h[Ra.getKey(a,b)]};Ra.overlayPlopp=function(a,b){a=Ra.getKey(a,b);b=Ra.sOverlays.h[a];null==b||b.hide||b.indestructable||(Ra.sOverlays.remove(a),b.plopp())};Ra.initLevel=function(a){null!=Ra.sOverlayContainer&&Ra.sOverlayContainer.removeAllChildren();for(var b=0;b<a.length;){var d=a[b];++b;var c=d.stoneType;if(null!=c)switch(c){case "FLIES":new Ai(d.x,d.y,!1);break;
case "HARD_CAGE":t.get_instance().addStone(d.x,d.y,new sg(t.get_instance().getStone(d.x,d.y),1)).resetAnimation();break;case "HARD_CAGE2":t.get_instance().addStone(d.x,d.y,new sg(t.get_instance().getStone(d.x,d.y),2)).resetAnimation();break;case "HARD_CAGE3":t.get_instance().addStone(d.x,d.y,new sg(t.get_instance().getStone(d.x,d.y),3)).resetAnimation();break;case "HARD_CAGE4":t.get_instance().addStone(d.x,d.y,new sg(t.get_instance().getStone(d.x,d.y),4)).resetAnimation();break;case "LEAF":new Xg(d.x,
d.y,!1);break;case "METAL_PLATE":new bj(d.x,d.y);break;case "ROCKS_BLUE":case "ROCKS_GREEN":case "ROCKS_PURPLE":case "ROCKS_RED":case "ROCKS_YELLOW":t.get_instance().addStone(d.x,d.y,new Bd(t.get_instance().getStone(d.x,d.y),d.stoneType,d.params));break;case "SNOWFLAKE":new Th(d.x,d.y,!1);break;case "SOFT_CAGE":new Zg(d.x,d.y)}}Bd.checkGroups()};Ra.__super__=G;Ra.prototype=k(G.prototype,{cacheParticle:function(a){Oa.sInstance.atlas.getTexture(a)},plopp:function(){t.get_instance().task.isTask(this.stoneType)&&
t.get_instance().finishAnimation(this,this.stoneType);this.dispose()},interact:function(a){},dispose:function(){G.prototype.dispose.call(this);Ra.sOverlays.remove(this.key)},__class__:Ra});var Ai=function(a,b,d){Ra.call(this,a,b);d&&t.get_instance().task.getOrCreateTask("FLIES").addAmount(1);this.stoneType="FLIES";this.cacheParticle("gems/fly_icon.png");a=t.get_instance().context;a=null!=a?a.getTemplate("tFlies"):null;null!=a&&a.applyTo(this);this.find("uiImgFly01").addAnimation(new Le(3,10,Math.random()));
this.find("uiImgFly02").addAnimation(new Le(3,10,Math.random()));this.find("uiImgFly03").addAnimation(new Le(3,10,Math.random()))};f["game.gems.Flies"]=Ai;Ai.__name__="game.gems.Flies";Ai.__super__=Ra;Ai.prototype=k(Ra.prototype,{plopp:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=150;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;5>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;var c=40+10*Math.random(),f=1.5+.5*Math.random(),h=360*Math.random()-
720,m=360*Math.random()-720;null==m&&(m=0);null==h&&(h=0);var k=t.get_instance().particleRenderer,n=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"gems/fly_icon.png",n,f,b,a,c,c,-1,-1,h,m,0,0)}e.get_instance().playUnique("sound/Flies_loop_end.mp3",0,1,1);Ra.prototype.plopp.call(this)},__class__:Ai});var qf=function(a,b){null==b&&(b="tFoodBowl");null==a&&(a=4);this.mCount=
this.mMaxCount=0;K.call(this,b);this.mMaxCount=this.mCount=a;this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("particles/food.png");this.get_playField().get_atlas().getTexture("gems/bowl_02.png");this.get_playField().get_atlas().getTexture("gems/bowl_03.png");this.get_playField().get_atlas().getTexture("gems/bowl_04.png");this.stoneType="FOOD_BOWL"};f["game.gems.FoodBowl"]=qf;qf.__name__="game.gems.FoodBowl";qf.__super__=K;qf.prototype=k(K.prototype,{updateDisplay:function(){var a="gems/bowl_"+
ia.ndigits(this.mMaxCount+1-this.mCount,2)+".png",b=this.find("uiImgIcon");null!=b&&b instanceof G&&b.set_image(a)},plopp:function(a){0<--this.mCount&&this.updateDisplay();var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.blubb();e.get_instance().playUnique("sound/eat.mp3",0,1,1);if(0==this.mCount){for(var c=0;10>c;){++c;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var f=d;f.x*=230;f.y*=230;d=f;var h=1+.5*Math.random(),m=4*(360*Math.random()-
720),k=4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"particles/food.png",q,h,f,b,40,40,-1,16777215,m,k,0,0)}K.prototype.plopp.call(this,a)}else for(c=0;3>c;)++c,d.x=2*Math.random()-1,d.y=2*Math.random()-1,f=d,f.x*=230,f.y*=230,d=f,h=1+.5*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-
720),null==k&&(k=0),null==m&&(m=0),n=this.get_playField().particleRenderer,q=K.sV2D,q.x=this.x+this.resultWidth/2,q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==k&&(k=0),null==m&&(m=0),n.addParticle(n.mVertexBuffer,"particles/food.png",q,h,f,b,20,20,-1,16777215,m,k,0,0)},__class__:qf});var Xb=function(a){this.winkTimer=this.mGemGlow=this.mStunnedStars=null;this.stunned=!1;K.call(this);var b=a;null==a&&(a=this.get_playField().task.allowedGemTypes.length,b=this.get_playField().task.allowedGemTypes[R.random(a)]);
this.stoneType=b;switch(this.stoneType){case "GEM_BLUE":this.setStoneTemplate("tGemBlue");break;case "GEM_GREEN":this.setStoneTemplate("tGemGreen");break;case "GEM_PURPLE":this.setStoneTemplate("tGemPurple");break;case "GEM_RED":this.setStoneTemplate("tGemRed");break;case "GEM_WHITE":this.setStoneTemplate("tGemWhite");break;case "GEM_YELLOW":this.setStoneTemplate("tGemYellow")}this.touchable=this.gem=!0};f["game.gems.Gem"]=Xb;Xb.__name__="game.gems.Gem";Xb.getSound=function(a){switch(a){case "GEM_BLUE":return"sound/elephant.mp3";
case "GEM_GREEN":return"sound/snake.mp3";case "GEM_PURPLE":return"sound/meow.mp3";case "GEM_RED":return"sound/parrot.mp3";case "GEM_WHITE":return"sound/bark.mp3";case "GEM_YELLOW":return"sound/duck.mp3";default:return"sound/pig.mp3"}};Xb.__super__=K;Xb.prototype=k(K.prototype,{sad:function(a){null==a&&(a=!0);if(null!=this.children){var b=this.find("uiImgGem");if(null!=b&&null!=this.get_playField().context){var d=this.get_playField().context;a=null!=d?d.getTemplate(a?"tFaceSad":"tFace"):null;null!=
a&&a.applyTo(b)}}},userAction:function(){if(this.get_stateOk()&&!this.get_playField().get_locked()&&!this.get_hidden()){var a=[],b=[];if(null!=this.group&&1<this.group.data.length){this.get_playField().userAction();for(var d=this.group.data.length,c=0,f=this.group.data;c<f.length;){var g=f[c];++c;for(var h=0,m=g.getNeightbours();h<m.length;){var k=m[h];++h;-1==a.indexOf(k)&&-1==this.group.data.indexOf(k)&&a.push(k)}h=0;for(g=g.getNeightbourOverlays();h<g.length;)m=g[h],++h,-1==b.indexOf(m)&&b.push(m)}for(c=
0;c<b.length;)b[c++].interact(this);for(c=0;c<a.length;)a[c++].interact(this);c=Math.round(10*Math.pow(this.group.data.length,1.5));f=this.get_playField().task;f.set_score(f.score+c);this.get_playField().scoreAnimation(this.getMiddle(),c,this.get_StoneColor());c=0;for(f=this.group.data;c<f.length;)a=f[c],++c,a.score=0,a.plopp(this),5<=d&&a.moveToRootAnimation(this);c=null;5<=d?(f=Xb.getSound(this.stoneType),e.get_instance().play(f,0,.7,1),9<=d?(t.get_instance(),c=!0):c=!1,c?c=new Uf(this.stoneType):
(7<=d?(t.get_instance(),c=!0):c=!1,c?c=new Te:(t.get_instance(),c=new Qf(.5>Math.random())))):(f="sound/snap"+R.random(4)+".mp3",e.get_instance().play(f,0,.4,1));null!=c&&(d=this.x,c.x!=d&&c.invalidate(),c.x=d,d=this.y,c.y!=d&&c.invalidate(),c.y=d,this.get_playField().addStone(this.column,this.row,c))}else this.addAnimation(new Qd)}},plopp:function(a){this.get_stunned()&&this.set_stunned(!1);K.prototype.plopp.call(this,a);this.setVisible("uiImgBg",!1);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=
0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;15>d;)switch(++d,b.x=2*Math.random()-1,b.y=2*Math.random()-1,b.x*=250,b.y*=250,b.x*=.7,R.random(6)){case 0:case 1:case 2:var c=1+.5*Math.random(),e=10+20*Math.random(),f=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==f&&(f=0);var m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);null==f&&(f=0);m.addParticle(m.mVertexBuffer,
"gems/star.png",k,c,b,a,e,0,-1,-1,f,h,0,0);break;case 3:c=1+.5*Math.random();e=10+20*Math.random();f=4*(360*Math.random()-720);h=4*(360*Math.random()-720);null==h&&(h=0);null==f&&(f=0);m=this.get_playField().particleRenderer;k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);null==f&&(f=0);m.addParticle(m.mVertexBuffer,"particles/hexagonfx.png",k,c,b,a,e,0,-5042,-5042,f,h,0,0);break;case 4:c=1+.5*Math.random();e=10+Math.random();f=4*(360*Math.random()-
720);h=4*(360*Math.random()-720);null==h&&(h=0);null==f&&(f=0);m=this.get_playField().particleRenderer;k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);null==f&&(f=0);m.addParticle(m.mVertexBuffer,"particles/circlefx.png",k,c,b,a,e,0,-5042,-5042,f,h,0,0);break;case 5:c=1+.5*Math.random(),e=10+2*Math.random(),f=4*(360*Math.random()-720),h=4*(360*Math.random()-720),null==h&&(h=0),null==f&&(f=0),m=this.get_playField().particleRenderer,k=K.sV2D,
k.x=this.x+this.resultWidth/2,k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==h&&(h=0),null==f&&(f=0),m.addParticle(m.mVertexBuffer,"particles/flarefx.png",k,c,b,a,e,0,-5042,-5042,f,h,0,0)}Ra.overlayPlopp(this.column,this.row)},setGroup:function(a){K.prototype.setGroup.call(this,a);var b=0;a=null;if(null!=this.group){var d=this.group.data.length;if(5<=d){t.get_instance();var c=!0}else c=!1;c&&(9<=d?(t.get_instance(),c=!0):c=!1,c?(a="gems/orb.png",b=8355839):(7<=d?(t.get_instance(),c=!0):
c=!1,c?(a="gems/skunk.png",b=16777215):(a="gems/row.png",b=16777087)))}if(0!=b){null==this.mGemGlow&&(this.mGemGlow=this.addChild(this.get_playField().getGemGlow(),1));d=this.mGemGlow;c=U.toFloat(b>>>16&255)/255;var e=U.toFloat(b>>>8&255)/255,f=U.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||f!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=f&&d.invalidate(),d.colorB=f,d.invalidate();d.color=b}else null!=this.mGemGlow&&(this.mGemGlow.removeFromParent(),
this.get_playField().recycleGemGlow(this.mGemGlow),this.mGemGlow=null);b=this.findType("uiImgIcon",G);null!=b&&(b.set_visible(null!=a),b.set_image(a))},get_stunned:function(){return this.stunned},set_stunned:function(a){if(this.get_stunned()!=a){var b=this.winkTimer;null!=b&&b.dispose();this.winkTimer=null;b=this.find("uiImgGem");if(null!=b&&null!=this.get_playField().context){var d=this.get_playField().context;d=null!=d?d.getTemplate(a?"tFaceEyesClosed":"tFace"):null;null!=d&&d.applyTo(b);if(a){t.get_instance().task.getOrCreateTask("STUNNED").addAmount(1);
this.mStunnedStars=[];d=this.context;d=null!=d?d.getTemplate("tStunnStar"):null;if(null!=d)for(var c=0;6>c;){++c;var e=d.createInstance();b.addChild(e);this.mStunnedStars.push(e)}b=new df(null,2,0);b.name="test";this.addAnimation(b)}else{t.get_instance().finishAnimation(this,"STUNNED");b=this.findAnimation("test");null!=b&&(this.removeAnimation(b,!0),.01!=this.rotation&&this.invalidate(),this.rotation=.01);b=this.mStunnedStars;if(null!=b)for(;0<b.length;)b.pop().dispose();this.mStunnedStars=null}}this.stunned=
a}return this.get_stunned()},update:function(){if(null!=this.mStunnedStars)for(var a=0,b=3*C.timer,d=2*Math.PI/this.mStunnedStars.length,c=0,e=this.mStunnedStars;c<e.length;){var f=e[c];++c;var g=b+d*a,h=45*Math.sin(g);f.x!=h&&f.invalidate();f.x=h;h=10*Math.cos(g)+20;f.y!=h&&f.invalidate();f.y=h;h=.25*Math.cos(g)+.75;f.scale!=h&&f.invalidate();f.scale=h;g*=72;f.rotation!=g&&f.invalidate();f.rotation=g;++a}K.prototype.update.call(this)},dispose:function(){this.get_stunned()&&this.set_stunned(!1);null!=
this.mGemGlow&&(this.mGemGlow.removeFromParent(),this.get_playField().recycleGemGlow(this.mGemGlow),this.mGemGlow=null);var a=this.mStunnedStars;if(null!=a)for(;0<a.length;)a.pop().dispose();this.mStunnedStars=null;a=this.winkTimer;null!=a&&a.dispose();this.winkTimer=null;K.prototype.dispose.call(this)},__class__:Xb,__properties__:k(K.prototype.__properties__,{set_stunned:"set_stunned",get_stunned:"get_stunned"})});var Tf=function(a,b){null==b&&(b="tGift");null==a&&(a=3);this.mCount=0;K.call(this,
b);this.mCount=a;this.stoneType="GIFT";this.ploppOnInteraction=!0;this.updateDisplay();Oa.sInstance.atlas.getTexture("particles/confetti.png");Oa.sInstance.atlas.getTexture("gems/gift02.png");Oa.sInstance.atlas.getTexture("gems/gift03.png")};f["game.gems.Gift"]=Tf;Tf.__name__="game.gems.Gift";Tf.__super__=K;Tf.prototype=k(K.prototype,{updateDisplay:function(){this.setVisible("uiImg02",1<this.mCount);this.setVisible("uiImg03",2<this.mCount)},plopp:function(a){--this.mCount;this.updateDisplay();var b=
g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];this.blubb();switch(this.mCount){case 0:e.get_instance().playUnique("sound/party.mp3",0,1,1);for(var c=0;72>c;){var f=Tf.sColors[c++%6]|-16777216,h=730*Math.random();null==h&&(h=1);var m=360*Math.random();d.x=Math.cos(m)*h;d.y=Math.sin(m)*h;h=4+.5*Math.random();m=4*(Math.random()+4);var k=f,n=f,q=360*Math.random()-720,r=2*(360*Math.random()-720),u=360*Math.random()-720;null==u&&(u=0);null==r&&(r=
0);null==q&&(q=0);null==f&&(n=0);null==f&&(k=-1);f=this.get_playField().particleRenderer;var M=K.sV2D;M.x=this.x+this.resultWidth/2;M.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==u&&(u=0);null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);null==k&&(k=-1);f.addParticle(f.mVertexBuffer,"particles/confetti.png",M,h,d,b,m,4,k,n,q,r,u,0)}K.prototype.plopp.call(this,a);switch(R.random(3)){case 0:b=new Qf;break;case 1:b=new Te;break;default:b=new Uf(this.get_playField().task.allowedGemTypes[R.random(this.get_playField().task.allowedGemTypes.length)])}this.get_playField().addStone(this.column,
this.row,b).resetAnimation(!0);break;case 1:a="sound/gift_hit0"+(R.random(4)+1)+".mp3";e.get_instance().playUnique(a,0,1,1);d.x=300;d.y=30;h=1+.5*Math.random();q=360*Math.random()-720;r=2*(360*Math.random()-720);null==r&&(r=0);null==q&&(q=0);f=this.get_playField().particleRenderer;M=K.sV2D;M.x=this.x+this.resultWidth/2;M.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==r&&(r=0);null==q&&(q=0);f.addParticle(f.mVertexBuffer,"gems/gift02.png",M,h,d,b,40,40,-1,16777215,q,r,0,0);break;case 2:a="sound/gift_hit0"+
(R.random(4)+1)+".mp3",e.get_instance().playUnique(a,0,1,1),d.x=-300,d.y=10,h=1+.5*Math.random(),q=360*Math.random()-720,r=2*(360*Math.random()-720),null==r&&(r=0),null==q&&(q=0),f=this.get_playField().particleRenderer,M=K.sV2D,M.x=this.x+this.resultWidth/2,M.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==r&&(r=0),null==q&&(q=0),f.addParticle(f.mVertexBuffer,"gems/gift03.png",M,h,d,b,40,40,-1,16777215,q,r,0,0)}},__class__:Tf});var ze=function(a){null==a&&(a=0);jc.call(this,"tGroupSingleHitEach");
this.mTag=a;this.stoneType="GROUP_SINGLE_HIT_EACH";this.mOverrideHidden=this.ploppOnInteraction=this.fixed=!0;Oa.sInstance.atlas.getTexture("particles/pumpkin.png");this.updateDisplay()};f["game.gems.GroupSingleHitEach"]=ze;ze.__name__="game.gems.GroupSingleHitEach";ze.__super__=jc;ze.prototype=k(jc.prototype,{plopp:function(a){if(0<this.count){--this.count;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];for(a=0;4>a;){++a;d.x=2*Math.random()-
1;d.y=2*Math.random()-1;var c=d;c.x*=350;c.y*=350;d=c;c.x*=.7;var f=1+.5*Math.random(),h=50+20*Math.random(),m=2*(360*Math.random()-720),k=2*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"particles/pumpkin.png",q,f,c,b,h,0,-1,-1,m,k,0,0)}this.updateDisplay();a="sound/pumpkin0"+(R.random(4)+1)+".mp3";
e.get_instance().playUnique(a,0,.7,1);b=this.getGroup();for(a=d=0;a<b.length;)0<b[a++].count&&++d;if(0==d)for(t.get_instance().finishAnimation(this,this.stoneType),0<b.length&&(a="sound/pumpkin_shrub0"+(R.random(3)+1)+".mp3",e.get_instance().playUnique(a,0,1,1));0<b.length;)Tc.dispose(b.pop())}},update:function(){this.setVisible("uiLeft",this.match(this.getNeightbour(-1,0)));this.setVisible("uiBottom",this.match(this.getNeightbour(0,-1)));jc.prototype.update.call(this)},updateDisplay:function(){if(0==
this.count){var a=1==this.mTag?4235072:11513632,b=this.find("uiImgBg");if(null!=b){var d=U.toFloat(a>>>16&255)/255,c=U.toFloat(a>>>8&255)/255,e=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=this.find("uiImgLeft");if(null!=b){d=U.toFloat(a>>>16&255)/255;c=U.toFloat(a>>>8&255)/255;e=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=
d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=this.find("uiImgBottom");if(null!=b){d=U.toFloat(a>>>16&255)/255;c=U.toFloat(a>>>8&255)/255;e=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}this.setVisible("uiImgPumpkin",!1);var f=this.getNeightbour(1,0);if(null!=
f){b=f.find("uiImgLeft");if(null!=b){d=U.toFloat(a>>>16&255)/255;c=U.toFloat(a>>>8&255)/255;e=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}f.setVisible("uiImgPumpkinLeft",!1)}f=this.getNeightbour(0,1);if(null!=f){b=f.find("uiImgBottom");if(null!=b){d=U.toFloat(a>>>16&255)/255;c=U.toFloat(a>>>8&255)/255;e=U.toFloat(a&255)/255;if(d!=b.colorR||
c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}f.setVisible("uiImgPumpkinBottom",!1)}}else if(1==this.mTag){if(b=this.find("uiImgBg"),null!=b){d=U.toFloat(128)/255;c=U.toFloat(191)/255;e=U.toFloat(128)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=
8437632}}else if(b=this.find("uiImgBg"),null!=b){d=U.toFloat(255)/255;c=U.toFloat(255)/255;e=U.toFloat(80)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=16777040}},__class__:ze});var sg=function(a,b){null==b&&(b=1);K.call(this,"tHardCage");this.count=b;this.updateDisplay();this.stoneType="HARD_CAGE";this.fixed=!0;this.touchable=!1;b=a=this.content=a;0!=b.y&&b.invalidate();
b=b.y=0;a.x!=b&&a.invalidate();a.x=b;this.content.clickable=!1;this.content.resetAnimation();Oa.sInstance.atlas.getTexture("particles/cage01.png");Oa.sInstance.atlas.getTexture("particles/cage02.png");a=this.find("uiContent");null!=a&&a.addChild(this.content)};f["game.gems.HardCage"]=sg;sg.__name__="game.gems.HardCage";sg.__super__=K;sg.prototype=k(K.prototype,{updateDisplay:function(){this.setVisible("uiImgLock0",0<this.count);this.setVisible("uiImgLock1",1<this.count);this.setVisible("uiImgLock2",
2<this.count);this.setVisible("uiImgLock3",3<this.count)},plopp:function(a){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;20>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=550;b.y*=550;var c=30+10*Math.random(),f=.5>Math.random()?"particles/cage01.png":"particles/cage02.png",h=1.5+.5*Math.random(),m=360*Math.random()-720,k=360*Math.random()-720;null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=
K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,f,q,h,b,a,c,c,-1,-1,m,k,0,0)}e.get_instance().playUnique("sound/cage2.mp3",0,.2,1);0==--this.count?(this.get_playField().task.isTask(this.stoneType)&&t.get_instance().finishAnimation(this,this.stoneType),this.setStone(this.column,this.row,null),a=this.get_playField().task,a.set_score(a.score+this.score),this.content.clickable=!0,a=this.content,0!=a.colorOffset&&
a.invalidate(),a.colorOffset=0,t.get_instance().addStone(this.column,this.row,this.content).resetAnimation(!0),this.dispose()):this.updateDisplay()},__class__:sg});var Xg=function(a,b,d){Ra.call(this,a,b);this.stoneType="LEAF";this.clickable=!1;this.block=this.hide=!0;this.cacheParticle("particles/leaf.png");a=t.get_instance().context;a=null!=a?a.getTemplate("tLeaf"):null;null!=a&&a.applyTo(this);d&&t.get_instance().task.getOrCreateTask("LEAF").addAmount(1)};f["game.gems.Leaf"]=Xg;Xg.__name__="game.gems.Leaf";
Xg.__super__=Ra;Xg.prototype=k(Ra.prototype,{interact:function(a){this.plopp()},plopp:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=150;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;12>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;var c=20+10*Math.random(),f=1.5+.5*Math.random(),h=360*Math.random()-720,m=360*Math.random()-720,k=1440*Math.random();null==k&&(k=0);null==m&&(m=0);null==h&&(h=0);var n=t.get_instance().particleRenderer,q=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);null==h&&(h=0);n.addParticle(n.mVertexBuffer,"particles/leaf.png",q,f,b,a,c,c,-1,-1,h,m,k,0)}e.get_instance().playUnique("sound/leaf.mp3",0,.5,1);Ra.prototype.plopp.call(this)},__class__:Xg});var bj=function(a,b){Ra.call(this,a,b);this.stoneType="METAL_PLATE";this.clickable=!1;this.block=this.hide=!0;a=t.get_instance().context;a=null!=a?a.getTemplate("tMetalPlate"):null;null!=
a&&a.applyTo(this)};f["game.gems.MetalPlate"]=bj;bj.__name__="game.gems.MetalPlate";bj.__super__=Ra;bj.prototype=k(Ra.prototype,{interact:function(a){null!=a&&a instanceof pc&&this.plopp()},plopp:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=150;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;12>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;var c=40+10*Math.random(),f=1.5+.5*Math.random(),h=360*Math.random()-720,m=360*Math.random()-720,k=1440*
Math.random();null==k&&(k=0);null==m&&(m=0);null==h&&(h=0);var n=t.get_instance().particleRenderer,q=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);null==h&&(h=0);n.addParticle(n.mVertexBuffer,"particles/cage01.png",q,f,b,a,c,c,-1,-1,h,m,k,0)}e.get_instance().playUnique("sound/leaf.mp3",0,.5,1);Ra.prototype.plopp.call(this)},__class__:bj});var le=function(a){this.mStoneCount=0;this.mStoneTypes=
new cb;ab.call(this,"tMultiCage");this.stoneType="MULTI_CAGE";this.ploppOnInteraction=this.fixed=!0;for(var b=0;b<a.length;)this.addStone(a[b++])};f["game.gems.MultiCage"]=le;le.__name__="game.gems.MultiCage";le.__super__=ab;le.prototype=k(ab.prototype,{addStone:function(a){if(5>this.mStoneCount){var b="uiImgIconGem"+(this.mStoneCount+1),d=K.getIcon(a),c=this.find(b);null!=c&&c instanceof G&&c.set_image(d);this.setVisible(b,!0);this.mStoneTypes.h[a]=this.mStoneCount;++this.mStoneCount}},removeStone:function(a){"UNDEFINED"==
a&&(a=(new xg(this.mStoneTypes.h)).next());if(Object.prototype.hasOwnProperty.call(this.mStoneTypes.h,a)){var b=this.mStoneTypes.h[a],d=this.mStoneTypes,c=a;Object.prototype.hasOwnProperty.call(d.h,c)?(delete d.h[c],d=!0):d=!1;if(d)for(this.setVisible("uiImgIconGem"+(b+1),!1),--this.mStoneCount,d=Xb.getSound(a),e.get_instance().play(d,0,.7,1),this.addAnimation(new yd),d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d.x=0,d.y=250,a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],b=0;15>b;)switch(++b,a.x=2*Math.random()-
1,a.y=2*Math.random()-1,a.x*=250,a.y*=250,a.x*=.7,R.random(6)){case 0:case 1:case 2:c=1+.5*Math.random();var f=30+20*Math.random(),h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);var k=this.get_playField().particleRenderer,n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"particles/starfx.png",n,c,a,d,f,0,-1,-1,h,m,0,0);break;case 3:c=1+.5*Math.random();f=30+20*
Math.random();h=4*(360*Math.random()-720);m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);k=this.get_playField().particleRenderer;n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"particles/hexagonfx.png",n,c,a,d,f,0,-5042,-5042,h,m,0,0);break;case 4:c=1+.5*Math.random();f=30+6*Math.random();h=4*(360*Math.random()-720);m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);k=this.get_playField().particleRenderer;
n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"particles/circlefx.png",n,c,a,d,f,0,-5042,-5042,h,m,0,0);break;case 5:c=1+.5*Math.random(),f=30+20*Math.random(),h=4*(360*Math.random()-720),m=4*(360*Math.random()-720),null==m&&(m=0),null==h&&(h=0),k=this.get_playField().particleRenderer,n=K.sV2D,n.x=this.x+this.resultWidth/2,n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2,null==m&&(m=0),null==
h&&(h=0),k.addParticle(k.mVertexBuffer,"particles/flarefx.png",n,c,a,d,f,0,-5042,-5042,h,m,0,0)}}},plopp:function(a){if(this.fatHitOk(a)&&(this.removeStone(null!=a&&a.gem?a.stoneType:"UNDEFINED"),0==this.mStoneCount)){ab.prototype.plopp.call(this,a);e.get_instance().play("sound/anvil.mp3",0,1,1);this.get_playField().shake();a=this.getMiddle();var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;for(var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=0;30>c;){++c;d.x=2*Math.random()-1;d.y=2*
Math.random()-1;var f=d;f.x*=750;f.y*=750;d=f;f.y-=200;var h=Oa.sInstance,m=1+.5*Math.random(),k=.05+.02*Math.random(),n=4*(360*Math.random()-720),q=4*(360*Math.random()-720);null==q&&(q=0);null==n&&(n=0);h.addParticle(h.mVertexBuffer2,"particles/starfx.png",a,m,f,b,k,0,-1,-1,n,q,0,0)}}},dispose:function(){this.mStoneTypes=null;ab.prototype.dispose.call(this)},__class__:le});var Uf=function(a){pc.call(this,"tOrb");this.stoneType="ORB";this.score=50;this.gemType=a;a=K.getIcon(this.gemType);var b=this.find("uiImgTypeIcon");
null!=b&&b instanceof G&&b.set_image(a)};f["game.gems.Orb"]=Uf;Uf.__name__="game.gems.Orb";Uf.__super__=pc;Uf.prototype=k(pc.prototype,{plopp:function(a){null!=this.group&&1<this.group.data.length&&(this.score=0);pc.prototype.plopp.call(this,a);if(a!=this||!this.checkGroupEffect()){e.get_instance().play("sound/port.mp3",0,1,1);for(var b=a=0,d=t.ROWS;b<d;)for(var c=b++,f=0,g=t.COLUMNS;f<g;){var h=f++,m=t.ROWS-c-1;if(h!=this.column||m!=this.row){var k=this.get_playField().getStone(h,m);null==k||k.get_hidden()||
k.stoneType!=this.gemType||this.get_playField().addCommand(.05*++a,new Ob(h,m))}}}},__class__:Uf});var tg=function(a){null==a&&(a=1);K.call(this,"tOre");this.mCount=a;this.updateCount();Oa.sInstance.atlas.getTexture("particles/ore.png");this.stoneType="ORE"};f["game.gems.Ore"]=tg;tg.__name__="game.gems.Ore";tg.__super__=K;tg.prototype=k(K.prototype,{updateCount:function(){switch(this.mCount){case 1:var a=this.find("uiImgIcon");null!=a&&a instanceof G&&a.set_image("gems/ore.png");this.fixed=!1;break;
case 2:a=this.find("uiImgIcon"),null!=a&&a instanceof G&&a.set_image("gems/honey.png"),this.fixed=!0}},plopp:function(a){if(1<this.mCount){switch(this.mCount){case 1:e.get_instance().playUnique("sound/Honeycomb_pick.mp3",0,1,1);break;case 2:e.get_instance().playUnique("sound/Break_honey_jar.mp3",0,1,1)}--this.mCount;this.updateCount()}else K.prototype.plopp.call(this,a);a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;10>d;){++d;b.x=
2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=250;c.y*=250;b=c;c.x*=.7;var f=1+.5*Math.random(),h=30+20*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"particles/ore.png",q,f,c,a,h,0,-1,-1,m,k,0,0)}},interact:function(a){null!=a&&(a instanceof pc?
this.plopp():a instanceof Xb&&this.addAnimation(new Qd));return K.prototype.interact.call(this,a)},__class__:tg});var Se=function(){this.mStoneCount=3;ab.call(this,"tOrePile");Oa.sInstance.atlas.getTexture("particles/ore.png");this.stoneType="ORE_PILE";this.fixed=!0};f["game.gems.OrePile"]=Se;Se.__name__="game.gems.OrePile";Se.__super__=ab;Se.prototype=k(ab.prototype,{removeStone:function(){this.setVisible("uiImgIconGem"+this.mStoneCount,!1);--this.mStoneCount;this.addAnimation(new yd);this.getMiddle();
var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;10>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=350;b.y*=350;b.x*=.7;var c=1+.5*Math.random(),e=30+20*Math.random(),f=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==f&&(f=0);var m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);null==f&&(f=0);m.addParticle(m.mVertexBuffer,
"particles/ore.png",k,c,b,a,e,0,-1,-1,f,h,0,0)}},plopp:function(a){if(this.fatHitOk(a)&&(0<this.mStoneCount&&this.removeStone(),0==this.mStoneCount)){ab.prototype.plopp.call(this,a);e.get_instance().playUnique("sound/Honeycomb_pick.mp3",0,1,1);this.get_playField().shake();a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;5>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=750;c.y*=750;b=c;var f=1.5+.5*Math.random(),h=50+
20*Math.random(),m=2*(360*Math.random()-720),k=2*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"particles/ore.png",q,f,c,a,h,0,-1,-1,m,k,0,0)}}},__class__:Se});var me=function(a){K.call(this,a)};f["game.gems.PowerUpShadowStone"]=me;me.__name__="game.gems.PowerUpShadowStone";me.__super__=K;me.prototype=
k(K.prototype,{__class__:me});var Bd=function(a,b,d){null==d&&(d=20);this.mCount=10;this.rockGroup=null;K.call(this,"tRocks");Oa.sInstance.atlas.getTexture("particles/rock.png");this.touchable=this.clickable=!1;this.fixed=!0;this.destroyable=!1;null!=a&&(this.contentFixState=a.fixed,this.content=a,this.content.clickable=!1,this.content.set_visible(!1),this.content.fixed=!0,this.content.resetAnimation());this.mShadowCount=this.mCount=d;this.stoneType=b;switch(this.stoneType){case "ROCKS_BLUE":this.gemType=
"GEM_BLUE";break;case "ROCKS_GREEN":this.gemType="GEM_GREEN";break;case "ROCKS_PURPLE":this.gemType="GEM_PURPLE";break;case "ROCKS_RED":this.gemType="GEM_RED";break;case "ROCKS_WHITE":this.gemType="GEM_WHITE";break;case "ROCKS_YELLOW":this.gemType="GEM_YELLOW"}};f["game.gems.Rocks"]=Bd;Bd.__name__="game.gems.Rocks";Bd.checkGroups=function(){for(var a=[],b=0,d=t.get_instance().stones;b<d.length;){var c=d[b];++b;c instanceof Bd&&a.push(c)}for(c=[];0<a.length;){var e=[];d=[];var f=a.pop();d.push(f);
for(e.push(f);0<d.length;){var g=d.pop().getNeightbours();for(b=0;b<g.length;){var h=g[b++];null!=h&&h.stoneType==f.stoneType&&E.remove(a,h)&&(d.push(h),e.push(h))}}c.push(e)}for(b=0;b<c.length;){e=c[b];++b;a=1E4;f=0;g=1E4;h=0;var m=e[0];for(d=0;d<e.length;){var k=V.__cast(e[d++],Bd);if(null!=k){var n=k.column;n<a&&(a=n);n=k.row;n<g&&(g=n);n=k.column;n>f&&(f=n);n=k.row;n>h&&(h=n);if(k.x>m.x||k.y<m.y)m=k}}m.setHead(f-a+1,h-g+1,e)}};Bd.__super__=K;Bd.prototype=k(K.prototype,{plopp:function(a){},forcePlopp:function(a){},
kick:function(a){},onPlopp:function(a){a=a.data;null!=a&&a.stoneType==this.gemType&&a!=Bd.sUsedEvent&&0<this.mShadowCount&&(--this.mShadowCount,Bd.sUsedEvent=a,a=new yj(a,a.stoneType,this),this.registerXEventListener(a,"RockFinishedAnimation::FINISHED",c(this,this.onFinishRockAnimation)),t.get_instance().animations.addChild(a))},onFinishRockAnimation:function(a){--this.mCount;if(0==this.mCount){null!=this.mInfo&&t.get_instance().finishAnimation(this.mInfo,"ROCKS");t.get_instance().shake();a=0;for(var b=
this.rockGroup;a<b.length;)b[a++].blowup()}else this.updateDisplay()},blowup:function(a){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250*t.sScale;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;5>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=550*t.sScale;b.x*=c;b.y*=c;c=10+10*Math.random();var e=2+.5*Math.random(),f=3*(360*Math.random()-720),h=3*(360*Math.random()-720);null==h&&(h=0);null==f&&(f=0);var m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/
2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);null==f&&(f=0);m.addParticle(m.mVertexBuffer,"particles/rock.png",k,e,b,a,c,c,-1,-1,f,h,0,0)}null!=this.content&&(this.content.clickable=!0,a=this.content,0!=a.colorOffset&&a.invalidate(),a.colorOffset=0,this.content.set_visible(!0),this.content.blubb(),this.content.fixed=this.contentFixState,t.get_instance().addStone(this.column,this.row,this.content).resetAnimation(!0));Tc.dispose(this)},setHead:function(a,b,d){this.rockGroup=d;
this.registerXEventListener(t.get_instance(),"Stone::PLOPP",c(this,this.onPlopp));a=V.__cast(qa.createInstanceFromString('<image width="'+100*a+'" height="'+100*b+'" image="gems/blockarea_frame.png" nss="48,48,106,106" nssScale="0.8" halign="right" valign="top" margin="0" />',this.context),G);this.addChild(a);d=this.mInfo=V.__cast(qa.createInstanceFromString('<image name="uiImgRockInfo" template="tRockInfo" />',t.get_instance().context),G);b=K.getIcon(this.gemType);d=d.find("uiImgIcon");null!=d&&
d instanceof G&&d.set_image(b);a.addChild(this.mInfo);this.updateDisplay()},updateDisplay:function(){this.setText("uiTxtAmount",N.number(this.mCount))},dispose:function(){this.mInfo=this.rockGroup=null;K.prototype.dispose.call(this)},__class__:Bd});var Te=function(){pc.call(this,"tSkunk");this.score=40;this.stoneType="SKUNK"};f["game.gems.Skunk"]=Te;Te.__name__="game.gems.Skunk";Te.__super__=pc;Te.prototype=k(pc.prototype,{plopp:function(a){null!=this.group&&1<this.group.data.length&&(this.score=
0);pc.prototype.plopp.call(this,a);if(a!=this||!this.checkGroupEffect()){e.get_instance().play("sound/skunk.mp3",0,1,1);var b=g.ZERO,d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];for(a=0;15>a;){++a;d.x=2*Math.random()-1;d.y=2*Math.random()-1;var c=d;d=1/Math.sqrt(c.x*c.x+c.y*c.y);c.x*=d;c.y*=d;var f=100*t.sScale;c.x*=f;c.y*=f;d=c;var h=2+.5*Math.random();f=this.get_playField().particleRenderer;var m=K.sV2D;m.x=this.x+this.resultWidth/2;m.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;f.addParticle(f.mVertexBuffer,
"particles/smelly.png",m,h,c,b,50,150,-2987746,13789471,0,0,0,0)}this.get_playField().shake();for(a=0;3>a;)for(b=a++,d=0;3>d;)if(f=d++,c=this.column+b-1,m=this.row+f-1,1!=b||1!=f)h=this.get_playField().getStone(c,m),null!=h&&(h instanceof pc?this.get_playField().addCommand(.4,new ub(c,m,this)):h instanceof Wb?this.get_playField().addCommand(.05,new ub(c,m,this)):this.get_playField().addCommand(.01,new ub(c,m,this)));this.get_playField().addCommand(.5,new Ta);for(a=0;7>a;)for(b=a++,d=0;7>d;)f=d++,
c=this.column+(b-3),m=this.row+(f-3),h=this.get_playField().getStone(c,m),null!=h&&h.state==zb.NORMAL&&h.destroyable&&(c=0<g.sPoolV2D.length?g.sPoolV2D.pop():new g,c.x=b-3,c.y=-(f-3),f=Math.sqrt(c.x*c.x+c.y*c.y),f=1/f/Math.max(1,f),c.x*=f,c.y*=f,c.x*=50,c.y*=50,h.setStoneAction(zb.IMPACT,.5,c))}},__class__:Te});var cj=function(a,b,d){this.mAnimationStart=0;this.middle=new g(0,0);this.animationTarget=new g(0,0);this.animationStart=new g(0,0);this.duration=1.5;G.call(this);var c=60*t.sScale;this.height!=
c&&this.invalidate();var e=null;this.relativeHeight!=e&&this.invalidate();this.relativeHeight=e;e=this.height=c;this.width!=e&&this.invalidate();c=null;this.relativeWidth!=c&&this.invalidate();this.relativeWidth=c;this.width=e;this.set_image("gems/skunk.png");this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=d.x;a.y=d.y;a.w=d.w;g.LERP(this.middle,this.animationStart,this.animationTarget,.5);this.mAnimationStart=C.timer};f["game.gems.SkunkAnimation"]=cj;cj.__name__=
"game.gems.SkunkAnimation";cj.__super__=G;cj.prototype=k(G.prototype,{update:function(){var a=ia.fClamp((C.timer-this.mAnimationStart)/this.duration,0,1),b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];g.BEZIER(b,this.animationStart,this.middle,this.animationTarget,a);var d=b.x-50;this.x!=d&&this.invalidate();this.x=d;d=b.y-50;this.y!=d&&this.invalidate();this.y=d;d=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=d&&this.invalidate();this.scale=d;G.prototype.update.call(this);1<=a&&this.dispose()},
dispose:function(){this.animationTarget=this.animationStart=null;G.prototype.dispose.call(this)},__class__:cj});var ug=function(){K.call(this,"tSnowball");this.stoneType="SNOWBALL";this.ploppOnInteraction=!0};f["game.gems.Snowball"]=ug;ug.__name__="game.gems.Snowball";ug.__super__=K;ug.prototype=k(K.prototype,{plopp:function(a){a=this.row-1;for(var b=this.row+2;a<b;)for(var d=a++,c=this.column-1,f=this.column+2;c<f;){var g=c++;Yc.checkPlace(g,d)&&t.get_instance().addCommand(.1,new Yc(g,d,"SNOWFLAKE",
!0))}e.get_instance().playUnique("sound/coconut.mp3",0,.7,1);K.prototype.plopp.call(this)},__class__:ug});var Th=function(a,b,d){Ra.call(this,a,b);this.stoneType="SNOWFLAKE";this.cacheParticle("gems/snowflake.png");a=t.get_instance().context;a=null!=a?a.getTemplate("tSnowflake"):null;null!=a&&a.applyTo(this);d&&t.get_instance().task.getOrCreateTask("SNOWFLAKE").addAmount(1)};f["game.gems.Snowflake"]=Th;Th.__name__="game.gems.Snowflake";Th.__super__=Ra;Th.prototype=k(Ra.prototype,{plopp:function(){var a=
g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=150;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;5>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;var c=40+10*Math.random(),f=1.5+.5*Math.random(),h=360*Math.random()-720,m=360*Math.random()-720;null==m&&(m=0);null==h&&(h=0);var k=t.get_instance().particleRenderer,n=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=
0);k.addParticle(k.mVertexBuffer,"gems/snowflake.png",n,f,b,a,c,c,-1,-1,h,m,0,0)}e.get_instance().playUnique("sound/snowflake.mp3",0,1,1);Ra.prototype.plopp.call(this)},__class__:Th});var Yg=function(){this.mCount=5;ab.call(this,"tSnowman");this.fixed=!0;this.mSnowContainer=this.find("uiSnowContainer");Oa.sInstance.atlas.getTexture("gems/snowflake.png");this.stoneType="SNOWMAN";this.ploppOnInteraction=!0};f["game.gems.Snowman"]=Yg;Yg.__name__="game.gems.Snowman";Yg.__super__=ab;Yg.prototype=k(ab.prototype,
{countStoneTypeForTask:function(){var a=this;this.countForTask&&this.get_playField().task.isTask(this.stoneType)&&Dc.delay(function(){t.get_instance().finishAnimation(a,a.stoneType)},100)},plopp:function(a){if(this.fatHitOk(a))if(--this.mCount,0==this.mCount){e.get_instance().play("sound/snowman_finished.mp3",0,1,1);this.get_playField().shake();for(var b=this.row-1,d=this.row+3;b<d;)for(var c=b++,f=this.column-1,h=this.column+3;f<h;){var m=f++;Yc.checkPlace(m,c)&&t.get_instance().addCommand(.1,new Yc(m,
c,"SNOWFLAKE",!0))}ab.prototype.plopp.call(this,a);d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=0;d.y=250;a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];for(b=0;20>b;){++b;a.x=2*Math.random()-1;a.y=2*Math.random()-1;c=a;c.x*=550;c.y*=550;a=c;c.y-=200;f=2+.2*Math.random();var k=360*Math.random()-720,n=360*Math.random()-720;null==n&&(n=0);null==k&&(k=0);h=this.get_playField().particleRenderer;m=K.sV2D;m.x=this.x+this.resultWidth/2;m.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==n&&(n=0);null==
k&&(k=0);h.addParticle(h.mVertexBuffer,"gems/snowflake.png",m,f,c,d,50,10,-1,16777215,k,n,0,0)}}else if(0<this.mCount)for(b="sound/snowman0"+(3-Math.max(1,Math.round(this.mCount/2)))+".mp3",e.get_instance().play(b,0,.4,1),this.blubb(),b=0,d=8-this.mCount;b<d;)++b,a=this.get_playField().context,a=null!=a?a.getTemplate("tSnowmanFlake"):null,a=null!=a?a.createInstance():null,c=new Ch(null),c.offsetX=60*(Math.random()+1),c.add=360*Math.random(),c.speed=50*(5-this.mCount+Math.random()),f=.2*(5-this.mCount)+
.2,a.scale!=f&&a.invalidate(),a.scale=f,a.addAnimation(c),this.mSnowContainer.addChild(a),null!=this.mSnowContainer.preParticleEmitter&&(this.mSnowContainer.preParticleEmitter.numParticlesPerSecond=20*(5-this.mCount))},dispose:function(){this.mSnowContainer=null;ab.prototype.dispose.call(this)},__class__:Yg});var Zg=function(a,b){Ra.call(this,a,b);this.stoneType="SOFT_CAGE";this.cacheParticle("particles/cage01.png");this.cacheParticle("particles/cage02.png");a=t.get_instance().context;a=null!=a?a.getTemplate("tSoftCage"):
null;null!=a&&a.applyTo(this)};f["game.gems.SoftCage"]=Zg;Zg.__name__="game.gems.SoftCage";Zg.__super__=Ra;Zg.prototype=k(Ra.prototype,{plopp:function(){this.getMiddle();var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;5>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=350;b.y*=350;var c=30+20*Math.random(),f=.5>Math.random()?"particles/cage01.png":"particles/cage02.png",h=2+.5*Math.random(),m=2*(360*Math.random()-720),k=
2*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=t.get_instance().particleRenderer,q=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,f,q,h,b,a,c,c,-1,-1,m,k,0,0)}e.get_instance().playUnique("sound/cage.mp3",0,.2,1);Ra.prototype.plopp.call(this)},__class__:Zg});var zb=ra["game.gems.State"]={__ename__:"game.gems.State",__constructs__:null,NORMAL:{_hx_name:"NORMAL",
_hx_index:0,__enum__:"game.gems.State",toString:r},JUMP:{_hx_name:"JUMP",_hx_index:1,__enum__:"game.gems.State",toString:r},IMPACT:{_hx_name:"IMPACT",_hx_index:2,__enum__:"game.gems.State",toString:r},MOVING:{_hx_name:"MOVING",_hx_index:3,__enum__:"game.gems.State",toString:r},FALLING:{_hx_name:"FALLING",_hx_index:4,__enum__:"game.gems.State",toString:r},PLOPPING:{_hx_name:"PLOPPING",_hx_index:5,__enum__:"game.gems.State",toString:r}};zb.__constructs__=[zb.NORMAL,zb.JUMP,zb.IMPACT,zb.MOVING,zb.FALLING,
zb.PLOPPING];var Vf=function(a){null==a&&(a=!1);this.mOpen=!1;K.call(this,"tTicker");this.mOpen=a;this.updateDisplay();this.ploppOnInteraction=this.fixed=!0;this.stoneType="TICKER";this.registerXEventListener(t.get_instance(),"USER_ACTION",c(this,this.onUserAction))};f["game.gems.Ticker"]=Vf;Vf.__name__="game.gems.Ticker";Vf.__super__=K;Vf.prototype=k(K.prototype,{forcePlopp:function(a){this.mOpen?K.prototype.forcePlopp.call(this,a):(this.mOpen=!0,this.updateDisplay())},plopp:function(a){if(this.mOpen){a=
g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],d=0;15>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=450;c.y*=450;b=c;var f=1+.5*Math.random(),h=20+10*Math.random(),m=4*(360*Math.random()-720),k=4*(360*Math.random()-720);null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,
"gems/star.png",q,f,c,a,h,0,-1,-1,m,k,0,0)}a="sound/Shell_pick0"+(R.random(3)+1)+".mp3";e.get_instance().playUnique(a,0,.7,1);K.prototype.plopp.call(this)}else this.addAnimation(new yd)},onUserAction:function(a){this.mOpen=!this.mOpen;this.updateDisplay()},updateDisplay:function(){var a=this.mOpen?"gems/oyster_02.png":"gems/oyster_01.png",b=this.find("uiImgIcon");null!=b&&b instanceof G&&b.set_image(a);a=this.mOpen?"sound/oyster_open.mp3":"sound/oyster_close.mp3";e.get_instance().playUnique(a,0,.25,
1)},__class__:Vf});var Ue=function(){Cb.call(this,"tTimebomb");this.stoneType="TIMEBOMB";Oa.sInstance.atlas.getTexture("gems/bomb.png");this.gemType=this.get_playField().task.allowedGemTypes[R.random(this.get_playField().task.allowedGemTypes.length)];this.updateDisplay()};f["game.gems.Timebomb"]=Ue;Ue.__name__="game.gems.Timebomb";Ue.__super__=Cb;Ue.prototype=k(Cb.prototype,{plopp:function(a){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;for(var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],
d=0;10>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=250;c.y*=250;b=c;c.x*=.7;var e=1+.5*Math.random(),f=30+20*Math.random(),h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);var k=this.get_playField().particleRenderer,n=K.sV2D;n.x=this.x+this.resultWidth/2;n.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==m&&(m=0);null==h&&(h=0);k.addParticle(k.mVertexBuffer,"gems/bomb.png",n,e,c,a,f,0,-1,-1,h,m,0,0)}Cb.prototype.plopp.call(this)},updateDisplay:function(){var a=
K.getStoneColor(this.gemType),b=this.find("uiImgMask");if(null!=b){var d=U.toFloat(a>>>16&255)/255,c=U.toFloat(a>>>8&255)/255,e=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||e!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}a=K.getIcon(this.gemType);b=this.find("uiImgTypeIcon");null!=b&&b instanceof G&&b.set_image(a)},__class__:Ue});var Ae=function(){K.call(this,"tWater");this.fixed=!0;this.stoneType=
"WATER";this.mOverrideHidden=this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("gems/water_drop.png");var a=this.get_playField().task.getOrCreateTask(this.stoneType);null!=a&&this.registerXEventListener(a,"Task::TASK_SOLVED",c(this,this.onTaskSolved))};f["game.gems.WaterBucket"]=Ae;Ae.__name__="game.gems.WaterBucket";Ae.__super__=K;Ae.prototype=k(K.prototype,{onTaskSolved:function(a){a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=250;var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];e.get_instance().playUnique("sound/bucket.mp3",
0,1,1);for(var d=0;6>d;){++d;b.x=2*Math.random()-1;b.y=2*Math.random()-1;var c=b;c.x*=550;c.y*=550;b=c;var f=1+1.5*Math.random(),h=20+10*Math.random(),m=360*Math.random()-720,k=360*Math.random()-720;null==k&&(k=0);null==m&&(m=0);var n=this.get_playField().particleRenderer,q=K.sV2D;q.x=this.x+this.resultWidth/2;q.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==k&&(k=0);null==m&&(m=0);n.addParticle(n.mVertexBuffer,"gems/water_drop.png",q,f,c,a,h,.03,-1,16777215,m,k,0,0)}K.prototype.plopp.call(this)},
plopp:function(a){this.addAnimation(new Qd);a=this.get_playField().task;a.set_score(a.score+20);a="sound/Drop0"+(R.random(4)+1)+".mp3";e.get_instance().playUnique(a,0,1,1);t.get_instance().finishAnimation(this,"WATER")},__class__:Ae});var Cd=function(){this.mCount=5;K.call(this,"tXHit");this.stoneType="X_HIT";this.ploppOnInteraction=!0;Oa.sInstance.atlas.getTexture("gems/berry.png");this.updateDisplay()};f["game.gems.XHit"]=Cd;Cd.__name__="game.gems.XHit";Cd.__super__=K;Cd.prototype=k(K.prototype,
{plopp:function(a){var b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=0;b.y=250;var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];d.x=2*Math.random()-1;d.y=2*Math.random()-1;d.x*=385;d.y*=550;var c=4+.5*Math.random(),f=.5*(360*Math.random()-720),h=.5*(360*Math.random()-720);null==h&&(h=0);null==f&&(f=0);var m=this.get_playField().particleRenderer,k=K.sV2D;k.x=this.x+this.resultWidth/2;k.y=t.ROWS*t.STONE_SIZE+this.y-this.resultHeight/2;null==h&&(h=0);null==f&&(f=0);m.addParticle(m.mVertexBuffer,"gems/berry.png",
k,c,d,b,23,23,-1,-1,f,h,0,0);this.blubb();b="sound/berry0"+(R.random(4)+1)+".mp3";e.get_instance().playUnique(b,0,1,1);0<this.mCount&&(--this.mCount,0==this.mCount&&(e.get_instance().playUnique("sound/berry_shake.mp3",0,1,1),K.prototype.plopp.call(this,a)),this.updateDisplay())},updateDisplay:function(){this.setVisible("uiImgBerry2",1<this.mCount);this.setVisible("uiImgBerry3",2<this.mCount);this.setVisible("uiImgBerry4",3<this.mCount);this.setVisible("uiImgBerry5",4<this.mCount)},__class__:Cd});
var Ec=function(){this.mParticleMatrix=Ba._new();ib.call(this);var a=q.instance,b=c(this,this.onScreenSizeChanged);b(null);this.registerXEventListener(a,"SIZE_CHANGED",b)};f["game.particles.LayerParticles"]=Ec;Ec.__name__="game.particles.LayerParticles";Ec.__super__=ib;Ec.prototype=k(ib.prototype,{onScreenSizeChanged:function(a){if(null!=this.mParticleMatrix){Ba.makeIdentity(this.mParticleMatrix);if(1<y.SCREEN_WIDTH/y.SCREEN_HEIGHT){a=this.mParticleMatrix;var b=.001*y.SCREEN_WIDTH,d=.001*y.SCREEN_WIDTH}else a=
this.mParticleMatrix,b=.001*y.SCREEN_HEIGHT,d=.001*y.SCREEN_HEIGHT;a[0]*=b;a[3]*=b;a[6]*=b;a[1]*=d;a[4]*=d;a[7]*=d}},dispose:function(){ib.prototype.dispose.call(this);this.mParticleMatrix=null},__class__:Ec});var rf=function(){Ec.call(this)};f["game.particles.GoldParticles"]=rf;rf.__name__="game.particles.GoldParticles";rf.__super__=Ec;rf.prototype=k(Ec.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=0;100>a;)this.addParticle(1E3*Math.random(),1E3*Math.random(),
.5+.5*a++/100,"ui/gold.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vCol;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.2 ) * 30.0, uTimer * 120.0 ) * aOffset.z;pos = mod( pos + 50.0, 1100.0) - 50.0;vCol = vec4( 1.0, 1.0, 1.0, 1.0 );vCol.rgb *= aOffset.z;float a = uTimer * aOffset.z * 1.5;float sinA = sin( a ); float cosA = cos( a ); vec2 add = vec2( cosA * aOffset.x - sinA * aOffset.y, cosA * aOffset.y + sinA * aOffset.x );gl_Position = uViewProjection * vec4( pos + add * aOffset.z * 2.0, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vCol;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ) * vCol; gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,c=this.vertexBuffer,e=zc.getIB(b);d.mVertexBuffer=c;d.mVertexBuffer2=null;d.mIndexBuffer=e;q.gl.useProgram(d.mProgram);c.apply();null!=e&&e.apply();var f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);null!=
a&&O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),f);O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],this.mParticleMatrix),f);d=this.mShader;a=q.gl;c=d.mUniformLookUp.h.uViewProjection;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),e.h.hasOwnProperty("uViewProjection")&&E.remove(e.mKeys,"uViewProjection"),e.h.uViewProjection=c,e.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,c,!1,f);d=this.mShader;f=C.timer;a=q.gl;c=d.mUniformLookUp.h.uTimer;
null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uTimer"),e.h.hasOwnProperty("uTimer")&&E.remove(e.mKeys,"uTimer"),e.h.uTimer=c,e.mKeys.push("uTimer"));a.uniform1f(c,f);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;f=this.atlas.get_texture();a=q.gl;c=d.mUniformLookUp.h.uTex0;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,
"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),e.h.uTex0=c,e.mKeys.push("uTex0"));a.uniform1i(c,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){Ec.prototype.dispose.call(this)},__class__:rf});var $g=function(){Ec.call(this)};f["game.particles.HeartParticles"]=$g;$g.__name__="game.particles.HeartParticles";$g.__super__=Ec;$g.prototype=k(Ec.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=
this.vertexBuffer.entries=0;200>a;)this.addParticle(1E3*Math.random(),1E3*Math.random(),.5+.5*a++/200,"ui/life.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vCol;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.2 ) * 30.0, -uTimer * 170.0 ) * aOffset.z;pos = mod( pos + 50.0, 1100.0) - 50.0;vCol = vec4( 1.0, 1.0, 1.0, 1.0 );vCol.rgb *= aOffset.z;float a = uTimer * aOffset.z * 2.5;float sinA = sin( a ); float cosA = cos( a ); vec2 add = vec2( cosA * aOffset.x - sinA * aOffset.y, cosA * aOffset.y + sinA * aOffset.x );gl_Position = uViewProjection * vec4( pos + add * aOffset.z * 2.0, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vCol;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ) * vCol; gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,c=this.vertexBuffer,e=zc.getIB(b);d.mVertexBuffer=c;d.mVertexBuffer2=null;d.mIndexBuffer=e;q.gl.useProgram(d.mProgram);c.apply();null!=e&&e.apply();var f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);null!=
a&&O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),f);O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],this.mParticleMatrix),f);d=this.mShader;a=q.gl;c=d.mUniformLookUp.h.uViewProjection;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),e.h.hasOwnProperty("uViewProjection")&&E.remove(e.mKeys,"uViewProjection"),e.h.uViewProjection=c,e.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,c,!1,f);d=this.mShader;f=C.timer;a=q.gl;c=d.mUniformLookUp.h.uTimer;
null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uTimer"),e.h.hasOwnProperty("uTimer")&&E.remove(e.mKeys,"uTimer"),e.h.uTimer=c,e.mKeys.push("uTimer"));a.uniform1f(c,f);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;f=this.atlas.get_texture();a=q.gl;c=d.mUniformLookUp.h.uTex0;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,
"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),e.h.uTex0=c,e.mKeys.push("uTex0"));a.uniform1i(c,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){Ec.prototype.dispose.call(this)},__class__:$g});var Oa=function(){this.mIdx=0;this.atlas=new wh;Jb.call(this);this.createShader();this.mVertexBuffer=new yc(8096,20);this.mVertexBuffer.addEntry(8096);this.mVertexBuffer2=new yc(8096,20);this.mVertexBuffer2.addEntry(8096)};
f["game.particles.ParticleRenderer"]=Oa;Oa.__name__="game.particles.ParticleRenderer";Oa.__properties__={get_instance:"get_instance"};Oa.get_instance=function(){null==Oa.sInstance&&(Oa.sInstance=new Oa);return Oa.sInstance};Oa.__super__=Jb;Oa.prototype=k(Jb.prototype,{addParticle:function(a,b,d,c,e,f,g,h,m,k,n,q,r,t){null==t&&(t=0);null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);null==k&&(k=0);null==m&&(m=-1);var l=this.mIdx%2024*4*a.stride;++this.mIdx;var p=a.data;p.position=l<<2;t=C.timer+t;b=this.atlas.getTexture(b);
if(null!=b){l=1/this.atlas.get_texture().width;for(var D=0;2>D;)for(var xa=D++,Od=0;2>Od;){var u=Od++;p.floatArray[p.position>>>2]=d.x;p.position+=4;p.floatArray[p.position>>>2]=d.y;p.position+=4;p.floatArray[p.position>>>2]=2*u-1;p.position+=4;p.floatArray[p.position>>>2]=2*-xa+1;p.position+=4;switch(u+2*xa){case 0:u=b.get_left()*l;p.floatArray[p.position>>>2]=u;p.position+=4;u=b.get_top()*l;p.floatArray[p.position>>>2]=u;p.position+=4;break;case 1:u=b.get_right()*l;p.floatArray[p.position>>>2]=
u;p.position+=4;u=b.get_top()*l;p.floatArray[p.position>>>2]=u;p.position+=4;break;case 2:u=b.get_left()*l;p.floatArray[p.position>>>2]=u;p.position+=4;u=b.get_bottom()*l;p.floatArray[p.position>>>2]=u;p.position+=4;break;default:u=b.get_right()*l,p.floatArray[p.position>>>2]=u,p.position+=4,u=b.get_bottom()*l,p.floatArray[p.position>>>2]=u,p.position+=4}p.floatArray[p.position>>>2]=t;p.position+=4;p.floatArray[p.position>>>2]=c;p.position+=4;p.floatArray[p.position>>>2]=e.x;p.position+=4;p.floatArray[p.position>>>
2]=e.y;p.position+=4;p.floatArray[p.position>>>2]=f.x;p.position+=4;p.floatArray[p.position>>>2]=f.y;p.position+=4;p.floatArray[p.position>>>2]=g;p.position+=4;p.floatArray[p.position>>>2]=.5*(g+h);p.position+=4;p.floatArray[p.position>>>2]=h;p.position+=4;p.bytes.setInt32(p.position,m);p.position+=4;p.bytes.setInt32(p.position,k);p.position+=4;p.floatArray[p.position>>>2]=q*ia.PI_GRAD;p.position+=4;p.floatArray[p.position>>>2]=n*ia.PI_GRAD;p.position+=4;p.floatArray[p.position>>>2]=r*ia.PI_GRAD;
p.position+=4}a.dirty=!0}},createShader:function(){this.mShader=new qc("\r\n\t\t\tattribute vec2 aVertexPosition;\r\n\t\t\tattribute vec2 aOffset;\r\n\t\t\tattribute vec2 aTex;\r\n\t\t\tattribute float aTimer;\t\t\t\r\n\t\t\tattribute float aDuration;\t\t\t\r\n\t\t\tattribute vec2 aDir;\r\n\t\t\tattribute vec2 aGravity;\r\n\t\t\tattribute float aStartSize;\r\n\t\t\tattribute float aMiddleSize;\r\n\t\t\tattribute float aEndSize;\r\n\t\t\tattribute vec4 aStartColor;\r\n\t\t\tattribute vec4 aEndColor;\r\n\t\t\tattribute float aStartRotation;\r\n\t\t\tattribute float aEndRotation;\r\n\t\t\tattribute float a3DRotation;\r\n\t\t\t\r\n\t\t\tuniform mat4 uViewProjection;\r\n\t\t\tuniform float uAR;\r\n\t\t\tuniform float uTimer;\r\n\t\t\t\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\r\n\t\t\t\tfloat time = uTimer - aTimer;\r\n\t\t\t\tfloat f = time / aDuration;\r\n\t\t\t\tvTexCoord = aTex;\r\n\t\t\t\t\t\t\r\n\t\t\t\tvec2 pos = aVertexPosition;\r\n\t\t\t\tpos += time * aDir + time * time * aGravity;\r\n\t\t\t\tvec4 projectedPos = uViewProjection * vec4( pos, 0.0, 1.0 );\r\n\t\t\t\t\r\n\t\t\t\tvColor = mix( aStartColor, aEndColor, f * f).bgra; \r\n\t\t\t\t\r\n\t\t\t\tfloat t1 = f; \r\n\t\t\t\tfloat t2 = 1.0 - f; \t\t\t\t\r\n\t\t\t\tfloat s = t2 * t2 * aStartSize + 2.0 * t1 * t2 * aMiddleSize + t1 * t1 * aEndSize;\r\n\t\t\t\t//float s = mix( aStartSize, aEndSize, f);\r\n\t\t\t\t\r\n\t\t\t\tif ( f > 1.0 || f < 0.0 )\r\n\t\t\t\t{\r\n\t\t\t\t\ts = 0.0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfloat a = mix( aStartRotation, aEndRotation, f );\r\n\t\t\t\tfloat sinA = sin( a ); \r\n\t\t\t\tfloat cosA = cos( a ); \r\n\t\t\t\tfloat _w = aOffset.x * cos( a3DRotation * f );\r\n\t\t\t\tfloat _x = cosA * _w - sinA * aOffset.y; \r\n\t\t\t\tfloat _y = cosA * aOffset.y + sinA * _w;\r\n\t\t\t\tvec2 add = vec2( _x * uAR, _y ) * s;\r\n\t\t\t\tprojectedPos.xy += add;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tgl_Position = projectedPos;\r\n\t\t\t}\t\t\t\r\n\t\t",
"varying vec2 vTexCoord;varying vec4 vColor;uniform sampler2D uTex0;void main (void) {vec4 col = texture2D( uTex0, vTexCoord, -1.0 ) * vColor;gl_FragColor = col;}")},setupShader:function(){},draw:function(){this.drawBuffer(this.mVertexBuffer,q.gl.SRC_ALPHA,q.gl.ONE_MINUS_SRC_ALPHA);this.drawBuffer(this.mVertexBuffer2,q.gl.SRC_ALPHA,q.gl.ONE)},drawBuffer:function(a,b,d){var c=a.entries>>1;if(0<c){var e=zc.getIB(c);a.upload();q.instance.pushBlendState();q.instance.enableBlend();q.gl.blendFunc(b,d);
q.instance.pushCullingState();q.instance.enableCulling(!1);b=this.mShader;b.mVertexBuffer=a;b.mVertexBuffer2=null;b.mIndexBuffer=e;q.gl.useProgram(b.mProgram);a.apply();null!=e&&e.apply();this.setupShader();var f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);b=this.mShader;a=q.gl;d=b.mUniformLookUp.h.uViewProjection;if(null==d){var g=b.mUniformLookUp;d=q.gl.getUniformLocation(b.mProgram,"uViewProjection");g.h.hasOwnProperty("uViewProjection")&&
E.remove(g.mKeys,"uViewProjection");g.h.uViewProjection=d;g.mKeys.push("uViewProjection")}pb.uniformMatrix4fv(a,d,!1,f);b=this.mShader;f=y.SCREEN_HEIGHT/y.SCREEN_WIDTH;a=q.gl;d=b.mUniformLookUp.h.uAR;null==d&&(g=b.mUniformLookUp,d=q.gl.getUniformLocation(b.mProgram,"uAR"),g.h.hasOwnProperty("uAR")&&E.remove(g.mKeys,"uAR"),g.h.uAR=d,g.mKeys.push("uAR"));a.uniform1f(d,f);b=this.mShader;f=C.timer;a=q.gl;d=b.mUniformLookUp.h.uTimer;null==d&&(g=b.mUniformLookUp,d=q.gl.getUniformLocation(b.mProgram,"uTimer"),
g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=d,g.mKeys.push("uTimer"));a.uniform1f(d,f);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",2,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTex",2,q.gl.FLOAT,16);this.mShader.vertexAttribPointer("aTimer",1,q.gl.FLOAT,24);this.mShader.vertexAttribPointer("aDuration",1,q.gl.FLOAT,28);this.mShader.vertexAttribPointer("aDir",2,q.gl.FLOAT,32);this.mShader.vertexAttribPointer("aGravity",
2,q.gl.FLOAT,40);this.mShader.vertexAttribPointer("aStartSize",1,q.gl.FLOAT,48);this.mShader.vertexAttribPointer("aMiddleSize",1,q.gl.FLOAT,52);this.mShader.vertexAttribPointer("aEndSize",1,q.gl.FLOAT,56);this.mShader.vertexAttribPointer("aStartColor",4,q.gl.UNSIGNED_BYTE,60,!0);this.mShader.vertexAttribPointer("aEndColor",4,q.gl.UNSIGNED_BYTE,64,!0);this.mShader.vertexAttribPointer("aStartRotation",1,q.gl.FLOAT,68);this.mShader.vertexAttribPointer("aEndRotation",1,q.gl.FLOAT,72);this.mShader.vertexAttribPointer("a3DRotation",
1,q.gl.FLOAT,76);b=this.mShader;f=this.atlas.get_texture();a=q.gl;d=b.mUniformLookUp.h.uTex0;null==d&&(g=b.mUniformLookUp,d=q.gl.getUniformLocation(b.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=d,g.mKeys.push("uTex0"));a.uniform1i(d,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,c*e.stride,q.gl.UNSIGNED_SHORT,0);q.instance.popCullingState();q.instance.popBlendState();q.gl.depthMask(!0);q.gl.blendFunc(q.gl.SRC_ALPHA,q.gl.ONE_MINUS_SRC_ALPHA)}},
__class__:Oa});var sf=function(a,b){null==b&&(b=-1);null==a&&(a=-1);this.mIdx=this.mSrcBlend=this.mDstBlend=0;this.matrix=O._new();this.atlas=new wh(256);Jb.call(this);this.mSrcBlend=-1!=a?a:q.gl.SRC_ALPHA;this.mDstBlend=-1!=b?b:q.gl.ONE_MINUS_SRC_ALPHA;this.createShader();this.mVertexBuffer=new yc(8096,20);this.mVertexBuffer.addEntry(8096)};f["game.particles.ParticleRenderer2"]=sf;sf.__name__="game.particles.ParticleRenderer2";sf.__super__=Jb;sf.prototype=k(Jb.prototype,{addParticle:function(a,b,
d,c,e,f,g,h,m,k,n,q,r,t){null==t&&(t=0);null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);null==k&&(k=0);null==m&&(m=-1);var l=this.mIdx%2024*4*a.stride;++this.mIdx;var p=a.data;p.position=l<<2;t=C.timer+t;b=this.atlas.getTexture(b);if(null!=b){l=1/this.atlas.get_texture().width;for(var D=0;2>D;)for(var xa=D++,Od=0;2>Od;){var u=Od++;p.floatArray[p.position>>>2]=d.x;p.position+=4;p.floatArray[p.position>>>2]=d.y;p.position+=4;p.floatArray[p.position>>>2]=2*u-1;p.position+=4;p.floatArray[p.position>>>2]=
2*-xa+1;p.position+=4;switch(u+2*xa){case 0:u=b.get_left()*l;p.floatArray[p.position>>>2]=u;p.position+=4;u=b.get_top()*l;p.floatArray[p.position>>>2]=u;p.position+=4;break;case 1:u=b.get_right()*l;p.floatArray[p.position>>>2]=u;p.position+=4;u=b.get_top()*l;p.floatArray[p.position>>>2]=u;p.position+=4;break;case 2:u=b.get_left()*l;p.floatArray[p.position>>>2]=u;p.position+=4;u=b.get_bottom()*l;p.floatArray[p.position>>>2]=u;p.position+=4;break;default:u=b.get_right()*l,p.floatArray[p.position>>>
2]=u,p.position+=4,u=b.get_bottom()*l,p.floatArray[p.position>>>2]=u,p.position+=4}p.floatArray[p.position>>>2]=t;p.position+=4;p.floatArray[p.position>>>2]=c;p.position+=4;p.floatArray[p.position>>>2]=e.x;p.position+=4;p.floatArray[p.position>>>2]=e.y;p.position+=4;p.floatArray[p.position>>>2]=f.x;p.position+=4;p.floatArray[p.position>>>2]=f.y;p.position+=4;p.floatArray[p.position>>>2]=g;p.position+=4;p.floatArray[p.position>>>2]=.5*(g+h);p.position+=4;p.floatArray[p.position>>>2]=h;p.position+=
4;p.bytes.setInt32(p.position,m);p.position+=4;p.bytes.setInt32(p.position,k);p.position+=4;p.floatArray[p.position>>>2]=q*ia.PI_GRAD;p.position+=4;p.floatArray[p.position>>>2]=n*ia.PI_GRAD;p.position+=4;p.floatArray[p.position>>>2]=r*ia.PI_GRAD;p.position+=4}a.dirty=!0}},addParticleBez:function(a,b,d,c,e,f,g,h,m,k,n,q,r,t){null==t&&(t=0);null==r&&(r=0);null==q&&(q=0);null==n&&(n=0);null==k&&(k=-1);var l=this.mIdx%2024*4*a.stride;++this.mIdx;var p=a.data;p.position=l<<2;l=C.timer;b=this.atlas.getTexture(b);
if(null!=b){for(var D=1/this.atlas.get_texture().width,xa=0;2>xa;)for(var Od=xa++,u=0;2>u;){var M=u++;p.floatArray[p.position>>>2]=d.x;p.position+=4;p.floatArray[p.position>>>2]=d.y;p.position+=4;p.floatArray[p.position>>>2]=2*M-1;p.position+=4;p.floatArray[p.position>>>2]=2*-Od+1;p.position+=4;switch(M+2*Od){case 0:M=b.get_left()*D;p.floatArray[p.position>>>2]=M;p.position+=4;M=b.get_top()*D;p.floatArray[p.position>>>2]=M;p.position+=4;break;case 1:M=b.get_right()*D;p.floatArray[p.position>>>2]=
M;p.position+=4;M=b.get_top()*D;p.floatArray[p.position>>>2]=M;p.position+=4;break;case 2:M=b.get_left()*D;p.floatArray[p.position>>>2]=M;p.position+=4;M=b.get_bottom()*D;p.floatArray[p.position>>>2]=M;p.position+=4;break;default:M=b.get_right()*D,p.floatArray[p.position>>>2]=M,p.position+=4,M=b.get_bottom()*D,p.floatArray[p.position>>>2]=M,p.position+=4}p.floatArray[p.position>>>2]=l;p.position+=4;p.floatArray[p.position>>>2]=c;p.position+=4;p.floatArray[p.position>>>2]=e.x;p.position+=4;p.floatArray[p.position>>>
2]=e.y;p.position+=4;p.floatArray[p.position>>>2]=f.x;p.position+=4;p.floatArray[p.position>>>2]=f.y;p.position+=4;p.floatArray[p.position>>>2]=g;p.position+=4;p.floatArray[p.position>>>2]=h;p.position+=4;p.floatArray[p.position>>>2]=m;p.position+=4;p.bytes.setInt32(p.position,k);p.position+=4;p.bytes.setInt32(p.position,n);p.position+=4;p.floatArray[p.position>>>2]=r*ia.PI_GRAD;p.position+=4;p.floatArray[p.position>>>2]=q*ia.PI_GRAD;p.position+=4;p.floatArray[p.position>>>2]=t*ia.PI_GRAD;p.position+=
4}a.dirty=!0}},createShader:function(){this.mShader=new qc("\r\n\t\t\tattribute vec2 aVertexPosition;\r\n\t\t\tattribute vec2 aOffset;\r\n\t\t\tattribute vec2 aTex;\r\n\t\t\tattribute float aTimer;\t\t\t\r\n\t\t\tattribute float aDuration;\t\t\t\r\n\t\t\tattribute vec2 aDir;\r\n\t\t\tattribute vec2 aGravity;\r\n\t\t\tattribute float aStartSize;\r\n\t\t\tattribute float aMiddleSize;\r\n\t\t\tattribute float aEndSize;\r\n\t\t\tattribute vec4 aStartColor;\r\n\t\t\tattribute vec4 aEndColor;\r\n\t\t\tattribute float aStartRotation;\r\n\t\t\tattribute float aEndRotation;\r\n\t\t\tattribute float a3DRotation;\r\n\t\t\t\r\n\t\t\tuniform mat4 uModelViewProjection;\r\n\t\t\tuniform mat4 uModel;\r\n\t\t\tuniform float uTimer;\r\n\t\t\t\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\r\n\t\t\t\tfloat time = uTimer - aTimer;\r\n\t\t\t\tfloat f = time / aDuration;\r\n\t\t\t\tvTexCoord = aTex;\r\n\t\t\t\t\t\t\r\n\t\t\t\tvec2 pos = aVertexPosition;\r\n\t\t\t\tpos += time * aDir + time * time * aGravity;\r\n\t\t\t\tvec4 projectedPos = uModelViewProjection * vec4( pos, 0.0, 1.0 );\r\n\t\t\t\t\r\n\t\t\t\tvColor = mix( aStartColor, aEndColor, f * f).bgra; \r\n\t\t\t\t\r\n\t\t\t\tfloat t1 = f; \r\n\t\t\t\tfloat t2 = 1.0 - f; \t\t\t\t\r\n\t\t\t\tfloat s = t2 * t2 * aStartSize + 2.0 * t1 * t2 * aMiddleSize + t1 * t1 * aEndSize;\r\n\t\t\t\t//float s = mix( aStartSize, aEndSize, f);\r\n\t\t\t\t\r\n\t\t\t\tif ( f >= 0.0 && f <= 1.0 )\r\n\t\t\t\t{\t\t\t\t\t\r\n\t\t\t\t\tfloat a = mix( aStartRotation, aEndRotation, f );\r\n\t\t\t\t\tfloat sinA = sin( a ); \r\n\t\t\t\t\tfloat cosA = cos( a ); \r\n\t\t\t\t\tfloat _w = aOffset.x * cos( a3DRotation * f );\r\n\t\t\t\t\tvec4 add4 = uModelViewProjection * vec4( cosA * _w - sinA * aOffset.y, cosA * aOffset.y + sinA * _w, 0.0, 0.0 ) * s;\r\n\t\t\t\t\t\r\n\t\t\t\t\tprojectedPos.xy += add4.xy;\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tgl_Position = projectedPos;\r\n\t\t\t}\t\t\t\r\n\t\t",
"varying vec2 vTexCoord;varying vec4 vColor;uniform sampler2D uTex0;void main (void) {vec4 col = texture2D( uTex0, vTexCoord, -1.0 ) * vColor;gl_FragColor = col;}")},setupShader:function(){},draw:function(){this.drawBuffer(this.mVertexBuffer,this.mSrcBlend,this.mDstBlend)},drawBuffer:function(a,b,d){var c=a.entries>>1;if(0<c){var e=zc.getIB(c);a.upload();q.instance.pushBlendState();q.instance.enableBlend();q.gl.blendFunc(b,d);q.instance.pushCullingState();q.instance.enableCulling(!1);b=this.mShader;
b.mVertexBuffer=a;b.mVertexBuffer2=null;b.mIndexBuffer=e;q.gl.useProgram(b.mProgram);a.apply();null!=e&&e.apply();this.setupShader();var f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);O.MUL(f,this.matrix,f);b=this.mShader;a=q.gl;d=b.mUniformLookUp.h.uModelViewProjection;if(null==d){var g=b.mUniformLookUp;d=q.gl.getUniformLocation(b.mProgram,"uModelViewProjection");g.h.hasOwnProperty("uModelViewProjection")&&E.remove(g.mKeys,"uModelViewProjection");
g.h.uModelViewProjection=d;g.mKeys.push("uModelViewProjection")}pb.uniformMatrix4fv(a,d,!1,f);b=this.mShader;f=C.timer;a=q.gl;d=b.mUniformLookUp.h.uTimer;null==d&&(g=b.mUniformLookUp,d=q.gl.getUniformLocation(b.mProgram,"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=d,g.mKeys.push("uTimer"));a.uniform1f(d,f);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",2,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTex",
2,q.gl.FLOAT,16);this.mShader.vertexAttribPointer("aTimer",1,q.gl.FLOAT,24);this.mShader.vertexAttribPointer("aDuration",1,q.gl.FLOAT,28);this.mShader.vertexAttribPointer("aDir",2,q.gl.FLOAT,32);this.mShader.vertexAttribPointer("aGravity",2,q.gl.FLOAT,40);this.mShader.vertexAttribPointer("aStartSize",1,q.gl.FLOAT,48);this.mShader.vertexAttribPointer("aMiddleSize",1,q.gl.FLOAT,52);this.mShader.vertexAttribPointer("aEndSize",1,q.gl.FLOAT,56);this.mShader.vertexAttribPointer("aStartColor",4,q.gl.UNSIGNED_BYTE,
60,!0);this.mShader.vertexAttribPointer("aEndColor",4,q.gl.UNSIGNED_BYTE,64,!0);this.mShader.vertexAttribPointer("aStartRotation",1,q.gl.FLOAT,68);this.mShader.vertexAttribPointer("aEndRotation",1,q.gl.FLOAT,72);this.mShader.vertexAttribPointer("a3DRotation",1,q.gl.FLOAT,76);b=this.mShader;f=this.atlas.get_texture();a=q.gl;d=b.mUniformLookUp.h.uTex0;null==d&&(g=b.mUniformLookUp,d=q.gl.getUniformLocation(b.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=d,g.mKeys.push("uTex0"));
a.uniform1i(d,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,c*e.stride,q.gl.UNSIGNED_SHORT,0);q.instance.popCullingState();q.instance.popBlendState();q.gl.depthMask(!0);q.gl.blendFunc(q.gl.SRC_ALPHA,q.gl.ONE_MINUS_SRC_ALPHA)}},dispose:function(){this.matrix=null;var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.atlas;null!=a&&a.dispose();this.atlas=null;a=this.mVertexBuffer;null!=a&&a.dispose();this.mVertexBuffer=null;a=this.mShader;null!=a&&a.dispose();
this.mShader=null;Jb.prototype.dispose.call(this)},__class__:sf});var ah=function(){sf.call(this,q.gl.SRC_ALPHA,q.gl.ONE)};f["game.particles.ParticleRendererAdd"]=ah;ah.__name__="game.particles.ParticleRendererAdd";ah.__super__=sf;ah.prototype=k(sf.prototype,{__class__:ah});var vg=function(){Ec.call(this)};f["game.particles.StarParticles"]=vg;vg.__name__="game.particles.StarParticles";vg.__super__=Ec;vg.prototype=k(Ec.prototype,{init:function(){this.vertexBuffer=new yc(512,7);for(var a=this.vertexBuffer.entries=
0;200>a;)this.addParticle(1E3*Math.random(),1E3*Math.random(),.5+.5*a++/200,"particles/star_on_02.png");this.vertexBuffer.upload();this.mShader=new qc("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vCol;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.2 ) * 30.0, uTimer * 170.0 ) * aOffset.z;pos = mod( pos + 50.0, 1100.0) - 50.0;vCol = vec4( 1.0, 1.0, 1.0, 1.0 );vCol.rgb *= aOffset.z;float a = uTimer * aOffset.z * 2.5;float sinA = sin( a ); float cosA = cos( a ); vec2 add = vec2( cosA * aOffset.x - sinA * aOffset.y, cosA * aOffset.y + sinA * aOffset.x );gl_Position = uViewProjection * vec4( pos + add * aOffset.z * 2.0, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vCol;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ) * vCol; gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){var d=this.mShader,c=this.vertexBuffer,e=zc.getIB(b);d.mVertexBuffer=c;d.mVertexBuffer2=null;d.mIndexBuffer=e;q.gl.useProgram(d.mProgram);c.apply();null!=e&&e.apply();var f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);null!=
a&&O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],a),f);O.MUL(f,O.fromM2D(O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length],this.mParticleMatrix),f);d=this.mShader;a=q.gl;c=d.mUniformLookUp.h.uViewProjection;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uViewProjection"),e.h.hasOwnProperty("uViewProjection")&&E.remove(e.mKeys,"uViewProjection"),e.h.uViewProjection=c,e.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(a,c,!1,f);d=this.mShader;f=C.timer;a=q.gl;c=d.mUniformLookUp.h.uTimer;
null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,"uTimer"),e.h.hasOwnProperty("uTimer")&&E.remove(e.mKeys,"uTimer"),e.h.uTimer=c,e.mKeys.push("uTimer"));a.uniform1f(c,f);this.mShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,q.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,20);d=this.mShader;f=this.atlas.get_texture();a=q.gl;c=d.mUniformLookUp.h.uTex0;null==c&&(e=d.mUniformLookUp,c=q.gl.getUniformLocation(d.mProgram,
"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),e.h.uTex0=c,e.mKeys.push("uTex0"));a.uniform1i(c,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*b,q.gl.UNSIGNED_SHORT,0)}},dispose:function(){Ec.prototype.dispose.call(this)},__class__:vg});var T=function(a,b,d){Error.call(this,a);this.message=a;this.__previousException=b;this.__nativeException=null!=d?d:this};f["haxe.Exception"]=T;T.__name__="haxe.Exception";T.caught=function(a){return a instanceof T?
a:a instanceof Error?new T(a.message,null,a):new ch(a,null,a)};T.thrown=function(a){return a instanceof T?a.get_native():a instanceof Error?a:new ch(a)};T.__super__=Error;T.prototype=k(Error.prototype,{unwrap:function(){return this.__nativeException},toString:function(){return this.get_message()},get_message:function(){return this.message},get_native:function(){return this.__nativeException},__class__:T,__properties__:{get_native:"get_native",get_message:"get_message"}});var Wd=function(){this.buf=
new Gb;this.cache=[];this.useCache=Wd.USE_CACHE;this.useEnumIndex=Wd.USE_ENUM_INDEX;this.shash=new cb;this.scount=0};f["haxe.Serializer"]=Wd;Wd.__name__="haxe.Serializer";Wd.run=function(a){var b=new Wd;b.serialize(a);return b.toString()};Wd.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.h[a];null!=b?(this.buf.b+="R",this.buf.b+=null==b?"null":""+b):(this.shash.h[a]=this.scount++,this.buf.b+="y",a=encodeURIComponent(a),this.buf.b+=R.string(a.length),
this.buf.b+=":",this.buf.b+=null==a?"null":""+a)},serializeRef:function(a){for(var b=typeof a,d=0,c=this.cache.length;d<c;){var e=d++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b+=null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,d=w.fields(a);b<d.length;){var c=d[b];++b;this.serializeString(c);this.serialize(w.field(a,c))}this.buf.b+="g"},serialize:function(a){var b=Ca.typeof(a);switch(b._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==
a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";break;case 3:this.buf.b+=a?"t":"f";break;case 4:V.__instanceof(a,gl)?(a=a.__name__,this.buf.b+="A",this.serializeString(a)):V.__instanceof(a,Wk)?(this.buf.b+="B",this.serializeString(a.__ename__)):this.useCache&&this.serializeRef(a)||(this.buf.b+="o",this.serializeFields(a));break;case 5:throw T.thrown("Cannot serialize function");
case 6:b=b.c;if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var d=0;this.buf.b+="a";for(var c=0,e=a.length;c<e;)b=c++,null==a[b]?++d:(0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==d?"null":""+d),d=0),this.serialize(a[b]));0<d&&(1==d?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==d?"null":""+d));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=R.string(a.getTime());break;case Yb:this.buf.b+="q";for(b=a.keys();b.hasNext();)d=
b.next(),this.buf.b+=":",this.buf.b+=null==d?"null":""+d,this.serialize(a.h[d]);this.buf.b+="h";break;case Wf:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,a=a.next,this.serialize(b);this.buf.b+="h";break;case oe:this.buf.b+="M";for(b=a.keys();b.hasNext();){d=b.next();var f=w.field(d,"__id__");w.deleteField(d,"__id__");this.serialize(d);d.__id__=f;this.serialize(a.h[d.__id__])}this.buf.b+="h";break;case cb:this.buf.b+="b";d=Object.keys(a.h);f=d.length;for(c=0;c<f;)b=d[c++],this.serializeString(b),this.serialize(a.h[b]);
this.buf.b+="h";break;case Wa:this.buf.b+="s";this.buf.b+=R.string(Math.ceil(8*a.length/6));this.buf.b+=":";b=0;d=a.length-2;f=Wd.BASE64_CODES;if(null==f){f=Array(Wd.BASE64.length);c=0;for(e=Wd.BASE64.length;c<e;){var g=c++;f[g]=E.cca(Wd.BASE64,g)}Wd.BASE64_CODES=f}for(;b<d;)c=a.b[b++],e=a.b[b++],g=a.b[b++],this.buf.b+=String.fromCodePoint(f[c>>2]),this.buf.b+=String.fromCodePoint(f[(c<<4|e>>4)&63]),this.buf.b+=String.fromCodePoint(f[(e<<2|g>>6)&63]),this.buf.b+=String.fromCodePoint(f[g&63]);b==d?
(c=a.b[b++],e=a.b[b++],this.buf.b+=String.fromCodePoint(f[c>>2]),this.buf.b+=String.fromCodePoint(f[(c<<4|e>>4)&63]),this.buf.b+=String.fromCodePoint(f[e<<2&63])):b==d+1&&(c=a.b[b++],this.buf.b+=String.fromCodePoint(f[c>>2]),this.buf.b+=String.fromCodePoint(f[c<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(b.__name__),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(b.__name__),
this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b.e;if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=R.string(this.useEnumIndex?"j":"w");this.serializeString(b.__ename__);this.useEnumIndex?(this.buf.b+=":",this.buf.b+=R.string(a._hx_index)):(b=a,this.serializeString(ra[b.__enum__].__constructs__[b._hx_index]._hx_name));this.buf.b+=":";d=Ca.enumParameters(a);this.buf.b+=R.string(d.length);for(b=0;b<d.length;)this.serialize(d[b++]);this.useCache&&
this.cache.push(a);break;default:throw T.thrown("Cannot serialize "+R.string(a));}},__class__:Wd};var wg=function(a){this.current=0;this.array=a};f["haxe.iterators.ArrayIterator"]=wg;wg.__name__="haxe.iterators.ArrayIterator";wg.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:wg};var Uc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};f["haxe.Timer"]=Uc;Uc.__name__="haxe.Timer";Uc.delay=function(a,
b){var d=new Uc(b);d.run=function(){d.stop();a()};return d};Uc.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:Uc};var Ce=function(){};f["haxe._Unserializer.DefaultResolver"]=Ce;Ce.__name__="haxe._Unserializer.DefaultResolver";Ce.prototype={resolveClass:function(a){return f[a]},resolveEnum:function(a){return ra[a]},__class__:Ce};var gd=function(a){this.buf=a;this.length=this.buf.length;this.pos=0;this.scache=[];this.cache=[];a=gd.DEFAULT_RESOLVER;
null==a&&(a=new Ce,gd.DEFAULT_RESOLVER=a);this.resolver=a};f["haxe.Unserializer"]=gd;gd.__name__="haxe.Unserializer";gd.initCodes=function(){for(var a=[],b=0,d=gd.BASE64.length;b<d;){var c=b++;a[gd.BASE64.charCodeAt(c)]=c}return a};gd.run=function(a){return(new gd(a)).unserialize()};gd.prototype={setResolver:function(a){null==a?(null==tf.instance&&(tf.instance=new tf),this.resolver=tf.instance):this.resolver=a},readDigits:function(){for(var a=0,b=!1,d=this.pos;;){var c=this.buf.charCodeAt(this.pos);
if(c!=c)break;if(45==c){if(this.pos!=d)break;b=!0}else{if(48>c||57<c)break;a=10*a+(c-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(E.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw T.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw T.thrown("Invalid object key");
a[b]=this.unserialize()}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw T.thrown("Invalid enum format");var d=this.readDigits();if(0==d)return Ca.createEnum(a,b);for(var c=[];0<d--;)c.push(this.unserialize());return Ca.createEnum(a,b,c)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw T.thrown("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);
if(null==b)throw T.thrown("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw T.thrown("Class not found "+a);b=Object.create(b.prototype);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw T.thrown("Invalid custom data");return b;case 77:a=new oe;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.set(this.unserialize(),this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=
this.scache.length)throw T.thrown("Invalid string reference");return this.scache[a];case 97:b=[];for(this.cache.push(b);;){var d=this.buf.charCodeAt(this.pos);if(104==d){this.pos++;break}117==d?(this.pos++,a=this.readDigits(),b[b.length+a-1]=null):b.push(this.unserialize())}return b;case 98:a=new cb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),d=this.unserialize(),a.h[b]=d;this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==
b)throw T.thrown("Class not found "+a);b=Object.create(b.prototype);this.cache.push(b);this.unserializeObject(b);return b;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:a=this.unserialize();d=this.resolver.resolveEnum(a);if(null==d)throw T.thrown("Enum not found "+a);this.pos++;for(var c=this.readDigits(),e=d.__constructs__,f=Array(e.length),g=0,h=e.length;g<h;)b=g++,f[b]=e[b]._hx_name;b=f[c];if(null==b)throw T.thrown("Unknown enum index "+a+"@"+c);b=
this.unserializeEnum(d,b);this.cache.push(b);return b;case 107:return NaN;case 108:b=new Wf;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 109:return-Infinity;case 110:return null;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 112:return Infinity;case 113:a=new Yb;this.cache.push(a);for(d=this.buf.charCodeAt(this.pos++);58==d;)b=this.readDigits(),d=this.unserialize(),a.h[b]=d,d=this.buf.charCodeAt(this.pos++);
if(104!=d)throw T.thrown("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw T.thrown("Invalid reference");return this.cache[a];case 115:a=this.readDigits();d=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw T.thrown("Invalid bytes length");c=gd.CODES;null==c&&(c=gd.initCodes(),gd.CODES=c);b=this.pos;e=a&3;f=b+(a-e);g=new Wa(new ArrayBuffer(3*(a>>2)+(2<=e?e-1:0)));for(h=0;b<f;){var m=c[d.charCodeAt(b++)],k=c[d.charCodeAt(b++)];
g.b[h++]=(m<<2|k>>4)&255;m=c[d.charCodeAt(b++)];g.b[h++]=(k<<4|m>>2)&255;k=c[d.charCodeAt(b++)];g.b[h++]=(m<<6|k)&255}2<=e&&(m=c[d.charCodeAt(b++)],k=c[d.charCodeAt(b++)],g.b[h++]=(m<<2|k>>4)&255,3==e&&(m=c[d.charCodeAt(b++)],g.b[h++]=(k<<4|m>>2)&255));this.pos+=a;this.cache.push(g);return g;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+
2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(b=E.strDate(E.substr(this.buf,this.pos,19)),this.pos+=19):b=new Date(this.readFloat()),this.cache.push(b),b;case 119:a=this.unserialize();d=this.resolver.resolveEnum(a);if(null==d)throw T.thrown("Enum not found "+a);b=this.unserializeEnum(d,this.unserialize());this.cache.push(b);return b;case 120:throw T.thrown(this.unserialize());case 121:a=this.readDigits();
if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw T.thrown("Invalid string length");b=E.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 122:return 0}this.pos--;throw T.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:gd};var tf=function(){};f["haxe._Unserializer.NullResolver"]=tf;tf.__name__="haxe._Unserializer.NullResolver";tf.prototype={resolveClass:function(a){return null},
resolveEnum:function(a){return null},__class__:tf};var ch=function(a,b,d){T.call(this,String(a),b,d);this.value=a};f["haxe.ValueException"]=ch;ch.__name__="haxe.ValueException";ch.__super__=T;ch.prototype=k(T.prototype,{unwrap:function(){return this.value},__class__:ch});var ne=function(){this.a1=1;this.a2=0};f["haxe.crypto.Adler32"]=ne;ne.__name__="haxe.crypto.Adler32";ne.read=function(a){var b=new ne,d=a.readByte(),c=a.readByte();b.a1=a.readByte()<<8|a.readByte();b.a2=d<<8|c;return b};ne.prototype=
{update:function(a,b,d){var c=this.a1,e=this.a2,f=b;for(b+=d;f<b;)c=(c+a.b[f++])%65521,e=(e+c)%65521;this.a1=c;this.a2=e},equals:function(a){return a.a1==this.a1?a.a2==this.a2:!1},__class__:ne};var Xd=function(){};f["haxe.crypto.Base64"]=Xd;Xd.__name__="haxe.crypto.Base64";Xd.encode=function(a,b){null==b&&(b=!0);var d=(new dh(Xd.BYTES)).encodeBytes(a).toString();if(b)switch(a.length%3){case 1:d+="==";break;case 2:d+="="}return d};Xd.decode=function(a,b){null==b&&(b=!0);if(b)for(;61==E.cca(a,a.length-
1);)a=E.substr(a,0,-1);return(new dh(Xd.BYTES)).decodeBytes(Wa.ofString(a))};var dh=function(a){for(var b=a.length,d=1;b>1<<d;)++d;if(8<d||b!=1<<d)throw T.thrown("BaseCode : base length must be a power of two.");this.base=a;this.nbits=d};f["haxe.crypto.BaseCode"]=dh;dh.__name__="haxe.crypto.BaseCode";dh.prototype={encodeBytes:function(a){for(var b=this.nbits,d=this.base,c=8*a.length/b|0,e=new Wa(new ArrayBuffer(c+(0==8*a.length%b?0:1))),f=0,g=0,h=(1<<b)-1,m=0,k=0;k<c;){for(;g<b;)g+=8,f<<=8,f|=a.b[m++];
g-=b;e.b[k++]=d.b[f>>g&h]&255}0<g&&(e.b[k++]=d.b[f<<b-g&h]&255);return e},initTable:function(){for(var a=[],b=0;256>b;)a[b++]=-1;b=0;for(var d=this.base.length;b<d;){var c=b++;a[this.base.b[c]]=c}this.tbl=a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var d=this.tbl,c=a.length*b>>3,e=new Wa(new ArrayBuffer(c)),f=0,g=0,h=0,m=0;m<c;){for(;8>g;){g+=b;f<<=b;var k=d[a.b[h++]];if(-1==k)throw T.thrown("BaseCode : invalid encoded char");f|=k}g-=8;e.b[m++]=f>>g&255}return e},
__class__:dh};var Xf=function(){};f["haxe.crypto.Md5"]=Xf;Xf.__name__="haxe.crypto.Md5";Xf.make=function(a){a=(new Xf).doEncode(Xf.bytes2blks(a));for(var b=new Wa(new ArrayBuffer(16)),d=0,c=0;4>c;){var e=c++;b.b[d++]=a[e]&255;b.b[d++]=a[e]>>8&255;b.b[d++]=a[e]>>16&255;b.b[d++]=a[e]>>>24&255}return b};Xf.bytes2blks=function(a){for(var b=(a.length+8>>6)+1,d=[],c=16*b,e=0;e<c;)d[e++]=0;for(c=0;c<a.length;)d[c>>2]|=a.b[c]<<(((a.length<<3)+c&3)<<3),++c;d[c>>2]|=128<<(8*a.length+c)%4*8;a=8*a.length;b=16*
b-2;d[b]=a&255;d[b]=(d[b]|=(a>>>8&255)<<8)|(a>>>16&255)<<16;d[b]|=(a>>>24&255)<<24;return d};Xf.prototype={bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitAND:function(a,b){return(a>>>1&b>>>1)<<1|a&1&b&1},addme:function(a,b){var d=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(d>>16)<<16|d&65535},rol:function(a,b){return a<<b|a>>>32-b},cmn:function(a,b,d,c,e,f){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(c,f)),e),d)},ff:function(a,
b,d,c,e,f,g){return this.cmn(this.bitOR(this.bitAND(b,d),this.bitAND(~b,c)),a,b,e,f,g)},gg:function(a,b,d,c,e,f,g){return this.cmn(this.bitOR(this.bitAND(b,c),this.bitAND(d,~c)),a,b,e,f,g)},hh:function(a,b,d,c,e,f,g){return this.cmn(this.bitXOR(this.bitXOR(b,d),c),a,b,e,f,g)},ii:function(a,b,d,c,e,f,g){return this.cmn(this.bitXOR(d,this.bitOR(b,~c)),a,b,e,f,g)},doEncode:function(a){for(var b=1732584193,d=-271733879,c=-1732584194,e=271733878,f=0;f<a.length;){var g=b,h=d,m=c,k=e;b=this.ff(b,d,c,e,a[f],
7,-680876936);e=this.ff(e,b,d,c,a[f+1],12,-389564586);c=this.ff(c,e,b,d,a[f+2],17,606105819);d=this.ff(d,c,e,b,a[f+3],22,-1044525330);b=this.ff(b,d,c,e,a[f+4],7,-176418897);e=this.ff(e,b,d,c,a[f+5],12,1200080426);c=this.ff(c,e,b,d,a[f+6],17,-1473231341);d=this.ff(d,c,e,b,a[f+7],22,-45705983);b=this.ff(b,d,c,e,a[f+8],7,1770035416);e=this.ff(e,b,d,c,a[f+9],12,-1958414417);c=this.ff(c,e,b,d,a[f+10],17,-42063);d=this.ff(d,c,e,b,a[f+11],22,-1990404162);b=this.ff(b,d,c,e,a[f+12],7,1804603682);e=this.ff(e,
b,d,c,a[f+13],12,-40341101);c=this.ff(c,e,b,d,a[f+14],17,-1502002290);d=this.ff(d,c,e,b,a[f+15],22,1236535329);b=this.gg(b,d,c,e,a[f+1],5,-165796510);e=this.gg(e,b,d,c,a[f+6],9,-1069501632);c=this.gg(c,e,b,d,a[f+11],14,643717713);d=this.gg(d,c,e,b,a[f],20,-373897302);b=this.gg(b,d,c,e,a[f+5],5,-701558691);e=this.gg(e,b,d,c,a[f+10],9,38016083);c=this.gg(c,e,b,d,a[f+15],14,-660478335);d=this.gg(d,c,e,b,a[f+4],20,-405537848);b=this.gg(b,d,c,e,a[f+9],5,568446438);e=this.gg(e,b,d,c,a[f+14],9,-1019803690);
c=this.gg(c,e,b,d,a[f+3],14,-187363961);d=this.gg(d,c,e,b,a[f+8],20,1163531501);b=this.gg(b,d,c,e,a[f+13],5,-1444681467);e=this.gg(e,b,d,c,a[f+2],9,-51403784);c=this.gg(c,e,b,d,a[f+7],14,1735328473);d=this.gg(d,c,e,b,a[f+12],20,-1926607734);b=this.hh(b,d,c,e,a[f+5],4,-378558);e=this.hh(e,b,d,c,a[f+8],11,-2022574463);c=this.hh(c,e,b,d,a[f+11],16,1839030562);d=this.hh(d,c,e,b,a[f+14],23,-35309556);b=this.hh(b,d,c,e,a[f+1],4,-1530992060);e=this.hh(e,b,d,c,a[f+4],11,1272893353);c=this.hh(c,e,b,d,a[f+
7],16,-155497632);d=this.hh(d,c,e,b,a[f+10],23,-1094730640);b=this.hh(b,d,c,e,a[f+13],4,681279174);e=this.hh(e,b,d,c,a[f],11,-358537222);c=this.hh(c,e,b,d,a[f+3],16,-722521979);d=this.hh(d,c,e,b,a[f+6],23,76029189);b=this.hh(b,d,c,e,a[f+9],4,-640364487);e=this.hh(e,b,d,c,a[f+12],11,-421815835);c=this.hh(c,e,b,d,a[f+15],16,530742520);d=this.hh(d,c,e,b,a[f+2],23,-995338651);b=this.ii(b,d,c,e,a[f],6,-198630844);e=this.ii(e,b,d,c,a[f+7],10,1126891415);c=this.ii(c,e,b,d,a[f+14],15,-1416354905);d=this.ii(d,
c,e,b,a[f+5],21,-57434055);b=this.ii(b,d,c,e,a[f+12],6,1700485571);e=this.ii(e,b,d,c,a[f+3],10,-1894986606);c=this.ii(c,e,b,d,a[f+10],15,-1051523);d=this.ii(d,c,e,b,a[f+1],21,-2054922799);b=this.ii(b,d,c,e,a[f+8],6,1873313359);e=this.ii(e,b,d,c,a[f+15],10,-30611744);c=this.ii(c,e,b,d,a[f+6],15,-1560198380);d=this.ii(d,c,e,b,a[f+13],21,1309151649);b=this.ii(b,d,c,e,a[f+4],6,-145523070);e=this.ii(e,b,d,c,a[f+11],10,-1120210379);c=this.ii(c,e,b,d,a[f+2],15,718787259);d=this.ii(d,c,e,b,a[f+9],21,-343485551);
b=this.addme(b,g);d=this.addme(d,h);c=this.addme(c,m);e=this.addme(e,k);f+=16}return[b,d,c,e]},__class__:Xf};var Yf=function(){};f["haxe.crypto.Sha256"]=Yf;Yf.__name__="haxe.crypto.Sha256";Yf.encode=function(a){var b=new Yf;return b.hex(b.doEncode(Yf.str2blks(a),8*a.length))};Yf.str2blks=function(a){a=Wa.ofString(a);for(var b=(a.length+8>>6)+1,d=[],c=0,e=16*b;c<e;)d[c++]=0;c=0;for(e=a.length;c<e;){var f=c++;d[f>>2]|=a.b[f]<<24-((f&3)<<3)}f=a.length;d[f>>2]|=128<<24-((f&3)<<3);d[16*b-1]=8*a.length;
return d};Yf.prototype={doEncode:function(a,b){var d=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,
-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],c=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],e=[];e[64]=0;a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;for(b=0;b<a.length;){var f=c[0];var g=c[1];var h=c[2];var m=c[3];var k=c[4];var n=c[5];var q=c[6];
var r=c[7];for(var t=0;64>t;){var u=t++;if(16>u)e[u]=a[u+b];else{var M=e[u-2];M=(M>>>17|M<<15)^(M>>>19|M<<13)^M>>>10;var ea=e[u-7],y=(M&65535)+(ea&65535);M=(M>>16)+(ea>>16)+(y>>16)<<16|y&65535;ea=e[u-15];ea=(ea>>>7|ea<<25)^(ea>>>18|ea<<14)^ea>>>3;y=(M&65535)+(ea&65535);M=(M>>16)+(ea>>16)+(y>>16)<<16|y&65535;ea=e[u-16];y=(M&65535)+(ea&65535);e[u]=(M>>16)+(ea>>16)+(y>>16)<<16|y&65535}M=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7);ea=(r&65535)+(M&65535);r=(r>>16)+(M>>16)+(ea>>16)<<16|ea&65535;M=k&n^~k&
q;ea=(r&65535)+(M&65535);r=(r>>16)+(M>>16)+(ea>>16)<<16|ea&65535;M=d[u];ea=(r&65535)+(M&65535);r=(r>>16)+(M>>16)+(ea>>16)<<16|ea&65535;u=e[u];M=(r&65535)+(u&65535);u=(r>>16)+(u>>16)+(M>>16)<<16|M&65535;r=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10);M=f&g^f&h^g&h;ea=(r&65535)+(M&65535);M=(r>>16)+(M>>16)+(ea>>16)<<16|ea&65535;r=q;q=n;n=k;k=(m&65535)+(u&65535);k=(m>>16)+(u>>16)+(k>>16)<<16|k&65535;m=h;h=g;g=f;f=(u&65535)+(M&65535);f=(u>>16)+(M>>16)+(f>>16)<<16|f&65535}t=c[0];u=(f&65535)+(t&65535);c[0]=
(f>>16)+(t>>16)+(u>>16)<<16|u&65535;f=c[1];t=(g&65535)+(f&65535);c[1]=(g>>16)+(f>>16)+(t>>16)<<16|t&65535;g=c[2];f=(h&65535)+(g&65535);c[2]=(h>>16)+(g>>16)+(f>>16)<<16|f&65535;h=c[3];g=(m&65535)+(h&65535);c[3]=(m>>16)+(h>>16)+(g>>16)<<16|g&65535;m=c[4];h=(k&65535)+(m&65535);c[4]=(k>>16)+(m>>16)+(h>>16)<<16|h&65535;k=c[5];m=(n&65535)+(k&65535);c[5]=(n>>16)+(k>>16)+(m>>16)<<16|m&65535;n=c[6];k=(q&65535)+(n&65535);c[6]=(q>>16)+(n>>16)+(k>>16)<<16|k&65535;q=c[7];n=(r&65535)+(q&65535);c[7]=(r>>16)+(q>>
16)+(n>>16)<<16|n&65535;b+=16}return c},hex:function(a){for(var b="",d=0;d<a.length;)b+=ka.hex(a[d++],8);return b.toLowerCase()},__class__:Yf};var Yb=function(){this.h={}};f["haxe.ds.IntMap"]=Yb;Yb.__name__="haxe.ds.IntMap";Yb.__interfaces__=[Qc];Yb.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(+b);return new wg(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},
next:function(){var a=this.it.next();return this.ref[a]}}},__class__:Yb};var Wf=function(){this.length=0};f["haxe.ds.List"]=Wf;Wf.__name__="haxe.ds.List";Wf.prototype={add:function(a){a=new eh(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=a=new eh(a,this.h);null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},__class__:Wf};var eh=function(a,
b){this.item=a;this.next=b};f["haxe.ds._List.ListNode"]=eh;eh.__name__="haxe.ds._List.ListNode";eh.prototype={__class__:eh};var oe=function(){this.h={__keys__:{}}};f["haxe.ds.ObjectMap"]=oe;oe.__name__="haxe.ds.ObjectMap";oe.__interfaces__=[Qc];oe.prototype={set:function(a,b){var d=a.__id__;null==d&&(d=a.__id__=v.$haxeUID++);this.h[d]=b;this.h.__keys__[d]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=
[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return new wg(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:oe};var cb=function(){this.h=Object.create(null)};f["haxe.ds.StringMap"]=cb;cb.__name__="haxe.ds.StringMap";cb.__interfaces__=[Qc];cb.prototype={__class__:cb};var xg=function(a){this.h=a;this.keys=Object.keys(a);this.length=this.keys.length;
this.current=0};f["haxe.ds._StringMap.StringMapKeyIterator"]=xg;xg.__name__="haxe.ds._StringMap.StringMapKeyIterator";xg.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:xg};var Uh=function(a,b,d){T.call(this,a,b);this.posInfos=null==d?{fileName:"(unknown)",lineNumber:0,className:"(unknown)",methodName:"(unknown)"}:d};f["haxe.exceptions.PosException"]=Uh;Uh.__name__="haxe.exceptions.PosException";Uh.__super__=T;Uh.prototype=
k(T.prototype,{toString:function(){return""+T.prototype.toString.call(this)+" in "+this.posInfos.className+"."+this.posInfos.methodName+" at "+this.posInfos.fileName+":"+this.posInfos.lineNumber},__class__:Uh});var yg=function(a,b,d){null==a&&(a="Not implemented");Uh.call(this,a,b,d)};f["haxe.exceptions.NotImplementedException"]=yg;yg.__name__="haxe.exceptions.NotImplementedException";yg.__super__=Uh;yg.prototype=k(Uh.prototype,{__class__:yg});var fh=function(a){this.url=a;this.headers=[];this.params=
[];this.emptyOnData=c(this,this.onData)};f["haxe.http.HttpBase"]=fh;fh.__name__="haxe.http.HttpBase";fh.prototype={setHeader:function(a,b){for(var d=0,c=this.headers.length;d<c;){var e=d++;if(this.headers[e].name==a){this.headers[e]={name:a,value:b};return}}this.headers.push({name:a,value:b})},setPostData:function(a){this.postData=a;this.postBytes=null},onData:function(a){},onBytes:function(a){},onError:function(a){},onStatus:function(a){},hasOnData:function(){return c(this,this.onData)!=this.emptyOnData},
success:function(a){this.responseBytes=a;this.responseAsString=null;if(this.hasOnData())this.onData(this.get_responseData());this.onBytes(this.responseBytes)},get_responseData:function(){null==this.responseAsString&&null!=this.responseBytes&&(this.responseAsString=this.responseBytes.getString(0,this.responseBytes.length,Fj.UTF8));return this.responseAsString},__class__:fh,__properties__:{get_responseData:"get_responseData"}};var gh=function(a){this.async=!0;this.withCredentials=!1;fh.call(this,a)};
f["haxe.http.HttpJs"]=gh;gh.__name__="haxe.http.HttpJs";gh.__super__=fh;gh.prototype=k(fh.prototype,{request:function(a){var b=this;this.responseHeaders=this.responseBytes=this.responseAsString=null;var d=this.req=Ei.createXMLHttpRequest(),c=function(a){if(4==d.readyState){try{var c=d.status}catch(Kl){c=null}0==c&&Ei.get_supported()&&null!=v.location&&(a=v.location.protocol.toLowerCase(),(new Ka("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(a)&&(c=null!=d.response?200:404));
void 0==c&&(c=null);if(null!=c)b.onStatus(c);if(null!=c&&200<=c&&400>c){b.req=null;a=d.getAllResponseHeaders().split("\r\n");c=[];for(var e=0;e<a.length;){var l=a[e];++e;""!=l&&c.push(l)}a=c;b.responseHeaders=new cb;for(c=0;c<a.length;)l=a[c++].split(": "),e=l.shift(),l=1==l.length?l[0]:l.join(": "),l=ka.ltrim(ka.rtrim(l)),b.responseHeaders.h[e]=l;b.success(Wa.ofData(d.response))}else if(null==c||0==c&&null==d.response)b.req=null,b.onError("Failed to connect or resolve host");else if(null==c)b.req=
null,c=null!=d.response?Wa.ofData(d.response):null,b.responseBytes=c,b.onError("Http Error #"+d.status);else switch(c){case 12007:b.req=null;b.onError("Unknown host");break;case 12029:b.req=null;b.onError("Failed to connect to host");break;default:b.req=null,c=null!=d.response?Wa.ofData(d.response):null,b.responseBytes=c,b.onError("Http Error #"+d.status)}}};this.async&&(d.onreadystatechange=c);var e=this.postData,f=this.postBytes,g=null==e?null==f?null:new Blob([f.b.bufferValue]):null==f?e:null;
if(null!=g)a=!0;else for(e=0,f=this.params;e<f.length;){var h=f[e];++e;g=null==g?"":(null==g?"null":R.string(g))+"&";var m=h.name;g=(null==g?"null":R.string(g))+encodeURIComponent(m)+"="+encodeURIComponent(h.value)}try{a?d.open("POST",this.url,this.async):null!=g?(d.open("GET",this.url+(1>=this.url.split("?").length?"?":"&")+(null==g?"null":R.string(g)),this.async),g=null):d.open("GET",this.url,this.async),d.responseType="arraybuffer"}catch(ql){f=T.caught(ql).unwrap();this.req=null;this.onError(f.toString());
return}d.withCredentials=this.withCredentials;!ta.exists(this.headers,function(a){return"Content-Type"==a.name})&&a&&null==this.postData&&d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e=0;for(f=this.headers;e<f.length;)a=f[e],++e,d.setRequestHeader(a.name,a.value);d.send(g);this.async||c(null)},__class__:gh});var Lc=function(){this.size=this.pos=0};f["haxe.io.BytesBuffer"]=Lc;Lc.__name__="haxe.io.BytesBuffer";Lc.prototype={addByte:function(a){this.pos==this.size&&this.grow(1);
this.view.setUint8(this.pos++,a)},add:function(a){this.pos+a.length>this.size&&this.grow(a.length);if(0!=this.size){var b=new Uint8Array(a.b.buffer,a.b.byteOffset,a.length);this.u8.set(b,this.pos);this.pos+=a.length}},addBytes:function(a,b,d){if(0>b||0>d||b+d>a.length)throw T.thrown(Ld.OutsideBounds);this.pos+d>this.size&&this.grow(d);0!=this.size&&(a=new Uint8Array(a.b.buffer,a.b.byteOffset+b,d),this.u8.set(a,this.pos),this.pos+=d)},grow:function(a){var b=this.pos+a;for(a=0==this.size?16:this.size;a<
b;)a=3*a>>1;b=new ArrayBuffer(a);var d=new Uint8Array(b);0<this.size&&d.set(this.u8);this.size=a;this.buffer=b;this.u8=d;this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new Wa(new ArrayBuffer(0));var a=new Wa(this.buffer);a.length=this.pos;return a},__class__:Lc};var dj=function(){};f["haxe.io.Input"]=dj;dj.__name__="haxe.io.Input";dj.prototype={readByte:function(){throw new yg(null,null,{fileName:"haxe/io/Input.hx",lineNumber:53,className:"haxe.io.Input",methodName:"readByte"});
},readBytes:function(a,b,d){var c=d,e=a.b;if(0>b||0>d||b+d>a.length)throw T.thrown(Ld.OutsideBounds);try{for(;0<c;)e[b]=this.readByte(),++b,--c}catch(D){if(!(T.caught(D).unwrap()instanceof ej))throw D;}return d-c},readFullBytes:function(a,b,d){for(;0<d;){var c=this.readBytes(a,b,d);if(0==c)throw T.thrown(Ld.Blocked);b+=c;d-=c}},read:function(a){for(var b=new Wa(new ArrayBuffer(a)),d=0;0<a;){var c=this.readBytes(b,d,a);if(0==c)throw T.thrown(Ld.Blocked);d+=c;a-=c}return b},readInt16:function(){var a=
this.readByte(),b=this.readByte();a=this.bigEndian?b|a<<8:a|b<<8;return 0!=(a&32768)?a-65536:a},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},readInt32:function(){var a=this.readByte(),b=this.readByte(),d=this.readByte(),c=this.readByte();return this.bigEndian?c|d<<8|b<<16|a<<24:a|b<<8|d<<16|c<<24},readString:function(a,b){var d=new Wa(new ArrayBuffer(a));this.readFullBytes(d,0,a);return d.getString(0,a,b)},__class__:dj};var Zf=function(a,b,d){null==
b&&(b=0);null==d&&(d=a.length-b);if(0>b||0>d||b+d>a.length)throw T.thrown(Ld.OutsideBounds);this.b=a.b;this.pos=b;this.totlen=this.len=d};f["haxe.io.BytesInput"]=Zf;Zf.__name__="haxe.io.BytesInput";Zf.__super__=dj;Zf.prototype=k(dj.prototype,{readByte:function(){if(0==this.len)throw T.thrown(new ej);this.len--;return this.b[this.pos++]},readBytes:function(a,b,d){if(0>b||0>d||b+d>a.length)throw T.thrown(Ld.OutsideBounds);if(0==this.len&&0<d)throw T.thrown(new ej);this.len<d&&(d=this.len);var c=this.b;
a=a.b;for(var e=0,f=d;e<f;){var g=e++;a[b+g]=c[this.pos+g]}this.pos+=d;this.len-=d;return d},__class__:Zf});var Fj=ra["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:r},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:r}};Fj.__constructs__=[Fj.UTF8,Fj.RawNative];var ej=function(){};f["haxe.io.Eof"]=ej;ej.__name__="haxe.io.Eof";ej.prototype={toString:function(){return"Eof"},
__class__:ej};var Ld=ra["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:r},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:r},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:r},Custom:(sa=function(a){return{_hx_index:3,e:a,__enum__:"haxe.io.Error",toString:r}},sa._hx_name="Custom",sa.__params__=["e"],sa)};Ld.__constructs__=[Ld.Blocked,Ld.Overflow,
Ld.OutsideBounds,Ld.Custom];var $k={fromBytes:function(a,b,d){null==b&&(b=0);null==d&&(d=a.length-b>>2);return new Float32Array(a.b.bufferValue,b,d)}},kc=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),d=a.lastIndexOf("\\");b<d?(this.dir=E.substr(a,0,d),a=E.substr(a,d+1,null),this.backslash=!0):d<b?(this.dir=E.substr(a,0,b),a=E.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=E.substr(a,b+1,null),this.file=E.substr(a,0,b)):(this.ext=
null,this.file=a)};f["haxe.io.Path"]=kc;kc.__name__="haxe.io.Path";kc.directory=function(a){a=new kc(a);return null==a.dir?"":a.dir};kc.prototype={__class__:kc};var Ab={resolve:function(a,b){var d=a.elementsNamed(b).next();if(null==d){if(a.nodeType==Q.Document)a="Document";else{if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));a=a.nodeName}throw T.thrown(a+" is missing element "+b);}if(d.nodeType!=Q.Document&&d.nodeType!=
Q.Element)throw T.thrown("Invalid nodeType "+(null==d.nodeType?"null":A.toString(d.nodeType)));return d}},ob={resolve:function(a,b){if(a.nodeType==Q.Document)throw T.thrown("Cannot access document attribute "+b);var d=a.get(b);if(null==d){if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));throw T.thrown(a.nodeName+" is missing attribute "+b);}return d}},Vh={resolve:function(a,b){if(a.nodeType==Q.Document)throw T.thrown("Cannot access document attribute "+
b);return a.exists(b)}},al={resolve:function(a,b){return a.elementsNamed(b).hasNext()}},Mc=function(a,b,d){this.xml=b;this.message=a;this.position=d;this.lineNumber=1;for(a=this.positionAtLine=0;a<d;){var c=b.charCodeAt(a++);10==c?(this.lineNumber++,this.positionAtLine=0):13!=c&&this.positionAtLine++}};f["haxe.xml.XmlParserException"]=Mc;Mc.__name__="haxe.xml.XmlParserException";Mc.prototype={toString:function(){return V.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+
this.positionAtLine},__class__:Mc};var De=function(){};f["haxe.xml.Parser"]=De;De.__name__="haxe.xml.Parser";De.parse=function(a,b){null==b&&(b=!1);var d=Q.createDocument();De.doParse(a,b,0,d);return d};De.doParse=function(a,b,d,c){null==d&&(d=0);for(var e=null,l=1,f=1,g=null,h=0,m=0,k=0,n=new Gb,q=1,r=-1;d<a.length;){var t=a.charCodeAt(d);switch(l){case 0:switch(t){case 9:case 10:case 13:case 32:break;default:l=f;continue}break;case 1:if(60==t)l=0,f=2;else{h=d;l=13;continue}break;case 2:switch(t){case 33:if(91==
a.charCodeAt(d+1)){d+=2;if("CDATA["!=E.substr(a,d,6).toUpperCase())throw T.thrown(new Mc("Expected <![CDATA[",a,d));d+=5;l=17}else if(68==a.charCodeAt(d+1)||100==a.charCodeAt(d+1)){if("OCTYPE"!=E.substr(a,d+2,6).toUpperCase())throw T.thrown(new Mc("Expected <!DOCTYPE",a,d));d+=8;l=16}else{if(45!=a.charCodeAt(d+1)||45!=a.charCodeAt(d+2))throw T.thrown(new Mc("Expected \x3c!--",a,d));d+=2;l=15}h=d+1;break;case 47:if(null==c)throw T.thrown(new Mc("Expected node name",a,d));h=d+1;l=0;f=10;break;case 63:l=
14;h=d;break;default:l=3;h=d;continue}break;case 3:if(!(97<=t&&122>=t||65<=t&&90>=t||48<=t&&57>=t||58==t||46==t||95==t||45==t)){if(d==h)throw T.thrown(new Mc("Expected node name",a,d));e=Q.createElement(E.substr(a,h,d-h));c.addChild(e);++m;l=0;f=4;continue}break;case 4:switch(t){case 47:l=11;break;case 62:l=9;break;default:l=5;h=d;continue}break;case 5:if(!(97<=t&&122>=t||65<=t&&90>=t||48<=t&&57>=t||58==t||46==t||95==t||45==t)){if(h==d)throw T.thrown(new Mc("Expected attribute name",a,d));g=E.substr(a,
h,d-h);if(e.exists(g))throw T.thrown(new Mc("Duplicate attribute ["+g+"]",a,d));l=0;f=6;continue}break;case 6:if(61==t)l=0,f=7;else throw T.thrown(new Mc("Expected =",a,d));break;case 7:switch(t){case 34:case 39:n=new Gb;l=8;h=d+1;r=t;break;default:throw T.thrown(new Mc('Expected "',a,d));}break;case 8:switch(t){case 38:q=d-h;n.b+=null==q?E.substr(a,h,null):E.substr(a,h,q);l=18;q=8;h=d+1;break;case 60:case 62:if(b)throw T.thrown(new Mc("Invalid unescaped "+String.fromCodePoint(t)+" in attribute value",
a,d));t==r&&(f=d-h,n.b+=null==f?E.substr(a,h,null):E.substr(a,h,f),f=n.b,n=new Gb,e.set(g,f),l=0,f=4);break;default:t==r&&(f=d-h,n.b+=null==f?E.substr(a,h,null):E.substr(a,h,f),f=n.b,n=new Gb,e.set(g,f),l=0,f=4)}break;case 9:h=d=De.doParse(a,b,d,e);l=1;break;case 10:if(!(97<=t&&122>=t||65<=t&&90>=t||48<=t&&57>=t||58==t||46==t||95==t||45==t)){if(h==d)throw T.thrown(new Mc("Expected node name",a,d));f=E.substr(a,h,d-h);if(null==c||0!=c.nodeType)throw T.thrown(new Mc("Unexpected </"+f+">, tag is not open",
a,d));if(c.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":A.toString(c.nodeType)));if(f!=c.nodeName){if(c.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":A.toString(c.nodeType)));throw T.thrown(new Mc("Expected </"+c.nodeName+">",a,d));}l=0;f=12;continue}break;case 11:if(62==t)l=1;else throw T.thrown(new Mc("Expected >",a,d));break;case 12:if(62==t)return 0==m&&c.addChild(Q.createPCData("")),
d;throw T.thrown(new Mc("Expected >",a,d));case 13:60==t?(f=d-h,n.b+=null==f?E.substr(a,h,null):E.substr(a,h,f),f=Q.createPCData(n.b),n=new Gb,c.addChild(f),++m,l=0,f=2):38==t&&(q=d-h,n.b+=null==q?E.substr(a,h,null):E.substr(a,h,q),l=18,q=13,h=d+1);break;case 14:63==t&&62==a.charCodeAt(d+1)&&(++d,c.addChild(Q.createProcessingInstruction(E.substr(a,h+1,d-h-2))),++m,l=1);break;case 15:45==t&&45==a.charCodeAt(d+1)&&62==a.charCodeAt(d+2)&&(c.addChild(Q.createComment(E.substr(a,h,d-h))),++m,d+=2,l=1);
break;case 16:91==t?++k:93==t?--k:62==t&&0==k&&(c.addChild(Q.createDocType(E.substr(a,h,d-h))),++m,l=1);break;case 17:93==t&&93==a.charCodeAt(d+1)&&62==a.charCodeAt(d+2)&&(c.addChild(Q.createCData(E.substr(a,h,d-h))),++m,d+=2,l=1);break;case 18:if(59==t){h=E.substr(a,h,d-h);if(35==h.charCodeAt(0))h=120==h.charCodeAt(1)?R.parseInt("0"+E.substr(h,1,h.length-1)):R.parseInt(E.substr(h,1,h.length-1)),n.b+=String.fromCodePoint(h);else if(Object.prototype.hasOwnProperty.call(De.escapes.h,h))n.b+=R.string(De.escapes.h[h]);
else{if(b)throw T.thrown(new Mc("Undefined entity: "+h,a,d));n.b+=R.string("&"+h+";")}h=d+1;l=q}else if(!(97<=t&&122>=t||65<=t&&90>=t||48<=t&&57>=t||58==t||46==t||95==t||45==t)&&35!=t){if(b)throw T.thrown(new Mc("Invalid character in entity: "+String.fromCodePoint(t),a,d));n.b+=String.fromCodePoint(38);l=d-h;n.b+=null==l?E.substr(a,h,null):E.substr(a,h,l);--d;h=d+1;l=q}}++d}1==l&&(h=d,l=13);if(13==l){if(0==c.nodeType){if(c.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+
(null==c.nodeType?"null":A.toString(c.nodeType)));throw T.thrown(new Mc("Unclosed node <"+c.nodeName+">",a,d));}if(d!=h||0==m)q=d-h,n.b+=null==q?E.substr(a,h,null):E.substr(a,h,q),c.addChild(Q.createPCData(n.b));return d}if(!b&&18==l&&13==q)return n.b+=String.fromCodePoint(38),q=d-h,n.b+=null==q?E.substr(a,h,null):E.substr(a,h,q),c.addChild(Q.createPCData(n.b)),d;throw T.thrown(new Mc("Unexpected end",a,d));};var Wh=function(a){this.output=new Gb;this.pretty=a};f["haxe.xml.Printer"]=Wh;Wh.__name__=
"haxe.xml.Printer";Wh.print=function(a,b){null==b&&(b=!1);b=new Wh(b);b.writeNode(a,"");return b.output.b};Wh.prototype={writeNode:function(a,b){switch(a.nodeType){case 0:this.output.b+=R.string(b+"<");if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));this.output.b+=R.string(a.nodeName);for(var d=a.attributes();d.hasNext();){var c=d.next();this.output.b+=R.string(" "+c+'="');c=ka.htmlEscape(a.get(c),!0);this.output.b+=
R.string(c);this.output.b+='"'}if(this.hasChildren(a)){this.output.b+=">";this.pretty&&(this.output.b+="\n");if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));d=a.children;for(c=0;c<d.length;)this.writeNode(d[c++],this.pretty?b+"\t":b);this.output.b+=R.string(b+"</");if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));
this.output.b+=R.string(a.nodeName);this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(a.nodeType==Q.Document||a.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":A.toString(a.nodeType)));a=a.nodeValue;0!=a.length&&(c=b+ka.htmlEscape(a),this.output.b+=R.string(c),this.pretty&&(this.output.b+="\n"));break;case 2:this.output.b+=R.string(b+"<![CDATA[");if(a.nodeType==Q.Document||a.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+
(null==a.nodeType?"null":A.toString(a.nodeType)));this.output.b+=R.string(a.nodeValue);this.output.b+="]]\x3e";this.pretty&&(this.output.b+="\n");break;case 3:if(a.nodeType==Q.Document||a.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":A.toString(a.nodeType)));a=a.nodeValue;a=a.replace(/[\n\r\t]+/g,"");this.output.b+=null==b?"null":""+b;this.output.b+=R.string(ka.trim("\x3c!--"+a+"--\x3e"));this.pretty&&(this.output.b+="\n");break;case 4:if(a.nodeType==Q.Document||
a.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":A.toString(a.nodeType)));this.output.b+=R.string("<!DOCTYPE "+a.nodeValue+">");this.pretty&&(this.output.b+="\n");break;case 5:if(a.nodeType==Q.Document||a.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":A.toString(a.nodeType)));this.output.b+=R.string("<?"+a.nodeValue+"?>");this.pretty&&(this.output.b+="\n");break;case 6:if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+
(null==a.nodeType?"null":A.toString(a.nodeType)));d=a.children;for(c=0;c<d.length;)this.writeNode(d[c++],b)}},hasChildren:function(a){if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element or Document but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));a=a.children;for(var b=0;b<a.length;){var d=a[b++];switch(d.nodeType){case 0:case 1:return!0;case 2:case 3:if(d.nodeType==Q.Document||d.nodeType==Q.Element)throw T.thrown("Bad node type, unexpected "+
(null==d.nodeType?"null":A.toString(d.nodeType)));if(0!=ka.ltrim(d.nodeValue).length)return!0}}return!1},__class__:Wh};var va=ra["haxe.zip.ExtraField"]={__ename__:"haxe.zip.ExtraField",__constructs__:null,FUnknown:(sa=function(a,b){return{_hx_index:0,tag:a,bytes:b,__enum__:"haxe.zip.ExtraField",toString:r}},sa._hx_name="FUnknown",sa.__params__=["tag","bytes"],sa),FInfoZipUnicodePath:(sa=function(a,b){return{_hx_index:1,name:a,crc:b,__enum__:"haxe.zip.ExtraField",toString:r}},sa._hx_name="FInfoZipUnicodePath",
sa.__params__=["name","crc"],sa),FUtf8:{_hx_name:"FUtf8",_hx_index:2,__enum__:"haxe.zip.ExtraField",toString:r}};va.__constructs__=[va.FUnknown,va.FInfoZipUnicodePath,va.FUtf8];var Dd=ra["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:null,Found:(sa=function(a){return{_hx_index:0,i:a,__enum__:"haxe.zip.Huffman",toString:r}},sa._hx_name="Found",sa.__params__=["i"],sa),NeedBit:(sa=function(a,b){return{_hx_index:1,left:a,right:b,__enum__:"haxe.zip.Huffman",toString:r}},sa._hx_name="NeedBit",
sa.__params__=["left","right"],sa),NeedBits:(sa=function(a,b){return{_hx_index:2,n:a,table:b,__enum__:"haxe.zip.Huffman",toString:r}},sa._hx_name="NeedBits",sa.__params__=["n","table"],sa)};Dd.__constructs__=[Dd.Found,Dd.NeedBit,Dd.NeedBits];var Di=function(){};f["haxe.zip.HuffTools"]=Di;Di.__name__="haxe.zip.HuffTools";Di.prototype={treeDepth:function(a){switch(a._hx_index){case 0:return 0;case 1:var b=this.treeDepth(a.left);a=this.treeDepth(a.right);return 1+(b<a?b:a);case 2:throw T.thrown("assert");
}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b){if(1==a._hx_index)return Dd.NeedBit(this.treeCompress(a.left),this.treeCompress(a.right));throw T.thrown("assert");}for(var d=1<<b,c=[],e=0;e<d;)++e,c.push(Dd.Found(-1));this.treeWalk(c,0,0,b,a);return Dd.NeedBits(b,c)},treeWalk:function(a,b,d,c,e){1==e._hx_index?0<c?(this.treeWalk(a,b,d+1,c-1,e.left),this.treeWalk(a,b|1<<d,d+1,c-1,e.right)):a[b]=this.treeCompress(e):a[b]=this.treeCompress(e)},treeMake:function(a,b,d,c){if(c>
b)throw T.thrown("Invalid huffman");var e=d<<5|c;if(a.h.hasOwnProperty(e))return Dd.Found(a.h[e]);d<<=1;++c;return Dd.NeedBit(this.treeMake(a,b,d,c),this.treeMake(a,b,d|1,c))},make:function(a,b,d,c){if(1==d)return Dd.NeedBit(Dd.Found(0),Dd.Found(0));var e=[],l=[];if(32<c)throw T.thrown("Invalid huffman");for(var f=0;f<c;)++f,e.push(0),l.push(0);for(f=0;f<d;){var g=a[f++ +b];if(g>=c)throw T.thrown("Invalid huffman");e[g]++}var h=0;f=1;for(var m=c-1;f<m;)g=f++,h=h+e[g]<<1,l[g]=h;e=new Yb;for(f=0;f<
d;)g=f++,h=a[g+b],0!=h&&(m=l[h-1],l[h-1]=m+1,e.h[m<<5|h]=g);return this.treeCompress(Dd.NeedBit(this.treeMake(e,c,0,1),this.treeMake(e,c,1,1)))},__class__:Di};var Ed=function(a){this.buffer=new Wa(new ArrayBuffer(65536));this.pos=0;a&&(this.crc=new ne)};f["haxe.zip._InflateImpl.Window"]=Ed;Ed.__name__="haxe.zip._InflateImpl.Window";Ed.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=new Wa(new ArrayBuffer(65536));this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);
this.buffer=a},addBytes:function(a,b,d){65536<this.pos+d&&this.slide();this.buffer.blit(this.pos,a,b,d);this.pos+=d},addByte:function(a){65536==this.pos&&this.slide();this.buffer.b[this.pos]=a&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},__class__:Ed};var Ua=ra["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:null,
Head:{_hx_name:"Head",_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:r},Block:{_hx_name:"Block",_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",toString:r},CData:{_hx_name:"CData",_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:r},Flat:{_hx_name:"Flat",_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:r},Crc:{_hx_name:"Crc",_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:r},Dist:{_hx_name:"Dist",_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:r},
DistOne:{_hx_name:"DistOne",_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:r},Done:{_hx_name:"Done",_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",toString:r}};Ua.__constructs__=[Ua.Head,Ua.Block,Ua.CData,Ua.Flat,Ua.Crc,Ua.Dist,Ua.DistOne,Ua.Done];var qd=function(a,b,d){null==d&&(d=!0);null==b&&(b=!0);this.isFinal=!1;this.htools=new Di;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?Ua.Head:Ua.Block;this.input=a;this.needed=this.nbits=this.bits=
0;this.output=null;this.outpos=0;this.lengths=[];for(a=0;19>a;)++a,this.lengths.push(-1);this.window=new Ed(d)};f["haxe.zip.InflateImpl"]=qd;qd.__name__="haxe.zip.InflateImpl";qd.prototype={buildFixedHuffman:function(){if(null!=qd.FIXED_HUFFMAN)return qd.FIXED_HUFFMAN;for(var a=[],b=0;288>b;){var d=b++;a.push(143>=d?8:255>=d?9:279>=d?7:8)}qd.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return qd.FIXED_HUFFMAN},readBytes:function(a,b,d){this.needed=d;this.outpos=b;this.output=a;if(0<d)for(;this.inflateLoop(););
return d-this.needed},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==(this.bits&1);this.nbits--;this.bits>>=1;return a},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(a,b,d){this.window.addBytes(a,
b,d);this.output.blit(this.outpos,a,b,d);this.needed-=d;this.outpos+=d},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addDistOne:function(a){for(var b=this.window.getLastChar(),d=0;d<a;)++d,this.addByte(b)},addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},applyHuffman:function(a){switch(a._hx_index){case 0:return a.i;case 1:return this.applyHuffman(this.getBit()?a.right:a.left);case 2:return this.applyHuffman(a.table[this.getBits(a.n)])}},
inflateLengths:function(a,b){for(var d=0,c=0;d<b;){var e=this.applyHuffman(this.huffman);switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:c=e;a[d]=e;++d;break;case 16:e=d+3+this.getBits(2);if(e>b)throw T.thrown("Invalid data");for(;d<e;)a[d]=c,++d;break;case 17:d+=3+this.getBits(3);if(d>b)throw T.thrown("Invalid data");break;case 18:d+=11+this.getBits(7);if(d>b)throw T.thrown("Invalid data");break;default:throw T.thrown("Invalid data");
}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var a=this.input.readByte();if(8!=(a&15))throw T.thrown("Invalid data");var b=this.input.readByte();if(0!=((a<<8)+b)%31)throw T.thrown("Invalid data");if(0!=(b&32))throw T.thrown("Unsupported dictionary");this.state=Ua.Block;return!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw T.thrown("Invalid data");this.state=Ua.Flat;a=this.inflateLoop();
this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=Ua.CData,!0;case 2:a=this.getBits(5)+257;b=this.getBits(5)+1;for(var d=this.getBits(4)+4,c=0;c<d;)this.lengths[qd.CODE_LENGTHS_POS[c++]]=this.getBits(3);for(c=d;19>c;)this.lengths[qd.CODE_LENGTHS_POS[c++]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);d=[];c=0;for(var e=a+b;c<e;)++c,d.push(0);this.inflateLengths(d,a+b);this.huffdist=this.htools.make(d,a,b,16);this.huffman=this.htools.make(d,
0,a,16);this.state=Ua.CData;return!0;default:throw T.thrown("Invalid data");}case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this.isFinal?Ua.Crc:Ua.Block;else{b-=257;a=qd.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw T.thrown("Invalid data");this.len=qd.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=qd.DIST_EXTRA_BITS_TBL[b];if(-1==a)throw T.thrown("Invalid data");this.dist=qd.DIST_BASE_VAL_TBL[b]+
this.getBits(a);if(this.dist>this.window.available())throw T.thrown("Invalid data");this.state=1==this.dist?Ua.DistOne:Ua.Dist}return!0;case 3:return a=this.len<this.needed?this.len:this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this.isFinal?Ua.Crc:Ua.Block),0<this.needed;case 4:a=this.window.checksum();if(null==a)return this.state=Ua.Done,!0;if(!a.equals(ne.read(this.input)))throw T.thrown("Invalid CRC");this.state=Ua.Done;return!0;case 5:for(;0<this.len&&
0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=Ua.CData);return 0<this.needed;case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=Ua.CData),0<this.needed;case 7:return!1}},__class__:qd};var Ci=function(a){this.i=a};f["haxe.zip.Reader"]=Ci;Ci.__name__="haxe.zip.Reader";Ci.readZip=function(a){return(new Ci(a)).read()};Ci.prototype={readZipDate:function(){var a=
this.i.readUInt16(),b=this.i.readUInt16();return new Date((b>>9)+1980,(b>>5&15)-1,b&31,a>>11&31,a>>5&63,(a&31)<<1)},readExtraFields:function(a){for(var b=new Wf;0<a;){if(4>a)throw T.thrown("Invalid extra fields data");var d=this.i.readUInt16(),c=this.i.readUInt16();if(a<c)throw T.thrown("Invalid extra fields data");if(28789==d){var e=this.i.readByte();if(1!=e){var f=new Lc;f.addByte(e);f.add(this.i.read(c-1));b.add(va.FUnknown(d,f.getBytes()))}else d=this.i.readInt32(),b.add(va.FInfoZipUnicodePath(this.i.read(c-
5).toString(),d))}else b.add(va.FUnknown(d,this.i.read(c)));a-=4+c}return b},readEntryHeader:function(){var a=this.i,b=a.readInt32();if(33639248==b||101010256==b)return null;if(67324752!=b)throw T.thrown("Invalid Zip Data");a.readUInt16();b=a.readUInt16();if(0!=(b&63473))throw T.thrown("Unsupported flags "+b);var d=a.readUInt16(),c=0!=d;if(c&&8!=d)throw T.thrown("Unsupported compression "+d);d=this.readZipDate();var e=a.readInt32(),f=a.readInt32(),g=a.readInt32(),h=a.readInt16(),m=a.readInt16();a=
a.readString(h);m=this.readExtraFields(m);0!=(b&2048)&&m.push(va.FUtf8);0!=(b&8)&&(e=null);return{fileName:a,fileSize:g,fileTime:d,compressed:c,dataSize:f,data:null,crc32:e,extraFields:m}},read:function(){for(var a=new Wf,b=null;;){var d=this.readEntryHeader();if(null==d)break;if(null==d.crc32){if(d.compressed){null==b&&(b=new Wa(new ArrayBuffer(65536)));for(var c=new Lc,e=new qd(this.i,!1,!1);;){var f=e.readBytes(b,0,65536);c.addBytes(b,0,f);if(65536>f)break}d.data=c.getBytes()}else d.data=this.i.read(d.dataSize);
d.crc32=this.i.readInt32();134695760==d.crc32&&(d.crc32=this.i.readInt32());d.dataSize=this.i.readInt32();d.fileSize=this.i.readInt32();d.dataSize=d.fileSize;d.compressed=!1}else d.data=this.i.read(d.dataSize);a.add(d)}return a},__class__:Ci};var Ei=function(){};f["js.Browser"]=Ei;Ei.__name__="js.Browser";Ei.__properties__={get_supported:"get_supported"};Ei.get_supported=function(){return"undefined"!=typeof window&&"undefined"!=typeof window.location?"string"==typeof window.location.protocol:!1};
Ei.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");if(0==a.length){var b="_hx_"+Math.random();a.setItem(b,b);a.removeItem(b)}return a}catch(d){return null}};Ei.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw T.thrown("Unable to create XMLHttpRequest object.");};var ck=function(){this.connected=!0;this.buttons=[];this.axes=[]};f["lime._internal.backend.html5.GameDeviceData"]=
ck;ck.__name__="lime._internal.backend.html5.GameDeviceData";ck.prototype={__class__:ck};var fj=function(a){this.parent=a;this.id=-1;this.gain=1;this.position=new Qb};f["lime._internal.backend.html5.HTML5AudioSource"]=fj;fj.__name__="lime._internal.backend.html5.HTML5AudioSource";fj.prototype={dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;var b=this.parent.buffer.__srcHowl._volume;
this.parent.buffer.__srcHowl._volume=this.parent.get_gain();this.id=this.parent.buffer.__srcHowl.play();this.parent.buffer.__srcHowl._volume=b;this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",c(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},pause:function(){this.playing=!1;null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1;null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&
(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",c(this,this.howl_onEnd),this.id))},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",c(this,this.howl_onEnd),this.id)),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();
if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var a=(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>a?0:a}return 0},setCurrentTime:function(a){if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&-1!=this.id&&this.parent.buffer.__srcHowl.volume(a,
this.id);return this.gain=a},getLength:function(){return 0!=this.length?this.length:null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl?1E3*this.parent.buffer.__srcHowl.duration()|0:0},setLength:function(a){return this.length=a},setLoops:function(a){return this.loops=a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.pos&&
this.parent.buffer.__srcHowl.pos(this.position.x,this.position.y,this.position.z,this.id);return this.position},__class__:fj};var Ja=function(){this.validStatus0=(new Ka("Tizen","gi")).match(window.navigator.userAgent)};f["lime._internal.backend.html5.HTML5HTTPRequest"]=Ja;Ja.__name__="lime._internal.backend.html5.HTML5HTTPRequest";Ja.loadImage=function(a){var b=new Wc;Ja.activeRequests<Ja.requestLimit?(Ja.activeRequests++,Ja.__loadImage(a,b,0)):Ja.requestQueue.add({instance:null,uri:a,promise:b,
type:"IMAGE",options:0});return b.future};Ja.loadImageFromBytes=function(a,b){var d=URL.createObjectURL(new Blob([a.b.bufferValue],{type:b}));return null!=d?(a=new Wc,Ja.activeRequests<Ja.requestLimit?(Ja.activeRequests++,Ja.__loadImage(d,a,1)):Ja.requestQueue.add({instance:null,uri:d,promise:a,type:"IMAGE",options:1}),a.future):Ja.loadImage("data:"+b+";base64,"+$f.encode(a))};Ja.processQueue=function(){if(Ja.activeRequests<Ja.requestLimit&&0<Ja.requestQueue.length){Ja.activeRequests++;var a=Ja.requestQueue.pop();
switch(a.type){case "BINARY":a.instance.__loadData(a.uri,a.promise);break;case "IMAGE":Ja.__loadImage(a.uri,a.promise,a.options);break;case "TEXT":a.instance.__loadText(a.uri,a.promise);break;default:Ja.activeRequests--}}};Ja.__fixHostname=function(a){return null==a?"":a};Ja.__fixPort=function(a,b){if(null==a||""==a)switch(b){case "ftp:":return"21";case "gopher:":return"70";case "http:":return"80";case "https:":return"443";case "ws:":return"80";case "wss:":return"443";default:return""}return a};Ja.__fixProtocol=
function(a){return null==a||""==a?"http:":a};Ja.__isInMemoryURI=function(a){return ka.startsWith(a,"data:")?!0:ka.startsWith(a,"blob:")};Ja.__isSameOrigin=function(a){if(null==a||""==a||Ja.__isInMemoryURI(a))return!0;null==Ja.originElement&&(Ja.originElement=window.document.createElement("a"),Ja.originHostname=Ja.__fixHostname(v.location.hostname),Ja.originProtocol=Ja.__fixProtocol(v.location.protocol),Ja.originPort=Ja.__fixPort(v.location.port,Ja.originProtocol));var b=Ja.originElement;b.href=a;
""==b.hostname&&(b.href=b.href);a=Ja.__fixHostname(b.hostname);var d=Ja.__fixProtocol(b.protocol);b=Ja.__fixPort(b.port,d);return"file:"==d||""!=a&&a!=Ja.originHostname?!1:""==b||b==Ja.originPort};Ja.__loadImage=function(a,b,d){var c=new window.Image;Ja.__isSameOrigin(a)||(c.crossOrigin="Anonymous");null==Ja.supportsImageProgress&&(Ja.supportsImageProgress="onprogress"in c);if(Ja.supportsImageProgress||Ja.__isInMemoryURI(a))c.addEventListener("load",function(e){Ja.__revokeBlobURI(a,d);e=new Fe(null,
c.width,c.height);e.__srcImage=c;Ja.activeRequests--;Ja.processQueue();b.complete(new lb(e))},!1),c.addEventListener("progress",function(a){b.progress(a.loaded,a.total)},!1),c.addEventListener("error",function(c){Ja.__revokeBlobURI(a,d);Ja.activeRequests--;Ja.processQueue();b.error(new Eg(c.detail,null))},!1),c.src=a;else{var e=new XMLHttpRequest;e.onload=function(a){Ja.activeRequests--;Ja.processQueue();(new lb).__fromBytes(Wa.ofData(e.response),function(a){b.complete(a)})};e.onerror=function(a){b.error(new Eg(a.message,
null))};e.onprogress=function(a){a.lengthComputable&&b.progress(a.loaded,a.total)};e.open("GET",a,!0);e.responseType="arraybuffer";e.overrideMimeType("text/plain; charset=x-user-defined");e.send(null)}};Ja.__revokeBlobURI=function(a,b){0!=(b&1)&&URL.revokeObjectURL(a)};Ja.prototype={init:function(a){this.parent=a},load:function(a,b,d){this.request=new XMLHttpRequest;"POST"==this.parent.method?this.request.upload.addEventListener("progress",b,!1):this.request.addEventListener("progress",b,!1);this.request.onreadystatechange=
d;b="";if(null==this.parent.data){d=Object.keys(this.parent.formData.h);for(var c=d.length,e=0;e<c;){var f=d[e++];0<b.length&&(b+="&");var g=this.parent.formData.h[f];if(-1<f.indexOf("[]")&&g instanceof Array){var h=[];for(g=I(g);g.hasNext();){var m=g.next();h.push(encodeURIComponent(m))}h=h.join("&amp;"+f+"=");b+=encodeURIComponent(f)+"="+h}else h=encodeURIComponent(f)+"=",f=R.string(g),b+=h+encodeURIComponent(f)}"GET"==this.parent.method&&""!=b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(R.string(this.parent.method),
a,!0);0<this.parent.timeout&&(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType="arraybuffer");a=null;h=0;for(d=this.parent.headers;h<d.length;)c=d[h],++h,"Content-Type"==c.name?a=c.value:this.request.setRequestHeader(c.name,c.value);null!=this.parent.contentType&&(a=this.parent.contentType);null==a&&(null!=this.parent.data?a="application/octet-stream":""!=b&&(a="application/x-www-form-urlencoded"));null!=a&&this.request.setRequestHeader("Content-Type",a);this.parent.withCredentials&&
(this.request.withCredentials=!0);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(b)},loadData:function(a){var b=new Wc;Ja.activeRequests<Ja.requestLimit?(Ja.activeRequests++,this.__loadData(a,b)):Ja.requestQueue.add({instance:this,uri:a,promise:b,type:"BINARY",options:0});return b.future},loadText:function(a){var b=new Wc;Ja.activeRequests<Ja.requestLimit?(Ja.activeRequests++,this.__loadText(a,b)):Ja.requestQueue.add({instance:this,uri:a,promise:b,type:"TEXT",
options:0});return b.future},processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var a,b,d=0,c=this.request.getAllResponseHeaders().split("\n");d<c.length;)b=c[d],++d,a=ka.trim(E.substr(b,0,b.indexOf(":"))),b=ka.trim(E.substr(b,b.indexOf(":")+1,null)),""!=a&&this.parent.responseHeaders.push(new zf(a,b))}this.parent.responseStatus=this.request.status},__loadData:function(a,b){var d=this;this.binary=!0;this.load(a,function(a){b.progress(a.loaded,a.total)},
function(a){4==d.request.readyState&&(a=null,""==d.request.responseType?null!=d.request.responseText&&(a=Wa.ofString(d.request.responseText)):null!=d.request.response&&(a=Wa.ofData(d.request.response)),null!=d.request.status&&(200<=d.request.status&&400>d.request.status||d.validStatus0&&0==d.request.status)?(d.processResponse(),b.complete(a)):(d.processResponse(),b.error(new Eg(d.request.status,a))),d.request=null,Ja.activeRequests--,Ja.processQueue())})},__loadText:function(a,b){var d=this;this.binary=
!1;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==d.request.readyState&&(null!=d.request.status&&(200<=d.request.status&&400>d.request.status||d.validStatus0&&0==d.request.status)?(d.processResponse(),b.complete(d.request.responseText)):(d.processResponse(),b.error(new Eg(d.request.status,d.request.responseText))),d.request=null,Ja.activeRequests--,Ja.processQueue())})},__class__:Ja};var Zb=function(a){this.unusedTouchesPool=new Wf;this.scale=1;this.currentTouches=new Yb;this.parent=
a;this.cursor=Gc.DEFAULT;this.cacheMouseY=this.cacheMouseX=0;var b=a.__attributes;Object.prototype.hasOwnProperty.call(b,"context")||(b.context={});this.renderType=b.context.type;Object.prototype.hasOwnProperty.call(b,"element")&&(a.element=b.element);var d=a.element;Object.prototype.hasOwnProperty.call(b,"allowHighDPI")&&b.allowHighDPI&&"dom"!=this.renderType&&(this.scale=window.devicePixelRatio);a.__scale=this.scale;this.setWidth=Object.prototype.hasOwnProperty.call(b,"width")?b.width:0;this.setHeight=
Object.prototype.hasOwnProperty.call(b,"height")?b.height:0;a.__width=this.setWidth;a.__height=this.setHeight;a.id=Zb.windowID++;d instanceof HTMLCanvasElement?this.canvas=d:"dom"==this.renderType?this.div=window.document.createElement("div"):this.canvas=window.document.createElement("canvas");if(null!=this.canvas){var e=this.canvas.style;e.setProperty("-webkit-transform","translateZ(0)",null);e.setProperty("transform","translateZ(0)",null)}else null!=this.div&&(e=this.div.style,e.setProperty("-webkit-transform",
"translate3D(0,0,0)",null),e.setProperty("transform","translate3D(0,0,0)",null),e.position="relative",e.overflow="hidden",e.setProperty("-webkit-user-select","none",null),e.setProperty("-moz-user-select","none",null),e.setProperty("-ms-user-select","none",null),e.setProperty("-o-user-select","none",null));0==a.__width&&0==a.__height&&(null!=d?(a.__width=d.clientWidth,a.__height=d.clientHeight):(a.__width=window.innerWidth,a.__height=window.innerHeight),this.cacheElementWidth=a.__width,this.cacheElementHeight=
a.__height,this.resizeElement=!0);null!=this.canvas?(this.canvas.width=Math.round(a.__width*this.scale),this.canvas.height=Math.round(a.__height*this.scale),this.canvas.style.width=a.__width+"px",this.canvas.style.height=a.__height+"px"):(this.div.style.width=a.__width+"px",this.div.style.height=a.__height+"px");if(Object.prototype.hasOwnProperty.call(b,"resizable")&&b.resizable||!Object.prototype.hasOwnProperty.call(b,"width")&&0==this.setWidth&&0==this.setHeight)a.__resizable=!0;this.updateSize();
if(null!=d){null!=this.canvas?d!=this.canvas&&d.appendChild(this.canvas):d.appendChild(this.div);b="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(e=0;e<b.length;)d.addEventListener(b[e++],c(this,this.handleMouseEvent),!0);d.addEventListener("contextmenu",c(this,this.handleContextMenuEvent),!0);d.addEventListener("dragstart",c(this,this.handleDragEvent),!0);d.addEventListener("dragover",c(this,this.handleDragEvent),!0);d.addEventListener("drop",c(this,this.handleDragEvent),
!0);d.addEventListener("touchstart",c(this,this.handleTouchEvent),!0);d.addEventListener("touchmove",c(this,this.handleTouchEvent),!0);d.addEventListener("touchend",c(this,this.handleTouchEvent),!0);d.addEventListener("touchcancel",c(this,this.handleTouchEvent),!0);d.addEventListener("gamepadconnected",c(this,this.handleGamepadEvent),!0);d.addEventListener("gamepaddisconnected",c(this,this.handleGamepadEvent),!0)}this.createContext();"webgl"==a.context.type&&(this.canvas.addEventListener("webglcontextlost",
c(this,this.handleContextEvent),!1),this.canvas.addEventListener("webglcontextrestored",c(this,this.handleContextEvent),!1))};f["lime._internal.backend.html5.HTML5Window"]=Zb;Zb.__name__="lime._internal.backend.html5.HTML5Window";Zb.prototype={close:function(){var a=this.parent.element;if(null!=a){null!=this.canvas?(a!=this.canvas&&a.removeChild(this.canvas),this.canvas=null):null!=this.div&&(a.removeChild(this.div),this.div=null);for(var b="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" "),
d=0;d<b.length;)a.removeEventListener(b[d++],c(this,this.handleMouseEvent),!0);a.removeEventListener("contextmenu",c(this,this.handleContextMenuEvent),!0);a.removeEventListener("dragstart",c(this,this.handleDragEvent),!0);a.removeEventListener("dragover",c(this,this.handleDragEvent),!0);a.removeEventListener("drop",c(this,this.handleDragEvent),!0);a.removeEventListener("touchstart",c(this,this.handleTouchEvent),!0);a.removeEventListener("touchmove",c(this,this.handleTouchEvent),!0);a.removeEventListener("touchend",
c(this,this.handleTouchEvent),!0);a.removeEventListener("touchcancel",c(this,this.handleTouchEvent),!0);a.removeEventListener("gamepadconnected",c(this,this.handleGamepadEvent),!0);a.removeEventListener("gamepaddisconnected",c(this,this.handleGamepadEvent),!0)}this.parent.application.__removeWindow(this.parent)},createContext:function(){var a=new lj,b=this.parent.__attributes.context;a.window=this.parent;a.attributes=b;if(null!=this.div)a.dom=this.div,a.type="dom",a.version="";else if(null!=this.canvas){var d=
null,c=!Object.prototype.hasOwnProperty.call(b,"version")||"1"!=b.version,e=!1,f=Object.prototype.hasOwnProperty.call(b,"background")&&null==b.background,g=Object.prototype.hasOwnProperty.call(b,"colorDepth")?b.colorDepth:16,h=Object.prototype.hasOwnProperty.call(b,"antialiasing")&&0<b.antialiasing,m=Object.prototype.hasOwnProperty.call(b,"depth")?b.depth:!0;b=Object.prototype.hasOwnProperty.call(b,"stencil")&&b.stencil;f={alpha:f||16<g,antialias:h,depth:m,premultipliedAlpha:!0,stencil:b,preserveDrawingBuffer:!1,
failIfMajorPerformanceCaveat:!1};g=["webgl","experimental-webgl"];c&&g.unshift("webgl2");for(c=0;c<g.length&&(h=g[c],++c,d=this.canvas.getContext(h,f),null!=d&&"webgl2"==h&&(e=!0),null==d););null==d?(a.canvas2D=this.canvas.getContext("2d"),a.type="canvas",a.version=""):(a.webgl=pb.fromWebGL2RenderContext(d),e&&(a.webgl2=d),null==Gi.context&&(Gi.context=d,Gi.type="webgl",Gi.version=e?2:1),a.type="webgl",a.version=e?"2":"1")}this.parent.context=a},handleContextEvent:function(a){switch(a.type){case "webglcontextlost":a.cancelable&&
a.preventDefault();this.parent.context=null;this.parent.onRenderContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onRenderContextRestored.dispatch(this.parent.context)}},handleContextMenuEvent:function(a){(this.parent.onMouseUp.canceled||this.parent.onMouseDown.canceled)&&a.cancelable&&a.preventDefault()},handleDragEvent:function(a){switch(a.type){case "dragover":return a.preventDefault(),!1;case "dragstart":if("img"==V.__cast(a.target,HTMLElement).nodeName.toLowerCase()&&
a.cancelable)return a.preventDefault(),!1;break;case "drop":if(null!=a.dataTransfer&&0<a.dataTransfer.files.length)return this.parent.onDropFile.dispatch(a.dataTransfer.files),a.preventDefault(),!1}return!0},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":vc.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&Fc.__connect(a.gamepad.index);break;case "gamepaddisconnected":vc.__disconnect(a.gamepad.index),Fc.__disconnect(a.gamepad.index)}},handleMouseEvent:function(a){if("wheel"!=
a.type){if(null!=this.parent.element)if(null!=this.canvas){var b=this.canvas.getBoundingClientRect();var d=this.parent.__width/b.width*(a.clientX-b.left);b=this.parent.__height/b.height*(a.clientY-b.top)}else null!=this.div?(b=this.div.getBoundingClientRect(),d=a.clientX-b.left,b=a.clientY-b.top):(b=this.parent.element.getBoundingClientRect(),d=this.parent.__width/b.width*(a.clientX-b.left),b=this.parent.__height/b.height*(a.clientY-b.top));else d=a.clientX,b=a.clientY;switch(a.type){case "mousedown":a.currentTarget==
this.parent.element&&window.addEventListener("mouseup",c(this,this.handleMouseEvent));this.parent.clickCount=a.detail;this.parent.onMouseDown.dispatch(d,b,a.button);this.parent.clickCount=0;this.parent.onMouseDown.canceled&&a.cancelable&&a.preventDefault();break;case "mouseenter":a.target==this.parent.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&a.cancelable&&a.preventDefault());break;case "mouseleave":a.target==this.parent.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&
a.cancelable&&a.preventDefault());break;case "mousemove":if(d!=this.cacheMouseX||b!=this.cacheMouseY)this.parent.onMouseMove.dispatch(d,b),this.parent.onMouseMoveRelative.dispatch(d-this.cacheMouseX,b-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.cancelable&&a.preventDefault();break;case "mouseup":window.removeEventListener("mouseup",c(this,this.handleMouseEvent)),a.currentTarget==this.parent.element&&a.stopPropagation(),this.parent.clickCount=a.detail,
this.parent.onMouseUp.dispatch(d,b,a.button),this.parent.clickCount=0,this.parent.onMouseUp.canceled&&a.cancelable&&a.preventDefault()}this.cacheMouseX=d;this.cacheMouseY=b}else{switch(a.deltaMode){case 0:d=Af.PIXELS;break;case 1:d=Af.LINES;break;case 2:d=Af.PAGES;break;default:d=Af.UNKNOWN}this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY,d);this.parent.onMouseWheel.canceled&&a.cancelable&&a.preventDefault()}},handleResizeEvent:function(a){this.primaryTouch=null;this.updateSize()},handleTouchEvent:function(a){a.cancelable&&
a.preventDefault();var b=null;null!=this.parent.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.parent.element.getBoundingClientRect());var d=this.setWidth,c=this.setHeight;if(0==d||0==c)null!=b?(d=b.width,c=b.height):c=d=1;for(var e,f,g,h,m,k=0,n=a.changedTouches;k<n.length;){var q=n[k];++k;null!=b?(f=d/b.width*(q.clientX-b.left),g=c/b.height*(q.clientY-b.top)):(f=q.clientX,g=q.clientY);if("touchstart"==a.type)e=this.unusedTouchesPool.pop(),
null==e?e=new nd(f/d,g/c,q.identifier,0,0,q.force,this.parent.id):(e.x=f/d,e.y=g/c,e.id=q.identifier,e.dx=0,e.dy=0,e.pressure=q.force,e.device=this.parent.id),this.currentTouches.h[q.identifier]=e,nd.onStart.dispatch(e),null==this.primaryTouch&&(this.primaryTouch=e),e==this.primaryTouch&&this.parent.onMouseDown.dispatch(f,g,0);else if(e=this.currentTouches.h[q.identifier],null!=e)switch(h=e.x,m=e.y,e.x=f/d,e.y=g/c,e.dx=e.x-h,e.dy=e.y-m,e.pressure=q.force,a.type){case "touchcancel":nd.onCancel.dispatch(e);
this.currentTouches.remove(q.identifier);this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.primaryTouch=null);break;case "touchend":nd.onEnd.dispatch(e);this.currentTouches.remove(q.identifier);this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.parent.onMouseUp.dispatch(f,g,0),this.primaryTouch=null);break;case "touchmove":nd.onMove.dispatch(e),e==this.primaryTouch&&this.parent.onMouseMove.dispatch(f,g)}}},setCursor:function(a){if(this.cursor!=a){if(null==a)this.parent.element.style.cursor=
"none";else{switch(a._hx_index){case 0:var b="default";break;case 1:b="crosshair";break;case 3:b="move";break;case 4:b="pointer";break;case 5:b="nesw-resize";break;case 6:b="ns-resize";break;case 7:b="nwse-resize";break;case 8:b="ew-resize";break;case 9:b="text";break;case 10:b="wait";break;case 11:b="wait";break;default:b="auto"}this.parent.element.style.cursor=b}this.cursor=a}return this.cursor},updateSize:function(){if(this.parent.__resizable){if(null!=this.parent.element){var a=this.parent.element.clientWidth;
var b=this.parent.element.clientHeight}else a=window.innerWidth,b=window.innerHeight;if(a!=this.cacheElementWidth||b!=this.cacheElementHeight){this.cacheElementWidth=a;this.cacheElementHeight=b;var d=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.parent.element&&(null==this.div||null!=this.div&&d))if(d){if(this.parent.__width!=a||this.parent.__height!=b)this.parent.__width=a,this.parent.__height=b,null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.width=Math.round(a*
this.scale),this.canvas.height=Math.round(b*this.scale),this.canvas.style.width=a+"px",this.canvas.style.height=b+"px"):(this.div.style.width=a+"px",this.div.style.height=b+"px"),this.parent.onResize.dispatch(a,b)}else{d=0!=this.setWidth?a/this.setWidth:1;var c=0!=this.setHeight?b/this.setHeight:1,e=a,f=b,g=0,h=0;d<c?(f=Math.floor(this.setHeight*d),h=Math.floor((b-f)/2)):(e=Math.floor(this.setWidth*c),g=Math.floor((a-e)/2));null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.style.width=
e+"px",this.canvas.style.height=f+"px",this.canvas.style.marginLeft=g+"px",this.canvas.style.marginTop=h+"px"):(this.div.style.width=e+"px",this.div.style.height=f+"px",this.div.style.marginLeft=g+"px",this.div.style.marginTop=h+"px")}}}},__class__:Zb};var $f=function(){};f["lime._internal.format.Base64"]=$f;$f.__name__="lime._internal.format.Base64";$f.encode=function(a){var b=[],d=$f.DICTIONARY,c=$f.EXTENDED_DICTIONARY,e=a.length,f=Math.floor(e/3),g=2*f;b.length=2*Math.ceil(e/3);for(var h=0,m=0,
k;m<g;)k=a.b[h]<<16|a.b[h+1]<<8|a.b[h+2],b[m]=c[k>>12&4095],b[m+1]=c[k&4095],h+=3,m+=2;switch(e-3*f){case 1:k=a.b[h]<<16;b[m]=c[k>>12&4095];b[m+1]="==";break;case 2:k=a.b[h]<<16|a.b[h+1]<<8,b[m]=c[k>>12&4095],b[m+1]=d[k>>6&63]+"="}return b.join("")};var tk=function(){};f["lime._internal.format.Deflate"]=tk;tk.__name__="lime._internal.format.Deflate";tk.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return Wa.ofData(a)};var uk=function(){};f["lime._internal.format.GZip"]=uk;uk.__name__=
"lime._internal.format.GZip";uk.decompress=function(a){a=pako.ungzip(a.b.bufferValue);return Wa.ofData(a)};var gj=function(){};f["lime._internal.format.LZMA"]=gj;gj.__name__="lime._internal.format.LZMA";gj.decompress=function(a){return null};var hj=function(){};f["lime._internal.format.Zlib"]=hj;hj.__name__="lime._internal.format.Zlib";hj.decompress=function(a){a=pako.inflate(a.b.bufferValue);return Wa.ofData(a)};var rb=function(){};f["lime._internal.graphics.ImageCanvasUtil"]=rb;rb.__name__="lime._internal.graphics.ImageCanvasUtil";
rb.convertToCanvas=function(a,b){null==b&&(b=!1);var d=a.buffer;null!=d.__srcImage?(null==d.__srcCanvas&&(rb.createCanvas(a,d.__srcImage.width,d.__srcImage.height),d.__srcContext.drawImage(d.__srcImage,0,0)),d.__srcImage=null):null==d.__srcCanvas&&null!=d.data?(a.set_transparent(!0),rb.createCanvas(a,d.width,d.height),rb.createImageData(a),d.__srcContext.putImageData(d.__srcImageData,0,0)):a.type==xf.DATA&&null!=d.__srcImageData&&a.dirty&&(d.__srcContext.putImageData(d.__srcImageData,0,0),a.dirty=
!1);b?(d.data=null,d.__srcImageData=null):null==d.data&&null!=d.__srcImageData&&(d.data=d.__srcImageData.data);a.type=xf.CANVAS};rb.convertToData=function(a,b){null==b&&(b=!1);var d=a.buffer;null!=d.__srcImage&&rb.convertToCanvas(a);if(null!=d.__srcCanvas&&null==d.data)rb.createImageData(a),a.type==xf.CANVAS&&(a.dirty=!1);else if(a.type==xf.CANVAS&&null!=d.__srcCanvas&&a.dirty){if(null==d.__srcImageData)rb.createImageData(a);else{d.__srcImageData=d.__srcContext.getImageData(0,0,d.width,d.height);
var c=d.__srcImageData.data.buffer;c=null!=c?new Uint8Array(c):null;d.data=c}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=xf.DATA};rb.copyChannel=function(a,b,d,c,e,f){rb.convertToData(b);rb.convertToData(a);uf.copyChannel(a,b,d,c,e,f)};rb.copyPixels=function(a,b,d,c,e,f,g){null==g&&(g=!1);null==c||c.x>=a.width||c.y>=a.height||null==d||1>d.width||1>d.height||(null!=e&&e.get_transparent()&&(null==f&&(f=new mj),b=b.clone(),b.copyChannel(e,new tc(d.x+f.x,d.y+f.y,d.width,
d.height),new mj(d.x,d.y),Cg.ALPHA,Cg.ALPHA)),rb.convertToCanvas(a,!0),g||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(c.x+a.offsetX,c.y+a.offsetY,d.width+a.offsetX,d.height+a.offsetY),rb.convertToCanvas(b),null!=b.buffer.get_src()&&(a.buffer.__srcContext.globalCompositeOperation="source-over",a.buffer.__srcContext.drawImage(b.buffer.get_src(),d.x+b.offsetX|0,d.y+b.offsetY|0,d.width|0,d.height|0,c.x+a.offsetX|0,c.y+a.offsetY|0,d.width|0,d.height|0)),a.dirty=!0,a.version++)};
rb.createCanvas=function(a,b,d){var c=a.buffer;null==c.__srcCanvas&&(c.__srcCanvas=window.document.createElement("canvas"),c.__srcCanvas.width=b,c.__srcCanvas.height=d,a.get_transparent()?c.__srcContext=c.__srcCanvas.getContext("2d"):(a.get_transparent()||c.__srcCanvas.setAttribute("moz-opaque","true"),c.__srcContext=c.__srcCanvas.getContext("2d",{alpha:!1})))};rb.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,
a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer;b=null!=b?new Uint8Array(b):null;a.data=b}};rb.fillRect=function(a,b,d,c){rb.convertToCanvas(a);if(1==c){c=d>>16&255;var e=d>>8&255;var l=d&255;d=a.get_transparent()?d>>24&255:255}else c=d>>24&255,e=d>>16&255,l=d>>8&255,d=a.get_transparent()?d&255:255;0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==d?a.buffer.__srcCanvas.width=
a.buffer.width:(255>d&&a.buffer.__srcContext.clearRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),0<d&&(a.buffer.__srcContext.fillStyle="rgba("+c+", "+e+", "+l+", "+d/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)),a.dirty=!0,a.version++)};rb.getPixel32=function(a,b,d,c){rb.convertToData(a);return uf.getPixel32(a,b,d,c)};var uf=function(){};f["lime._internal.graphics.ImageDataUtil"]=uf;uf.__name__="lime._internal.graphics.ImageDataUtil";
uf.copyChannel=function(a,b,d,c,e,f){switch(f._hx_index){case 0:var l=0;break;case 1:l=1;break;case 2:l=2;break;case 3:l=3}switch(e._hx_index){case 0:var g=0;break;case 1:g=1;break;case 2:g=2;break;case 3:g=3}e=b.buffer.data;f=a.buffer.data;if(null!=e&&null!=f){d=new hh(b,d);c=new hh(a,new tc(c.x,c.y,d.width,d.height));var p=b.buffer.format,h=a.buffer.format;b=b.buffer.premultiplied;for(var m=a.buffer.premultiplied,k,n,D=0,q=0,t=0,r=0,u=c.height;r<u;){n=r++;k=d.byteOffset+d.stride*n;n=c.byteOffset+
c.stride*n;for(var M=0,ea=c.width;M<ea;){++M;var y=p,w=b;null==b&&(w=!1);null==p&&(y=0);switch(y){case 0:D=(e[k]&255)<<24|(e[k+1]&255)<<16|(e[k+2]&255)<<8|e[k+3]&255;break;case 1:D=(e[k+1]&255)<<24|(e[k+2]&255)<<16|(e[k+3]&255)<<8|e[k]&255;break;case 2:D=(e[k+2]&255)<<24|(e[k+1]&255)<<16|(e[k]&255)<<8|e[k+3]&255}w&&0!=(D&255)&&255!=(D&255)&&(la.unmult=255/(D&255),D=(la.__clamp[Math.round((D>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((D>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((D>>>
8&255)*la.unmult)]&255)<<8|D&255);y=h;w=m;null==m&&(w=!1);null==h&&(y=0);switch(y){case 0:q=(f[n]&255)<<24|(f[n+1]&255)<<16|(f[n+2]&255)<<8|f[n+3]&255;break;case 1:q=(f[n+1]&255)<<24|(f[n+2]&255)<<16|(f[n+3]&255)<<8|f[n]&255;break;case 2:q=(f[n+2]&255)<<24|(f[n+1]&255)<<16|(f[n]&255)<<8|f[n+3]&255}w&&0!=(q&255)&&255!=(q&255)&&(la.unmult=255/(q&255),q=(la.__clamp[Math.round((q>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((q>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((q>>>8&255)*
la.unmult)]&255)<<8|q&255);switch(g){case 0:t=D>>>24&255;break;case 1:t=D>>>16&255;break;case 2:t=D>>>8&255;break;case 3:t=D&255}switch(l){case 0:q=(t&255)<<24|(q>>>16&255)<<16|(q>>>8&255)<<8|q&255;break;case 1:q=(q>>>24&255)<<24|(t&255)<<16|(q>>>8&255)<<8|q&255;break;case 2:q=(q>>>24&255)<<24|(q>>>16&255)<<16|(t&255)<<8|q&255;break;case 3:q=(q>>>24&255)<<24|(q>>>16&255)<<16|(q>>>8&255)<<8|t&255}y=h;w=m;null==m&&(w=!1);null==h&&(y=0);w&&(0==(q&255)?0!=q&&(q=0):255!=(q&255)&&(la.a16=la.__alpha16[q&
255],q=((q>>>24&255)*la.a16>>16&255)<<24|((q>>>16&255)*la.a16>>16&255)<<16|((q>>>8&255)*la.a16>>16&255)<<8|q&255));switch(y){case 0:f[n]=q>>>24&255;f[n+1]=q>>>16&255;f[n+2]=q>>>8&255;f[n+3]=q&255;break;case 1:f[n]=q&255;f[n+1]=q>>>24&255;f[n+2]=q>>>16&255;f[n+3]=q>>>8&255;break;case 2:f[n]=q>>>8&255,f[n+1]=q>>>16&255,f[n+2]=q>>>24&255,f[n+3]=q&255}k+=4;n+=4}}a.dirty=!0;a.version++}};uf.copyPixels=function(a,b,d,c,e,f,g){null==g&&(g=!1);if(a.width==b.width&&a.height==b.height&&d.width==b.width&&d.height==
b.height&&0==d.x&&0==d.y&&0==c.x&&0==c.y&&null==e&&null==f&&0==g&&a.get_format()==b.get_format())a.buffer.data.set(b.buffer.data);else{var l=b.buffer.data,p=a.buffer.data;if(null==l||null==p)return;d=new hh(b,d);var h=new hh(a,new tc(c.x,c.y,d.width,d.height)),m=b.buffer.format,k=a.buffer.format,n=0,D=0,q=b.buffer.premultiplied,t=a.buffer.premultiplied,r=b.buffer.bitsPerPixel/8|0,xa=a.buffer.bitsPerPixel/8|0,u=null!=e&&e.get_transparent(),M=g||u&&!a.get_transparent()||!g&&!a.get_transparent()&&b.get_transparent();
if(u)if(xa=e.buffer.data,b=e.buffer.format,g=0,e=new hh(e,new tc(d.x+(null==f?0:f.x),d.y+(null==f?0:f.y),d.width,d.height)),h.clip(c.x|0,c.y|0,e.width,e.height),M)for(M=0,r=h.height;M<r;)for(u=M++,c=d.byteOffset+d.stride*u,f=h.byteOffset+h.stride*u,u=e.byteOffset+e.stride*u,C=0,v=h.width;C<v;){++C;var ea=m;var y=q;null==q&&(y=!1);null==m&&(ea=0);switch(ea){case 0:n=(l[c]&255)<<24|(l[c+1]&255)<<16|(l[c+2]&255)<<8|l[c+3]&255;break;case 1:n=(l[c+1]&255)<<24|(l[c+2]&255)<<16|(l[c+3]&255)<<8|l[c]&255;
break;case 2:n=(l[c+2]&255)<<24|(l[c+1]&255)<<16|(l[c]&255)<<8|l[c+3]&255}y&&0!=(n&255)&&255!=(n&255)&&(la.unmult=255/(n&255),n=(la.__clamp[Math.round((n>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((n>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((n>>>8&255)*la.unmult)]&255)<<8|n&255);y=k;ea=t;null==t&&(ea=!1);null==k&&(y=0);switch(y){case 0:D=(p[f]&255)<<24|(p[f+1]&255)<<16|(p[f+2]&255)<<8|p[f+3]&255;break;case 1:D=(p[f+1]&255)<<24|(p[f+2]&255)<<16|(p[f+3]&255)<<8|p[f]&255;break;
case 2:D=(p[f+2]&255)<<24|(p[f+1]&255)<<16|(p[f]&255)<<8|p[f+3]&255}ea&&0!=(D&255)&&255!=(D&255)&&(la.unmult=255/(D&255),D=(la.__clamp[Math.round((D>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((D>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((D>>>8&255)*la.unmult)]&255)<<8|D&255);y=b;null==b&&(y=0);switch(y){case 0:g=(xa[u]&255)<<24|(xa[u+1]&255)<<16|(xa[u+2]&255)<<8|xa[u+3]&255;break;case 1:g=(xa[u+1]&255)<<24|(xa[u+2]&255)<<16|(xa[u+3]&255)<<8|xa[u]&255;break;case 2:g=(xa[u+2]&
255)<<24|(xa[u+1]&255)<<16|(xa[u]&255)<<8|xa[u+3]&255}ea=(g&255)/255*((n&255)/255);if(0<ea){y=(D&255)/255;var w=1-ea;var A=ea+y*w;D=(la.__clamp[Math.round(((n>>>24&255)*ea+(D>>>24&255)*y*w)/A)]&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<8|D&255;D=(D>>>24&255)<<24|(la.__clamp[Math.round(((n>>>16&255)*ea+(D>>>16&255)*y*w)/A)]&255)<<16|(D>>>8&255)<<8|D&255;D=(D>>>24&255)<<24|(D>>>16&255)<<16|(la.__clamp[Math.round(((n>>>8&255)*ea+(D>>>8&255)*y*w)/A)]&255)<<8|D&255;D=(D>>>24&255)<<24|(D>>>16&255)<<16|(D>>>
8&255)<<8|la.__clamp[Math.round(255*A)]&255;y=k;ea=t;null==t&&(ea=!1);null==k&&(y=0);ea&&(0==(D&255)?0!=D&&(D=0):255!=(D&255)&&(la.a16=la.__alpha16[D&255],D=((D>>>24&255)*la.a16>>16&255)<<24|((D>>>16&255)*la.a16>>16&255)<<16|((D>>>8&255)*la.a16>>16&255)<<8|D&255));switch(y){case 0:p[f]=D>>>24&255;p[f+1]=D>>>16&255;p[f+2]=D>>>8&255;p[f+3]=D&255;break;case 1:p[f]=D&255;p[f+1]=D>>>24&255;p[f+2]=D>>>16&255;p[f+3]=D>>>8&255;break;case 2:p[f]=D>>>8&255,p[f+1]=D>>>16&255,p[f+2]=D>>>24&255,p[f+3]=D&255}}c+=
4;f+=4;u+=4}else for(M=0,r=h.height;M<r;)for(u=M++,c=d.byteOffset+d.stride*u,f=h.byteOffset+h.stride*u,u=e.byteOffset+e.stride*u,C=0,v=h.width;C<v;){++C;ea=m;y=q;null==q&&(y=!1);null==m&&(ea=0);switch(ea){case 0:n=(l[c]&255)<<24|(l[c+1]&255)<<16|(l[c+2]&255)<<8|l[c+3]&255;break;case 1:n=(l[c+1]&255)<<24|(l[c+2]&255)<<16|(l[c+3]&255)<<8|l[c]&255;break;case 2:n=(l[c+2]&255)<<24|(l[c+1]&255)<<16|(l[c]&255)<<8|l[c+3]&255}y&&0!=(n&255)&&255!=(n&255)&&(la.unmult=255/(n&255),n=(la.__clamp[Math.round((n>>>
24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((n>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((n>>>8&255)*la.unmult)]&255)<<8|n&255);y=b;null==b&&(y=0);switch(y){case 0:g=(xa[u]&255)<<24|(xa[u+1]&255)<<16|(xa[u+2]&255)<<8|xa[u+3]&255;break;case 1:g=(xa[u+1]&255)<<24|(xa[u+2]&255)<<16|(xa[u+3]&255)<<8|xa[u]&255;break;case 2:g=(xa[u+2]&255)<<24|(xa[u+1]&255)<<16|(xa[u]&255)<<8|xa[u+3]&255}n=(n>>>24&255)<<24|(n>>>16&255)<<16|(n>>>8&255)<<8|Math.round((g&255)/255*(n&255))&255;y=k;ea=t;
null==t&&(ea=!1);null==k&&(y=0);ea&&(0==(n&255)?0!=n&&(n=0):255!=(n&255)&&(la.a16=la.__alpha16[n&255],n=((n>>>24&255)*la.a16>>16&255)<<24|((n>>>16&255)*la.a16>>16&255)<<16|((n>>>8&255)*la.a16>>16&255)<<8|n&255));switch(y){case 0:p[f]=n>>>24&255;p[f+1]=n>>>16&255;p[f+2]=n>>>8&255;p[f+3]=n&255;break;case 1:p[f]=n&255;p[f+1]=n>>>24&255;p[f+2]=n>>>16&255;p[f+3]=n>>>8&255;break;case 2:p[f]=n>>>8&255,p[f+1]=n>>>16&255,p[f+2]=n>>>24&255,p[f+3]=n&255}c+=4;f+=4;u+=4}else if(M)for(M=0,r=h.height;M<r;){u=M++;
c=d.byteOffset+d.stride*u;f=h.byteOffset+h.stride*u;for(var C=0,v=h.width;C<v;){++C;ea=m;y=q;null==q&&(y=!1);null==m&&(ea=0);switch(ea){case 0:n=(l[c]&255)<<24|(l[c+1]&255)<<16|(l[c+2]&255)<<8|l[c+3]&255;break;case 1:n=(l[c+1]&255)<<24|(l[c+2]&255)<<16|(l[c+3]&255)<<8|l[c]&255;break;case 2:n=(l[c+2]&255)<<24|(l[c+1]&255)<<16|(l[c]&255)<<8|l[c+3]&255}y&&0!=(n&255)&&255!=(n&255)&&(la.unmult=255/(n&255),n=(la.__clamp[Math.round((n>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((n>>>16&255)*la.unmult)]&
255)<<16|(la.__clamp[Math.round((n>>>8&255)*la.unmult)]&255)<<8|n&255);y=k;ea=t;null==t&&(ea=!1);null==k&&(y=0);switch(y){case 0:D=(p[f]&255)<<24|(p[f+1]&255)<<16|(p[f+2]&255)<<8|p[f+3]&255;break;case 1:D=(p[f+1]&255)<<24|(p[f+2]&255)<<16|(p[f+3]&255)<<8|p[f]&255;break;case 2:D=(p[f+2]&255)<<24|(p[f+1]&255)<<16|(p[f]&255)<<8|p[f+3]&255}ea&&0!=(D&255)&&255!=(D&255)&&(la.unmult=255/(D&255),D=(la.__clamp[Math.round((D>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((D>>>16&255)*la.unmult)]&255)<<
16|(la.__clamp[Math.round((D>>>8&255)*la.unmult)]&255)<<8|D&255);ea=(n&255)/255;y=(D&255)/255;w=1-ea;A=ea+y*w;0==A?D=0:(D=(la.__clamp[Math.round(((n>>>24&255)*ea+(D>>>24&255)*y*w)/A)]&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<8|D&255,D=(D>>>24&255)<<24|(la.__clamp[Math.round(((n>>>16&255)*ea+(D>>>16&255)*y*w)/A)]&255)<<16|(D>>>8&255)<<8|D&255,D=(D>>>24&255)<<24|(D>>>16&255)<<16|(la.__clamp[Math.round(((n>>>8&255)*ea+(D>>>8&255)*y*w)/A)]&255)<<8|D&255,D=(D>>>24&255)<<24|(D>>>16&255)<<16|(D>>>8&255)<<
8|la.__clamp[Math.round(255*A)]&255);y=k;ea=t;null==t&&(ea=!1);null==k&&(y=0);ea&&(0==(D&255)?0!=D&&(D=0):255!=(D&255)&&(la.a16=la.__alpha16[D&255],D=((D>>>24&255)*la.a16>>16&255)<<24|((D>>>16&255)*la.a16>>16&255)<<16|((D>>>8&255)*la.a16>>16&255)<<8|D&255));switch(y){case 0:p[f]=D>>>24&255;p[f+1]=D>>>16&255;p[f+2]=D>>>8&255;p[f+3]=D&255;break;case 1:p[f]=D&255;p[f+1]=D>>>24&255;p[f+2]=D>>>16&255;p[f+3]=D>>>8&255;break;case 2:p[f]=D>>>8&255,p[f+1]=D>>>16&255,p[f+2]=D>>>24&255,p[f+3]=D&255}c+=4;f+=
4}}else if(m==k&&q==t&&r==xa)for(M=0,r=h.height;M<r;)u=M++,c=d.byteOffset+d.stride*u,f=h.byteOffset+h.stride*u,p.set(l.subarray(c,c+h.width*xa),f);else for(M=0,r=h.height;M<r;)for(u=M++,c=d.byteOffset+d.stride*u,f=h.byteOffset+h.stride*u,C=0,v=h.width;C<v;){++C;ea=m;y=q;null==q&&(y=!1);null==m&&(ea=0);switch(ea){case 0:n=(l[c]&255)<<24|(l[c+1]&255)<<16|(l[c+2]&255)<<8|l[c+3]&255;break;case 1:n=(l[c+1]&255)<<24|(l[c+2]&255)<<16|(l[c+3]&255)<<8|l[c]&255;break;case 2:n=(l[c+2]&255)<<24|(l[c+1]&255)<<
16|(l[c]&255)<<8|l[c+3]&255}y&&0!=(n&255)&&255!=(n&255)&&(la.unmult=255/(n&255),n=(la.__clamp[Math.round((n>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((n>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((n>>>8&255)*la.unmult)]&255)<<8|n&255);y=k;ea=t;null==t&&(ea=!1);null==k&&(y=0);ea&&(0==(n&255)?0!=n&&(n=0):255!=(n&255)&&(la.a16=la.__alpha16[n&255],n=((n>>>24&255)*la.a16>>16&255)<<24|((n>>>16&255)*la.a16>>16&255)<<16|((n>>>8&255)*la.a16>>16&255)<<8|n&255));switch(y){case 0:p[f]=
n>>>24&255;p[f+1]=n>>>16&255;p[f+2]=n>>>8&255;p[f+3]=n&255;break;case 1:p[f]=n&255;p[f+1]=n>>>24&255;p[f+2]=n>>>16&255;p[f+3]=n>>>8&255;break;case 2:p[f]=n>>>8&255,p[f+1]=n>>>16&255,p[f+2]=n>>>24&255,p[f+3]=n&255}c+=4;f+=4}}a.dirty=!0;a.version++};uf.fillRect=function(a,b,d,c){switch(c){case 1:d=(d>>>16&255)<<24|(d>>>8&255)<<16|(d&255)<<8|d>>>24&255;break;case 2:d=(d>>>8&255)<<24|(d>>>16&255)<<16|(d>>>24&255)<<8|d&255}a.get_transparent()||(d=(d>>>24&255)<<24|(d>>>16&255)<<16|(d>>>8&255)<<8|255);var e=
a.buffer.data;if(null!=e){c=a.buffer.format;a.buffer.premultiplied&&(0==(d&255)?0!=d&&(d=0):255!=(d&255)&&(la.a16=la.__alpha16[d&255],d=((d>>>24&255)*la.a16>>16&255)<<24|((d>>>16&255)*la.a16>>16&255)<<16|((d>>>8&255)*la.a16>>16&255)<<8|d&255));b=new hh(a,b);for(var f,l=0,g=b.height;l<g;){f=b.byteOffset+b.stride*l++;for(var h=0,m=b.width;h<m;){var k=f+4*h++,n=c;null==c&&(n=0);switch(n){case 0:e[k]=d>>>24&255;e[k+1]=d>>>16&255;e[k+2]=d>>>8&255;e[k+3]=d&255;break;case 1:e[k]=d&255;e[k+1]=d>>>24&255;
e[k+2]=d>>>16&255;e[k+3]=d>>>8&255;break;case 2:e[k]=d>>>8&255,e[k+1]=d>>>16&255,e[k+2]=d>>>24&255,e[k+3]=d&255}}}a.dirty=!0;a.version++}};uf.getPixel32=function(a,b,d,c){var e=0,f=a.buffer.data;b=4*(d+a.offsetY)*a.buffer.width+4*(b+a.offsetX);d=a.buffer.format;a=a.buffer.premultiplied;null==a&&(a=!1);null==d&&(d=0);switch(d){case 0:e=(f[b]&255)<<24|(f[b+1]&255)<<16|(f[b+2]&255)<<8|f[b+3]&255;break;case 1:e=(f[b+1]&255)<<24|(f[b+2]&255)<<16|(f[b+3]&255)<<8|f[b]&255;break;case 2:e=(f[b+2]&255)<<24|
(f[b+1]&255)<<16|(f[b]&255)<<8|f[b+3]&255}a&&0!=(e&255)&&255!=(e&255)&&(la.unmult=255/(e&255),e=(la.__clamp[Math.round((e>>>24&255)*la.unmult)]&255)<<24|(la.__clamp[Math.round((e>>>16&255)*la.unmult)]&255)<<16|(la.__clamp[Math.round((e>>>8&255)*la.unmult)]&255)<<8|e&255);switch(c){case 1:return(e&255)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255;case 2:return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|e&255;default:return e}};var hh=function(a,b){this.image=a;null==b?this.rect=a.get_rect():
(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.__update()};f["lime._internal.graphics._ImageDataUtil.ImageDataView"]=hh;hh.__name__="lime._internal.graphics._ImageDataUtil.ImageDataView";hh.prototype={clip:function(a,b,d,c){null==this.tempRect&&(this.tempRect=new tc);this.tempRect.setTo(a,b,d,c);this.rect.intersection(this.tempRect,
this.rect);this.__update()},__update:function(){this.x=Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.byteOffset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},__class__:hh};var Rb=function(a,b){null==b&&(b=!1);if(null!=a)if(b)b=new Wc,b.future=this,Vc.queue({promise:b,work:a});else try{this.value=a(),this.isComplete=!0}catch(d){this.error=T.caught(d).unwrap(),this.isError=!0}};f["lime.app.Future"]=
Rb;Rb.__name__="lime.app.Future";Rb.withError=function(a){var b=new Rb;b.isError=!0;b.error=a;return b};Rb.withValue=function(a){var b=new Rb;b.isComplete=!0;b.value=a;return b};Rb.prototype={onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=
[]),this.__errorListeners.push(a)));return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},then:function(a){if(this.isComplete)return a(this.value);if(this.isError){var b=new Rb;b.isError=!0;b.error=this.error;return b}var d=new Wc;this.onError(c(d,d.error));this.onProgress(c(d,d.progress));this.onComplete(function(b){b=a(b);b.onError(c(d,d.error));b.onComplete(c(d,d.complete))});return d.future},__class__:Rb};
var Vc=function(){};f["lime.app._Future.FutureWork"]=Vc;Vc.__name__="lime.app._Future.FutureWork";Vc.queue=function(a){null==Vc.threadPool&&(Vc.threadPool=new Hj,Vc.threadPool.doWork.add(Vc.threadPool_doWork),Vc.threadPool.onComplete.add(Vc.threadPool_onComplete),Vc.threadPool.onError.add(Vc.threadPool_onError));Vc.threadPool.queue(a)};Vc.threadPool_doWork=function(a){try{var b=a.work();Vc.threadPool.sendComplete({promise:a.promise,result:b})}catch(d){b=T.caught(d).unwrap(),Vc.threadPool.sendError({promise:a.promise,
error:b})}};Vc.threadPool_onComplete=function(a){a.promise.complete(a.result)};Vc.threadPool_onError=function(a){a.promise.error(a.error)};var Wc=function(){this.future=new Rb};f["lime.app.Promise"]=Wc;Wc.__name__="lime.app.Promise";Wc.prototype={complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,d=this.future.__completeListeners;b<d.length;)d[b++](a);this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(c(this,
this.complete));a.onError(c(this,this.error));a.onProgress(c(this,this.progress));return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,d=this.future.__errorListeners;b<d.length;)d[b++](a);this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var d=0,c=this.future.__progressListeners;d<c.length;)c[d++](a,
b);return this},__class__:Wc};var ih=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Dynamic_Void"]=ih;ih.__name__="lime.app._Event_Dynamic_Void";ih.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);
this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:ih};var jh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Float_Float_Float_Void"]=
jh;jh.__name__="lime.app._Event_Float_Float_Float_Void";jh.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},dispatch:function(a,b,d){this.canceled=!1;for(var c=this.__listeners,e=this.__repeat,f=0;f<c.length&&(c[f](a,b,d),e[f]?++f:this.remove(c[f]),!this.canceled););},__class__:jh};var ij=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Float_Float_Int_Void"]=ij;ij.__name__="lime.app._Event_Float_Float_Int_Void";ij.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<
e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,d){this.canceled=!1;for(var c=this.__listeners,e=this.__repeat,f=0;f<c.length&&(c[f](a,b,d),
e[f]?++f:this.remove(c[f]),!this.canceled););},__class__:ij};var vf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Float_Float_Void"]=vf;vf.__name__="lime.app._Event_Float_Float_Void";vf.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var d=this.__listeners,c=this.__repeat,e=0;e<d.length&&(d[e](a,b),c[e]?++e:this.remove(d[e]),!this.canceled););},__class__:vf};var ag=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Float_Float_lime_ui_MouseButton_Void"]=
ag;ag.__name__="lime.app._Event_Float_Float_lime_ui_MouseButton_Void";ag.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,d){this.canceled=!1;for(var c=this.__listeners,e=this.__repeat,f=0;f<c.length&&(c[f](a,b,d),e[f]?++f:this.remove(c[f]),!this.canceled););},__class__:ag};var Xh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void"]=Xh;Xh.__name__="lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void";Xh.prototype={add:function(a,b,d){null==
d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,d){this.canceled=!1;for(var c=
this.__listeners,e=this.__repeat,f=0;f<c.length&&(c[f](a,b,d),e[f]?++f:this.remove(c[f]),!this.canceled););},__class__:Xh};var Oc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Int_Float_Float_Void"]=Oc;Oc.__name__="lime.app._Event_Int_Float_Float_Void";Oc.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},__class__:Oc};var wf=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Int_Float_Void"]=wf;wf.__name__="lime.app._Event_Int_Float_Void";wf.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var d=this.__listeners,c=this.__repeat,e=0;e<d.length&&(d[e](a,b),c[e]?++e:this.remove(d[e]),!this.canceled););},__class__:wf};var Ee=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Int_Int_Void"]=Ee;Ee.__name__="lime.app._Event_Int_Int_Void";Ee.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==
a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var d=this.__listeners,c=this.__repeat,e=0;e<d.length&&(d[e](a,b),c[e]?++e:this.remove(d[e]),!this.canceled););},__class__:Ee};var Nc=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Int_Void"]=Nc;Nc.__name__="lime.app._Event_Int_Void";Nc.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=
0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,d=this.__repeat,
c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:Nc};var zg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=zg;zg.__name__="lime.app._Event_Int_lime_ui_JoystickHatPosition_Void";zg.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},__class__:zg};var jj=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_String_Int_Int_Void"]=jj;jj.__name__="lime.app._Event_String_Int_Int_Void";jj.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},__class__:jj};var Yh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_String_Void"]=Yh;Yh.__name__="lime.app._Event_String_Void";Yh.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:Yh};var sc=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_Void_Void"]=sc;sc.__name__="lime.app._Event_Void_Void";sc.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==
a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,d=0;d<a.length&&(a[d](),b[d]?++d:this.remove(a[d]),!this.canceled););},__class__:sc};var Ag=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_graphics_RenderContext_Void"]=Ag;Ag.__name__="lime.app._Event_lime_graphics_RenderContext_Void";Ag.prototype={add:function(a,b,
d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;
for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:Ag};var Gj=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=Gj;Gj.__name__="lime.app._Event_lime_ui_GamepadAxis_Float_Void";Gj.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,
0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var d=this.__listeners,c=this.__repeat,e=0;e<d.length&&(d[e](a,b),c[e]?++e:this.remove(d[e]),!this.canceled););},__class__:Gj};var kj=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_GamepadButton_Void"]=kj;kj.__name__="lime.app._Event_lime_ui_GamepadButton_Void";kj.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:kj};var Zh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_Gamepad_Void"]=Zh;Zh.__name__="lime.app._Event_lime_ui_Gamepad_Void";
Zh.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:Zh};var dk=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_Joystick_Void"]=dk;dk.__name__="lime.app._Event_lime_ui_Joystick_Void";dk.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);
this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:dk};var Fi=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=Fi;Fi.__name__="lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void";Fi.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var d=this.__listeners,c=this.__repeat,e=0;e<d.length&&(d[e](a,b),c[e]?++e:this.remove(d[e]),!this.canceled););},__class__:Fi};var Bg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_Touch_Void"]=Bg;Bg.__name__="lime.app._Event_lime_ui_Touch_Void";
Bg.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:Bg};var bg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};f["lime.app._Event_lime_ui_Window_Void"]=bg;bg.__name__="lime.app._Event_lime_ui_Window_Void";bg.prototype={add:function(a,b,d){null==d&&(d=0);null==b&&(b=!1);for(var c=0,e=this.__priorities.length;c<e;){var f=c++;if(d>this.__priorities[f]){this.__listeners.splice(f,0,a);this.__priorities.splice(f,
0,d);this.__repeat.splice(f,0,!b);return}}this.__listeners.push(a);this.__priorities.push(d);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)this.__listeners[b]==a&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,d=this.__repeat,c=0;c<b.length&&(b[c](a),d[c]?++c:this.remove(b[c]),!this.canceled););},__class__:bg};var lb=function(a,b,d,c,e,f,g){null==e&&(e=-1);
null==c&&(c=-1);null==d&&(d=0);null==b&&(b=0);this.offsetX=b;this.offsetY=d;this.width=c;this.height=e;this.version=0;null==g&&(g=xf.CANVAS);this.type=g;if(null==a){if(0<c&&0<e)switch(this.type._hx_index){case 0:this.buffer=new Fe(null,c,e);rb.createCanvas(this,c,e);null!=f&&0!=f&&this.fillRect(new tc(0,0,c,e),f);break;case 1:a=c*e*4,a=null!=a?new Uint8Array(a):null,this.buffer=new Fe(a,c,e),null!=f&&0!=f&&this.fillRect(new tc(0,0,c,e),f)}}else this.__fromImageBuffer(a)};f["lime.graphics.Image"]=
lb;lb.__name__="lime.graphics.Image";lb.fromFile=function(a){if(null==a)return null;var b=new lb;return b.__fromFile(a)?b:null};lb.fromImageElement=function(a){if(null==a)return null;var b=new Fe(null,a.width,a.height);b.set_src(a);a=new lb(b);a.type=xf.CANVAS;return a};lb.loadFromBytes=function(a){if(null==a)return Rb.withValue(null);if(lb.__isPNG(a))var b="image/png";else if(lb.__isJPG(a))b="image/jpeg";else if(lb.__isGIF(a))b="image/gif";else if(lb.__isWebP(a))b="image/webp";else return Rb.withValue(null);
return Ja.loadImageFromBytes(a,b)};lb.loadFromFile=function(a){return null==a?Rb.withValue(null):Ja.loadImage(a)};lb.__isGIF=function(a){if(null==a||6>a.length)return!1;a=a.getString(0,6);return"GIF87a"!=a?"GIF89a"==a:!0};lb.__isJPG=function(a){return null==a||4>a.length?!1:255==a.b[0]&&216==a.b[1]&&255==a.b[a.length-2]?217==a.b[a.length-1]:!1};lb.__isPNG=function(a){return null==a||8>a.length?!1:137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};lb.__isWebP=
function(a){return null==a||16>a.length?!1:"RIFF"==a.getString(0,4)?"WEBP"==a.getString(8,4):!1};lb.prototype={clone:function(){if(null!=this.buffer){this.type==xf.CANVAS?rb.convertToCanvas(this):rb.convertToData(this);var a=new lb(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new lb(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},copyChannel:function(a,b,d,c,e){b=this.__clipRect(b);if(null!=this.buffer&&
null!=b&&!(e==Cg.ALPHA&&!this.get_transparent()||0>=b.width||0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type._hx_index){case 0:rb.copyChannel(this,a,b,d,c,e);break;case 1:rb.convertToData(this);rb.convertToData(a);uf.copyChannel(this,a,b,d,c,e);break;case 2:switch(c._hx_index){case 0:var f=1;break;case 1:f=2;break;case 2:f=4;break;case 3:f=8}switch(e._hx_index){case 0:var l=1;break;case 1:l=2;break;case 2:l=4;break;case 3:l=8}b.offset(a.offsetX,
a.offsetY);d.offset(this.offsetX,this.offsetY);this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),b.__toFlashRectangle(),d.__toFlashPoint(),f,l)}},copyPixels:function(a,b,d,c,e,f){null==f&&(f=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),d.x+b.width>this.width&&(b.width=this.width-d.x),d.y+b.height>
this.height&&(b.height=this.height-d.y),0>d.x&&(b.width+=d.x,b.x-=d.x,d.x=0),0>d.y&&(b.height+=d.y,b.y-=d.y,d.y=0),a==this&&d.x<b.get_right()&&d.y<b.get_bottom()&&(a=this.clone()),c==a&&(null==e||0==e.x&&0==e.y)&&(e=c=null),this.type._hx_index){case 0:null!=c?(rb.convertToData(this),rb.convertToData(a),null!=c&&rb.convertToData(c),uf.copyPixels(this,a,b,d,c,e,f)):(rb.convertToCanvas(this),rb.convertToCanvas(a),rb.copyPixels(this,a,b,d,c,e,f));break;case 1:rb.convertToData(this);rb.convertToData(a);
null!=c&&rb.convertToData(c);uf.copyPixels(this,a,b,d,c,e,f);break;case 2:b.offset(a.offsetX,a.offsetY),d.offset(this.offsetX,this.offsetY),null!=c&&null!=e&&e.offset(c.offsetX,c.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,b.__toFlashRectangle(),d.__toFlashPoint(),null!=c?c.buffer.get_src():null,null!=e?e.__toFlashPoint():null,f)}},fillRect:function(a,b,d){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type._hx_index){case 0:rb.fillRect(this,a,b,d);break;
case 1:rb.convertToData(this);if(0==this.buffer.data.length)break;uf.fillRect(this,a,b,d);break;case 2:a.offset(this.offsetX,this.offsetY);if(null==d)b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(d){case 1:break;case 2:b=(b&255)<<24|(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},getPixel32:function(a,b,d){if(null==this.buffer||0>a||0>b||a>=this.width||
b>=this.height)return 0;switch(this.type._hx_index){case 0:return rb.getPixel32(this,a,b,d);case 1:return rb.convertToData(this),uf.getPixel32(this,a,b,d);case 2:a=this.buffer.__srcBitmapData.getPixel32(a+this.offsetX,b+this.offsetY);if(null==d)return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255;switch(d){case 1:return a;case 2:return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255;default:return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255}default:return 0}},__clipRect:function(a){return null==
a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,d){var c=this,e=new window.Image;e.addEventListener("load",function(a){c.buffer=new Fe(null,e.width,e.height);c.buffer.__srcImage=e;c.offsetX=0;c.offsetY=0;c.width=c.buffer.width;c.height=c.buffer.height;null!=d&&d(c)},!1);e.src=
"data:"+b+";base64,"+a},__fromBytes:function(a,b){if(lb.__isPNG(a))var d="image/png";else if(lb.__isJPG(a))d="image/jpeg";else if(lb.__isGIF(a))d="image/gif";else return!1;this.__fromBase64($f.encode(a),d,b);return!0},__fromFile:function(a,b,d){var c=this,e=new window.Image;Ja.__isSameOrigin(a)||(e.crossOrigin="Anonymous");e.onload=function(a){c.buffer=new Fe(null,e.width,e.height);c.buffer.__srcImage=e;c.width=e.width;c.height=e.height;null!=b&&b(c)};e.onerror=function(a){null!=d&&d()};e.src=a;return!0},
__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=a.width),-1==this.height&&(this.height=a.height))},get_data:function(){null==this.buffer.data&&0<this.buffer.width&&0<this.buffer.height&&rb.convertToData(this);return this.buffer.data},get_format:function(){return this.buffer.format},get_rect:function(){return new tc(0,0,this.width,this.height)},get_src:function(){null!=this.buffer.__srcCanvas||null==this.buffer.data&&this.type!=xf.DATA||rb.convertToCanvas(this);return this.buffer.get_src()},
get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:lb,__properties__:{set_transparent:"set_transparent",get_transparent:"get_transparent",get_src:"get_src",get_rect:"get_rect",get_format:"get_format",get_data:"get_data"}};var Fe=function(a,b,d,c,e){null==c&&(c=32);null==d&&(d=0);null==b&&(b=0);this.data=a;this.width=b;this.height=d;this.bitsPerPixel=c;this.format=null==e?0:e;this.premultiplied=
!1;this.transparent=!0};f["lime.graphics.ImageBuffer"]=Fe;Fe.__name__="lime.graphics.ImageBuffer";Fe.prototype={clone:function(){var a=new Fe(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength;b=null!=b?new Uint8Array(b):null;a.data=b;b=this.data;b=null!=b?new Uint8Array(b):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcImageData.width,
a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,0,0)):a.__srcImage=
this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){a instanceof Image?this.__srcImage=a:a instanceof HTMLCanvasElement&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return this.width*(this.bitsPerPixel/8|0)},__class__:Fe,__properties__:{get_stride:"get_stride",
set_src:"set_src",get_src:"get_src"}};var Cg=ra["lime.graphics.ImageChannel"]={__ename__:"lime.graphics.ImageChannel",__constructs__:null,RED:{_hx_name:"RED",_hx_index:0,__enum__:"lime.graphics.ImageChannel",toString:r},GREEN:{_hx_name:"GREEN",_hx_index:1,__enum__:"lime.graphics.ImageChannel",toString:r},BLUE:{_hx_name:"BLUE",_hx_index:2,__enum__:"lime.graphics.ImageChannel",toString:r},ALPHA:{_hx_name:"ALPHA",_hx_index:3,__enum__:"lime.graphics.ImageChannel",toString:r}};Cg.__constructs__=[Cg.RED,
Cg.GREEN,Cg.BLUE,Cg.ALPHA];var xf=ra["lime.graphics.ImageType"]={__ename__:"lime.graphics.ImageType",__constructs__:null,CANVAS:{_hx_name:"CANVAS",_hx_index:0,__enum__:"lime.graphics.ImageType",toString:r},DATA:{_hx_name:"DATA",_hx_index:1,__enum__:"lime.graphics.ImageType",toString:r},FLASH:{_hx_name:"FLASH",_hx_index:2,__enum__:"lime.graphics.ImageType",toString:r},CUSTOM:{_hx_name:"CUSTOM",_hx_index:3,__enum__:"lime.graphics.ImageType",toString:r}};xf.__constructs__=[xf.CANVAS,xf.DATA,xf.FLASH,
xf.CUSTOM];var lj=function(){};f["lime.graphics.RenderContext"]=lj;lj.__name__="lime.graphics.RenderContext";lj.prototype={__class__:lj};var pb={bufferData:function(a,b,d,c){a.bufferData(b,d,c)},compressedTexImage2D:function(a,b,d,c,e,f,g,h){a.compressedTexImage2D(b,d,c,e,f,g,h)},texImage2D:function(a,b,d,c,e,f,g,h,m,k){null!=h?a.texImage2D(b,d,c,e,f,g,h,m,k):a.texImage2D(b,d,c,e,f,g)},texSubImage2D:function(a,b,d,c,e,f,g,h,m,k){null!=m?a.texSubImage2D(b,d,c,e,f,g,h,m,k):a.texSubImage2D(b,d,c,e,f,
g,h)},uniformMatrix4fv:function(a,b,d,c){a.uniformMatrix4fv(b,d,c)},fromWebGL2RenderContext:function(a){return a}},Gi=function(){};f["lime.graphics.opengl.GL"]=Gi;Gi.__name__="lime.graphics.opengl.GL";var Pk={fromSources:function(a,b,d){b=Kb.fromSource(a,b,a.VERTEX_SHADER);var c=Kb.fromSource(a,d,a.FRAGMENT_SHADER);d=a.createProgram();a.attachShader(d,b);a.attachShader(d,c);a.linkProgram(d);0==a.getProgramParameter(d,35714)&&(a="Unable to initialize the shader program\n"+Gi.context.getProgramInfoLog(d),
Ib.error(a,{fileName:"lime/graphics/opengl/GLProgram.hx",lineNumber:39,className:"lime.graphics.opengl._GLProgram.GLProgram_Impl_",methodName:"fromSources"}));return d}},Kb={fromSource:function(a,b,d){var c=a.createShader(d);a.shaderSource(c,b);a.compileShader(c);b=a.getShaderInfoLog(c);var e=a.getShaderParameter(c,a.COMPILE_STATUS);if(null!=b||0==e)a=d==a.VERTEX_SHADER?"compiling vertex shader":d==a.FRAGMENT_SHADER?"compiling fragment shader":"compiling unknown shader type",a+="\n"+b,0==e?Ib.error(a,
{fileName:"lime/graphics/opengl/GLShader.hx",lineNumber:47,className:"lime.graphics.opengl._GLShader.GLShader_Impl_",methodName:"fromSource"}):null!=b&&Ib.debug(a,{fileName:"lime/graphics/opengl/GLShader.hx",lineNumber:48,className:"lime.graphics.opengl._GLShader.GLShader_Impl_",methodName:"fromSource"});return c}},la={},tc=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=d;this.height=c};f["lime.math.Rectangle"]=tc;tc.__name__="lime.math.Rectangle";
tc.prototype={copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},intersection:function(a,b){null==b&&(b=new tc);var d=this.x<a.x?a.x:this.x,c=this.get_right()>a.get_right()?a.get_right():this.get_right();if(c<=d)return b.setEmpty(),b;var e=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();if(a<=e)return b.setEmpty(),b;b.x=d;b.y=e;b.width=c-d;b.height=a-e;return b},offset:function(a,b){this.x+=a;this.y+=b},setEmpty:function(){this.x=
this.y=this.width=this.height=0},setTo:function(a,b,d,c){this.x=a;this.y=b;this.width=d;this.height=c},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},get_left:function(){return this.x},set_left:function(a){this.width-=a-this.x;return this.x=a},get_right:function(){return this.x+this.width},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},__class__:tc,__properties__:{set_top:"set_top",get_top:"get_top",get_right:"get_right",
set_left:"set_left",get_left:"get_left",get_bottom:"get_bottom"}};var mj=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};f["lime.math.Vector2"]=mj;mj.__name__="lime.math.Vector2";mj.prototype={offset:function(a,b){this.x+=a;this.y+=b},__toFlashPoint:function(){return null},__class__:mj};var Qb=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.w=c;this.x=a;this.y=b;this.z=d};f["lime.math.Vector4"]=Qb;Qb.__name__="lime.math.Vector4";Qb.prototype={__class__:Qb};
var Zc=function(){};f["lime.media.AudioBuffer"]=Zc;Zc.__name__="lime.media.AudioBuffer";Zc.fromBytes=function(a){if(null==a)return null;var b=new Zc;b.set_src(new Howl({src:["data:"+Zc.__getCodec(a)+";base64,"+$f.encode(a)],html5:!0,preload:!1}));return b};Zc.fromFile=function(a){if(null==a)return null;var b=new Zc;b.__srcHowl=new Howl({src:[a],preload:!1});return b};Zc.fromFiles=function(a){var b=new Zc;b.__srcHowl=new Howl({src:a,preload:!1});return b};Zc.loadFromFile=function(a){var b=new Wc,d=
Zc.fromFile(a);null!=d?null!=d&&(d.__srcHowl.on("load",function(){b.complete(d)}),d.__srcHowl.on("loaderror",function(a,d){b.error(d)}),d.__srcHowl.load()):b.error(null);return b.future};Zc.loadFromFiles=function(a){var b=new Wc,d=Zc.fromFiles(a);null!=d?(d.__srcHowl.on("load",function(){b.complete(d)}),d.__srcHowl.on("loaderror",function(){b.error(null)}),d.__srcHowl.load()):b.error(null);return b.future};Zc.__getCodec=function(a){switch(a.getString(0,4)){case "OggS":return"audio/ogg";case "RIFF":if("WAVE"==
a.getString(8,4))return"audio/wav";var b=a.b[1],d=a.b[2];switch(a.b[0]){case 73:if(68==b&&51==d)return"audio/mp3";break;case 255:switch(b){case 243:case 250:case 251:return"audio/mp3"}}break;case "fLaC":return"audio/flac";default:switch(b=a.b[1],d=a.b[2],a.b[0]){case 73:if(68==b&&51==d)return"audio/mp3";break;case 255:switch(b){case 243:case 250:case 251:return"audio/mp3"}}}Ib.error("Unsupported sound format",{fileName:"lime/media/AudioBuffer.hx",lineNumber:362,className:"lime.media.AudioBuffer",
methodName:"__getCodec"});return null};Zc.prototype={set_src:function(a){return this.__srcHowl=a},__class__:Zc,__properties__:{set_src:"set_src"}};var nj=function(a){if("custom"!=a){if(null==a||"web"==a)try{window.AudioContext=window.AudioContext||window.webkitAudioContext,this.web=new window.AudioContext,this.type="web"}catch(b){}null==this.web&&"web"!=a&&(this.html5=new yf,this.type="html5")}else this.type="custom"};f["lime.media.AudioContext"]=nj;nj.__name__="lime.media.AudioContext";nj.prototype=
{__class__:nj};var oj=function(){};f["lime.media.AudioManager"]=oj;oj.__name__="lime.media.AudioManager";oj.init=function(a){if(null==oj.context){if(null==a&&(oj.context=new nj,a=oj.context,"openal"==a.type)){var b=a.openal,d=b.createContext(b.openDevice());b.makeContextCurrent(d);b.processContext(d)}oj.context=a}};var pj=function(a,b,d,c){null==c&&(c=0);null==b&&(b=0);this.onComplete=new sc;this.buffer=a;this.offset=b;this.__backend=new fj(this);null!=d&&0!=d&&this.set_length(d);this.set_loops(c);
null!=a&&this.init()};f["lime.media.AudioSource"]=pj;pj.__name__="lime.media.AudioSource";pj.prototype={dispose:function(){this.__backend.dispose()},init:function(){this.__backend.init()},play:function(){this.__backend.play()},pause:function(){this.__backend.pause()},stop:function(){this.__backend.stop()},get_gain:function(){return this.__backend.getGain()},set_gain:function(a){return this.__backend.setGain(a)},set_length:function(a){return this.__backend.setLength(a)},set_loops:function(a){return this.__backend.setLoops(a)},
get_position:function(){return this.__backend.getPosition()},__class__:pj,__properties__:{set_loops:"set_loops",set_length:"set_length",get_position:"get_position",set_gain:"set_gain",get_gain:"get_gain"}};var yf=function(){};f["lime.media.HTML5AudioContext"]=yf;yf.__name__="lime.media.HTML5AudioContext";yf.prototype={__class__:yf};var Fb=function(){};f["lime.media.OpenALAudioContext"]=Fb;Fb.__name__="lime.media.OpenALAudioContext";Fb.prototype={createContext:function(a,b){return Dg.createContext(a,
b)},makeContextCurrent:function(a){return Dg.makeContextCurrent(a)},openDevice:function(a){return Dg.openDevice(a)},processContext:function(a){},__class__:Fb};var Dg=function(){};f["lime.media.openal.ALC"]=Dg;Dg.__name__="lime.media.openal.ALC";Dg.createContext=function(a,b){return null};Dg.makeContextCurrent=function(a){return!1};Dg.openDevice=function(a){return null};var Ii=function(){};f["lime.net._IHTTPRequest"]=Ii;Ii.__name__="lime.net._IHTTPRequest";Ii.__isInterface__=!0;Ii.prototype={__class__:Ii};
var $c=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";this.followRedirects=!0;this.enableResponseHeaders=!1;this.formData=new cb;this.headers=[];this.method="GET";this.timeout=R.parseInt("3600000");this.withCredentials=!1;this.manageCookies=!0;this.__backend=new Ja;this.__backend.init(this)};f["lime.net._HTTPRequest.AbstractHTTPRequest"]=$c;$c.__name__="lime.net._HTTPRequest.AbstractHTTPRequest";$c.__interfaces__=[Ii];$c.prototype={__class__:$c};var Fg=function(a){$c.call(this,
a)};f["lime.net._HTTPRequest_Bytes"]=Fg;Fg.__name__="lime.net._HTTPRequest_Bytes";Fg.__super__=$c;Fg.prototype=k($c.prototype,{fromBytes:function(a){return a},load:function(a){var b=this;null!=a&&(this.uri=a);var d=new Wc;a=this.__backend.loadData(this.uri);a.onProgress(c(d,d.progress));a.onError(function(a){b.responseData=a.responseData;d.error(a.error)});a.onComplete(function(a){b.responseData=b.fromBytes(a);d.complete(b.responseData)});return d.future},__class__:Fg});var qe=function(a){$c.call(this,
a)};f["lime.net._HTTPRequest_String"]=qe;qe.__name__="lime.net._HTTPRequest_String";qe.__super__=$c;qe.prototype=k($c.prototype,{load:function(a){var b=this;null!=a&&(this.uri=a);var d=new Wc;a=this.__backend.loadText(this.uri);a.onProgress(c(d,d.progress));a.onError(function(a){b.responseData=a.responseData;d.error(a.error)});a.onComplete(function(a){b.responseData=a;d.complete(b.responseData)});return d.future},__class__:qe});var Eg=function(a,b){this.error=a;this.responseData=b};f["lime.net._HTTPRequestErrorResponse"]=
Eg;Eg.__name__="lime.net._HTTPRequestErrorResponse";Eg.prototype={__class__:Eg};var zf=function(a,b){null==b&&(b="");this.name=a;this.value=b};f["lime.net.HTTPRequestHeader"]=zf;zf.__name__="lime.net.HTTPRequestHeader";zf.prototype={__class__:zf};var uc=function(a){uc.URI_REGEX.match(a)&&(this.source=a,this.protocol=uc.URI_REGEX.matched(1),this.authority=uc.URI_REGEX.matched(2),this.userInfo=uc.URI_REGEX.matched(3),this.user=uc.URI_REGEX.matched(4),this.password=uc.URI_REGEX.matched(5),this.host=
uc.URI_REGEX.matched(6),this.port=uc.URI_REGEX.matched(7),this.relative=uc.URI_REGEX.matched(8),this.path=uc.URI_REGEX.matched(9),this.directory=uc.URI_REGEX.matched(10),this.file=uc.URI_REGEX.matched(11),this.query=uc.URI_REGEX.matched(12),this.anchor=uc.URI_REGEX.matched(13),null!=this.query&&0<this.query.length&&(this.queryArray=uc.parseQuery(this.query)))};f["lime.net.URIParser"]=uc;uc.__name__="lime.net.URIParser";uc.parseQuery=function(a){var b=[],d=0;for(a=a.split("&");d<a.length;)uc.QUERY_REGEX.match(a[d++])&&
b.push({k:uc.QUERY_REGEX.matched(1),v:uc.QUERY_REGEX.matched(2)});return b};uc.prototype={__class__:uc};var Hi=function(a){$c.call(this,a)};f["lime.net._HTTPRequest_lime_utils_Bytes"]=Hi;Hi.__name__="lime.net._HTTPRequest_lime_utils_Bytes";Hi.__super__=Fg;Hi.prototype=k(Fg.prototype,{fromBytes:function(a){return nc.fromBytes(a)},__class__:Hi});var Gg={__properties__:{set_currentLocale:"set_currentLocale",get_currentLocale:"get_currentLocale"},__init:function(){if(null==Gg.__systemLocale){var a=navigator.language;
Gg.__systemLocale=null!=a?a:"en-US";Gg.set_currentLocale(Gg.__systemLocale)}},get_currentLocale:function(){Gg.__init();return Gg.currentLocale},set_currentLocale:function(a){Gg.__init();return Gg.currentLocale=a}},hd=function(a,b){this.onUpdate=new jh;this.type=a;this.id=b};f["lime.system.Sensor"]=hd;hd.__name__="lime.system.Sensor";hd.getSensors=function(a){if(null==a)return hd.sensors.slice();for(var b=[],d=0,c=hd.sensors;d<c.length;){var e=c[d];++d;e.type==a&&b.push(e)}return b};hd.registerSensor=
function(a,b){a=new hd(a,b);hd.sensors.push(a);return hd.sensorByID.h[b]=a};hd.prototype={__class__:hd};var lc=ra["lime.system.SensorType"]={__ename__:"lime.system.SensorType",__constructs__:null,ACCELEROMETER:{_hx_name:"ACCELEROMETER",_hx_index:0,__enum__:"lime.system.SensorType",toString:r}};lc.__constructs__=[lc.ACCELEROMETER];var Yd=function(){};f["lime.system.System"]=Yd;Yd.__name__="lime.system.System";Yd.embed=n.lime.embed=function(a,b,d,c,e){if(null!=Yd.__applicationEntryPoint&&Object.prototype.hasOwnProperty.call(Yd.__applicationEntryPoint.h,
a)){var f="string"==typeof b?window.document.getElementById(b):null==b?window.document.createElement("div"):b;null==f?window.console.log("[lime.embed] ERROR: Cannot find target element: "+R.string(b)):(null==d&&(d=0),null==c&&(c=0),null==e&&(e={}),Object.prototype.hasOwnProperty.call(e,"background")&&"string"==typeof e.background&&(b=ka.replace(R.string(e.background),"#",""),-1<b.indexOf("0x")?e.background=R.parseInt(b):e.background=R.parseInt("0x"+b)),e.element=f,e.width=d,e.height=c,Yd.__applicationEntryPoint.h[a](e))}};
Yd.exit=function(a){var b=db.current;if(null!=b&&(b.onExit.dispatch(a),b.onExit.canceled))return;null!=b&&null!=b.__window&&b.__window.close()};Yd.openURL=function(a,b){null==b&&(b="_blank");null!=a&&window.open(a,b)};Yd.__registerEntryPoint=function(a,b){null==Yd.__applicationEntryPoint&&(Yd.__applicationEntryPoint=new cb);Yd.__applicationEntryPoint.h[a]=b};var Hj=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onRun=new ih;this.onError=new ih;this.onComplete=new ih;this.doWork=new ih;this.minThreads=
a;this.maxThreads=b;this.currentThreads=0};f["lime.system.ThreadPool"]=Hj;Hj.__name__="lime.system.ThreadPool";Hj.prototype={queue:function(a){this.runWork(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},runWork:function(a){this.onRun.dispatch(a);this.doWork.dispatch(a)},__class__:Hj};var rd=function(a){null!=a&&(this.name=a);this.__init||(void 0==this.ascender&&(this.ascender=0),void 0==this.descender&&(this.descender=0),void 0==this.height&&
(this.height=0),void 0==this.numGlyphs&&(this.numGlyphs=0),void 0==this.underlinePosition&&(this.underlinePosition=0),void 0==this.underlineThickness&&(this.underlineThickness=0),void 0==this.unitsPerEM&&(this.unitsPerEM=0),null!=this.__fontID?ua.isLocal(this.__fontID)&&this.__fromBytes(ua.getBytes(this.__fontID)):null!=this.__fontPath&&this.__fromFile(this.__fontPath))};f["lime.text.Font"]=rd;rd.__name__="lime.text.Font";rd.fromFile=function(a){if(null==a)return null;var b=new rd;b.__fromFile(a);
return b};rd.loadFromName=function(a){return(new rd).__loadFromName(a)};rd.__measureFontNode=function(a){var b=window.document.createElement("span");b.setAttribute("aria-hidden","true");var d=window.document.createTextNode("BESbswy");b.appendChild(d);d=b.style;d.display="block";d.position="absolute";d.top="-9999px";d.left="-9999px";d.fontSize="300px";d.width="auto";d.height="auto";d.lineHeight="normal";d.margin="0";d.padding="0";d.fontVariant="normal";d.whiteSpace="nowrap";d.fontFamily=a;window.document.body.appendChild(b);
return b};rd.prototype={__fromBytes:function(a){this.__fontPath=null},__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,d=new Wc;this.name=a;var e=v.navigator.userAgent.toLowerCase(),f=0<=e.indexOf(" safari/")&&0>e.indexOf(" chrome/");e=(new Ka("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i")).match(e);if(!f&&!e&&window.document.fonts&&(sa=window.document.fonts,c(sa,sa.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){d.complete(b)},function(c){Ib.warn('Could not load web font "'+
a+'"',{fileName:"lime/text/Font.hx",lineNumber:515,className:"lime.text.Font",methodName:"__loadFromName"});d.complete(b)});else{var g=rd.__measureFontNode("'"+a+"', sans-serif"),h=rd.__measureFontNode("'"+a+"', serif"),m=g.offsetWidth,k=h.offsetWidth,n=-1,q=0,t,r;n=window.setInterval(function(){q+=1;t=g.offsetWidth!=m||h.offsetWidth!=k;r=3E3<=50*q;if(t||r)window.clearInterval(n),g.parentNode.removeChild(g),h.parentNode.removeChild(h),h=g=null,r&&Ib.warn('Could not load web font "'+a+'"',{fileName:"lime/text/Font.hx",
lineNumber:550,className:"lime.text.Font",methodName:"__loadFromName"}),d.complete(b)},50)}return d.future},__class__:rd};var Fc=function(a){this.onDisconnect=new sc;this.onButtonUp=new kj;this.onButtonDown=new kj;this.onAxisMove=new Gj;this.id=a;this.connected=!0};f["lime.ui.Gamepad"]=Fc;Fc.__name__="lime.ui.Gamepad";Fc.__connect=function(a){if(!Fc.devices.h.hasOwnProperty(a)){var b=new Fc(a);Fc.devices.h[a]=b;Fc.onConnect.dispatch(b)}};Fc.__disconnect=function(a){var b=Fc.devices.h[a];null!=b&&
(b.connected=!1);Fc.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Fc.prototype={__class__:Fc};var vc=function(a){this.onTrackballMove=new Oc;this.onHatMove=new zg;this.onDisconnect=new sc;this.onButtonUp=new Nc;this.onButtonDown=new Nc;this.onAxisMove=new wf;this.id=a;this.connected=!0};f["lime.ui.Joystick"]=vc;vc.__name__="lime.ui.Joystick";vc.__connect=function(a){if(!vc.devices.h.hasOwnProperty(a)){var b=new vc(a);vc.devices.h[a]=b;vc.onConnect.dispatch(b)}};vc.__disconnect=function(a){var b=
vc.devices.h[a];null!=b&&(b.connected=!1);vc.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};vc.__getDeviceData=function(){var a=null;try{a=navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null}catch(b){}return a};vc.prototype={__class__:vc};var Gc=ra["lime.ui.MouseCursor"]={__ename__:"lime.ui.MouseCursor",__constructs__:null,ARROW:{_hx_name:"ARROW",_hx_index:0,__enum__:"lime.ui.MouseCursor",toString:r},CROSSHAIR:{_hx_name:"CROSSHAIR",_hx_index:1,
__enum__:"lime.ui.MouseCursor",toString:r},DEFAULT:{_hx_name:"DEFAULT",_hx_index:2,__enum__:"lime.ui.MouseCursor",toString:r},MOVE:{_hx_name:"MOVE",_hx_index:3,__enum__:"lime.ui.MouseCursor",toString:r},POINTER:{_hx_name:"POINTER",_hx_index:4,__enum__:"lime.ui.MouseCursor",toString:r},RESIZE_NESW:{_hx_name:"RESIZE_NESW",_hx_index:5,__enum__:"lime.ui.MouseCursor",toString:r},RESIZE_NS:{_hx_name:"RESIZE_NS",_hx_index:6,__enum__:"lime.ui.MouseCursor",toString:r},RESIZE_NWSE:{_hx_name:"RESIZE_NWSE",_hx_index:7,
__enum__:"lime.ui.MouseCursor",toString:r},RESIZE_WE:{_hx_name:"RESIZE_WE",_hx_index:8,__enum__:"lime.ui.MouseCursor",toString:r},TEXT:{_hx_name:"TEXT",_hx_index:9,__enum__:"lime.ui.MouseCursor",toString:r},WAIT:{_hx_name:"WAIT",_hx_index:10,__enum__:"lime.ui.MouseCursor",toString:r},WAIT_ARROW:{_hx_name:"WAIT_ARROW",_hx_index:11,__enum__:"lime.ui.MouseCursor",toString:r},CUSTOM:{_hx_name:"CUSTOM",_hx_index:12,__enum__:"lime.ui.MouseCursor",toString:r}};Gc.__constructs__=[Gc.ARROW,Gc.CROSSHAIR,Gc.DEFAULT,
Gc.MOVE,Gc.POINTER,Gc.RESIZE_NESW,Gc.RESIZE_NS,Gc.RESIZE_NWSE,Gc.RESIZE_WE,Gc.TEXT,Gc.WAIT,Gc.WAIT_ARROW,Gc.CUSTOM];var Af=ra["lime.ui.MouseWheelMode"]={__ename__:"lime.ui.MouseWheelMode",__constructs__:null,PIXELS:{_hx_name:"PIXELS",_hx_index:0,__enum__:"lime.ui.MouseWheelMode",toString:r},LINES:{_hx_name:"LINES",_hx_index:1,__enum__:"lime.ui.MouseWheelMode",toString:r},PAGES:{_hx_name:"PAGES",_hx_index:2,__enum__:"lime.ui.MouseWheelMode",toString:r},UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:3,__enum__:"lime.ui.MouseWheelMode",
toString:r}};Af.__constructs__=[Af.PIXELS,Af.LINES,Af.PAGES,Af.UNKNOWN];var nd=function(a,b,d,c,e,f,g){this.x=a;this.y=b;this.id=d;this.dx=c;this.dy=e;this.pressure=f;this.device=g};f["lime.ui.Touch"]=nd;nd.__name__="lime.ui.Touch";nd.prototype={__class__:nd};var eb=function(a,b){this.clickCount=0;this.onTextInput=new Yh;this.onTextEdit=new jj;this.onRestore=new sc;this.onResize=new Ee;this.onRenderContextRestored=new Ag;this.onRenderContextLost=new sc;this.onRender=new Ag;this.onMove=new vf;this.onMouseWheel=
new Xh;this.onMouseUp=new ij;this.onMouseMoveRelative=new vf;this.onMouseMove=new vf;this.onMouseDown=new ag;this.onMinimize=new sc;this.onLeave=new sc;this.onKeyUp=new Fi;this.onKeyDown=new Fi;this.onFullscreen=new sc;this.onFocusOut=new sc;this.onFocusIn=new sc;this.onExpose=new sc;this.onEnter=new sc;this.onDropFile=new Yh;this.onDeactivate=new sc;this.onClose=new sc;this.onActivate=new sc;this.application=a;this.__attributes=null!=b?b:{};Object.prototype.hasOwnProperty.call(this.__attributes,
"parameters")&&(this.parameters=this.__attributes.parameters);this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title=Object.prototype.hasOwnProperty.call(this.__attributes,"title")?this.__attributes.title:"";this.id=-1;this.__backend=new Zb(this)};f["lime.ui.Window"]=eb;eb.__name__="lime.ui.Window";eb.prototype={close:function(){this.__backend.close()},toString:function(){return"[object Window]"},set_cursor:function(a){return this.__backend.setCursor(a)},
__class__:eb,__properties__:{set_cursor:"set_cursor"}};var Zd=function(){this.data=new cb;this.paths=[]};f["lime.utils.AssetBundle"]=Zd;Zd.__name__="lime.utils.AssetBundle";Zd.fromBytes=function(a){return Zd.__extractBundle(new Zf(a))};Zd.loadFromBytes=function(a){return Rb.withValue(Zd.fromBytes(a))};Zd.loadFromFile=function(a){return nc.loadFromFile(a).then(Zd.loadFromBytes)};Zd.__extractBundle=function(a){var b=Ci.readZip(a);a=new Zd;for(b=b.h;null!=b;){var d=b.item;b=b.next;if(d.compressed){var c=
a.data,e=d.fileName,f=nc.decompress(d.data,eg.DEFLATE);c.h[e]=f}else a.data.h[d.fileName]=d.data;a.paths.push(d.fileName)}return a};Zd.prototype={__class__:Zd};var ek=function(){this.enabled=!0;this.audio=new cb;this.font=new cb;this.image=new cb;this.version=0};f["lime.utils.AssetCache"]=ek;ek.__name__="lime.utils.AssetCache";ek.prototype={exists:function(a,b){return("IMAGE"==b||null==b)&&Object.prototype.hasOwnProperty.call(this.image.h,a)||("FONT"==b||null==b)&&Object.prototype.hasOwnProperty.call(this.font.h,
a)||("SOUND"==b||"MUSIC"==b||null==b)&&Object.prototype.hasOwnProperty.call(this.audio.h,a)?!0:!1},set:function(a,b,d){switch(b){case "FONT":this.font.h[a]=d;break;case "IMAGE":if(!(d instanceof lb))throw T.thrown("Cannot cache non-Image asset: "+R.string(d)+" as Image");this.image.h[a]=d;break;case "MUSIC":case "SOUND":if(!(d instanceof Zc))throw T.thrown("Cannot cache non-AudioBuffer asset: "+R.string(d)+" as AudioBuffer");this.audio.h[a]=d;break;default:throw T.thrown(b+" assets are not cachable");
}},clear:function(a){if(null==a)this.audio=new cb,this.font=new cb,this.image=new cb;else{for(var b=Object.keys(this.audio.h),d=b.length,c=0;c<d;){var e=b[c++];if(ka.startsWith(e,a)){var f=this.audio;Object.prototype.hasOwnProperty.call(f.h,e)&&delete f.h[e]}}b=Object.keys(this.font.h);d=b.length;for(c=0;c<d;)e=b[c++],ka.startsWith(e,a)&&(f=this.font,Object.prototype.hasOwnProperty.call(f.h,e)&&delete f.h[e]);b=Object.keys(this.image.h);d=b.length;for(c=0;c<d;)e=b[c++],ka.startsWith(e,a)&&(f=this.image,
Object.prototype.hasOwnProperty.call(f.h,e)&&delete f.h[e])}},__class__:ek};var dg=function(){this.types=new cb;this.sizes=new cb;this.preload=new cb;this.paths=new cb;this.pathGroups=new cb;this.classTypes=new cb;this.cachedText=new cb;this.cachedImages=new cb;this.cachedFonts=new cb;this.cachedBytes=new cb;this.cachedAudioBuffers=new cb;this.onChange=new sc;this.bytesTotal=this.bytesLoaded=0};f["lime.utils.AssetLibrary"]=dg;dg.__name__="lime.utils.AssetLibrary";dg.fromBundle=function(a){if(Object.prototype.hasOwnProperty.call(a.data.h,
"library.json")){var b=Fd.fromBytes(a.data.h["library.json"]);if(null!=b){if(null==b.libraryType)var d=new dg;else if(d=f[b.libraryType],null!=d)d=Ca.createInstance(d,b.libraryArgs);else return Ib.warn("Could not find library type: "+b.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:122,className:"lime.utils.AssetLibrary",methodName:"fromBundle"}),null;d.__fromBundle(a,b);return d}}else return d=new dg,d.__fromBundle(a),d;return null};dg.fromManifest=function(a){if(null==a)return null;
if(null==a.libraryType)var b=new dg;else if(b=f[a.libraryType],null!=b)b=Ca.createInstance(b,a.libraryArgs);else return Ib.warn("Could not find library type: "+a.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:160,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;b.__fromManifest(a);return b};dg.prototype={exists:function(a,b){b=null!=b?V.__cast(b,String):null;a=this.types.h[a];return null==a||a!=b&&("SOUND"!=b&&"MUSIC"!=b||"MUSIC"!=a&&"SOUND"!=a)&&"BINARY"!=b&&null!=
b&&("BINARY"!=a||"TEXT"!=b)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);case "TEMPLATE":throw T.thrown("Not sure how to get template: "+a);case "TEXT":return this.getText(a);default:throw T.thrown("Unknown asset type: "+b);}},getAudioBuffer:function(a){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,a)?this.cachedAudioBuffers.h[a]:
Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?Zc.fromBytes(V.__cast(Ca.createInstance(this.classTypes.h[a],[]),Wa)):Zc.fromFile(this.getPath(a))},getBytes:function(a){if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a))return this.cachedBytes.h[a];if(Object.prototype.hasOwnProperty.call(this.cachedText.h,a)){var b=nc.ofString(this.cachedText.h[a]);return this.cachedBytes.h[a]=b}return Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?V.__cast(Ca.createInstance(this.classTypes.h[a],
[]),Wa):nc.fromFile(this.getPath(a))},getFont:function(a){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,a)?this.cachedFonts.h[a]:Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?V.__cast(Ca.createInstance(this.classTypes.h[a],[]),rd):rd.fromFile(this.getPath(a))},getImage:function(a){return Object.prototype.hasOwnProperty.call(this.cachedImages.h,a)?this.cachedImages.h[a]:Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?V.__cast(Ca.createInstance(this.classTypes.h[a],
[]),lb):lb.fromFile(this.getPath(a))},getPath:function(a){return Object.prototype.hasOwnProperty.call(this.paths.h,a)?this.paths.h[a]:Object.prototype.hasOwnProperty.call(this.pathGroups.h,a)?this.pathGroups.h[a][0]:null},getText:function(a){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,a))return this.cachedText.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){if(Object.prototype.hasOwnProperty.call(this.classTypes.h,a))return!0;b=V.__cast(b,String);
if(null==b)return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)||Object.prototype.hasOwnProperty.call(this.cachedText.h,a)||Object.prototype.hasOwnProperty.call(this.cachedImages.h,a)||Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,a)?!0:Object.prototype.hasOwnProperty.call(this.cachedFonts.h,a);switch(b){case "FONT":return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,a);case "IMAGE":return Object.prototype.hasOwnProperty.call(this.cachedImages.h,a);case "MUSIC":case "SOUND":return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,
a);default:return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)?!0:Object.prototype.hasOwnProperty.call(this.cachedText.h,a)}},loadAsset:function(a,b){switch(b){case "BINARY":return this.loadBytes(a);case "FONT":return this.loadFont(a);case "IMAGE":return this.loadImage(a);case "MUSIC":case "SOUND":return this.loadAudioBuffer(a);case "TEMPLATE":throw T.thrown("Not sure how to load template: "+a);case "TEXT":return this.loadText(a);default:throw T.thrown("Unknown asset type: "+b);}},load:function(){if(this.loaded)return Rb.withValue(this);
if(null==this.promise){this.promise=new Wc;this.bytesLoadedCache=new cb;this.assetsLoaded=0;this.assetsTotal=1;for(var a=Object.keys(this.preload.h),b=a.length,d=0;d<b;){var c=a[d++];if(this.preload.h[c]){Ib.verbose("Preloading asset: "+c+" ["+this.types.h[c]+"]",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:408,className:"lime.utils.AssetLibrary",methodName:"load"});var e=this.types.h[c];if(null!=e)switch(e){case "BINARY":this.assetsTotal++;e=this.loadBytes(c);e.onProgress(function(a,b){return function(d,
c){b[0].load_onProgress(a[0],d,c)}}([c],[this]));e.onError(function(a,b){return function(d){b[0].load_onError(a[0],d)}}([c],[this]));e.onComplete(function(a,b){return function(d){b[0].loadBytes_onComplete(a[0],d)}}([c],[this]));break;case "FONT":this.assetsTotal++;e=this.loadFont(c);e.onProgress(function(a,b){return function(d,c){b[0].load_onProgress(a[0],d,c)}}([c],[this]));e.onError(function(a,b){return function(d){b[0].load_onError(a[0],d)}}([c],[this]));e.onComplete(function(a,b){return function(d){b[0].loadFont_onComplete(a[0],
d)}}([c],[this]));break;case "IMAGE":this.assetsTotal++;e=this.loadImage(c);e.onProgress(function(a,b){return function(d,c){b[0].load_onProgress(a[0],d,c)}}([c],[this]));e.onError(function(a,b){return function(d){b[0].load_onError(a[0],d)}}([c],[this]));e.onComplete(function(a,b){return function(d){b[0].loadImage_onComplete(a[0],d)}}([c],[this]));break;case "MUSIC":case "SOUND":this.assetsTotal++;e=this.loadAudioBuffer(c);e.onProgress(function(a,b){return function(d,c){b[0].load_onProgress(a[0],d,
c)}}([c],[this]));e.onError(function(a,b){return function(d){b[0].loadAudioBuffer_onError(a[0],d)}}([c],[this]));e.onComplete(function(a,b){return function(d){b[0].loadAudioBuffer_onComplete(a[0],d)}}([c],[this]));break;case "TEXT":this.assetsTotal++,e=this.loadText(c),e.onProgress(function(a,b){return function(d,c){b[0].load_onProgress(a[0],d,c)}}([c],[this])),e.onError(function(a,b){return function(d){b[0].load_onError(a[0],d)}}([c],[this])),e.onComplete(function(a,b){return function(d){b[0].loadText_onComplete(a[0],
d)}}([c],[this]))}}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(a){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,a)?Rb.withValue(this.cachedAudioBuffers.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?Rb.withValue(Zc.fromBytes(V.__cast(Ca.createInstance(this.classTypes.h[a],[]),Wa))):Object.prototype.hasOwnProperty.call(this.pathGroups.h,a)?Zc.loadFromFiles(this.pathGroups.h[a]):Zc.loadFromFile(this.paths.h[a])},loadBytes:function(a){return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,
a)?Rb.withValue(this.cachedBytes.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?Rb.withValue(Ca.createInstance(this.classTypes.h[a],[])):nc.loadFromFile(this.getPath(a))},loadFont:function(a){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,a)?Rb.withValue(this.cachedFonts.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?(a=Ca.createInstance(this.classTypes.h[a],[]),a.__loadFromName(a.name)):rd.loadFromName(this.getPath(a))},loadImage:function(a){var b=
this;return Object.prototype.hasOwnProperty.call(this.cachedImages.h,a)?Rb.withValue(this.cachedImages.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?Rb.withValue(Ca.createInstance(this.classTypes.h[a],[])):Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)?lb.loadFromBytes(this.cachedBytes.h[a]).then(function(d){var c=b.cachedBytes;Object.prototype.hasOwnProperty.call(c.h,a)&&delete c.h[a];b.cachedImages.h[a]=d;return Rb.withValue(d)}):lb.loadFromFile(this.getPath(a))},loadText:function(a){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,
a))return Rb.withValue(this.cachedText.h[a]);if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)||Object.prototype.hasOwnProperty.call(this.classTypes.h,a)){var b=this.getBytes(a);if(null==b)return Rb.withValue(null);b=b.getString(0,b.length);this.cachedText.h[a]=b;return Rb.withValue(b)}return(new qe).load(this.getPath(a))},unload:function(){this.cachedBytes.h=Object.create(null);this.cachedFonts.h=Object.create(null);this.cachedImages.h=Object.create(null);this.cachedAudioBuffers.h=Object.create(null);
this.cachedText.h=Object.create(null)},__assetLoaded:function(a){this.assetsLoaded++;null!=a&&Ib.verbose("Loaded asset: "+a+" ["+this.types.h[a]+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:637,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"});if(null!=a){var b=Object.prototype.hasOwnProperty.call(this.sizes.h,a)?this.sizes.h[a]:0;if(Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,a)){var d=this.bytesLoadedCache.h[a];
d<b&&(this.bytesLoaded+=b-d)}else this.bytesLoaded+=b;this.bytesLoadedCache.h[a]=b}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(a){return ua.__cacheBreak(a)},__fromBundle:function(a,b){if(null!=b){var d=0;for(b=b.assets;d<b.length;){var c=b[d];++d;var e=Object.prototype.hasOwnProperty.call(c,"id")?c.id:c.path;var f=a.data.h[c.path];
if(Object.prototype.hasOwnProperty.call(c,"type")){var g=c.type;"TEXT"==g?this.cachedText.h[e]=null!=f?R.string(f):null:this.cachedBytes.h[e]=f;this.types.h[e]=c.type}else this.cachedBytes.h[e]=f,this.types.h[e]="BINARY"}}else for(d=0,b=a.paths;d<b.length;)e=b[d],++d,this.cachedBytes.h[e]=a.data.h[e],this.types.h[e]="BINARY"},__fromManifest:function(a){var b=2<=a.version,d=a.rootPath;null==d&&(d="");""!=d&&(d+="/");for(var c=0,e=a.assets;c<e.length;){var g=e[c];++c;var h=b&&Object.prototype.hasOwnProperty.call(g,
"size")?g.size:100;var m=Object.prototype.hasOwnProperty.call(g,"id")?g.id:g.path;if(Object.prototype.hasOwnProperty.call(g,"path")){var k=this.paths;var n=this.__cacheBreak(this.__resolvePath(d+R.string(w.field(g,"path"))));k.h[m]=n}if(Object.prototype.hasOwnProperty.call(g,"pathGroup")){k=w.field(g,"pathGroup");n=0;for(var q=k.length;n<q;){var t=n++;k[t]=this.__cacheBreak(this.__resolvePath(d+k[t]))}this.pathGroups.h[m]=k}this.sizes.h[m]=h;this.types.h[m]=g.type;Object.prototype.hasOwnProperty.call(g,
"preload")&&(this.preload.h[m]=w.field(g,"preload"));Object.prototype.hasOwnProperty.call(g,"className")&&(h=w.field(g,"className"),h=f[h],this.classTypes.h[m]=h)}c=this.bytesTotal=0;for(e=a.assets;c<e.length;)g=e[c],++c,m=Object.prototype.hasOwnProperty.call(g,"id")?g.id:g.path,Object.prototype.hasOwnProperty.call(this.preload.h,m)&&this.preload.h[m]&&Object.prototype.hasOwnProperty.call(this.sizes.h,m)&&(this.bytesTotal+=this.sizes.h[m])},__resolvePath:function(a){a=ka.replace(a,"\\","/");var b=
a.indexOf(":");ka.startsWith(a,"http")&&0<b?(b+=3,a=E.substr(a,0,b)+ka.replace(E.substr(a,b,null),"//","/")):a=ka.replace(a,"//","/");if(-1<a.indexOf("./")){a=a.split("/");b=[];for(var d=0,c=a.length;d<c;){var e=d++;".."==a[e]?0==e||".."==b[e-1]?b.push(".."):b.pop():"."==a[e]?0==e&&b.push("."):b.push(a[e])}a=b.join("/")}return a},loadAudioBuffer_onComplete:function(a,b){this.cachedAudioBuffers.h[a]=b;if(Object.prototype.hasOwnProperty.call(this.pathGroups.h,a))for(var d=this.pathGroups.h[a],c=Object.keys(this.pathGroups.h),
e=c.length,f=0;f<e;){var g=c[f++];if(g!=a)for(var h=0;h<d.length;)if(-1<this.pathGroups.h[g].indexOf(d[h++])){this.cachedAudioBuffers.h[g]=b;break}}this.__assetLoaded(a)},loadAudioBuffer_onError:function(a,b){null!=b&&""!=b?Ib.warn('Could not load "'+a+'": '+R.string(b),{fileName:"lime/utils/AssetLibrary.hx",lineNumber:883,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}):Ib.warn('Could not load "'+a+'"',{fileName:"lime/utils/AssetLibrary.hx",lineNumber:887,className:"lime.utils.AssetLibrary",
methodName:"loadAudioBuffer_onError"});this.loadAudioBuffer_onComplete(a,new Zc)},loadBytes_onComplete:function(a,b){this.cachedBytes.h[a]=b;this.__assetLoaded(a)},loadFont_onComplete:function(a,b){this.cachedFonts.h[a]=b;this.__assetLoaded(a)},loadImage_onComplete:function(a,b){this.cachedImages.h[a]=b;this.__assetLoaded(a)},loadText_onComplete:function(a,b){this.cachedText.h[a]=b;this.__assetLoaded(a)},load_onError:function(a,b){null!=b&&""!=b?this.promise.error('Error loading asset "'+a+'": '+
R.string(b)):this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,b,d){if(0<b){var c=this.sizes.h[a];0<d?(b/=d,1<b&&(b=1),b=Math.floor(b*c)):b>c&&(b=c);Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,a)?(c=this.bytesLoadedCache.h[a],b!=c&&(this.bytesLoaded+=b-c)):this.bytesLoaded+=b;this.bytesLoadedCache.h[a]=b;this.promise.progress(this.bytesLoaded,this.bytesTotal)}},__class__:dg};var Fd=function(){this.assets=[];this.libraryArgs=[];this.version=2};f["lime.utils.AssetManifest"]=
Fd;Fd.__name__="lime.utils.AssetManifest";Fd.fromBytes=function(a,b){return null!=a?Fd.parse(a.getString(0,a.length),b):null};Fd.loadFromFile=function(a,b){a=Fd.__resolvePath(a);b=Fd.__resolveRootPath(b,a);return null==a?null:nc.loadFromFile(a).then(function(a){return Rb.withValue(Fd.fromBytes(a,b))})};Fd.parse=function(a,b){if(null==a||""==a)return null;a=JSON.parse(a);var d=new Fd;Object.prototype.hasOwnProperty.call(a,"name")&&(d.name=a.name);Object.prototype.hasOwnProperty.call(a,"libraryType")&&
(d.libraryType=a.libraryType);Object.prototype.hasOwnProperty.call(a,"libraryArgs")&&(d.libraryArgs=a.libraryArgs);if(Object.prototype.hasOwnProperty.call(a,"assets")){var c=a.assets;Object.prototype.hasOwnProperty.call(a,"version")&&2>=a.version?d.assets=gd.run(c):d.assets=c}Object.prototype.hasOwnProperty.call(a,"rootPath")&&(d.rootPath=a.rootPath);null!=b&&""!=b&&(d.rootPath=null==d.rootPath||""==d.rootPath?b:b+"/"+d.rootPath);return d};Fd.__resolvePath=function(a){if(null==a)return null;var b=
a.indexOf("?");var d=-1<b?E.substr(a,0,b):a;for(d=ka.replace(d,"\\","/");ka.endsWith(d,"/");)d=E.substr(d,0,d.length-1);return ka.endsWith(d,".bundle")?-1<b?d+"/library.json"+E.substr(a,b,null):d+"/library.json":a};Fd.__resolveRootPath=function(a,b){if(null!=a)return a;a=b.indexOf("?");a=-1<a?E.substr(b,0,a):b;for(a=ka.replace(a,"\\","/");ka.endsWith(a,"/");){if("/"==a)return a;a=E.substr(a,0,a.length-1)}return ka.endsWith(a,".bundle")?a:kc.directory(a)};Fd.prototype={__class__:Fd};var ua=function(){};
f["lime.utils.Assets"]=ua;ua.__name__="lime.utils.Assets";ua.exists=function(a,b){null==b&&(b="BINARY");var d=a.indexOf(":"),c=ua.getLibrary(a.substring(0,d));return null!=c?c.exists(a.substring(d+1),b):!1};ua.getAsset=function(a,b,d){if(d&&ua.cache.enabled)switch(b){case "FONT":var c=ua.cache.font.h[a];if(null!=c)return c;break;case "IMAGE":c=ua.cache.image.h[a];if(ua.isValidImage(c))return c;break;case "MUSIC":case "SOUND":c=ua.cache.audio.h[a];if(ua.isValidAudio(c))return c;break;case "TEMPLATE":throw T.thrown("Not sure how to get template: "+
a);case "BINARY":case "TEXT":d=!1;break;default:return null}var e=a.indexOf(":");c=a.substring(0,e);e=a.substring(e+1);var f=ua.getLibrary(c);if(null!=f)if(f.exists(e,b)){if(f.isLocal(e,b))return c=f.getAsset(e,b),d&&ua.cache.enabled&&ua.cache.set(a,b,c),c;Ib.error(b+' asset "'+a+'" exists, but only asynchronously',{fileName:"lime/utils/Assets.hx",lineNumber:133,className:"lime.utils.Assets",methodName:"getAsset"})}else Ib.error("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"lime/utils/Assets.hx",
lineNumber:138,className:"lime.utils.Assets",methodName:"getAsset"});else Ib.error(ua.__libraryNotFound(c),{fileName:"lime/utils/Assets.hx",lineNumber:143,className:"lime.utils.Assets",methodName:"getAsset"});return null};ua.getBytes=function(a){return ua.getAsset(a,"BINARY",!1)};ua.getLibrary=function(a){if(null==a||""==a)a="default";return ua.libraries.h[a]};ua.getText=function(a){return ua.getAsset(a,"TEXT",!1)};ua.isLocal=function(a,b,d){null==d&&(d=!0);if(d&&ua.cache.enabled&&ua.cache.exists(a,
b))return!0;d=a.indexOf(":");var c=ua.getLibrary(a.substring(0,d));return null!=c?c.isLocal(a.substring(d+1),b):!1};ua.isValidAudio=function(a){return null!=a};ua.isValidImage=function(a){return null!=a?null!=a.buffer:!1};ua.loadAsset=function(a,b,d){if(d&&ua.cache.enabled)switch(b){case "FONT":var c=ua.cache.font.h[a];if(null!=c)return Rb.withValue(c);break;case "IMAGE":c=ua.cache.image.h[a];if(ua.isValidImage(c))return Rb.withValue(c);break;case "MUSIC":case "SOUND":c=ua.cache.audio.h[a];if(ua.isValidAudio(c))return Rb.withValue(c);
break;case "TEMPLATE":throw T.thrown("Not sure how to get template: "+a);case "BINARY":case "TEXT":d=!1;break;default:return null}var e=a.indexOf(":");c=a.substring(0,e);e=a.substring(e+1);var f=ua.getLibrary(c);if(null!=f){if(f.exists(e,b)){c=f.loadAsset(e,b);if(d&&ua.cache.enabled)c.onComplete(function(d){ua.cache.set(a,b,d)});return c}return Rb.withError("There is no "+b+' asset with an ID of "'+a+'"')}return Rb.withError(ua.__libraryNotFound(c))};ua.loadAudioBuffer=function(a,b){null==b&&(b=!0);
return ua.loadAsset(a,"SOUND",b)};ua.loadBytes=function(a){return ua.loadAsset(a,"BINARY",!1)};ua.loadImage=function(a,b){null==b&&(b=!0);return ua.loadAsset(a,"IMAGE",b)};ua.loadLibrary=function(a){var b=new Wc,d=ua.getLibrary(a);if(null!=d)return d.load();d=a;var e=null;if(Object.prototype.hasOwnProperty.call(ua.bundlePaths.h,a))Zd.loadFromFile(ua.bundlePaths.h[a]).onComplete(function(d){null==d?b.error('Cannot load bundle for library "'+a+'"'):(d=dg.fromBundle(d),null==d?b.error('Cannot open library "'+
a+'"'):(ua.libraries.h[a]=d,d.onChange.add((sa=ua.onChange,c(sa,sa.dispatch))),b.completeWith(d.load())))}).onError(function(d){b.error('There is no asset library with an ID of "'+a+'"')});else Object.prototype.hasOwnProperty.call(ua.libraryPaths.h,a)?(d=ua.libraryPaths.h[a],e=kc.directory(d)):(ka.endsWith(d,".bundle")?(e=d,d+="/library.json"):e=kc.directory(d),d=ua.__cacheBreak(d)),Fd.loadFromFile(d,e).onComplete(function(d){null==d?b.error('Cannot parse asset manifest for library "'+a+'"'):(d=dg.fromManifest(d),
null==d?b.error('Cannot open library "'+a+'"'):(ua.libraries.h[a]=d,d.onChange.add((sa=ua.onChange,c(sa,sa.dispatch))),b.completeWith(d.load())))}).onError(function(d){b.error('There is no asset library with an ID of "'+a+'"')});return b.future};ua.loadText=function(a){return ua.loadAsset(a,"TEXT",!1)};ua.registerLibrary=function(a,b){if(null==a||""==a)a="default";if(Object.prototype.hasOwnProperty.call(ua.libraries.h,a)){if(ua.libraries.h[a]==b)return;ua.unloadLibrary(a)}null!=b&&b.onChange.add(ua.library_onChange);
ua.libraries.h[a]=b};ua.unloadLibrary=function(a){if(null==a||""==a)a="default";var b=ua.libraries.h[a];null!=b&&(ua.cache.clear(a+":"),b.onChange.remove(ua.library_onChange),b.unload());b=ua.libraries;Object.prototype.hasOwnProperty.call(b.h,a)&&delete b.h[a]};ua.__cacheBreak=function(a){0<ua.cache.version&&(a=-1<a.indexOf("?")?a+("&"+ua.cache.version):a+("?"+ua.cache.version));return a};ua.__libraryNotFound=function(a){if(null==a||""==a)a="default";return null==db.current||null==db.current.__preloader||
db.current.__preloader.complete?'There is no asset library named "'+a+'"':'There is no asset library named "'+a+'", or it is not yet preloaded'};ua.library_onChange=function(){ua.cache.clear();ua.onChange.dispatch()};var eg=ra["lime.utils.CompressionAlgorithm"]={__ename__:"lime.utils.CompressionAlgorithm",__constructs__:null,DEFLATE:{_hx_name:"DEFLATE",_hx_index:0,__enum__:"lime.utils.CompressionAlgorithm",toString:r},GZIP:{_hx_name:"GZIP",_hx_index:1,__enum__:"lime.utils.CompressionAlgorithm",toString:r},
LZMA:{_hx_name:"LZMA",_hx_index:2,__enum__:"lime.utils.CompressionAlgorithm",toString:r},ZLIB:{_hx_name:"ZLIB",_hx_index:3,__enum__:"lime.utils.CompressionAlgorithm",toString:r}};eg.__constructs__=[eg.DEFLATE,eg.GZIP,eg.LZMA,eg.ZLIB];var Ib=function(){};f["lime.utils.Log"]=Ib;Ib.__name__="lime.utils.Log";Ib.debug=function(a,b){4<=Ib.level&&console.debug("["+b.className+"] "+R.string(a))};Ib.error=function(a,b){if(1<=Ib.level){a="["+b.className+"] ERROR: "+R.string(a);if(Ib.throwErrors)throw T.thrown(a);
console.error(a)}};Ib.verbose=function(a,b){5<=Ib.level&&(a="["+b.className+"] "+R.string(a),console.log(a))};Ib.warn=function(a,b){2<=Ib.level&&console.warn("["+b.className+"] WARNING: "+R.string(a))};var fg=function(){this.bytesTotalCache=new cb;this.bytesLoadedCache2=new cb;this.bytesLoadedCache=new oe;this.onProgress=new Ee;this.onComplete=new sc;this.bytesTotal=this.bytesLoaded=0;this.libraries=[];this.libraryNames=[];this.onProgress.add(c(this,this.update))};f["lime.utils.Preloader"]=fg;fg.__name__=
"lime.utils.Preloader";fg.prototype={addLibrary:function(a){this.libraries.push(a)},addLibraryName:function(a){-1==this.libraryNames.indexOf(a)&&this.libraryNames.push(a)},load:function(){for(var a=this,b=0,d=this.libraries;b<d.length;)this.bytesTotal+=d[b++].bytesTotal;this.loadedLibraries=-1;this.preloadStarted=!1;b=0;for(d=this.libraries;b<d.length;){var c=[d[b]];++b;Ib.verbose("Preloading asset library",{fileName:"lime/utils/Preloader.hx",lineNumber:134,className:"lime.utils.Preloader",methodName:"load"});
c[0].load().onProgress(function(b){return function(d,c){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+d:a.bytesLoaded+(d-a.bytesLoadedCache.h[b[0].__id__]);a.bytesLoadedCache.set(b[0],d);a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}(c)).onComplete(function(b){return function(d){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+b[0].bytesTotal:a.bytesLoaded+((b[0].bytesTotal|0)-a.bytesLoadedCache.h[b[0].__id__]);a.loadedAssetLibrary()}}(c)).onError(function(){return function(a){Ib.error(a,
{fileName:"lime/utils/Preloader.hx",lineNumber:170,className:"lime.utils.Preloader",methodName:"load"})}}())}b=0;for(d=this.libraryNames;b<d.length;)++b,this.bytesTotal+=200;this.loadedLibraries++;this.preloadStarted=!0;this.updateProgress()},loadedAssetLibrary:function(a){this.loadedLibraries++;var b=this.loadedLibraries;this.preloadStarted||++b;var d=this.libraries.length+this.libraryNames.length;null!=a?Ib.verbose("Loaded asset library: "+a+" ["+b+"/"+d+"]",{fileName:"lime/utils/Preloader.hx",
lineNumber:197,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}):Ib.verbose("Loaded asset library ["+b+"/"+d+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:201,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"});this.updateProgress()},start:function(){this.complete||this.simulateProgress||!this.preloadComplete||(this.complete=!0,this.onComplete.dispatch())},update:function(a,b){},updateProgress:function(){var a=this;this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,
this.bytesTotal);if(this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var b=0,d=this.libraryNames;b<d.length;){var c=[d[b]];++b;Ib.verbose("Preloading asset library: "+c[0],{fileName:"lime/utils/Preloader.hx",lineNumber:239,className:"lime.utils.Preloader",methodName:"updateProgress"});ua.loadLibrary(c[0]).onProgress(function(b){return function(d,c){0<c&&(Object.prototype.hasOwnProperty.call(a.bytesTotalCache.h,b[0])||(a.bytesTotalCache.h[b[0]]=c,a.bytesTotal+=
c-200),d>c&&(d=c),Object.prototype.hasOwnProperty.call(a.bytesLoadedCache2.h,b[0])?a.bytesLoaded+=d-a.bytesLoadedCache2.h[b[0]]:a.bytesLoaded+=d,a.bytesLoadedCache2.h[b[0]]=d,a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal))}}(c)).onComplete(function(b){return function(d){d=200;Object.prototype.hasOwnProperty.call(a.bytesTotalCache.h,b[0])&&(d=a.bytesTotalCache.h[b[0]]);Object.prototype.hasOwnProperty.call(a.bytesLoadedCache2.h,b[0])?a.bytesLoaded+=d-a.bytesLoadedCache2.h[b[0]]:
a.bytesLoaded+=d;a.loadedAssetLibrary(b[0])}}(c)).onError(function(){return function(a){Ib.error(a,{fileName:"lime/utils/Preloader.hx",lineNumber:293,className:"lime.utils.Preloader",methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,Ib.verbose("Preload complete",{fileName:"lime/utils/Preloader.hx",lineNumber:306,className:"lime.utils.Preloader",methodName:"updateProgress"})),
this.start())},__class__:fg};var Sb=function(){};f["profile.ResourceUtil"]=Sb;Sb.__name__="profile.ResourceUtil";Sb.getResourceIcon=function(a){return Sb.sIconMap.h[a]};Sb.registerResourceIcon=function(a,b){var d=Sb.sIconMap;d.h.hasOwnProperty(a)&&E.remove(d.mKeys,a);d.h[a]=b;d.mKeys.push(a)};var kh=function(){L.call(this);this.load("xml/booster_offer_popup.xml");this.block()};f["screens.BoosterOfferPopUp"]=kh;kh.__name__="screens.BoosterOfferPopUp";kh.__super__=L;kh.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this)},
onButtonClick:function(a){"uiBtStartGame"==a.name?this.close():L.prototype.onButtonClick.call(this,a)},onRewardedAd:function(a,b){var d=this;if(b.success){var c=h.get_instance().fetchBooster(),e=function(a){d.onResult(a)},f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(f);this.register(c.onComplete(function(a){null!=e&&e(a);null!=f&&f.dispose()}).onError(function(a){null!=f&&f.dispose()}))}L.prototype.onRewardedAd.call(this,
a,b)},onResult:function(a){if(null!=a&&a.success){this.setLocalState("happy");var b=this.find("uiReward");null!=b&&(b.addChild(new Ub(this.context,a.reward)),b.pulse())}else $e.show("SID_ERROR_INVALID_ACTION")},close:function(){L.prototype.close.call(this);y.instance.addScreen(new td)},dispose:function(){L.prototype.dispose.call(this)},__class__:kh});var sd=function(a){this.mResource=a;L.call(this,"xml/buy_item.xml");this.block()};f["screens.BuyItem"]=sd;sd.__name__="screens.BuyItem";sd.__super__=
L;sd.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=Sb.getResourceIcon(this.mResource),b=this.find("uiImgToBuyIcon");null!=b&&b instanceof G&&b.set_image(a);a=w.field(sd.PACKAGES,this.mResource);if(null!=a)for(b=0;3>b;){var d=b++;this.setButton(d,a[d])}"lifes"==this.mResource&&this.setLocalState(this.mResource)},setButton:function(a,b){a=this.findType("uiBtBuy"+(a+1),Aa);if(null!=a){var d=a.findType("uiImgRight",G);if(null!=d&&(d.removeAllChildren(),
b=w.field(h.config.buyables,b),null!=b)){var c=null!=b?b.costs:null;a.setText("uiTxtPrice",N.number(null!=c?c.mtx:null));d.addChild(new Ub(this.context,b.resources))}}},onButtonClick:function(a){var b=this,d=-1;switch(a.name){case "uiBtBuy1":d=0;break;case "uiBtBuy2":d=1;break;case "uiBtBuy3":d=2;break;default:L.prototype.onButtonClick.call(this,a)}if(0<=d)h.get_instance().buy(w.field(sd.PACKAGES,this.mResource)[d]).onComplete(function(a){b.dispatchSimpleXEvent("BuyItem::ITEM_BOUGHT");b.close()})},
close:function(){this.mResource=null;h.get_instance().consumeAllDelayedResources();L.prototype.close.call(this)},__class__:sd});var lh=function(a,b){null==b&&(b=!0);this.mToUserId=a;this.mPlayerChat=b;L.call(this,"xml/chat.xml");this.long=!0};f["screens.Chat"]=lh;lh.__name__="screens.Chat";lh.__super__=L;lh.prototype=k(L.prototype,{onLoadComplete:function(){this.find("uiContent").addChild(new Ji(this.mToUserId,this.mPlayerChat,!1));L.prototype.onLoadComplete.call(this)},close:function(){this.mToUserId=
null;L.prototype.close.call(this)},__class__:lh});var Ji=function(a,b,d){null==d&&(d=!1);null==b&&(b=!0);this.mToId=a;this.mPlayerChat=b;this.mMainTeamChat=d;X.call(this,"xml/chat_tab.xml");this.XAnimMoveOutClass=this.XAnimMoveInClass=null;this.mChatId=this.mPlayerChat||!this.mMainTeamChat?Za.get_instance().getChatIdByUid(a):a;this.mChat=Za.get_instance().getChat(this.mChatId);null==this.mChat&&(this.mChat={})};f["screens.ChatTab"]=Ji;Ji.__name__="screens.ChatTab";Ji.__super__=X;Ji.prototype=k(X.prototype,
{addMessage:function(a,b,d){switch(d.text){case "SID_PAYMENT_MESSAGE":return new Df(this.context,this.mChatId,b,d,"tMessageContainerMTX");case "SID_TEAM_INVITATION":return new sj(this.context,this.mChatId,b,d)}return new Df(this.context,this.mChatId,b,d)},onLoadComplete:function(){var a=this;this.setLocalState(this.mPlayerChat?"player":this.mMainTeamChat?"team":"teamMessage");this.setLocalState("jenny"==this.mToId?"jenny":"default");var b=this.findType("uiListChat",Lb);if(null!=b&&null!=this.mChat.list)for(var d=
w.fields(this.mChat.list),e=0;e<d.length;){var f=d[e];++e;b.addContainer(this.addMessage(this.mChatId,f,w.field(this.mChat.list,f)))}b.scrollDown();if(this.mPlayerChat){var g=h.get_instance().getVCard(this.mToId),m=function(b){a.setText("uiTxtChatTitleName",b.name)},k=this;this.register(g.onComplete(function(a){k.unregister(g);null!=m&&m(a)}).onError(function(a){k.unregister(g)}))}else if(!this.mMainTeamChat){var n=h.get_instance().getVCardTeam(this.mToId),q=function(b){a.setText("uiTxtChatTitleName",
b.name)},t=this;this.register(n.onComplete(function(a){t.unregister(n);null!=q&&q(a)}).onError(function(a){t.unregister(n)}))}this.registerXEventListener(Za.get_instance(),"ChatManager::NEW",c(this,this.onNewMessage));d=this.findType("uiInput",Ea);b=c(this,this.onTextChangeEvent);b(null);this.registerXEventListener(d,"changeEvent",b);this.registerXEventListener(d,"enterEvent",c(this,this.onEnter));d=Za.get_instance();b=c(this,this.updateBlock);b(null);this.registerXEventListener(d,"ChatManager::BLOCK_UPDATE",
b);X.prototype.onLoadComplete.call(this)},updateBlock:function(a){if(null==a||a.data.chatId==this.mChatId)a=Za.get_instance().isBlocked(this.mChatId),this.setLocalState(a?"blocked":"unblocked"),a||Za.get_instance().readChat(this.mChatId)},onEnter:function(a){this.send()},onTextChangeEvent:function(a){a=null!=a?a.target:null;if(null!=a){a=!a.isInitial()&&0<a.get_text().length;var b=this.find("uiBtSend");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"))}else b=this.find("uiBtSend"),null!=
b&&(b.enabled=!1,b.setLocalState("disabled"))},onNewMessage:function(a){if(null!=a&&null!=a.data&&a.data.chatId==this.mChatId){Za.get_instance().readChat(this.mChatId);var b=this.findType("uiListChat",Lb);null!=b&&(b.addContainer(this.addMessage(this.mChatId,a.data.messageId,a.data.message)),b.scrollDown())}},send:function(){var a=this,b=this.findType("uiInput",Ea),d=this.findType("uiBtSend",Aa);if(null!=b&&null!=d&&d.enabled){var c=b.get_text();if(null!=c&&0<c.length)if("jenny"==this.mToId)y.instance.addChild(Tb.createOkPopUp("SID_CONTACT_SUPPORT_TITLE",
"SID_CONTACT_SUPPORT_MESSAGE",function(d){if(d==id.YES){d=Za.get_instance().sendMessage(a.mToId,c,{loca:N.language,version:u.get_instance().get_tracking().version});var e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));a.register(e);a.register(d.onComplete(function(a){null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}));b.set_text("");a.onTextChangeEvent()}},function(a){a.findType("uiTxtMessage",Ea).set_size(40)}));
else{if(this.mPlayerChat){d=Za.get_instance().sendMessage(this.mToId,c);var e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(d.onComplete(function(a){null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))}else{d=Za.get_instance().sendMessageTeam(c);var f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));
this.register(f);this.register(d.onComplete(function(a){null!=f&&f.dispose()}).onError(function(a){null!=f&&f.dispose()}))}b.set_text("");this.onTextChangeEvent()}}},onButtonClick:function(a){switch(a.name){case "uiBtPlayer":y.instance.addScreen(new cc(this.mToId));break;case "uiBtSend":this.send();break;default:X.prototype.onButtonClick.call(this,a)}},onList:function(a,b){a=V.__cast(b,Df);if(null!=a)a.onClick()},close:function(){this.mChatId=this.mChat=this.mToId=null;X.prototype.close.call(this)},
__class__:Ji});var qj=function(a,b){var d=this;this.mColor=b;this.mPromise=null!=a?a:new Xa;L.call(this);ua.loadBytes("dynamic/colormap.png").onComplete(function(a){lb.loadFromBytes(a).onComplete(function(a){d.mImage=a;d.load("xml/choose_color.xml")})})};f["screens.ChooseColor"]=qj;qj.__name__="screens.ChooseColor";qj.create=function(a){var b=new Xa;y.instance.addScreen(new qj(b,a));return b.future};qj.__super__=L;qj.prototype=k(L.prototype,{onLoadComplete:function(){this.setVisible("uiColor",null!=
this.mColor);var a=this.mColor,b=this.find("uiColor");if(null!=b){var d=U.toFloat(a>>>16&255)/255,e=U.toFloat(a>>>8&255)/255,f=U.toFloat(a&255)/255;if(d!=b.colorR||e!=b.colorG||f!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=e&&b.invalidate(),b.colorG=e,b.colorB!=f&&b.invalidate(),b.colorB=f,b.invalidate();b.color=a}this.registerXEventListener(y.instance,"XRoot::UI_ELEMENT_TOUCHED",c(this,this.onElementTouched));L.prototype.onLoadComplete.call(this)},onElementTouched:function(a){var b=
a.data;a=this.findType("uiImgColors",G);if(null!=b&&null!=a&&a==b){b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];var d=y.instance.globalX,c=y.instance.globalY;if(null!=a.resultMatrix){var e=a.resultMatrix,f=Ba.sTempM2D[++Ba.sTempM2DIdx%Ba.sTempM2D.length];null!=e&&Ba.copyFrom(f,e);e=1/(f[0]*(f[4]*f[8]-f[7]*f[5])-f[1]*(f[3]*f[8]-f[5]*f[6])+f[2]*(f[3]*f[7]-f[4]*f[6]));var h=-(f[1]*f[8]-f[2]*f[7])*e,m=(f[1]*f[5]-f[2]*f[4])*e,k=-(f[3]*f[8]-f[5]*f[6])*e,n=(f[0]*f[8]-f[2]*f[6])*e,q=-(f[0]*f[5]-f[3]*f[2])*
e,t=(f[3]*f[7]-f[6]*f[4])*e,r=-(f[0]*f[7]-f[6]*f[1])*e,u=(f[0]*f[4]-f[3]*f[1])*e;f[0]=(f[4]*f[8]-f[7]*f[5])*e;f[3]=k;f[6]=t;f[1]=h;f[4]=n;f[7]=r;f[2]=m;f[5]=q;f[8]=u;b.x=d;b.y=c;b=b.multiplyMatrix(f)}if(null!=this.mImage&&(a=this.mImage.getPixel32(Math.round(b.x*this.mImage.width/a.resultWidth),Math.round(b.y*this.mImage.height/a.resultHeight)),255==(a&255)&&(this.setVisible("uiColor",!0),a=this.mColor=(a&-256)>>8,b=this.find("uiColor"),null!=b))){d=U.toFloat(a>>>16&255)/255;c=U.toFloat(a>>>8&255)/
255;f=U.toFloat(a&255)/255;if(d!=b.colorR||c!=b.colorG||f!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=c&&b.invalidate(),b.colorG=c,b.colorB!=f&&b.invalidate(),b.colorB=f,b.invalidate();b.color=a}}},onButtonClick:function(a){switch(a.name){case "uiBtClose":this.mPromise.error(null);this.close();break;case "uiBtOk":null!=this.mColor?this.mPromise.complete(this.mColor):this.mPromise.error(null);this.close();break;default:L.prototype.onButtonClick.call(this,a)}},dispose:function(){this.mColor=
this.mPromise=this.mImage=null;L.prototype.dispose.call(this)},__class__:qj});var $h=function(){L.call(this,"xml/choose_flag.xml")};f["screens.ChooseFlag"]=$h;$h.__name__="screens.ChooseFlag";$h.__super__=L;$h.prototype=k(L.prototype,{onLoadComplete:function(){var a=this.findType("uiList",Lb);if(null!=a){for(var b=aa.fav.slice(),d=0,c=aa.total;d<c.length;){var e=c[d];++d;-1==b.indexOf(e)&&b.push(e)}a.addContainer(new Na(this.context,"tLineContainer")).setText("uiTxtTitle","SID_COMMON");a.addContainer(new li(this.context,
b));a.addContainer(new li(this.context,b));for(a.addContainer(new Na(this.context,"tLineContainer")).setText("uiTxtTitle","SID_ALL");0<b.length;)a.addContainer(new li(this.context,b))}L.prototype.onLoadComplete.call(this)},onButtonClick:function(a){"uiBtSend"!=a.name&&(0==a.name.indexOf("uiBtFlag")&&null!=a.data&&(h.get_instance().setCId(a.data.cid),this.close()),L.prototype.onButtonClick.call(this,a))},__class__:$h});var td=function(a,b){null==b&&(b="NORMAL");null==a&&(a=-1);this.mPossibleRewards=
["ad_line","ad_skunk","ad_orb"];this.mForceLevel=this.mLevel=-1;L.call(this);this.mLevelType=b;this.mForceLevel=a;this.mLevel=-1==a?h.get_instance().get_nextLevel():a;t.get_instance().set_level(this.mLevel);this.load("xml/choose_jump_starter_popup.xml");this.block()};f["screens.ChooseJumpStarterPopUp"]=td;td.__name__="screens.ChooseJumpStarterPopUp";td.__super__=L;td.prototype=k(L.prototype,{onLoadComplete:function(){var a=this;this.setLevel(this.mLevel);h.get_instance().hasTemporaryBonus("tempDoubleStars")?
(this.setLocalState("stars"),this.findFuture("uiImgDoubleStars").onComplete(function(b){b.addChild(new Ub(a.context,{tempDoubleStars:3600}));var d=h.get_instance().getTemporaryBonusDuration("tempDoubleStars");b=b.findType("uiTxtRewardAmount",Ea);a.mStarCountDown=new Cc(d,b);a.registerXEventListener(a.mStarCountDown,"XCountDown::COUNTDOWN_FINISHED",c(a,a.onStarCountDownFinished));a.mStarCountDown.start()})):this.setLocalState("noStars");var b=N.number(this.mLevel),d=this.find("uiBtPlay2");d instanceof
Aa&&V.__cast(d,Aa).set_label(b);this.setVisible("uiTxtChooseJumpstarter",N.supported);this.setVisible("uiTxtChooseJumpstarterAd",N.supported);7==this.mLevel&&-1==this.mForceLevel&&0<h.get_instance().getResource("starterLine")&&bc.get_instance().showHelp([this.find("uiBtStarter1")],"SID_JUMP_STARTER_HELP");this.updateDisplay();if(ba.instance.allow&&ba.instance.signedIn)if(td.sLevelHighscores.h.hasOwnProperty(this.mLevel))this.showEntries(td.sLevelHighscores.h[this.mLevel]);else h.get_instance().call("mates-getLevelHighscore",
{uid:ba.instance.uid,level:this.mLevel}).onComplete(function(b){b=V.__cast(w.isObject(b)&&Object.prototype.hasOwnProperty.call(b,"highscores")?w.field(b,"highscores"):[],Array);var d=td.sLevelHighscores,c=a.mLevel,e=b.slice(0);d.h[c]=e;a.showEntries(b)});L.prototype.onLoadComplete.call(this)},onStarCountDownFinished:function(a){a=this.mStarCountDown;null!=a&&a.dispose();this.mStarCountDown=null;this.setLocalState("noStars")},onRewardedAd:function(a,b){b.success&&t.get_instance().setJumpStarter(this.mPossibleRewards[R.random(this.mPossibleRewards.length)],
!0);this.updateDisplay()},showEntries:function(a){var b=td.sLevelHighscores,d=this.mLevel,c=a.slice(0);b.h[d]=c;this.setVisible("uiImgLeaderboard",0<a.length);b=this.findType("uiListRanking",Lb);if(null!=b){d=[];for(c=0;c<a.length;){var e=a[c];++c;null!=e&&d.push(e)}d.sort(function(a,b){return a.score<b.score?1:-1});for(c=0;c<d.length;)b.addContainer(new Bb(this.context,d[c++]))}},updateDisplay:function(){var a=t.get_instance().hasAdJumpstarter();this.setVisible("uiRewardedAd",!a);this.setVisible("uiAdJumpStartActive",
a);a&&(t.get_instance().hasJumpStarter("ad_skunk")?(a=this.find("uiImgAdJumpStarterReward"),null!=a&&a instanceof G&&a.set_image("gems/skunk.png")):t.get_instance().hasJumpStarter("ad_line")?(a=this.find("uiImgAdJumpStarterReward"),null!=a&&a instanceof G&&a.set_image("gems/row.png")):t.get_instance().hasJumpStarter("ad_orb")&&(a=this.find("uiImgAdJumpStarterReward"),null!=a&&a instanceof G&&a.set_image("gems/orb.png")),this.setPulse("uiImgAdJumpStarterReward"))},onButtonClick:function(a){var b=this;
switch(a.name){case "uiBtPlay":case "uiBtPlay2":u.get_instance().buttonAction("button:choosejumpstarter:start").onComplete(function(a){b.close();t.get_instance().startLevel(b.mLevel,b.mLevelType)});break;default:L.prototype.onButtonClick.call(this,a)}},dispose:function(){this.mPossibleRewards=null;var a=this.mStarCountDown;null!=a&&a.dispose();this.mStarCountDown=null;L.prototype.dispose.call(this)},__class__:td});var $d=function(){L.call(this);this.load("xml/code_popup.xml")};f["screens.CodePopUp"]=
$d;$d.__name__="screens.CodePopUp";$d.__super__=L;$d.prototype=k(L.prototype,{onLoadComplete:function(){this.block();dc.instance.hideJenny("code");var a=this.mCodeInput=this.findType("uiInput",fd),b=c(this,this.onTextChangeEvent);b(null);this.registerXEventListener(a,"changeEvent",b);L.prototype.onLoadComplete.call(this)},onTextChangeEvent:function(a){a=this.nameOk();var b=this.find("uiBtOK");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"))},nameOk:function(){return null==this.mCodeInput||
this.mCodeInput.isInitial()||null==this.mCodeInput.get_text()?!1:4<this.mCodeInput.get_text().length},onButtonClick:function(a){"uiBtOK"==a.name?this.useCode():L.prototype.onButtonClick.call(this,a)},useCode:function(){var a=this,b=h.get_instance().useCode(this.mCodeInput.get_text()),d=function(b){a.close()},e=c(this,this.onError),f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(f);this.register(b.onComplete(function(a){null!=
d&&d(a);null!=f&&f.dispose()}).onError(function(a){null!=e&&e(a);null!=f&&f.dispose()}))},onError:function(a){var b="";null!=a&&(b="\n"+JSON.stringify(a));$e.show(N.translate("SID_INVALID_CODE",null)+b)},dispose:function(){this.mCodeInput=null;dc.instance.showJenny("code");L.prototype.dispose.call(this)},__class__:$d});var mh=function(){this.mParticles=null;L.call(this,"xml/discount_popup.xml");mh.shown=!0;this.block()};f["screens.DiscountPopUp"]=mh;mh.__name__="screens.DiscountPopUp";mh.__super__=
L;mh.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=u.get_instance().get_payment().discount;null!=a?(this.setText("uiTxtDiscountText",N.translate("SID_DISCOUT_TEXT",[100*a.bonus])),u.get_instance().get_tracking().customEvent("discount","discount_"+(100*a.bonus|0),1),this.mCountDown=(new Cc(.001*(a.endTime-C.get_now().getTime()),this.findType("uiTxtOfferCountdown",Ea))).start(),this.registerXEventListener(this.mCountDown,"XCountDown::COUNTDOWN_FINISHED",
c(this,this.onDiscountOver)),this.mParticles=new rf):this.close()},onDiscountOver:function(a){this.close()},onButtonClick:function(a){"uiBtOK"==a.name?(a=u.get_instance().get_payment().discount,null!=a&&u.get_instance().get_tracking().customEvent("discount","discount_"+(100*a.bonus|0)+"_click",1),y.instance.transScreen(new Hc("popup"))):L.prototype.onButtonClick.call(this,a)},draw:function(){null!=this.mParticles&&this.mParticles.draw();L.prototype.draw.call(this)},dispose:function(){var a=this.mParticles;
null!=a&&a.dispose();this.mParticles=null;a=this.mCountDown;null!=a&&a.dispose();this.mCountDown=null;L.prototype.dispose.call(this)},__class__:mh});var ud=function(){this.mDefaultImage=null;this.mAvatarIndex=0;var a=this;L.call(this);this.mMaxAvatarIndex=ud.MAX_AVATAR_INDEX;ba.instance.read("users/"+ba.instance.uid+"/public/icon",null).onComplete(function(b){a.mDefaultImage=b;null!=a.mDefaultImage&&(a.mMaxAvatarIndex=ud.MAX_AVATAR_INDEX+1);h.get_instance().getVCard(ba.instance.uid).onComplete(function(b){b=
b.icon;b==a.mDefaultImage?a.mAvatarIndex=ud.MAX_AVATAR_INDEX:0==b.indexOf("avatar/")&&(b=ka.replace(b,"avatar/ava",""),b=ka.replace(b,".png",""),a.mAvatarIndex=R.parseInt(b)-1);a.load("xml/edit_avatar_popup.xml")})}).onError(function(b){a.load("xml/edit_avatar_popup.xml")})};f["screens.EditAvatarPopUp"]=ud;ud.__name__="screens.EditAvatarPopUp";ud.__super__=L;ud.prototype=k(L.prototype,{onLoadComplete:function(){this.changeAva(0);var a=this.findType("uiList",Lb);if(null!=a){for(var b=[this.mDefaultImage],
d=0,c=ud.MAX_AVATAR_INDEX;d<c;)b.push("avatar/ava"+ia.ndigits(d++ +1,3)+".jpg");for(;0<b.length;)a.addContainer(new rj(this.context,b))}this.block();dc.instance.hideJenny("edit_avatar");L.prototype.onLoadComplete.call(this)},changeAva:function(a){this.mAvatarIndex+=a;0>this.mAvatarIndex&&(this.mAvatarIndex=this.mMaxAvatarIndex-1);this.mAvatarIndex%=this.mMaxAvatarIndex;if(this.mAvatarIndex!=ud.MAX_AVATAR_INDEX){a="avatar/ava"+ia.ndigits(this.mAvatarIndex+1,3)+".jpg";var b=this.find("uiImgAvatar")}else a=
this.mDefaultImage,b=this.find("uiImgAvatar");null!=b&&b instanceof G&&b.set_image(a)},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtDelete":y.instance.addScreen(Tb.createPopUp({title:"SID_DELETE_ACCOUNT",message:"SID_DELETE_ACCOUNT_CONFIRM",countDown:5,cb:function(a){if(a==id.YES)ba.instance.deleteUser().onComplete(function(a){b.close();ba.instance.signOut()})}}));break;case "uiBtNext":this.changeAva(1);break;case "uiBtOK":null!=ba.instance.user&&(a=this.findType("uiImgAvatar",G).image,
ba.instance.updateProfileIcon(a).onComplete(function(a){h.get_instance().getVCard(ba.instance.uid,!0).onComplete(function(a){b.close()})}));break;case "uiBtPrevious":this.changeAva(-1);break;default:if(0==a.name.indexOf("uiBtAvatar")&&null!=a.data){var d=a.data.imageId,c=this.find("uiImgAvatar");null!=c&&c instanceof G&&c.set_image(d)}L.prototype.onButtonClick.call(this,a)}},dispose:function(){dc.instance.showJenny("edit_avatar");L.prototype.dispose.call(this)},__class__:ud});var ae=function(a,b,
d){this.mAvatarIndex=0;wa.call(this);this.mId=a;this.mName=b;this.mAvatarIndex=null!=d?R.parseInt(E.substr(d,10,3)):R.random(ud.MAX_AVATAR_INDEX-1)+1;this.block();this.load("xml/edit_profile_popup.xml")};f["screens.EditProfilePopUp"]=ae;ae.__name__="screens.EditProfilePopUp";ae.__super__=wa;ae.prototype=k(wa.prototype,{onLoadComplete:function(){this.changeAva();wa.prototype.onLoadComplete.call(this);var a=this.findType("uiInput",fd),b=c(this,this.onTextChangeEvent);b(null);this.registerXEventListener(a,
"changeEvent",b)},changeAva:function(a){null==a&&(a=0);this.mAvatarIndex+=a;0>this.mAvatarIndex&&(this.mAvatarIndex=ud.MAX_AVATAR_INDEX-2);this.mAvatarIndex%=ud.MAX_AVATAR_INDEX-1;a="avatar/ava"+ia.ndigits(this.mAvatarIndex+1,3)+".jpg";var b=this.find("uiImgAvatar");null!=b&&b instanceof G&&b.set_image(a)},onButtonClick:function(a){switch(a.name){case "uiBtCreate":a=this.mId;var b={id:a,name:this.findType("uiInput",fd).get_text(),icon:"avatar/ava"+ia.ndigits(this.mAvatarIndex+1,3)+".jpg",data:{level:0}},
d=new Ac;d.storage=new Rc(a+"_default");d.resourceStorage=new Rc(a+"_resources");0==u.get_instance().profiles.length?(d.storage.apply(u.get_instance().get_storage().get_localData(),!0),d.resourceStorage.apply(u.get_instance().get_resourceStorage().get_localData(),!0),d=u.get_instance().get_resourceStorage().getEntry("level",1)|0,b.data.level=d):(d.resourceStorage.setEntry("mtx",200),d.resourceStorage.setEntry("lifes",5,!0));u.get_instance().addProfile(b);u.get_instance().activateProfile(a);this.close();
break;case "uiBtNext":this.changeAva(1);break;case "uiBtPrevious":this.changeAva(-1);break;default:wa.prototype.onButtonClick.call(this,a)}},onTextChangeEvent:function(a){var b=this.findType("uiInput",fd);a=null!=b&&null!=b.get_text()&&3<=b.get_text().length&&null!=a;b=this.find("uiBtCreate");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"))},__class__:ae});var ai=function(a){L.call(this);this.mPromise=a;this.load("xml/email_login_popup.xml")};f["screens.EmailLoginPopUp"]=ai;ai.__name__=
"screens.EmailLoginPopUp";ai.__super__=L;ai.prototype=k(L.prototype,{onLoadComplete:function(){this.block();dc.instance.hideJenny("email_login");this.mEmailBlock=this.find("uiEmail");this.mPWBlock=this.find("uiPW");null!=this.mEmailBlock&&null!=this.mPWBlock&&(this.mEmailInput=this.mEmailBlock.findType("uiInput",fd),this.registerXEventListener(this.mEmailInput,"changeEvent",c(this,this.onTextChangeEvent)),this.mPWInput=this.mPWBlock.findType("uiInput",fd),this.registerXEventListener(this.mPWInput,
"changeEvent",c(this,this.onTextChangeEvent)));this.onTextChangeEvent();L.prototype.onLoadComplete.call(this)},onTextChangeEvent:function(a){a=this.emailOk()&&this.pwOk();var b=this.find("uiBtOK");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));a=this.emailOk();b=this.find("uiBtPasswordForgotten");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));null!=this.mEmailBlock&&null!=this.mPWBlock&&(this.mEmailBlock.setVisible("uiImgWarning",!this.emailOk()||this.mEmailInput.isInitial()),
this.mPWBlock.setVisible("uiImgWarning",this.emailOk()&&(this.mPWInput.isInitial()||4>this.mPWInput.get_text().length)))},emailOk:function(){return null!=this.mEmailInput?ia.validMail(this.mEmailInput.get_text()):!1},pwOk:function(){return null==this.mPWInput||this.mPWInput.isInitial()||null==this.mPWInput.get_text()?!1:3<this.mPWInput.get_text().length},onButtonClick:function(a){switch(a.name){case "uiBtClose":y.instance.transScreen(new re);break;case "uiBtOK":a=ba.instance.signInWithEmailAndPassword(this.mEmailInput.get_text(),
this.mPWInput.get_text());var b=c(this,this.onResult),d=c(this,this.onError),e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(a.onComplete(function(a){null!=b&&b(a);null!=e&&e.dispose()}).onError(function(a){null!=d&&d(a);null!=e&&e.dispose()}));break;case "uiBtPasswordForgotten":a=ba.instance.sendPasswordResetEmail(this.mEmailInput.get_text());var f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,
y.instance.get_foreground().context));this.register(f);this.register(a.onComplete(function(a){y.instance.addScreen(Tb.createOkPopUp("SID_LOGIN","SID_LOGIN_PASSWORD_RESTORE_SEND"));null!=f&&f.dispose()}).onError(function(a){y.instance.addScreen(Tb.createOkPopUp("SID_LOGIN","SID_LOGIN_PASSWORD_RESTORE_FAILED"));null!=f&&f.dispose()}));break;case "uiBtRegister":y.instance.transScreen(new Ki);break;default:L.prototype.onButtonClick.call(this,a)}},onResult:function(a){if(null!=a){u.get_instance().get_tracking().customEvent("register",
"login_success_email",1);var b=this.mPromise;null!=b&&b.complete(a);this.close()}},onError:function(a){y.instance.addScreen(Tb.createOkPopUp("SID_LOGIN",null!=a?a.message:"SID_ERROR"));u.get_instance().get_tracking().customEvent("register","login_error_email",1)},dispose:function(){this.mPWInput=this.mEmailInput=this.mPWBlock=this.mEmailBlock=null;var a=this.mPromise;null!=a&&a.dispose();this.mPromise=null;dc.instance.showJenny("email_login");L.prototype.dispose.call(this)},__class__:ai});var Ki=
function(){this.mAvatarIndex=0;L.call(this);this.load("xml/email_register_popup.xml")};f["screens.EmailRegisterPopUp"]=Ki;Ki.__name__="screens.EmailRegisterPopUp";Ki.__super__=L;Ki.prototype=k(L.prototype,{onLoadComplete:function(){this.block();dc.instance.hideJenny("email_login");this.mEmailBlock=this.find("uiEmail");this.mPWBlock=this.find("uiPW");this.mNameBlock=this.find("uiName");null!=this.mEmailBlock&&null!=this.mPWBlock&&null!=this.mNameBlock&&(this.mNameInput=this.mNameBlock.findType("uiInput",
fd),this.registerXEventListener(this.mNameInput,"changeEvent",c(this,this.onTextChangeEvent)),this.mEmailInput=this.mEmailBlock.findType("uiInput",fd),this.registerXEventListener(this.mEmailInput,"changeEvent",c(this,this.onTextChangeEvent)),this.mPWInput=this.mPWBlock.findType("uiInput",fd),this.registerXEventListener(this.mPWInput,"changeEvent",c(this,this.onTextChangeEvent)),this.registerXEventListener(this.mPWInput,"enterEvent",c(this,this.onPWEnter)));this.onTextChangeEvent();this.changeAva(R.random(ud.MAX_AVATAR_INDEX));
L.prototype.onLoadComplete.call(this)},onTextChangeEvent:function(a){a=this.emailOk()&&this.pwOk()&&this.nameOk();var b=this.find("uiBtOK");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));null!=this.mEmailBlock&&null!=this.mPWBlock&&null!=this.mNameBlock&&(a=this.nameOk(),b=this.emailOk(),this.toggleOk(this.mNameBlock,!0,a),this.toggleOk(this.mEmailBlock,a,b),this.toggleOk(this.mPWBlock,a&&b,this.pwOk()))},toggleOk:function(a,b,d){var c=a.find("uiImgOK");null!=c&&(c.visible!=d&&b&&
(d&&b&&c.pulse(),c.set_visible(d&&b)),a.setVisible("uiImgWarning",!d&&b))},emailOk:function(){return null==this.mEmailInput||this.mEmailInput.isInitial()?!1:ia.validMail(this.mEmailInput.get_text())},pwOk:function(){return null==this.mPWInput||this.mPWInput.isInitial()||null==this.mPWInput.get_text()?!1:5<this.mPWInput.get_text().length},nameOk:function(){return null==this.mNameInput||this.mNameInput.isInitial()||null==this.mNameInput.get_text()?!1:4<this.mNameInput.get_text().length},changeAva:function(a){this.mAvatarIndex+=
a;0>this.mAvatarIndex&&(this.mAvatarIndex=ud.MAX_AVATAR_INDEX-1);this.mAvatarIndex%=ud.MAX_AVATAR_INDEX;a="avatar/ava"+ia.ndigits(this.mAvatarIndex+1,3)+".jpg";var b=this.find("uiImgAvatar");null!=b&&b instanceof G&&b.set_image(a)},onButtonClick:function(a){switch(a.name){case "uiBtClose":y.instance.transScreen(new re);break;case "uiBtLogin":y.instance.transScreen(new ai);break;case "uiBtNext":this.changeAva(1);break;case "uiBtOK":this.createAccount();break;case "uiBtPrevious":this.changeAva(-1);
break;default:L.prototype.onButtonClick.call(this,a)}},onPWEnter:function(a){this.createAccount()},createAccount:function(){var a=this,b=this.mNameInput.get_text(),d="avatar/ava"+ia.ndigits(this.mAvatarIndex+1,3)+".jpg",e=ba.instance.createUserWithEmailAndPassword(this.mEmailInput.get_text(),this.mPWInput.get_text(),b,d),f=function(c){null!=c&&(u.get_instance().get_tracking().customEvent("register","login_success_email",1),h.get_instance().overrideIcon=d,h.get_instance().overrideName=b);a.close()},
g=c(this,this.onError),m=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(m);this.register(e.onComplete(function(a){null!=f&&f(a);null!=m&&m.dispose()}).onError(function(a){null!=g&&g(a);null!=m&&m.dispose()}))},onError:function(a){y.instance.addScreen(Tb.createOkPopUp("SID_REGISTER",null!=a?a.message:"SID_ERROR"))},dispose:function(){this.mNameInput=this.mPWInput=this.mEmailInput=this.mNameBlock=this.mPWBlock=
this.mEmailBlock=null;dc.instance.showJenny("email_login");L.prototype.dispose.call(this)},__class__:Ki});var Hg=function(a,b,d,c){this.mLabel=a;this.mDefault=b;this.mPlaceholder=d;this.mPromise=c;L.call(this,"xml/enter_text.xml")};f["screens.EnterText"]=Hg;Hg.__name__="screens.EnterText";Hg.create=function(a,b,d){var c=new Xa;y.instance.addScreen(new Hg(a,b,d,c));return c.future};Hg.__super__=L;Hg.prototype=k(L.prototype,{onLoadComplete:function(){this.set_label(this.mLabel);var a=this.findType("uiInput",
fd);null!=a&&(a.set_text(this.mDefault),a.set_initialText(N.translate(this.mPlaceholder,null)));L.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtClose":this.mPromise.error(null);this.close();break;case "uiBtOk":a=this.findType("uiInput",fd);null!=a&&this.mPromise.complete(a.get_text());this.close();break;default:L.prototype.onButtonClick.call(this,a)}},close:function(){this.mPromise=this.mPlaceholder=this.mDefault=this.mLabel=null;L.prototype.close.call(this)},
__class__:Hg});var bi=function(){this.mStartTime=0;this.mSelection=-1;L.call(this,"xml/expedition_screen.xml");this.block()};f["screens.ExpeditionPopUp"]=bi;bi.__name__="screens.ExpeditionPopUp";bi.__super__=L;bi.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=h.config.settings.expeditionCosts.mtx,b=this.find("uiBtShorten");b instanceof Aa&&(b=V.__cast(b,Aa),b.set_label("SID_SHORTEN"),b.setText("uiTxtPrice",N.number(a)));this.init()},init:function(){if(h.get_instance().isExpeditionReady())this.setLocalState("select");
else{this.setLocalState("prepare");this.releaseXEventListener(this.mCountDown,"XCountDown::COUNTDOWN_TICK",c(this,this.onCountDownTick));var a=this.mCountDown;null!=a&&a.dispose();this.mCountDown=null;this.mCountDown=new Cc(h.get_instance().getTimeToExpedition());this.registerXEventListener(this.mCountDown,"XCountDown::COUNTDOWN_TICK",c(this,this.onCountDownTick));this.mCountDown.start()}this.setVisible("uiBtCollect",!1);this.mStartTime=0;this.mSelection=-1;for(a=0;7>a;){var b=this.getRewardContainer(a++);
null!=b&&(b.setLocalState("closed"),b=b.find("uiReward"),null!=b&&(b.removeAllChildren(),1!=b.scale&&b.invalidate(),b.scale=1))}},onCountDownTick:function(a){null!=this.mCountDown&&this.setText("uiTxtTimer",N.translate("SID_FREE_IN",[this.mCountDown.getTimeString()]))},getRewardContainer:function(a){return this.find("uiBtReward"+a)},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtCollect":this.init();break;case "uiBtReward0":case "uiBtReward1":case "uiBtReward2":case "uiBtReward3":case "uiBtReward4":case "uiBtReward5":case "uiBtReward6":case "uiBtReward7":if(-1==
this.mSelection){this.mSelection=a.data.id;a=h.get_instance().expedition(this.mSelection);var d=function(a){a=a.rewards;for(var d=0;7>d;){var c=d++,f=b.getRewardContainer(c);if(null!=f){var l=f.find("uiReward");if(null!=l){var g=l.addChild(new Ub(b.context,a[c]));c==b.mSelection?(g.addAnimation(new df(null)),1.5!=l.scale&&l.invalidate(),l.scale=1.5):(.6!=f.colorB&&f.invalidate(),f.colorB=.6,.6!=f.colorG&&f.invalidate(),f.colorG=.6,.6!=f.colorR&&f.invalidate(),f.colorR=.6)}}}e.get_instance().play("sound/win.mp3",
0,1,1);b.mStartTime=C.timer},c=function(a){b.close()},f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(f);this.register(a.onComplete(function(a){null!=d&&d(a);null!=f&&f.dispose()}).onError(function(a){null!=c&&c(a);null!=f&&f.dispose()}))}break;case "uiBtShorten":a=h.get_instance().resetExpedition();var g=function(a){if(a.success)for(u.get_instance().get_tracking().customEvent("mtx","expedition",h.config.settings.expeditionCosts.mtx),
b.init(),a=0;7>a;){var d=b.getRewardContainer(a++);null!=d&&d.pulse()}},m=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(m);this.register(a.onComplete(function(a){null!=g&&g(a);null!=m&&m.dispose()}).onError(function(a){null!=m&&m.dispose()}));break;default:L.prototype.onButtonClick.call(this,a)}},update:function(){L.prototype.update.call(this);if(0<this.mStartTime){var a=C.timer-this.mStartTime;if(.3<
a){var b=this.getRewardContainer(this.mSelection);b.find("uiReward").visible||(b.setLocalState("open"),b.setPulse("uiReward"),this.setText("uiTxtChoose","SID_WIN3"))}for(var d=0;7>d;)b=d++,a>1.7+.1*b&&(b=this.getRewardContainer(b),b.find("uiReward").visible||(b.setLocalState("open"),b.find("uiReward").blubb()));2.5<a&&this.setVisible("uiBtCollect",!0)}},dispose:function(){var a=this.mCountDown;null!=a&&a.dispose();this.mCountDown=null;L.prototype.dispose.call(this)},__class__:bi});var ci=function(a){var b=
this;L.call(this);this.block();a=null!=a?h.get_instance().call("fetchOpenReward",{rewardToken:a}):oa.withValue({data:{type:"weekly",pos:0,stars:20,entries:412},reward:{mtx:5E3}});var d=function(a){b.mRewardData=a;b.load("xml/fetch_reward.xml")},c=function(a){b.close()},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(a.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=
c&&c(a);null!=e&&e.dispose()}))};f["screens.FetchReward"]=ci;ci.__name__="screens.FetchReward";ci.__super__=L;ci.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=this.mRewardData.data;"weekly"==a.type&&(null!=this.mRewardData.reward&&(this.setVisible("uiRewardConti",!0),this.find("uiReward").addChild(new Ub(this.context,this.mRewardData.reward))),this.setText("uiTxtScore",N.number(a.stars)),this.setText("uiTxtRank",N.ordinal(a.pos+1)),this.setText("uiTxtText",
N.translate("SID_OPEN_REWARD_WEEKLY",[a.pos+1,a.entries])))},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtOk":this.close();break;default:L.prototype.onButtonClick.call(this,a)}},dispose:function(){L.prototype.dispose.call(this);this.mRewardData=null},__class__:ci});var bc=function(){this.dark=.4;this.mFadeStep=2;this.mFadeTarget=this.mFadeState=1;this.helpState=null;X.call(this);this.load("xml/help.xml")};f["screens.Help"]=bc;bc.__name__="screens.Help";bc.__properties__={get_instance:"get_instance"};
bc.get_instance=function(){null==bc.instance&&(bc.instance=new bc);return bc.instance};bc.__super__=X;bc.prototype=k(X.prototype,{onLoadComplete:function(){this.mPlayfieldContent=this.find("uiPlayfieldContent");X.prototype.onLoadComplete.call(this)},getStone:function(a,b){return t.get_instance().getTutorialStone(a,b)},findStone:function(a){return t.get_instance().getRandomStoneOfType(a)},checkTutorial:function(a,b){if("NORMAL"!=t.get_instance().levelType)return!1;if(0==b)switch(a){case 5:return this.showHelp([this.getStone(4,
4),this.getStone(3,4)],N.supported?"SID_HELP_SPECIAL_COMBINATION":"tTutorial5"),!0;case 6:return this.showHelp([this.getStone(4,4),this.getStone(3,4),this.getStone(4,5),this.getStone(3,5)]),!0;case 8:if(0<h.get_instance().getResource("singleHit"))return this.showHelp([t.get_instance().find("uiBtHammerPowerUp")],"SID_TUT_CHOOSE_POWER_UP","normalLeft"),this.helpState="selectHammer",!0;break;case 9:return this.showHelp([this.getStone(4,0),this.getStone(5,0),this.getStone(5,1),this.getStone(5,2),this.getStone(5,
3),this.getStone(5,4),this.getStone(5,5),this.getStone(5,6)],"SID_HELP_ANVIL","normalLeft"),!0;case 15:return this.showHelp([this.getStone(3,2),this.getStone(3,3),Ra.getOverlay(3,2),Ra.getOverlay(3,3)],"SID_HELP_SOFT_CAGE","normalLeft"),!0;case 21:return this.showHelp([this.getStone(2,3),this.getStone(1,3),this.getStone(1,2),this.getStone(2,2),this.getStone(1,4),this.getStone(2,4)],"SID_HELP_BOX"),!0;case 30:return this.showHelp([this.getStone(3,1),this.getStone(2,1),this.getStone(3,0)],"SID_HELP_COINS"),
!0;case 60:return this.showHelp([this.getStone(3,4),this.getStone(2,4),this.getStone(2,3),this.getStone(3,3)],"SID_HELP_BLOB"),!0;case 71:return this.showHelp([this.getStone(1,4),this.getStone(1,3),this.getStone(1,5),this.getStone(0,4),this.getStone(0,3),this.getStone(0,5)],"SID_HELP_BOX_COLOR"),!0;case 81:return this.showHelp([this.getStone(4,4),this.getStone(3,4),this.getStone(4,5),this.getStone(4,3),this.getStone(5,4)],"SID_HELP_ORE"),!0;case 85:return this.showHelp([this.getStone(1,2),this.getStone(1,
3),this.getStone(2,2),this.getStone(2,3)],"SID_HELP_MULTI_BOX"),!0;case 104:return this.showHelp([this.getStone(1,4),this.getStone(2,4),this.getStone(1,5)],"SID_HELP_FAT_MULTI"),!0;case 151:return this.showHelp([this.getStone(2,4),this.getStone(1,4),this.getStone(3,3)],"SID_HELP_MULTICAGE"),!0;case 201:return this.showHelp([this.getStone(1,3),this.getStone(0,3),this.getStone(2,3)],"SID_HELP_APPLE"),!0;case 260:return this.showHelp([this.getStone(1,1),this.getStone(0,1),this.getStone(2,1)],"SID_HELP_FOOD_BOWL"),
!0;case 280:return this.showHelp([this.getStone(1,4),this.getStone(1,5)],"SID_HELP_HARD_CAGE"),!0;case 301:return this.showHelp([this.getStone(3,5),this.getStone(2,4),this.getStone(3,4),this.getStone(4,4)],"SID_HELP_COCONUT"),!0;case 330:this.showHelp([this.getStone(2,3),this.getStone(3,3),this.getStone(2,4),this.getStone(3,4)],"SID_HELP_CHAMELEON");break;case 351:return this.showHelp([this.getStone(1,4),this.getStone(3,4)],"SID_HELP_HONEYCOMB_PILE"),!0;case 370:this.showHelp([this.getStone(1,2),
this.getStone(3,2)],"SID_HELP_HONEY_POTT");break;case 401:return this.showHelp([this.getStone(2,3),this.getStone(3,3)],"SID_HELP_FLIES"),!0;case 425:return this.showHelp([this.getStone(1,5),this.getStone(2,5),this.getStone(0,5)],"SID_HELP_CHICKEN"),!0;case 440:return this.showHelp([this.getStone(2,1),this.getStone(2,2),this.getStone(2,0)],"SID_HELP_DUNG"),!0;case 460:return this.showHelp([this.getStone(1,3),this.getStone(2,2),this.getStone(2,0)],"SID_HELP_FAT_MULTI2"),!0;case 475:return this.showHelp([this.getStone(3,
2),this.getStone(4,2),this.getStone(3,0)],"SID_HELP_FAT_MULTI_COLOR"),!0;case 490:return this.showHelp([this.getStone(1,1),this.getStone(2,1),this.getStone(1,2)],"SID_HELP_FAT_MULTI_COLOR_TWISTER"),!0;case 550:return this.showHelp([this.getStone(6,5),this.getStone(7,5),this.getStone(8,5),this.getStone(6,4),this.getStone(7,4),this.getStone(8,4)],"SID_HELP_BUCKET","normalLeft"),!0;case 590:return this.showHelp([this.getStone(2,5),this.getStone(3,5),this.getStone(3,4)],"SID_HELP_GIFT"),!0;case 630:return this.showHelp([this.getStone(2,
4),this.getStone(3,4),this.getStone(3,3)],"SID_HELP_XHIT"),!0;case 701:return this.showHelp([this.getStone(3,4),this.getStone(4,4),this.getStone(3,2)],"SID_HELP_SNOWMAN"),!0;case 801:return this.showHelp([this.getStone(1,5),this.getStone(1,6),Ra.getOverlay(1,4)],"SID_HELP_LEAF"),!0;case 831:return this.showHelp([this.getStone(3,2),this.getStone(4,2),this.getStone(3,0)],"SID_HELP_DUNG_PILE"),!0;case 850:return this.showHelp([this.getStone(2,5),this.getStone(3,5),this.getStone(2,4),this.getStone(3,
4)],"SID_HELP_GROUP_5_HITS_ONE_PLACE"),!0;case 901:return this.showHelp([this.getStone(0,0),this.getStone(1,0),this.getStone(1,1)],"SID_HELP_FERTILIZER"),!0;case 1001:return this.showHelp([this.getStone(2,4),this.getStone(1,4),this.getStone(2,5)],"SID_HELP_BALLON"),!0;case 1351:return this.showHelp([this.getStone(4,5),this.getStone(5,5),this.getStone(4,4)],"SID_HELP_SNOWBALL"),!0;case 1401:return this.showHelp([this.getStone(2,4),this.getStone(3,4),this.getStone(3,3)],"SID_HELP_CELL"),!0;case 1501:return this.showHelp([this.getStone(1,
5),this.getStone(2,4)],"SID_HELP_METAL_PLATE"),!0}switch(a){case 1:if(0==b)return this.showHelp([this.getStone(3,3),this.getStone(4,3)],"SID_HELP_FIRST_ACTION"),!0;t.get_instance().blubbStoneType("GEM_BLUE");break;case 2:switch(b){case 0:return this.showHelp([this.getStone(3,3),this.getStone(2,3),this.getStone(3,4),this.getStone(4,3),this.getStone(4,4)],"tTutorial2","normalRight"),!0;case 1:return this.showHelp([this.findStone("BREAKER")],"SID_HELP_USE_BEE","curiousLeft"),!0;case 2:return this.showHelp([this.getStone(5,
1),this.getStone(5,0),this.getStone(6,1),this.getStone(5,2),this.getStone(6,2)],"SID_HELP_FINISH_LEVEL2","happyLeft"),!0}break;case 3:switch(b){case 0:return this.showHelp([this.getStone(3,3),this.getStone(3,2),this.getStone(2,3),this.getStone(4,3),this.getStone(2,4),this.getStone(3,4),this.getStone(4,4)],"tTutorial3"),!0;case 1:this.showHelp([this.findStone("SKUNK")],null,"curiousLeft")}break;case 4:switch(b){case 0:return this.showHelp([this.getStone(3,3),this.getStone(2,3),this.getStone(4,3),this.getStone(5,
3),this.getStone(3,4),this.getStone(4,4),this.getStone(5,4),this.getStone(3,5),this.getStone(4,5)],"tTutorial4"),!0;case 1:return this.showHelp([this.findStone("ORB")],null,"curiousLeft"),!0}break;case 51:switch(b){case 0:return this.showHelp([this.getStone(2,5),this.getStone(3,5),this.getStone(2,4),this.getStone(3,4)],"SID_HELP_CRACKLING"),!0;case 1:return this.showHelp([this.getStone(2,3),this.getStone(3,3),this.getStone(2,4),this.getStone(3,4)]),!0}break;case 121:switch(b){case 0:return this.showHelp([this.getStone(1,
3),this.getStone(2,3),this.getStone(2,4),this.getStone(2,2)],"SID_HELP_COLOR_EGG"),!0;case 1:return this.showHelp([this.getStone(2,4),this.getStone(3,4),this.getStone(2,3)]),!0}break;case 170:switch(b){case 0:return this.showHelp([this.getStone(2,1),this.getStone(3,1),this.getStone(1,1)],"SID_HELP_FLOWER"),!0;case 1:return this.showHelp([this.getStone(2,1),this.getStone(3,1),this.getStone(1,1)]),!0}break;case 235:return 1==b&&this.showHelp([this.getStone(1,3),this.getStone(1,4),this.getStone(0,3),
this.getStone(0,4)],"SID_HELP_TICKER"),!0;case 525:switch(b){case 0:return this.showHelp([this.getStone(3,4),this.getStone(4,4),this.getStone(2,4)],"SID_HELP_BEEHIVE"),!0;case 1:return this.showHelp([this.getStone(2,3),this.getStone(3,3),this.getStone(2,4)]),!0}break;case 670:switch(b){case 0:return this.showHelp([this.getStone(1,5),this.getStone(2,5),this.getStone(3,5),this.getStone(4,5)],"SID_HELP_GROUP_SINGLE_HIT"),!0;case 1:return this.showHelp([this.getStone(4,4),this.getStone(4,3),this.getStone(3,
5),this.getStone(4,5)]),!0}}return!1},showHelp:function(a,b,d){null==d&&(d="normalRight");if(null!=a&&0!=a.length&&null!=a[0]){a.push(y.instance.find("uiBtSettings"));this.mFadeTarget=this.dark;for(var e=0;e<a.length;){var f=a[e];++e;if(null!=f){var g=1/this.dark;f.colorB!=g&&f.invalidate();g=f.colorB=g;f.colorG!=g&&f.invalidate();g=f.colorG=g;f.colorR!=g&&f.invalidate();f.colorR=g}}this.mTargets=a;e=a[0];y.forceElements=a;e instanceof K?this.registerXEventListener(e,"Stone::PLOPP",c(this,this.onHelpTargetDisposed)):
(this.registerXEventListener(e,"XEventDispatcher::dispose",c(this,this.onHelpTargetDisposed)),this.registerXEventListener(e,"XButton::BUTTON_PRESSED",c(this,this.onHelpTargetDisposed)));null==this.mMarker&&(a=this.context,a=null!=a?a.getTemplate("tTutorialMarker"):null,this.mMarker=null!=a?a.createInstance():null,this.mHand=this.mMarker.findType("uiImgHand",G));this.addChild(this.mMarker);null==this.mJenny&&(a=this.context,this.mJenny=null!=a?a.getTemplate(null!=t.get_instance().parent?"tJennyPlayfield":
"tJennyHelp").createInstance():null);null!=t.get_instance().parent?this.mPlayfieldContent.addChild(this.mJenny):this.addChild(this.mJenny);null!=d&&this.mJenny.setLocalState(d);null!=b?(this.mJenny.setVisible("uiImgJennyBubble",!0),d=this.mJenny.find("uiTutorialContent"),d.removeAllChildren(),0==b.indexOf("t")?(a=this.context,b=null!=a?a.getTemplate(b):null,null!=b?(d.addChild(b.createInstance()),this.mJenny.setText("uiTxtTutorialText","")):this.mJenny.setVisible("uiImgJennyBubble",!1)):(a=N.translate(b,
null),d=this.mJenny.find("uiImgJennyBubble"),g=70<a.length?a.length/50:1.6,(isFinite(d.ratio)?d.ratio:d.resultWidth/d.resultHeight)!=g&&d.invalidate(),d.ratio=g,this.mJenny.setText("uiTxtTutorialText",b))):this.mJenny.setVisible("uiImgJennyBubble",!1);this.dispatchSimpleXEvent("Help::HELP_START");dc.instance.hideJenny("help")}else{this.mFadeTarget=1;if(null!=this.mTargets){e=0;for(b=this.mTargets;e<b.length;)f=b[e],++e,null!=f&&(1!=f.colorB&&f.invalidate(),f.colorB=1,1!=f.colorG&&f.invalidate(),f.colorG=
1,1!=f.colorR&&f.invalidate(),f.colorR=1);this.mTargets=null}b=this.mJenny;null!=b&&b.dispose();this.mJenny=null;null!=this.mMarker&&this.mMarker.removeFromParent();this.dispatchSimpleXEvent("Help::HELP_END");dc.instance.showJenny("help");y.forceElements=null}},onHelpTargetDisposed:function(a){this.releaseXEventListener(a.target,"XEventDispatcher::dispose",c(this,this.onHelpTargetDisposed));this.releaseXEventListener(a.target,"Stone::PLOPP",c(this,this.onHelpTargetDisposed));this.releaseXEventListener(a.target,
"XButton::BUTTON_PRESSED",c(this,this.onHelpTargetDisposed));y.forceElements=null;this.showHelp(null)},update:function(){var a=this.mFadeTarget-this.mFadeState,b=this.mFadeStep*C.delta;this.mFadeState+=0<a?Math.min(a,b):Math.max(a,-b);var d=a=y.instance,c=y.instance;b=ia.fClamp(this.mFadeState,this.dark,2);c.colorB!=b&&c.invalidate();c=c.colorB=b;d.colorG!=c&&d.invalidate();b=d.colorG=c;a.colorR!=b&&a.invalidate();a.colorR=b;null!=this.mMarker&&null!=this.mTargets&&null!=this.mTargets[0]&&(d=this.mTargets[0].getMiddle(),
a=this.mMarker,b=d.x,a.x!=b&&a.invalidate(),a.x=b,a=this.mMarker,b=d.y,a.y!=b&&a.invalidate(),a.y=b);d=t.get_instance().uiPlayField;null!=d&&null!=t.get_instance().parent?(a=this.mPlayfieldContent,b=d.x,a.x!=b&&a.invalidate(),a.x=b,a=this.mPlayfieldContent,b=d.y,a.y!=b&&a.invalidate(),a.y=b,a=this.mPlayfieldContent,b=d.width,a.width!=b&&a.invalidate(),c=null,a.relativeWidth!=c&&a.invalidate(),a.relativeWidth=c,a.width=b,a=this.mPlayfieldContent,b=d.height,a.height!=b&&a.invalidate(),c=null,a.relativeHeight!=
c&&a.invalidate(),a.relativeHeight=c,a.height=b,a=this.mPlayfieldContent,b=d.scale,a.scale!=b&&a.invalidate(),a.scale=b):null!=this.mJenny&&null!=this.mJenny.parent&&(d=this.mMarker.x<this.resultWidth/2,a=this.mJenny,b=this.mMarker.x,a.x!=b&&a.invalidate(),a.x=b,a=this.mJenny,b=this.mMarker.y,a.y!=b&&a.invalidate(),a.y=b,this.mJenny.setLocalState(d?"right":"left"));null!=this.mHand&&this.mHand.visible&&this.mHand.set_image(.4>ia.fmod(C.timer,.8)?"dynamic/TipHand_1.png":"dynamic/TipHand_2.png");X.prototype.update.call(this)},
onButtonClick:function(a){"uiBtNext"!=a.name&&X.prototype.onButtonClick.call(this,a)},dispose:function(){var a=this.mJenny;null!=a&&a.dispose();this.mJenny=null;a=this.mMarker;null!=a&&a.dispose();this.mPlayfieldContent=this.mHand=this.mTargets=this.mMarker=null;X.prototype.dispose.call(this)},__class__:bc});var gg=function(){L.call(this);this.load("xml/info_popup.xml");this.block()};f["screens.InfoPopUp"]=gg;gg.__name__="screens.InfoPopUp";gg.__super__=L;gg.prototype=k(L.prototype,{onLoadComplete:function(){var a=
u.get_instance().get_brandingButton(),b=this.find("uiBtBrand");null!=b&&b instanceof G&&b.set_image(a);this.setVisible("uiImgFamobiLogo",u.get_instance().hasFeature("copyright"));L.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtBrand":u.get_instance().openBrandingLink();break;case "uiBtOk":this.close();break;default:L.prototype.onButtonClick.call(this,a)}},__class__:gg});var vd=function(a,b){L.call(this);this.mReward=a;this.mCallback=b;this.block();this.load("xml/item_success_popup.xml")};
f["screens.ItemSuccessPopUp"]=vd;vd.__name__="screens.ItemSuccessPopUp";vd.__super__=L;vd.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);null!=this.mReward&&(this.find("uiImgRewardConti").addChild(new Ub(this.context,this.mReward)),h.get_instance().consumeAllDelayedResources())},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtOk":this.close();break;default:L.prototype.onButtonClick.call(this,a)}},close:function(){null!=this.mCallback&&
this.mCallback(!0);L.prototype.close.call(this)},dispose:function(){this.mCallback=this.mReward=null;L.prototype.dispose.call(this)},__class__:vd});var Md=function(a,b){vd.call(this,a,b)};f["screens.BuySuccessPopUp"]=Md;Md.__name__="screens.BuySuccessPopUp";Md.__super__=vd;Md.prototype=k(vd.prototype,{onLoadComplete:function(){this.set_label("SID_BOUGHT");vd.prototype.onLoadComplete.call(this)},__class__:Md});var Xe=function(a,b){vd.call(this,a,b)};f["screens.RewardedAdSuccessPopUp"]=Xe;Xe.__name__=
"screens.RewardedAdSuccessPopUp";Xe.__super__=vd;Xe.prototype=k(vd.prototype,{onLoadComplete:function(){this.set_label("SID_EARNED");vd.prototype.onLoadComplete.call(this)},__class__:Xe});var nh=function(a,b){vd.call(this,a,b)};f["screens.PaymentSuccessPopUp"]=nh;nh.__name__="screens.PaymentSuccessPopUp";nh.__super__=vd;nh.prototype=k(vd.prototype,{onLoadComplete:function(){this.set_label("SID_BOUGHT");h.get_instance().clearDiscount();vd.prototype.onLoadComplete.call(this)},__class__:nh});var Li=
function(){this.mLevelContis=[];this.mMaxPage=Math.floor((h.get_instance().get_maxLevel()-1)/5);this.mPage=0;wa.call(this);this.block();this.load("xml/level_list.xml")};f["screens.LevelList"]=Li;Li.__name__="screens.LevelList";Li.__super__=wa;Li.prototype=k(wa.prototype,{onLoadComplete:function(){var a=this.find("uiContainer");if(null!=a)for(var b=0;5>b;)this.mLevelContis.push(a.addChild(new Pi(this.context,b++)));a=u.get_instance().get_player().storage.getEntry("lastLevelListPage");this.mPage=Math.max(0,
Math.ceil((h.get_instance().get_bestLevel()+1)/5-1))|0;null!=a&&this.mPage!=a+1&&(this.mPage=a);this.updateLevels();wa.prototype.onLoadComplete.call(this)},updateLevels:function(a){null==a&&(a=0);this.mPage+=a;this.mPage>this.mMaxPage?this.mPage=this.mMaxPage:0>this.mPage&&(this.mPage=0);for(a=0;5>a;){var b=a++,d=this.mLevelContis[b];null!=d&&d.setLevel(1+b+5*this.mPage)}a=0<this.mPage;b=this.find("uiBtStart");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));a=0<this.mPage;b=this.find("uiBtPrevious");
null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));a=0<this.mPage;b=this.find("uiBtPreviousX");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));a=this.mPage<this.mMaxPage;b=this.find("uiBtNext");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));a=this.mPage<this.mMaxPage;b=this.find("uiBtNextX");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));a=this.mPage<this.mMaxPage;b=this.find("uiBtEnd");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"))},
onButtonClick:function(a){switch(a.name){case "uiBtEnd":this.updateLevels(this.mMaxPage-this.mPage);break;case "uiBtNext":this.updateLevels(1);break;case "uiBtNextX":this.updateLevels(10);break;case "uiBtPlay":var b=a.data;"number"==typeof b&&(b|0)===b&&0<h.get_instance().getResource("lifes")?y.instance.addScreen(new td(a.data|0)):this.close();break;case "uiBtPrevious":this.updateLevels(-1);break;case "uiBtPreviousX":this.updateLevels(-10);break;case "uiBtStart":this.updateLevels(-this.mPage);break;
default:wa.prototype.onButtonClick.call(this,a)}},close:function(){u.get_instance().get_player().storage.setEntry("lastLevelListPage",this.mPage,!0);wa.prototype.close.call(this)},__class__:Li});var wd=function(){this.mGold=this.mGoldStart=this.mGoldAnimationStartTime=this.mLifeParticleEmitter=null;this.mUsedStartScreenList=[];this.mStartScreenList=[];this.mDifficulty=0;this.mOldLifes=this.mCurrentResourceAnimation=null;this.mOldStars=-1;this.mScreensDone=!1;Eb.call(this,"xml/main_screen.xml");this.XAnimMoveOutClass=
ik;this.XAnimMoveInClass=Hf;wd.sInstance=this};f["screens.MainScreen"]=wd;wd.__name__="screens.MainScreen";wd.show=function(){y.instance.addScreen(new wd)};wd.__super__=Eb;wd.prototype=k(Eb.prototype,{onLoadComplete:function(){Eb.prototype.onLoadComplete.call(this);u.get_instance().gameReady();this.setVisible("uiSocial",ba.instance.allow);var a=Za.get_instance(),b=c(this,this.onChatUpdate);b(null);this.registerXEventListener(a,"ChatManager::UPDATE",b);this.registerXEventListener(h.get_instance(),
"RESOURCE_UPDATE",c(this,this.onResourceUpdateEvent));this.registerXEventListener(h.get_instance(),"ZooBackendLayer::VISIBLE_RESOURCE_UPDATE",c(this,this.onVisibleResourceUpdate));this.registerXEventListener(h.get_instance(),"ZooBackendLayer::tempBonusUpdate",c(this,this.onLifeUpdate));this.registerXEventListener(h.get_instance(),"LIFE_TIMER_UPDATE",c(this,this.onLifeUpdate));this.onResourceUpdateEvent();this.setLocalState("earnGoldAvailable");a=u.get_instance().get_ads();b=c(this,this.updateRewardedAdIndicator);
b(null);this.registerXEventListener(a,"rewarded_ad_available",b);a=this.find("uiBtLifes");null!=a&&(this.mLifeParticleEmitter=a.find("uiImgIcon").preParticleEmitter=new Zi,a=this.mLifeParticleEmitter.desc,a.image="particles/heart.png",a.startSize=20,a.endSize=30,a.endColor=16777215,a.gravity=-100,a.duration=1,this.mLifeParticleEmitter.numParticlesPerSecond=0);a=u.get_instance().get_payment();b=c(this,this.onDiscountUpdate);b(null);this.registerXEventListener(a,"PaymentManager:DISCOUNT",b);this.registerXEventListener(h.get_instance(),
"BackendLayer:READY_EVENT",c(this,this.updateAll));this.registerXEventListener(h.get_instance(),"TOURNAMENT_INIT",c(this,this.onTournamentInit));this.registerXEventListener(h.get_instance(),"TOURNAMENT_REMOVED",c(this,this.onTournamentRemoved));this.registerXEventListener(h.get_instance(),"TOURNAMENT_UPDATE",c(this,this.onTournamentUpdate));this.registerXEventListener(h.get_instance(),"TOURNAMENT_FINISHED",c(this,this.onTournamentUpdate));0!=h.get_instance().getResource("tournament")&&(this.onTournamentInit(),
this.onTournamentUpdate());this.onLifeUpdate();a=this.findType("uiTxtGlobalNumUnread",Ea);null!=a&&this.registerXEventListener(a,"XText::UPDATE_WIDTH",c(this,this.onNumReadTextChange));this.onFirebaseAuthChange();this.registerXEventListener(ba.instance,"FirebaseManager::USER_UPDATE_EVENT",c(this,this.onUserEvent));this.onUserEvent();u.get_instance().get_tracking().customEvent("load","main",1E3*C.timer);this.updateAll()},onMoveInFinished:function(a){Eb.prototype.onMoveInFinished.call(this,a);this.checkProfile();
0==(h.get_instance().getVisibleResource("chestLevel")|0)%h.get_instance().get_levelPerChest()&&h.get_instance().lastLevelWon&&this.find("uiBtLevelChest").find("uiImgIcon").pulse(100);h.get_instance().forceMode||(a=this.getNextLevel(),u.get_instance().get_payment().hasDiscount()&&!mh.shown&&this.scheduleScreen(mh),0==wd.sRegisterScreenCount%5&&(!h.get_instance().get_connected()&&21==a&&ba.instance.allow?(this.scheduleScreen(He),++wd.sRegisterScreenCount):!h.get_instance().get_connected()&&19<a&&0==
a%20&&ba.instance.allow&&(this.scheduleScreen(re),++wd.sRegisterScreenCount)),h.get_instance().hasOpenTournamentReward()&&this.scheduleScreen(ki));a=this.find("uiBtGold");null!=a&&null!=a.preParticleEmitter&&(a.preParticleEmitter.active=u.get_instance().get_payment().hasDiscount());this.checkDelayedResources();this.updateRewardedAdIndicator();this.updateGoldDisplay();this.updateExpeditionButton();this.setVisible("uiImgMainBar",!0)},updateRewardedAdIndicator:function(a){if(u.get_instance().get_ads().allowRewarded&&
null!=this.find("uiBtGold")){null!=this.mRewardCountDown&&(this.releaseXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateRewardedAdIndicator)),a=this.mRewardCountDown,null!=a&&a.dispose());a=h.get_instance().getNextRewardTime()/1E3;var b=0>=a&&u.get_instance().get_ads().rewardedAdAvailable;0<a&&(this.mRewardCountDown=(new Cc(a)).start(),this.registerXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateRewardedAdIndicator)));
this.setVisible("uiImgRewardedAdRead",b)}},updateExpeditionButton:function(a){a=this.find("uiBtExpedition");if(null!=a){a.set_visible(7<this.getNextLevel());if(null!=this.mExpeditionCountDown){this.releaseXEventListener(this.mExpeditionCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateExpeditionButton));var b=this.mExpeditionCountDown;null!=b&&b.dispose()}var d=h.get_instance().getTimeToExpedition();(b=0>=d)?a.setText("uiTxtAmount","SID_COLLECT"):(this.mExpeditionCountDown=(new Cc(d,a.findType("uiTxtAmount",
Ea))).start(),this.registerXEventListener(this.mExpeditionCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateExpeditionButton)));a.find("uiImgBlock").activateEmitter(b);a.setVisible("uiImgRays",b);a=a.findAnimation("chestWobble");null!=a&&(a.speed=b?3:.5,a.size=b?1:0)}},onNumReadTextChange:function(a){a=a.data+20;var b=this.find("uiImgNumUnread");null!=b&&(b.width!=a&&b.invalidate(),null!=b.relativeWidth&&b.invalidate(),b.relativeWidth=null,b.width=a)},onChatUpdate:function(a){var b=this.find("uiUnread");
if(null!=b){var d=Za.get_instance().getNumUnread();b.set_visible(0<d);var c=V.__cast(b.findAnimation("mailWobble"),df);null!=c&&(c.speed=0<d?3:0,c.angle=0<d?2:0,c.size=0<d?1:0);0<d&&null!=a&&b.pulse();b.setText("uiTxtGlobalNumUnread",0<d?N.number(d):"")}b=this.find("uiTeamUnread");null!=b&&(d=Za.get_instance().getNumUnread(!0),b.set_visible(0<d),c=V.__cast(b.findAnimation("mailWobble"),df),null!=c&&(c.speed=0<d?3:0,c.angle=0<d?2:0,c.size=0<d?1:0),0<d&&null!=a&&b.pulse(),b.setText("uiTxtTeamNumUnread",
0<d?N.number(d):""))},checkProfile:function(){},onFirebaseAuthChange:function(a){var b=this.find("uiSocial");if(null!=b){var d=null==ba.instance.get_auth().currentUser;b.setVisible("uiBtLogin",d);b.setVisible("uiBtOwnDetails",!d)}Eb.prototype.onFirebaseAuthChange.call(this,a)},onUserEvent:function(a){a=this.findType("uiPlayer",$b);if(null!=a){if(null!=h.get_instance().get_uid())h.get_instance().getVCard(h.get_instance().get_uid()).onComplete(function(a){if(null==a.cid){var b=aa.mapLocaToFlag(N.get_currentLocale());
null!=b&&h.get_instance().setCId(b)}a=h.get_instance().set_teamId(a.teamId);null!=a&&ba.instance.read("teams/"+a+"/public/members/"+h.get_instance().get_uid()+"/rank",function(a){h.get_instance().teamRank=a})});a.set_uid(h.get_instance().get_uid())}},onScreenSizeChanged:function(){var a=this.find("uiFrame");if(null!=a){var b=q.instance.ratio;if(1.55<b){b=1.55+(b-1.55)/3;var d=a.ratio;(isFinite(d)?a.ratio:a.resultWidth/a.resultHeight)!=b&&a.invalidate();a.ratio=b;b=null;a.relativeWidth!=b&&a.invalidate();
a.relativeWidth=b}else b=null,d=a.ratio,(isFinite(d)?a.ratio:a.resultWidth/a.resultHeight)!=b&&a.invalidate(),a.ratio=b,1!=a.relativeWidth&&a.invalidate(),a.relativeWidth=1}Eb.prototype.onScreenSizeChanged.call(this)},onInitText:function(){this.updateAll();this.onTournamentUpdate();this.onLifeUpdate();Eb.prototype.onInitText.call(this)},updateAll:function(a){null!=a&&h.get_instance().consumeAllDelayedResources();this.updatePlayButton();this.updateGoldDisplay();this.updateChestLevel();this.updateChestStars();
this.updateRewardedAdIndicator();this.onTournamentUpdate();this.updateExpeditionButton()},moveOut:function(){this.clickableChildren=!1;return Eb.prototype.moveOut.call(this)},moveIn:function(){h.get_instance().consumeDelayedResource("lifes");this.clickableChildren=!0;return Eb.prototype.moveIn.call(this)},onTournamentInit:function(a){this.setVisible("uiBtTournament",!0)},onTournamentRemoved:function(a){this.setVisible("uiBtTournament",!1);a=this.mTournamentCountDown;null!=a&&a.dispose();this.mTournamentCountDown=
null},onTournamentUpdate:function(a){a=this.find("uiBtTournament");var b=h.get_instance().tournamentData;if(null!=a&&(a.set_visible(5<=this.getNextLevel()&&null!=b),null!=b)){var d=b.arr;if(null!=d)for(var c=0,e=d.length;c<e;){var f=c++;d[f].uid==h.get_instance().get_uid()&&a.setText("uiTxtRanking",N.ordinal(f+1))}b.endTime>C.get_now().getTime()?null==this.mTournamentCountDown&&(this.mTournamentCountDown=(new Cc(Math.floor((b.endTime-C.get_now().getTime())/1E3),a.findType("uiTxtAmount",Ea),"SID_COUNTDOWN_HHMMSS")).start()):
(b=this.mTournamentCountDown,null!=b&&b.dispose(),this.mTournamentCountDown=null,a.setText("uiTxtAmount","SID_FINISHED"))}},onDiscountUpdate:function(a){a=this.find("uiImgDiscount");if(null!=a){var b=u.get_instance().get_payment().hasDiscount(),d=this.find("uiBtGold");null!=d&&null!=d.preParticleEmitter&&(d.preParticleEmitter.active=b);a.visible!=b&&a.pulse();a.set_visible(b);b&&(b=u.get_instance().get_payment().discount,a.setText("uiTxtDiscount","+"+N.percentage(100*u.get_instance().get_payment().discount.bonus)),
d=this.mDiscountCountdown,null!=d&&d.dispose(),this.mDiscountCountdown=(new Cc(.001*(b.endTime-C.get_now().getTime()),a.findType("uiTxtCountDown",Ea))).start())}},onLifeUpdate:function(a){a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=null;null!=this.mLifeInfinityCountDown&&(this.releaseXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.onLifeUpdate)),a=this.mLifeInfinityCountDown,null!=a&&a.dispose(),this.mLifeInfinityCountDown=null);if(h.get_instance().hasTemporaryBonus("tempUnlimitedLife")){var b=
this.find("uiBtLifes");null!=b&&(350!=b.width&&b.invalidate(),a=null,b.relativeWidth!=a&&b.invalidate(),b.relativeWidth=a,b.width=350);this.setState("uiBtLifes","unlimited");null!=this.mLifeParticleEmitter&&(this.mLifeParticleEmitter.numParticlesPerSecond=10);this.mLifeInfinityCountDown=(new Cc(Math.max(5,h.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")|0),this.findType("uiTxtLifeCountdown",Ea))).start()}else b=h.get_instance(),a=b.getResource("lifes")>=b.get_maxLifes(),null!=this.mLifeParticleEmitter&&
(this.mLifeParticleEmitter.numParticlesPerSecond=0),a?(b=this.find("uiBtLifes"),180!=b.width&&b.invalidate(),a=null,b.relativeWidth!=a&&b.invalidate(),b.relativeWidth=a,b.width=180,this.setText("uiTxtLifeCountdown","")):(this.mLifeCountDown=(new Cc(Math.max(0,h.get_instance().secondsNewLife()),this.findType("uiTxtLifeCountdown",Ea))).start(),b=this.find("uiBtLifes"),350!=b.width&&b.invalidate(),a=null,b.relativeWidth!=a&&b.invalidate(),b.relativeWidth=a,b.width=350),a=Math.round(h.get_instance().getVisibleResource("lifes")),
this.setText("uiTxtLifeAmount",N.number(Math.max(0,a))),this.setState("uiBtLifes","limited"),this.mOldLifes!=a&&(null!=this.mOldLifes&&(b=this.find("uiBtLifes"),null!=b&&b.find("uiImgIcon").pulse(50)),this.mOldLifes=a)},onVisibleResourceUpdate:function(a){switch(a.resourceType){case "chestLevel":10==h.get_instance().getResource("level")&&10<=a.resourceValue&&bc.get_instance().showHelp([this.find("uiBtLevelChest")],"SID_HELP_LEVEL_CHEST");a=this.find("uiBtLevelChest");null!=a&&a.blubb();this.updateChestLevel();
break;case "chestStars":7==h.get_instance().getResource("level")&&20<=a.resourceValue&&bc.get_instance().showHelp([this.find("uiBtStarChest")],"SID_HELP_STAR_CHEST");a=this.find("uiBtStarChest");null!=a&&a.blubb();this.updateChestStars();break;case "lastReward":this.updateRewardedAdIndicator();break;case "mtx":this.updateGoldDisplay();break;case "level":case "nextLevel":this.updatePlayButton();null!=a.resourceOldValue&&a.resourceOldValue<a.resourceValue&&(a=this.find("uiBtPlay"),null!=a&&a.pulse(200));
break;case "lifes":case "tempUnlimitedLife":this.onLifeUpdate()}},onResourceUpdateEvent:function(a){this.checkDelayedResources();if(null==a||"streak"==a.resourceType)a=h.get_instance().getResource("streak"),this.setLocalState(0<a?"streak":"noStreak"),this.setText("uiTxtStreak",N.number(a))},getNextLevel:function(){return null!=h.get_instance().forceLevel?h.get_instance().forceLevel:Math.round(h.get_instance().getResource("level"))},updatePlayButton:function(){var a=this,b=N.translate("SID_LEVEL_X",
[h.get_instance().get_nextLevel()]),d=this.find("uiBtPlay");d instanceof Aa&&V.__cast(d,Aa).set_label(b);ac.getLevelDifficulty(h.get_instance().get_nextLevel()).onComplete(function(b){a.mDifficulty=b;var d=a.find("uiImgDifficulty");null!=d&&d instanceof G&&d.set_image(0==b?"":1==b?"dynamic/difficulty_1_small.png":"dynamic/difficulty_2_small.png")});this.setVisible("uiImgRandomMode",h.get_instance().isInRandomMode());b=this.find("uiBtPlay");null!=b&&null!=b.preParticleEmitter&&(d=1==h.get_instance().get_nextLevel()?
80:0,b.preParticleEmitter.numParticlesPerSecond=d)},updateGoldDisplay:function(){this.setGold(Math.round(h.get_instance().getVisibleResource("mtx")))},setGold:function(a){null==this.mGold||this.mGold>a?(this.mGold=a,a=this.find("uiBtGold"),null!=a&&a.setText("uiTxtAmount",N.number(this.mGold))):(null==this.mGoldStart&&(this.mGoldStart=this.mGold),this.mGold=a,this.mGoldAnimationStartTime=C.timer)},update:function(){if(null!=this.mGoldAnimationStartTime&&this.mGoldStart!=this.mGold){var a=Math.min(C.timer-
this.mGoldAnimationStartTime,1),b=this.find("uiBtGold");null!=b&&(b.setText("uiTxtAmount",N.number(Math.round(this.mGoldStart*(1-a)+this.mGold*a))),1<=a&&(this.mGoldStart=this.mGoldAnimationStartTime=null,b.pulse()))}Eb.prototype.update.call(this)},updateChestStars:function(){var a=this.find("uiBtStarChest");if(null!=a){a.set_visible(!0);var b=Math.round(h.get_instance().getVisibleResource("chestStars")),d=b>=h.get_instance().get_starsPerChest(),c=a.find("uiImgIcon");null!=c&&c instanceof G&&c.set_image(d?
"ui/star_chest_open.png":"ui/star_chest.png");a.setVisible("uiImgRays",d);a.find("uiImgBlock").activateEmitter(d);a.setText("uiTxtAmount",N.translate("SID_X_OF_Y",[Math.min(b,h.get_instance().get_starsPerChest()),h.get_instance().get_starsPerChest()]));c=a.find("uiImgProgress");var e=Math.min(b,h.get_instance().get_starsPerChest())/h.get_instance().get_starsPerChest();c.relativeWidth!=e&&c.invalidate();c.relativeWidth=e;c=a.findAnimation("chestWobble");null!=c&&(c.speed=d?3:.5,c.size=d?1:0);this.mOldStars<
b&&(-1!=this.mOldStars&&(a.find("uiImgIcon").pulse(b>=h.get_instance().get_starsPerChest()?300:100),a=this.find("uiBtTournament"),null!=a&&(c=a.find("uiTxtRanking"),null!=c&&c.pulse(100))),this.mOldStars=b)}},updateChestLevel:function(){var a=this.find("uiBtLevelChest");if(null!=a){a.set_visible(!0);var b=Math.round(h.get_instance().getVisibleResource("chestLevel")),d=0>=(Math.max(h.get_instance().get_levelPerChest()-b,0)|0),c=a.find("uiImgIcon");null!=c&&c instanceof G&&c.set_image(d?"ui/chest_open.png":
"ui/chest.png");a.setText("uiTxtAmount",N.translate("SID_X_OF_Y",[Math.min(b,h.get_instance().get_levelPerChest()),h.get_instance().get_levelPerChest()])+" "+N.translate("SID_LEVEL_SHORT",null));a.setVisible("uiImgTextBox",!d);a.setVisible("uiImgRays",d);a.find("uiImgBlock").activateEmitter(d);c=a.find("uiImgProgress");b=Math.min(b,h.get_instance().get_levelPerChest())/h.get_instance().get_levelPerChest();c.relativeWidth!=b&&c.invalidate();c.relativeWidth=b;a=a.findAnimation("chestWobble");null!=
a&&(a.speed=d?3:.5,a.size=d?1:0)}},checkDelayedResources:function(a){null==a&&(a=200);var b=this;2>this.getNextLevel()?(h.get_instance().consumeAllDelayedResources(),this.handleScreens()):h.get_instance().hasDelayedResources()&&null==this.mTimer&&y.instance.getFocus()==this&&null==this.mCurrentResourceAnimation?this.mTimer=Dc.delay(function(){b.mTimer=null;var a=w.fields(h.get_instance().delayedResources);if(0<a.length)switch(a=a[0],a){case "chestLevel":case "chestStars":case "lifes":case "mtx":var e=
w.field(h.get_instance().delayedResources,a);b.mCurrentResourceAnimation=new Xc(b,a,e);b.registerXEventListener(b.mCurrentResourceAnimation,"XEventDispatcher::dispose",c(b,b.onResourceAnimationFinished));b.addChild(b.mCurrentResourceAnimation);break;case "level":case "nextLevel":h.get_instance().consumeDelayedResource("level"),h.get_instance().consumeDelayedResource("nextLevel"),b.checkDelayedResources()}},a):h.get_instance().hasDelayedResources()||null!=this.mTimer||null!=this.mCurrentResourceAnimation||
this.handleScreens()},onScreenDisposed:function(a){this.releaseXEventListener(a.target,"XEventDispatcher::dispose",c(this,this.onScreenDisposed));this.handleScreens()},scheduleScreen:function(a){null!=this.mUsedStartScreenList&&-1==this.mUsedStartScreenList.indexOf(a)&&this.mStartScreenList.push(a)},handleScreens:function(){if(h.get_instance().get_connected()){var a=w.fields(h.get_instance().startData.openRewards);0<a.length&&(a=a[0],null!=a&&(w.deleteField(h.get_instance().startData.openRewards,
a),this.registerXEventListener(y.instance.addScreen(new ci(a)),"XEventDispatcher::dispose",c(this,this.onScreenDisposed))))}null!=this.mStartScreenList&&0<this.mStartScreenList.length?(a=this.mStartScreenList.shift(),null!=a&&(this.mUsedStartScreenList.push(a),a=Ca.createInstance(a,[]),this.registerXEventListener(a,"XEventDispatcher::dispose",c(this,this.onScreenDisposed)),y.instance.addScreen(a))):(this.mScreensDone||(this.mScreensDone=!0,this.onScreensDone()),h.get_instance().isInRandomMode()||
h.get_instance().dispatchSimpleXEvent("ZooBackendLayer::BEST_LEVEL"))},onScreensDone:function(){},onResourceAnimationFinished:function(a){this.releaseXEventListener(a.target,"XEventDispatcher::dispose",c(this,this.onAnimationFinished));this.mCurrentResourceAnimation=null;this.checkDelayedResources()},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtEditor":y.instance.addScreen(new od);break;case "uiBtExpedition":y.instance.addScreen(new bi);break;case "uiBtGold":y.instance.addScreen(new Hc("main"));
break;case "uiBtInfo":y.instance.addScreen(new gg);break;case "uiBtLevelChest":y.instance.addScreen(new fi("level"));break;case "uiBtLevelList":y.instance.addScreen(new Li);break;case "uiBtLifes":y.instance.addScreen(new sd("lifes"));break;case "uiBtLogin":y.instance.addScreen(new re);break;case "uiBtMoreSocial":y.instance.addScreen(new Mi);break;case "uiBtOwnDetails":y.instance.addScreen(new cc(h.get_instance().get_uid(),0<Za.get_instance().getNumUnread()?1:null));break;case "uiBtPlay":if(h.get_instance().hasDelayedResources())a.enabled=
!0,a.setLocalState("enabled");else if(0<h.get_instance().getVisibleResource("lifes"))if(7>h.get_instance().get_nextLevel())u.get_instance().buttonAction("button:main:start").onComplete(function(b){t.get_instance().startLevel(h.get_instance().get_nextLevel(),"NORMAL");a.enabled=!0;a.setLocalState("enabled")});else u.get_instance().buttonAction("button:main:browse").onComplete(function(d){if(11<=b.getNextLevel()&&h.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")<-h.config.settings.dailyUnlimitedLifeCoolDown&&
!u.get_instance().get_ads().hasAdBlocker()&&!u.get_instance().get_ads().hasBadConsent()&&3>=h.get_instance().getResource("lifes")){d=h.get_instance().requestUnlimitedLife();var c=function(b){Object.prototype.hasOwnProperty.call(b,"duration")?(a.enabled=!0,a.setLocalState("enabled"),y.instance.addScreen(new qh)):(a.enabled=!0,a.setLocalState("enabled"),y.instance.addScreen(new td))},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));
b.register(e);b.register(d.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))}else{a.enabled=!0;a.setLocalState("enabled");if(u.get_instance().get_payment().allow&&!h.get_instance().hasTemporaryBonus("tempUnlimitedLife")&&wd.sHardLevelOfferLevel!=h.get_instance().get_nextLevel()&&(wd.sHardLevelOfferLevel=h.get_instance().get_nextLevel(),1<b.mDifficulty)){y.instance.addScreen(new ji("package_level"));return}u.get_instance().get_ads().allowRewarded&&
u.get_instance().get_ads().rewardedAdAvailable&&h.get_instance().isFetchBoosterOk()&&2<h.get_instance().totalPlays?y.instance.addScreen(new kh):y.instance.addScreen(new td)}});else a.enabled=!0,a.setLocalState("enabled"),y.instance.addScreen(new di);break;case "uiBtProfiles":h.get_instance().hasDelayedResources()||y.instance.addScreen(new gi);break;case "uiBtStarChest":y.instance.addScreen(new fi("star"));break;case "uiBtStreak":y.instance.addScreen(new Mj);break;case "uiBtTournament":y.instance.addScreen(new Mi(2));
break;default:Eb.prototype.onButtonClick.call(this,a)}},createSettings:function(a){u.get_instance().buttonAction("button:main:pause");Eb.prototype.createSettings.call(this,a)},dispose:function(){var a=this.mDiscountCountdown;null!=a&&a.dispose();this.mDiscountCountdown=null;a=this.mExpeditionCountDown;null!=a&&a.dispose();this.mExpeditionCountDown=null;a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=null;a=this.mTournamentCountDown;null!=a&&a.dispose();this.mTournamentCountDown=null;
a=this.mLifeInfinityCountDown;null!=a&&a.dispose();this.mLifeInfinityCountDown=null;a=this.mRewardCountDown;null!=a&&a.dispose();this.mRewardCountDown=null;a=this.mCurrentResourceAnimation;null!=a&&a.dispose();this.mCurrentResourceAnimation=null;a=this.mTimer;null!=a&&a.dispose();this.mTimer=null;this.mUsedStartScreenList=this.mStartScreenList=this.mLifeParticleEmitter=wd.sInstance=null;Eb.prototype.dispose.call(this)},__class__:wd});var Ij=function(){L.call(this);this.load("xml/max_level_popup.xml");
this.block()};f["screens.MaxLevelPopUp"]=Ij;Ij.__name__="screens.MaxLevelPopUp";Ij.__super__=L;Ij.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.setText("uiTxtMaxLevel",N.translate("SID_MAX_LEVEL_REACHED",[h.get_instance().get_maxLevel()]));this.mParticles=new vg},draw:function(){null!=this.mParticles&&this.mParticles.draw();L.prototype.draw.call(this)},onButtonClick:function(a){"uiBtOk"==a.name?this.close():L.prototype.onButtonClick.call(this,a)},dispose:function(){L.prototype.dispose.call(this);
var a=this.mParticles;null!=a&&a.dispose();this.mParticles=null},__class__:Ij});var Bf=function(){this.mAdditionalMoves=0;this.mStep=1;L.call(this,"xml/more_moves_popup.xml");this.block()};f["screens.MoreMovesPopUp"]=Bf;Bf.__name__="screens.MoreMovesPopUp";Bf.__super__=L;Bf.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);u.get_instance().get_ads().updateRewardedAdState();this.updateDisplay()},onAnimateInFinished:function(a){L.prototype.onAnimateInFinished.call(this,
a);this.setPulse("uiImgMovesOnButton");this.setPulse("uiMoves1")},updateDisplay:function(){for(var a=this.mAdditionalMoves=0;3>a;){var b=a++,d=this.find("uiMoves"+(b+1));if(null!=d){var c=b<this.mStep,e=h.config.settings.moreMoves[b];c&&(this.mAdditionalMoves+=e);b==this.mStep&&this.setText("uiTxtRewardAmount",N.translate("SID_PLUS_X",[e]));d.setLocalState(c?"active":"inactive");d.setText("uiTxtMoveAmount",N.translate("SID_PLUS_X",[e]))}}a=this.findType("uiBtRewardedAd",Ef);null!=a&&(a.set_event("more_moves"+
(this.mStep+1)),a.allowThankx=!0);this.setVisible("uiBtRewardedAd",3>this.mStep);this.setVisible("uiTxtOr",3>this.mStep);a=this.find("uiBtContinue");null!=a&&a.activateEmitter(3<=this.mStep);this.setText("uiTxtNumMoves",N.translate("SID_PLUS_X",[this.mAdditionalMoves]));this.setText("uiTxtCollectedMoves",N.translate("SID_EARNED_MOVES",[this.mAdditionalMoves]));this.setText("uiTxtOr",N.translate("SID_OR_START_PLAYING_WITH_X_MOVES",[this.mAdditionalMoves]))},onRewardedAd:function(a,b){b.success&&(a=
this.mStep+1,this.mStep=3<a?3:a,this.setPulse("uiImgMovesOnButton"),this.setPulse("uiMoves"+this.mStep),this.updateDisplay())},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtContinue":t.get_instance().revive(this.mAdditionalMoves);this.close();break;default:L.prototype.onButtonClick.call(this,a)}},__class__:Bf});var Tb=function(a,b){this.cb=this.cbPopUp=null;this.onReady=b;X.call(this,a)};f["screens.PopUp"]=Tb;Tb.__name__="screens.PopUp";Tb.createOkPopUp=function(a,b,d,c){var e=
new Tb("xml/popup.xml",function(d){d.block();d.setText("uiTxtHeadText",a);d.setText("uiTxtMessage",b);null!=c&&c(d)});e.cb=d;return e};Tb.createXPopUp=function(a,b){var d=new Tb("xml/popup.xml",function(b){null!=a&&a(b)});d.cbPopUp=b;return d};Tb.createPopUp=function(a){var b=new Tb("xml/popup.xml",function(b){b.block();b.setText("uiTxtHeadText",a.title);b.setText("uiTxtMessage",a.message);if(null!=a.countDown){var d=b.find("uiBtPopupOk");null!=d&&(d.enabled=!1,d.setLocalState("disabled"));var c=
new Cc(a.countDown);b.registerXEventListener(c,"XCountDown::COUNTDOWN_TICK",function(a){a=N.number(Math.floor(c.duration-(C.timer-c.startTime)));var d=b.find("uiBtPopupOk");d instanceof Aa&&V.__cast(d,Aa).set_label(a)});b.registerXEventListener(c,"XCountDown::COUNTDOWN_FINISHED",function(a){a=b.find("uiBtPopupOk");null!=a&&(a.enabled=!0,a.setLocalState("enabled"));a=b.find("uiBtPopupOk");a instanceof Aa&&V.__cast(a,Aa).set_label("SID_OK")});c.start()}});b.cb=a.cb;return b};Tb.__super__=X;Tb.prototype=
k(X.prototype,{onLoadComplete:function(){X.prototype.onLoadComplete.call(this);null!=this.onReady&&(this.onReady(this),this.onReady=null)},onScreenSizeChanged:function(){var a=1>q.instance.ratio?1.7:1;this.scale!=a&&this.invalidate();this.scale=a},onButtonClick:function(a){switch(a.name){case "uiBtClose":this.result=id.NO;null!=this.cbPopUp?this.cbPopUp(this):(null!=this.cb&&this.cb(id.NO),this.close());break;case "uiBtPopupOk":this.result=id.YES;null!=this.cbPopUp?this.cbPopUp(this):(null!=this.cb&&
this.cb(id.YES),this.close());break;default:X.prototype.onButtonClick.call(this,a)}},dispose:function(){this.onReady=this.cb=null;X.prototype.dispose.call(this)},__class__:Tb});var Ig=function(){Tb.call(this);Ig.sInstance=this;this.load("xml/new_theme_popup.xml")};f["screens.NewThemePopUp"]=Ig;Ig.__name__="screens.NewThemePopUp";Ig.__super__=Tb;Ig.prototype=k(Tb.prototype,{onAnimateInFinished:function(a){t.get_instance().set_level(h.get_instance().get_bestLevel());var b=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen];b.x=0;b.y=.5*y.SCREEN_HEIGHT;for(var d=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],e=0;250>e;){++e;d.x=.5>Math.random()?0:y.SCREEN_WIDTH;d.y=y.SCREEN_HEIGHT;var f=1.5*-y.SCREEN_HEIGHT*Math.random();c.x=.5*y.SCREEN_WIDTH*Math.random()*(0==d.x?1:-1);c.y=f;f=.01+.05*Math.random();var m=Oa.sInstance,k=3600*(Math.random()-.5),n=3600*(Math.random()-.5);null==n&&(n=0);null==k&&(k=0);m.addParticle(m.mVertexBuffer2,"gems/star.png",d,5,c,b,f,.02,-1,-1,
k,n,0,0)}Tb.prototype.onAnimateInFinished.call(this,a)},onButtonClick:function(a){"uiBtOk"==a.name?this.close():Tb.prototype.onButtonClick.call(this,a)},dispose:function(){Ig.sInstance=null;Tb.prototype.dispose.call(this)},__class__:Ig});var Ye=function(a){X.call(this,null,a);this.XAnimMoveInClass=null;this.load("xml/news_tab.xml")};f["screens.NewsTab"]=Ye;Ye.__name__="screens.NewsTab";Ye.__super__=X;Ye.prototype=k(X.prototype,{__class__:Ye});var di=function(){L.call(this);this.load("xml/no_lifes_popup.xml");
this.block()};f["screens.NoLifesLeftPopUp"]=di;di.__name__="screens.NoLifesLeftPopUp";di.__super__=L;di.prototype=k(L.prototype,{onLoadComplete:function(){this.setText("uiTxtHeadText",N.supported?N.translate("SID_LEVEL_X",[h.get_instance().get_nextLevel()]):N.number(h.get_instance().get_nextLevel()));var a=h.config.buyables.extra_lifes,b=N.translate("SID_PLUS_X",[a.resources.lifes]);a=a.costs;a=null!=a?a.mtx:null;var d=this.find("uiBtContinue");d instanceof Aa&&(d=V.__cast(d,Aa),d.set_label(b),d.setText("uiTxtPrice",
N.number(a)));b=N.supported?"SID_REWARDED_AD_LIFE":"";d=this.find("uiBtWatch");d instanceof Aa&&V.__cast(d,Aa).set_label(b);this.registerXEventListener(h.get_instance(),"LIFE_TIMER_UPDATE",c(this,this.onLifeUpdate));this.onLifeUpdate();L.prototype.onLoadComplete.call(this)},onResourceUpdate:function(a){if("lifes"==a.resourceType||"tempUnlimitedLife"==a.resourceType)this.onLifeUpdate(a)},onLifeUpdate:function(a){a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=null;a=h.get_instance().getResource("lifes");
this.setText("uiTxtAmount",N.number(a));a<h.get_instance().get_maxLifes()?this.mLifeCountDown=(new Cc(h.get_instance().secondsNewLife(),this.findType("uiTxtCountDown",Ea))).start():this.setText("uiTxtCountDown","SID_FULL");this.setVisible("uiBtContinue",0==a);this.setVisible("uiBtStartGame",0!=a)},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtContinue":a=h.get_instance().buy("extra_lifes");var d=function(a){h.get_instance().consumeAllDelayedResources();b.startGame()},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,
y.instance.get_foreground().context));this.register(c);this.register(a.onComplete(function(a){null!=d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}));break;case "uiBtStartGame":this.startGame();break;default:L.prototype.onButtonClick.call(this,a)}},startGame:function(){this.close();u.get_instance().buttonAction("button:life:browse").onComplete(function(a){y.instance.addScreen(new td)})},dispose:function(){var a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=
null;L.prototype.dispose.call(this)},__class__:di});var oh=function(){this.mLocked=!1;this.mState=!0;L.call(this,"xml/no_moves_popup.xml");this.block()};f["screens.NoMovesLeftPopUp"]=oh;oh.__name__="screens.NoMovesLeftPopUp";oh.__super__=L;oh.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.registerXEventListener(t.get_instance().task,"Task::MORE_MOVES",c(this,this.onMoreMoves));var a="revive"+t.get_instance().task.revives,b=Math.round(100*Math.pow(2,t.get_instance().task.revives));
Object.prototype.hasOwnProperty.call(h.config.buyables,a)&&(b=w.field(h.config.buyables,a).costs.mtx);a=this.find("uiBtContinue");a instanceof Aa&&(a=V.__cast(a,Aa),a.set_label(""),a.setText("uiTxtPrice",N.number(b)));this.setText("uiTxtNumMoves",N.translate("SID_PLUS_X",[h.config.settings.movesPerRevive]));this.setVisible("uiBtContinue",5>=t.get_instance().task.revives);V.__cast(u.get_instance(),dd).reportEvent("EVENT_CUSTOM",{levelName:"level"+ia.ndigits(t.get_instance().level,4),event:"EVENT_LEVELFAIL",
score:t.get_instance().task.score,reason:"dead"});this.setVisible("uiBtRewardedAd",(u.get_instance().get_ads().rewardedAdAvailable||u.get_instance().get_ads().hasAdBlocker()||u.get_instance().get_ads().hasBadConsent())&&0==t.get_instance().task.revives);this.setText("uiTxtNumAdMoves",N.translate("SID_PLUS_X",[h.config.settings.moreMoves[0]]));b=h.get_instance().getStreak();this.setLocalState(0<b?"streak":"noStreak");this.setText("uiTxtStreak",N.number(b));h.get_instance().hasTemporaryBonus("tempUnlimitedLife")&&
this.setLocalState("unlimited")},onRewardedAd:function(a,b){this.setVisible("uiBtRewardedAd",!1);b.success&&(90<=100-t.get_instance().task.progress?u.get_instance().get_tracking().customEvent("level","revive-ad-after-almost-win",1):u.get_instance().get_tracking().customEvent("level","revive-ad",1),y.instance.transScreen(new Bf))},onMoreMoves:function(a){this.close()},failDone:function(){t.get_instance().leave();this.close();if("SERVER"!=t.get_instance().levelType&&"EDITOR"!=t.get_instance().levelType&&
0<h.get_instance().getResource("lifes"))if(7<=h.get_instance().get_nextLevel()){if(u.get_instance().get_payment().allow&&!h.get_instance().hasTemporaryBonus("tempUnlimitedLife")){if(0<h.get_instance().attempts&&0==h.get_instance().attempts%8){y.instance.addScreen(new ji("package_progress"));return}if(1==h.get_instance().getResource("lifes")&&!h.get_instance().lastLevelWon){y.instance.addScreen(new ji("package_lifes"));return}}u.get_instance().buttonAction("button:fail:restart").onComplete(function(a){y.instance.addScreen(new td)})}else u.get_instance().buttonAction("button:fail:main")},
onButtonClick:function(a){var b=this;if(!this.mLocked)switch(a.name){case "uiBtClose":if(this.mState&&(!h.get_instance().hasTemporaryBonus("tempUnlimitedLife")||0<h.get_instance().getStreak()))this.mState=!1,this.setVisible("uiContinue",this.mState),this.setVisible("uiQuit",!this.mState),this.set_label(this.mState?"SID_OH_NO":"SID_GIVE_UP");else{a=t.get_instance().task.score;e.get_instance().play("sound/bad.mp3",0,1,1);var d=sb.get_instance();d.loggedIn&&d.sendEvent(13,{endGame:!1},!1);u.get_instance().levelFailed(t.get_instance().level,
{reason:"dead",surrender:!0,score:a}).onComplete(function(a){b.failDone()})}break;case "uiBtContinue":this.mLocked=!0;a=h.get_instance().buy("revive"+t.get_instance().task.revives);var c=function(a){b.close();90<=100-t.get_instance().task.progress?u.get_instance().get_tracking().customEvent("level","revive-after-almost-win",1):u.get_instance().get_tracking().customEvent("level","revive",1);t.get_instance().revive(h.config.settings.movesPerRevive)},f=function(a){b.mLocked=!1},g=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,
y.instance.get_foreground().context));this.register(g);this.register(a.onComplete(function(a){null!=c&&c(a);null!=g&&g.dispose()}).onError(function(a){null!=f&&f(a);null!=g&&g.dispose()}));break;default:L.prototype.onButtonClick.call(this,a)}},__class__:oh});var ei=function(){L.call(this,"xml/not_enough_resources_popup.xml");this.block()};f["screens.NotEnoughResourcesPopUp"]=ei;ei.__name__="screens.NotEnoughResourcesPopUp";ei.__super__=L;ei.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);
this.setText("uiTextHelp",u.get_instance().get_payment().allow?"SID_NOT_ENOUGH_GOLD_BUY_SOME":"SID_NOT_ENOUGH_GOLD");var a=this.find("uiImgRewardConti");if(null!=a){var b=this.context,d=h.get_instance().getRewardGold(),c={};c.mtx=d;a.addChild(new Ub(b,c))}this.updateRewardButton()},updateRewardButton:function(a){null!=this.mRewardCountDown&&(this.releaseXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateRewardButton)),a=this.mRewardCountDown,null!=a&&a.dispose());
a=h.get_instance().getNextRewardTime()/1E3;0<a?(this.mRewardCountDown=(new Cc(a,this.findType("uiTxtCountDown",Ea))).start(),this.registerXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateRewardButton)),a=this.find("uiRewardedAd"),null!=a&&(a.enabled=!1,a.setLocalState("disabled"))):(a=this.find("uiRewardedAd"),null!=a&&(a.enabled=!0,a.setLocalState("enabled")),this.setText("uiTxtCountDown",""))},onRewardedAd:function(a,b){var d=this;L.prototype.onRewardedAd.call(this,
a,b);b.success&&(u.get_instance().get_tracking().customEvent("rewarded","fetchMTX2",1),h.get_instance().fetchReward().onComplete(function(b){d.updateRewardButton();null!=a&&(b=a.find("uiImgIcon"),null!=b&&b.pulse())}))},onButtonClick:function(a){"uiBtShop"==a.name?y.instance.transScreen(new Hc):L.prototype.onButtonClick.call(this,a)},__class__:ei});var fi=function(a){this.mStartTime=this.mAniCount=0;this.mType=a;L.call(this,"xml/open_chest_popup.xml")};f["screens.OpenChestScreen"]=fi;fi.__name__=
"screens.OpenChestScreen";fi.__super__=L;fi.prototype=k(L.prototype,{onLoadComplete:function(){var a=this;this.setText("uiTxtHeadText","star"==this.mType?"SID_STAR_CHEST":"SID_LEVEL_CHEST");var b="star"==this.mType?"star_chest_open":"chest_open",d=this.find("uiImgChest");null!=d&&d instanceof G&&d.set_image("ui/"+b+".png");b="star"==this.mType?"star_chest_open_front":"chest_open_front";d=this.find("uiImgChestFront");null!=d&&d instanceof G&&d.set_image("ui/"+b+".png");b=h.get_instance().openChest(this.mType);
var f=function(b){var d=a.find("uiOpenLayer");if(null!=d){d.set_visible(!0);d.update();b=b.rewards;a.find("uiImgChest");for(d=0;3>d;){var f=d++,l=b[f];if(null!=l){var h=qa.createInstanceFromString('<element template="tSpot"/>',a.context);h.find("uiContainer").addChild(new Ub(a.context,l));l=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];l.x=20*(f-1);l.y=70;var p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];p.x=20*(f-1);p.y=70;p={duration:.8,scale:.5,pos:p,bezier:{pos:new g(0,-650),scale:1.6,angle:-90}};var m=
-270+50*Math.abs(f-1),k=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];k.x=240*(f-1);k.y=m;f=[{delay:.4*(f+1),duration:.1,scale:.5,pos:l,event:"onAnimationStart"},p,{duration:.1,pos:k,sound:"sound/snap0.mp3",event:"onAnimationEnd"}];if(null!=f)for(l=0;l<f.length;)p=new mf(f[l++]),null==h.tweens&&(h.tweens=[]),h.tweens.push(p);a.find("uiAnimations").addChild(h,0);a.registerXEventListener(h,mf.EVENT,c(a,a.onTweenEvent))}}e.get_instance().play("sound/win.mp3",0,1,1);a.mStartTime=C.timer}},p=function(b){a.setVisible("uiBtClose",
!0);b=a.context;a.setTemplate("uiImgBg",null!=b?b.getTemplate("tBG"):null);a.setVisible("uiInfoLayer",!0);a.setText("uiTxtInfo","star"==a.mType?"SID_STAR_CHEST_INFO":N.translate("SID_LEVEL_CHEST_INFO",[Math.round(h.get_instance().get_levelPerChest()-h.get_instance().getResource("chestLevel"))]));var d="star"==a.mType?"star_chest":"chest";b=a.find("uiImgChest2");null!=b&&b instanceof G&&b.set_image("ui/"+d+".png");"star"==a.mType?(d=Math.round(h.get_instance().getVisibleResource("chestStars")),a.setText("uiTxtProgress",
N.translate("SID_X_OF_Y",[Math.min(d,h.get_instance().get_starsPerChest()),h.get_instance().get_starsPerChest()])),b=a.find("uiImgProgress"),d=Math.min(d,h.get_instance().get_starsPerChest())/h.get_instance().get_starsPerChest(),b.relativeWidth!=d&&b.invalidate(),b.relativeWidth=d,a.setVisible("uiImgStar",!0)):(d=Math.round(h.get_instance().getVisibleResource("chestLevel")),a.setText("uiTxtProgress",N.translate("SID_X_OF_Y",[Math.min(d,h.get_instance().get_levelPerChest()),h.get_instance().get_levelPerChest()])+
" "+N.translate("SID_LEVEL_SHORT",null)),b=a.find("uiImgProgress"),d=Math.min(d,h.get_instance().get_levelPerChest())/h.get_instance().get_levelPerChest(),b.relativeWidth!=d&&b.invalidate(),b.relativeWidth=d,a.setVisible("uiImgStar",!1))},m=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(m);this.register(b.onComplete(function(a){null!=f&&f(a);null!=m&&m.dispose()}).onError(function(a){null!=p&&p(a);null!=
m&&m.dispose()}));this.block();L.prototype.onLoadComplete.call(this)},onTweenEvent:function(a){switch(a.data){case "onAnimationEnd":a=V.__cast(a.target,ca);null!=a&&(a.setPulse("uiContainer"),a.setVisible("uiGlow",!0));3==++this.mAniCount&&(a=this.find("uiBtCollect"),null!=a&&(a.set_visible(!0),a.update(),a.pulse()));break;case "onAnimationStart":a=this.find("uiImgChest"),null!=a&&a.addAnimation(new Qd),a=this.find("uiImgChestFront"),null!=a&&a.addAnimation(new Qd)}},onButtonClick:function(a){"uiBtCollect"==
a.name?this.close():L.prototype.onButtonClick.call(this,a)},dispose:function(){this.mType=null;L.prototype.dispose.call(this)},__class__:fi});var Jj=function(){X.call(this,"xml/player_chat_channel_tab.xml");this.XAnimMoveOutClass=this.XAnimMoveInClass=null;this.uid=h.get_instance().get_uid()};f["screens.PlayerChatChannelTab"]=Jj;Jj.__name__="screens.PlayerChatChannelTab";Jj.__super__=X;Jj.prototype=k(X.prototype,{onLoadComplete:function(){X.prototype.onLoadComplete.call(this);var a=this.findType("uiListChat",
Lb);if(null!=a){a.clear();var b=Za.get_instance().chats,d=w.fields(b);if(null!=d){var c=Za.get_instance().getChatIdByUid("jenny");-1==d.indexOf(c)&&a.addContainer(new hg(this.context,c,{last:C.get_now().getTime(),members:{jenny:!0}}));for(c=0;c<d.length;){var e=d[c];++c;var f=w.field(b,e);w.isObject(f)&&Object.prototype.hasOwnProperty.call(f,"teamChat")&&w.field(f,"teamChat")||a.addContainer(new hg(this.context,e,f))}}a.sort()}},onList:function(a,b){"uiListChat"==a.name&&b instanceof hg?null!=b&&
y.instance.addScreen(new lh(b.uid,!b.team)):X.prototype.onList.call(this,a,b)},dispose:function(){this.uid=null;X.prototype.dispose.call(this)},__class__:Jj});var ec=function(a,b){null==b&&(b=0);this.idx=-1;this.mPreselection=b;L.call(this,a)};f["screens.TabScreen"]=ec;ec.__name__="screens.TabScreen";ec.__super__=L;ec.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.setTab(this.mPreselection)},onButtonClick:function(a){"uiBtTab"==a.name?this.setTab(a.data.idx):
L.prototype.onButtonClick.call(this,a)},setTab:function(a){if(this.idx!=a){this.idx=a;for(var b=null,d=0;10>d;){var c=d++,e=this.find("uiBGTab"+c);null!=e&&(e.setLocalState(c==a?"enabled":"disabled"),c==a&&(c=e.findType("uiBtTab",Aa),null!=c&&(b=c.data.tag)))}this.setLocalState("tab"+(null==a?"null":""+a));if(null!=b)this.onTagChanged(b);this.onTabChanged(a)}},setupTab:function(a,b,d){var c=this.find("uiBGTab"+a);if(null!=c){c.set_visible(!0);var e=c.findType("uiBtTab",Aa);if(null!=e){var f=e.find("uiImgTabIcon");
null!=f&&f instanceof G&&f.set_image(b);e.data={idx:a,tag:d}}}return c},onTabChanged:function(a){},onTagChanged:function(a){},close:function(){L.prototype.close.call(this)},__class__:ec});var cc=function(a,b){this.mPresetTab=null;var d=this;ec.call(this);this.mPresetTab=b;this.uid=a;this.chatId=Za.get_instance().getChatIdByUid(this.uid);this.self=this.uid==h.get_instance().get_uid();ba.instance.read("users/"+this.uid+"/public",function(a){d.playerData=a;d.load("xml/player_details.xml")});this.block()};
f["screens.PlayerDetails"]=cc;cc.__name__="screens.PlayerDetails";cc.__super__=ec;cc.prototype=k(ec.prototype,{onLoadComplete:function(){ec.prototype.onLoadComplete.call(this);"jenny"==this.uid&&(this.setVisible("uiStats",!1),this.setVisible("uiBtUnblock",!1),this.setVisible("uiBtBlock",!1));if(this.self){this.setTab(null==this.mPresetTab?0:this.mPresetTab);var a=Za.get_instance(),b=c(this,this.onChatUpdate);b(null);this.registerXEventListener(a,"ChatManager::UPDATE",b);this.registerXEventListener(this.findType("uiTxtGlobalNumUnread",
Ea),"XText::UPDATE_WIDTH",c(this,this.onNumReadTextChange))}else a=Za.get_instance(),b=c(this,this.updateBlock),b(null),this.registerXEventListener(a,"ChatManager::BLOCK_UPDATE",b);a=h.get_instance();b=c(this,this.updateTeam);b(null);this.registerXEventListener(a,"TEAM_UPDATE",b);this.registerXEventListener(ba.instance,"FirebaseManager::SIGN_OUT_EVENT",c(this,this.onSignOut))},onSignOut:function(a){this.close()},updateTeam:function(a){a=this.self&&(null==h.get_instance().teamId||2==this.mPresetTab);
this.setVisible("uiBGTab2",a);a||2!=this.idx||this.close()},updateBlock:function(a){"jenny"==this.uid||null!=a&&a.data.chatId!=this.chatId||(this.setLocalState(Za.get_instance().isBlocked(this.chatId)?"blocked":"unblocked"),a=this.find("uiBtUnblock"),null!=a&&(a.enabled=!0,a.setLocalState("enabled")),a=this.find("uiBtBlock"),null!=a&&(a.enabled=!0,a.setLocalState("enabled")))},onNumReadTextChange:function(a){a=a.data+20;var b=this.find("uiImgNumUnread");null!=b&&(b.width!=a&&b.invalidate(),null!=
b.relativeWidth&&b.invalidate(),b.relativeWidth=null,b.width=a)},onChatUpdate:function(a){a=Za.get_instance().getNumUnread();this.setVisible("uiUnread",0<a);this.setText("uiTxtGlobalNumUnread",0==a?"":N.number(a))},onTabChanged:function(a){this.setVisible("uiDetails",0==a);var b=this.find("uiTabHook");if(null!=b)switch(b.removeAllChildren(),a){case 0:this.updateDetails();break;case 1:b.addChild(new Jj);break;case 2:b.addChild(new Nd(this))}},updateDetails:function(){var a=this;this.setLocalState("init");
this.setLocalState(this.self?"self":"default");h.get_instance().getVCard(this.uid,!0).onComplete(function(b){a.vcard=b;var d=c(a,a.onVCardUpdate);d(null);a.registerXEventListener(b,"VCard::UPDATE",d);a.setLocalState(null!=h.get_instance().teamId&&1>=h.get_instance().teamRank&&h.get_instance().teamId!=b.teamId?"invite":"noInvite")})},openEditAvatar:function(){y.instance.addScreen(new ud)},onVCardUpdate:function(a){if(null!=this.vcard){a=this.find("uiDetails").findType("uiPlayer",$b);null!=a&&(this.self?
(a.overrideClick=c(this,this.openEditAvatar),a.clickable=!0):(a.overrideClick=null,a.clickable=!1),this.vcard.applyPlayerData(a,!0));a=aa.getFlagIconX(this.vcard.cid);var b=this.find("uiImgBtnFlag");null!=b&&b instanceof G&&b.set_image(a);a=null==this.vcard.cid||"X"==this.vcard.cid;b=this.find("uiBtFlag");null!=b&&b instanceof G&&b.set_image(a?"ui/SquareButton.png":null);this.setFieldText("uiImgTournamentsWon",null!=this.playerData?N.translate("SID_X_OF_Y",[this.vcard.tournamentsWon,this.playerData.tournaments]):
N.number(this.vcard.tournamentsWon));a=this.find("uiDetails");null!=a&&a.setText("uiTxtPlayerName",this.self?ba.instance.name:this.vcard.name);a=this.findType("uiBtTeam",xc);null!=a&&a.set_id(this.vcard.teamId)}null!=this.playerData&&(this.setText("uiTxtLastOnline",N.translate("SID_LAST_ONLINE",null)+" "+ya.format(new Date(this.playerData.lastOnlineTime),N.translate("SID_DATE",null))),this.setFieldText("uiImgScore",N.number(this.playerData.score)),this.setFieldText("uiImgBest",N.number(this.playerData.bestLevel)),
this.setFieldText("uiImgStars",N.number(this.playerData.stars)),this.setFieldText("uiImgWon",N.translate("SID_X_OF_Y",[this.playerData.wins,this.playerData.games])),this.setFieldText("uiImgRatio",N.percentage(100*this.playerData.wins/Math.max(1,this.playerData.games))),null!=this.playerData.desc&&""!=this.playerData.desc&&(this.setLocalState("desc"),this.setText("uiTxtPlayerDesc",this.playerData.desc)))},setFieldText:function(a,b){a=this.find(a);null!=a&&a.setText("uiTxtAmount",b)},onButtonClick:function(a){var b=
this;switch(a.name){case "uiBtBlock":a=Za.get_instance();a.blockChannel(a.getChatIdByUid(this.uid));a=this.find("uiBtBlock");null!=a&&(a.enabled=!1,a.setLocalState("disabled"));break;case "uiBtChat":ba.instance.signedIn?y.instance.addScreen(new lh(this.uid)):y.instance.addScreen(new re);break;case "uiBtEditDesc":if(this.self)Hg.create("SID_ENTER_PLAYER_DESC_LABEL",null!=this.playerData.desc?this.playerData.desc:"","SID_ENTER_NICE_DESC").onComplete(function(a){h.get_instance().setPlayerDescription(b.playerData.desc=
a);b.updateDetails();b.setText("uiTxtPlayerDesc",a)});break;case "uiBtFlag":this.self&&y.instance.addScreen(new $h);break;case "uiBtLogOut":this.close();ba.instance.signOut();break;case "uiBtOk":break;case "uiBtTeamInvite":a=h.get_instance().teamInvite(this.uid);var d=function(a){b.setLocalState("noInvite")},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(c);this.register(a.onComplete(function(a){null!=
d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}));break;case "uiBtUnblock":a=Za.get_instance();a.unblockChannel(a.getChatIdByUid(this.uid));a=this.find("uiBtUnblock");null!=a&&(a.enabled=!1,a.setLocalState("disabled"));break;default:ec.prototype.onButtonClick.call(this,a)}},onList:function(a,b){"uiListChat"==a.name&&b instanceof hg?null!=b&&y.instance.addScreen(new lh(b.uid)):ec.prototype.onList.call(this,a,b)},dispose:function(){this.vcard=this.chatId=this.uid=this.playerData=
null;ec.prototype.dispose.call(this)},__class__:cc});var id=ra["screens.PopUpResult"]={__ename__:"screens.PopUpResult",__constructs__:null,YES:{_hx_name:"YES",_hx_index:0,__enum__:"screens.PopUpResult",toString:r},NO:{_hx_name:"NO",_hx_index:1,__enum__:"screens.PopUpResult",toString:r}};id.__constructs__=[id.YES,id.NO];var gi=function(){wa.call(this);this.block();this.load("xml/profile_list.xml")};f["screens.ProfileList"]=gi;gi.__name__="screens.ProfileList";gi.__super__=wa;gi.prototype=k(wa.prototype,
{onLoadComplete:function(){var a=u.get_instance(),b=c(this,this.onProfileChange);b(null);this.registerXEventListener(a,"Integration::PROFILE_ADD_EVENT",b);wa.prototype.onLoadComplete.call(this)},onProfileChange:function(a){this.updateDisplay()},updateDisplay:function(){var a=this.findType("uiList",Lb);if(null!=a){a.clear();for(var b=u.get_instance().profiles,d=0;d<b.length;)this.addEntry(b[d++]);a.addContainer(new Qa(this.context))}},addEntry:function(a){var b=this.findType("uiList",Lb);null!=b&&
null!=a&&b.addContainer(new Qa(this.context,a))},onButtonClick:function(a){var b=this,d=a.data;null!=d&&"uiBtDelete"==a.name&&y.instance.addScreen(Tb.createOkPopUp("SID_ATTENTION","SID_REALLY_DELETE_PROFILE",function(a){a==id.YES&&(a=d.profile,null!=a&&(u.get_instance().deleteProfile(a.id),a=b.findType("uiList",Lb),null!=a&&a.removeContainer(d)))}));wa.prototype.onButtonClick.call(this,a)},onList:function(a,b){if(null!=b){var d=b.profile;null==d?(ia.createGUID(),y.instance.addScreen(new ae(ia.createGUID(),
null,null))):(d=d.id,u.get_instance().activateProfile(d),this.close())}wa.prototype.onList.call(this,a,b)},__class__:gi});var Ze=function(){L.call(this);Ze.sInstance=this;this.load("xml/quit_level_popup.xml");this.block()};f["screens.QuitLevelPopUp"]=Ze;Ze.__name__="screens.QuitLevelPopUp";Ze.__super__=L;Ze.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.setLevel(t.get_instance().level);this.setVisible("uiImgLoseLife",!h.get_instance().hasTemporaryBonus("tempUnlimitedLife"));
var a=h.get_instance().getStreak();this.setLocalState(0<a?"streak":"noStreak");this.setText("uiTxtStreak",N.number(a))},quit:function(a){null==a&&(a=!1);var b=this;this.setVisible("uiBtClose",!1);this.setVisible("uiBtQuit",!1);e.get_instance().play("sound/bad.mp3",0,1,1);var d=t.get_instance().task.score;t.get_instance().leave();h.get_instance().streakAtLevelStart=0;var c=sb.get_instance();c.loggedIn&&c.sendEvent(13,{endGame:!1},!1);this.close();oa.wait([u.get_instance().buttonAction("button:ingame:quit"),
u.get_instance().levelFailed(t.get_instance().level,{reason:"quit",score:d})]).onComplete(function(d){a&&y.instance.addScreen(new td);b.close()})},onButtonClick:function(a){"uiBtQuit"==a.name?this.quit():L.prototype.onButtonClick.call(this,a)},close:function(){Ze.sInstance=null;L.prototype.close.call(this)},__class__:Ze});var hi=function(a){this.mHelpText=a;L.call(this,"xml/screen_help.xml");this.block()};f["screens.ScreenHelp"]=hi;hi.__name__="screens.ScreenHelp";hi.show=function(a){null!=a&&y.instance.addChild(new hi(a))};
hi.__super__=L;hi.prototype=k(L.prototype,{onLoadComplete:function(){this.setText("uiTxtScreenHelp",this.mHelpText);L.prototype.onLoadComplete.call(this)},onButtonClick:function(a){"uiBtOk"==a.name?this.close():L.prototype.onButtonClick.call(this,a)},dispose:function(){this.mHelpText=null;L.prototype.dispose.call(this)},__class__:hi});var Hc=function(a){this.mParticles=null;ec.call(this);this.long=!0;Hc.sInstance=this;this.mAllowShop=!1;this.block();this.mTrackingData=a;u.get_instance().get_tracking().customEvent("shop",
"open_"+a,1);this.load("xml/shop.xml")};f["screens.Shop"]=Hc;Hc.__name__="screens.Shop";Hc.__super__=ec;Hc.prototype=k(ec.prototype,{onLoadComplete:function(){var a=0;u.get_instance().get_payment().allow&&(a=1,this.setupTab(0,"dynamic/shop_icon.png","shop"));this.setupTab(a++,"dynamic/bag.png","items");1<=h.get_instance().get_nextLevel()&&u.get_instance().get_ads().allowRewarded&&(a=this.setupTab(a++,"ui/movie.png","ads"),null!=a&&(a=a.find("uiImgTabIcon"),null!=a&&a.addChild(qa.createInstanceFromString('<image template="tInfoMarker"/>',
this.context))));ec.prototype.onLoadComplete.call(this);a=u.get_instance().get_payment();var b=c(this,this.onDiscountUpdate);b(null);this.registerXEventListener(a,"PaymentManager:DISCOUNT",b);this.updateRewardedAdIndicator()},onResourceUpdate:function(a){ec.prototype.onResourceUpdate.call(this,a);"lastReward"==a.resourceType&&this.updateRewardedAdIndicator()},updateRewardedAdIndicator:function(a){null!=this.mRewardCountDown&&(this.releaseXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",
c(this,this.updateRewardedAdIndicator)),a=this.mRewardCountDown,null!=a&&a.dispose());a=h.get_instance().getNextRewardTime()/1E3;var b=0>=a&&u.get_instance().get_ads().rewardedAdAvailable;0<a&&(this.mRewardCountDown=(new Cc(a)).start(),this.registerXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateRewardedAdIndicator)));this.setVisible("uiImgAdAvaiableInfoMarker",b)},onTagChanged:function(a){var b=this.find("uiContent");if(null!=b)switch(b.removeAllChildren(),
a){case "ads":b.addChild(new Ge);break;case "items":b.addChild(new Kj);break;case "shop":b.addChild(new Lj(this.mTrackingData))}},onMoveInFinished:function(a){h.get_instance().consumeAllDelayedResources();ec.prototype.onMoveInFinished.call(this,a)},draw:function(){null!=this.mParticles&&this.mParticles.draw();ec.prototype.draw.call(this)},onDiscountUpdate:function(a){u.get_instance().get_payment().hasDiscount()?(u.get_instance().get_tracking().customEvent("shop","discount",1),this.setVisible("uiPaymentStars",
!0),null==this.mParticles&&(this.mParticles=new rf)):(a=this.mParticles,null!=a&&a.dispose(),this.mParticles=null,this.setVisible("uiPaymentStars",!1))},close:function(){this.mTrackingData=Hc.sInstance=null;var a=this.mRewardCountDown;null!=a&&a.dispose();this.mRewardCountDown=null;a=this.mParticles;null!=a&&a.dispose();this.mParticles=null;ec.prototype.close.call(this)},__class__:Hc});var Ge=function(a){X.call(this);this.XAnimMoveOutClass=this.XAnimMoveInClass=null;this.load("xml/shop_tab_ads.xml")};
f["screens.ShopTabAds"]=Ge;Ge.__name__="screens.ShopTabAds";Ge.__super__=X;Ge.prototype=k(X.prototype,{onLoadComplete:function(){X.prototype.onLoadComplete.call(this);var a=this.find("uiImgRewardConti");null!=a&&(a.removeAllChildren(),a.addChild(new Ub(this.context,h.config.settings.adReward)));this.updateRewardButton()},updateRewardButton:function(a){a=this.find("uiBtRewardedAd");if(null!=a){if(null!=this.mRewardCountDown){this.releaseXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",
c(this,this.updateRewardButton));var b=this.mRewardCountDown;null!=b&&b.dispose()}b=h.get_instance().getNextRewardTime()/1E3;var d=0>=b&&u.get_instance().get_ads().rewardedAdAvailable;0<b?(this.mRewardCountDown=(new Cc(b,a.findType("uiTxtGoldCountDown",Ea))).start(),this.registerXEventListener(this.mRewardCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.updateRewardButton))):a.setText("uiTxtAmount","SID_COLLECT");y.instance.setVisible("uiImgAdAvaiableInfoMarker",d)}},onButtonClick:function(a){var b=
this;if("uiBtRewardedAd"==a.name){if(h.get_instance().isRewardAvailable())if(!u.get_instance().get_ads().rewardedAdAvailable&&u.get_instance().get_ads().hasAdBlocker())y.instance.addScreen(Tb.createOkPopUp("SID_ATTENTION","SID_PLEASE_REMOVE_ADBLOCKER"));else if(u.get_instance().get_ads().hasBadConsent())y.instance.addScreen(Tb.createXPopUp(function(a){a.setText("uiTxtHeadText","SID_ATTENTION");a.setText("uiTxtMessage","SID_BAD_CONSENT");a=a.find("uiBtPopupOk");a instanceof Aa&&V.__cast(a,Aa).set_label("SID_CHANGE")},
function(a){if(a.result==id.YES){var d=u.get_instance().forcePrivacyForm(),c=function(b){u.get_instance().get_ads().startAdSystem(b);a.close()},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));b.register(e);b.register(d.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))}else a.close()}));else if(u.get_instance().get_ads().rewardedAdAvailable)u.get_instance().get_ads().showRewardedAd().onComplete(function(d){if(d.success){u.get_instance().get_tracking().customEvent("rewarded",
"fetchMTX",1);d=h.get_instance().fetchReward();var c=function(d){b.updateRewardButton();null!=a&&(d=a.find("uiImgIcon"),null!=d&&d.pulse())},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));b.register(e);b.register(d.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))}}).onError(function(a){$e.show(a)});else y.instance.addScreen(Tb.createOkPopUp("SID_ATTENTION","SID_NO_REWARDED_AD_AVAILABLE",
null,function(a){1E3!=a.height&&a.invalidate();null!=a.relativeHeight&&a.invalidate();a.relativeHeight=null;a.height=1E3}))}else X.prototype.onButtonClick.call(this,a)},close:function(){var a=this.mRewardCountDown;null!=a&&a.dispose();this.mRewardCountDown=null;X.prototype.close.call(this)},__class__:Ge});var Kj=function(a){X.call(this);this.XAnimMoveOutClass=this.XAnimMoveInClass=null;this.load("xml/shop_tab_items.xml")};f["screens.ShopTabItems"]=Kj;Kj.__name__="screens.ShopTabItems";Kj.__super__=
X;Kj.prototype=k(X.prototype,{hasTempBonus:function(){for(var a=0,b=Zk;a<b.length;){var d=b[a];++a;if("tempUnlimitedLife"!=d&&h.get_instance().hasTemporaryBonus(d))return!0}return!1},onLoadComplete:function(){X.prototype.onLoadComplete.call(this);var a=this.findType("uiListItems",Lb);null!=a&&(a.addContainer(new th(this.context,"tShopLink",1E3)),a.addContainer(new th(this.context,"tShopLink2",1001)),this.hasTempBonus()&&a.addContainer(new Qi(this.context,"tShopLinkTemp",1002)))},onButtonClick:function(a){switch(a.name){case "uiBtBuyBreaker":y.instance.addScreen(new sd("starterLine"));
break;case "uiBtBuyColumn":y.instance.addScreen(new sd("columnHit"));break;case "uiBtBuyOrb":y.instance.addScreen(new sd("starterOrb"));break;case "uiBtBuyRow":y.instance.addScreen(new sd("rowHit"));break;case "uiBtBuySingle":y.instance.addScreen(new sd("singleHit"));break;case "uiBtBuySkunk":y.instance.addScreen(new sd("starterSkunk"));break;case "uiBtBuySwizzle":y.instance.addScreen(new sd("swizzle"));break;default:X.prototype.onButtonClick.call(this,a)}},close:function(){X.prototype.close.call(this)},
__class__:Kj});var Lj=function(a){this.mOfferSelectionHead=this.mOfferUnfoldContainer=null;this.mContainerlist=[];this.mItemlist=null;var b=this;X.call(this);this.mTrackingData=a;this.XAnimMoveOutClass=this.XAnimMoveInClass=null;u.get_instance().get_payment().allow?(u.get_instance().get_tracking().customEvent("shop",null!=u.get_instance().get_payment().discount?"shop_discount":"shop",1),h.get_instance().listenToShopEvents().onError(function(a){Tc.dispose(b)}).onComplete(function(a){u.get_instance().get_tracking().customEvent("shop",
"open_payment",1);a=u.get_instance().get_payment().getList();var d=function(a){b.mItemlist=a;b.load("xml/shop_tab_payment.xml")},c=function(a){b.load("xml/shop_tab_payment.xml")},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));b.register(e);b.register(a.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=c&&c(a);null!=e&&e.dispose()}))})):this.load("xml/shop_tab_payment.xml")};f["screens.ShopTabPayment"]=
Lj;Lj.__name__="screens.ShopTabPayment";Lj.__super__=X;Lj.prototype=k(X.prototype,{onLoadComplete:function(){X.prototype.onLoadComplete.call(this);var a=this.findType("uiListPackages",Lb);if(null!=a){var b=null!=h.get_instance().packageData?h.get_instance().packageData:h.config.buyables;if(null!=this.mItemlist){for(var d=0!=h.get_instance().getResource("starter_package"),c=0,e=this.mItemlist;c<e.length;){var f=e[c];++c;var g=f.sku;Object.prototype.hasOwnProperty.call(b,g)&&1==w.field(b,g).shop&&("starter_package"!=
g&&"package_01"!=g||"starter_package"==g&&!d||"package_01"==g&&d)&&this.mContainerlist.push(new ni(this.context,f))}this.mOfferSelectionHead=a.addContainer(new Na(this.context,"tOfferSelection",0));b=this.mContainerlist;c=[];for(e=0;e<b.length;)f=b[e],++e,f.packageId==(d?"package_03":"starter_package")&&c.push(f);d=c[0];null!=d&&(a.addContainer(d),E.remove(this.mContainerlist,d));b=this.mContainerlist;c=[];for(e=0;e<b.length;)f=b[e],++e,"mtx_package_01"==f.packageId&&c.push(f);d=c[0];null!=d&&(a.addContainer(d),
E.remove(this.mContainerlist,d));b=this.mContainerlist;c=[];for(e=0;e<b.length;)f=b[e],++e,"mtx_package_03"==f.packageId&&c.push(f);d=c[0];null!=d&&(a.addContainer(d),E.remove(this.mContainerlist,d));this.mOfferUnfoldContainer=a.addContainer(new Na(this.context,"tOfferUnfold",100));a.sort()}}},onList:function(a,b){if(b instanceof ni){u.get_instance().get_tracking().customEvent("shop","click",1);var d=u.get_instance().get_payment().buy(b.packageId,{}),c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,
y.instance.get_foreground().context));this.register(c);this.register(d.onComplete(function(a){null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))}else{d=this.mOfferUnfoldContainer;null!=d&&d.dispose();this.mOfferUnfoldContainer=null;d=this.mOfferSelectionHead;null!=d&&d.dispose();for(this.mOfferSelectionHead=null;0<this.mContainerlist.length;)a.addContainer(this.mContainerlist.pop());a.sort()}X.prototype.onList.call(this,a,b)},close:function(){this.mOfferUnfoldContainer=this.mOfferSelectionHead=
this.mItemlist=null;X.prototype.close.call(this)},__class__:Lj});var $e=function(a,b){this.mDuration=5;this.mMessage=N.translate(null==b?"null":""+b,null);X.call(this,a);this.mStartTick=C.timer};f["screens.ShortInfo"]=$e;$e.__name__="screens.ShortInfo";$e.show=function(a){a=new $e("xml/shortInfo.xml",a);y.instance.get_foreground().addChild(a);return a};$e.__super__=X;$e.prototype=k(X.prototype,{onLoadComplete:function(){this.setText("uiTxtMessage",this.mMessage);X.prototype.onLoadComplete.call(this)},
onScreenSizeChanged:function(){var a=1>q.instance.ratio?1.7:1;this.scale!=a&&this.invalidate();this.scale=a},update:function(){X.prototype.update.call(this);var a=Math.min(1,Math.max(0,this.mStartTick+this.mDuration-C.timer));this.alpha!=a&&this.invalidate();this.alpha=a;0>=a&&Tc.dispose(this)},dispose:function(){this.mMessage=null;X.prototype.dispose.call(this)},__class__:$e});var re=function(a){null==a&&(a=!0);this.mTrackingText=null;this.mBackToMain=a;L.call(this,"xml/sign_in_popup.xml")};f["screens.SignInPopUp"]=
re;re.__name__="screens.SignInPopUp";re.__super__=L;re.prototype=k(L.prototype,{onLoadComplete:function(){this.block();u.get_instance().get_tracking().customEvent("register","show_screen",1);this.find("uiRewardConti").addChild(new Ub(this.context,h.config.settings.registerReward));this.find("uiRewardConti2").addChild(new Ub(this.context,h.config.settings.registerReward2));this.find("uiRewardConti3").addChild(new Ub(this.context,h.config.settings.registerReward3));dc.instance.hideJenny("register");
this.setText("uiTxtRegisterText",this.mBackToMain?"SID_REGISTER_TEXT":"SID_REGISTER_TO_BUY");L.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtApple":this.mTrackingText="apple";u.get_instance().get_tracking().customEvent("register","click_apple",1);a=ba.instance.signIn(Jc.APPLE);var b=c(this,this.onResult),d=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(d);this.register(a.onComplete(function(a){null!=
b&&b(a);null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}));break;case "uiBtEmail":u.get_instance().get_tracking().customEvent("register","click_email",1);y.instance.transScreen(new Ki);break;case "uiBtFacebook":this.mTrackingText="facebook";u.get_instance().get_tracking().customEvent("register","click_facebook",1);a=ba.instance.signIn(Jc.FACEBOOK);var e=c(this,this.onResult),f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));
this.register(f);this.register(a.onComplete(function(a){null!=e&&e(a);null!=f&&f.dispose()}).onError(function(a){null!=f&&f.dispose()}));break;case "uiBtGoogle":this.mTrackingText="google";u.get_instance().get_tracking().customEvent("register","click_google",1);a=ba.instance.signIn(Jc.GOOGLE);var g=c(this,this.onResult),h=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(h);this.register(a.onComplete(function(a){null!=
g&&g(a);null!=h&&h.dispose()}).onError(function(a){null!=h&&h.dispose()}));break;case "uiBtMSN":this.mTrackingText="msn";u.get_instance().get_tracking().customEvent("register","click_msn",1);a=u.get_instance().platformLogin();var m=c(this,this.onResult),k=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(k);this.register(a.onComplete(function(a){null!=m&&m(a);null!=k&&k.dispose()}).onError(function(a){null!=
k&&k.dispose()}));break;case "uiBtTerms":ia.openURL("https://famobi.com/terms-of-service");break;default:L.prototype.onButtonClick.call(this,a)}},onResult:function(a){null!=a&&u.get_instance().get_tracking().customEvent("register","success_"+this.mTrackingText,1);this.close()},dispose:function(){dc.instance.showJenny("register");this.mTrackingText=null;L.prototype.dispose.call(this)},__class__:re});var He=function(){this.mIndex=0;X.call(this);this.load("xml/slider_popup.xml")};f["screens.SliderPopUp"]=
He;He.__name__="screens.SliderPopUp";He.__super__=X;He.prototype=k(X.prototype,{onLoadComplete:function(){this.mBgContainer=this.find("uiBgContainer");this.setIndex(1);X.prototype.onLoadComplete.call(this)},onScreenSizeChanged:function(){var a=q.instance.ratio;if(null!=this.mBgContainer)if(1<a){var b=this.mBgContainer,d=1.7<a?1.7/a:1;b.relativeWidth!=d&&b.invalidate();b.relativeWidth=d;b=this.mBgContainer;1!=b.relativeHeight&&b.invalidate();b.relativeHeight=1}else b=this.mBgContainer,1!=b.relativeWidth&&
b.invalidate(),b.relativeWidth=1,b=this.mBgContainer,d=.5882352941176471>a?a/.5882352941176471:1,b.relativeHeight!=d&&b.invalidate(),b.relativeHeight=d;d=this.find("uiCurrent");if(null!=d){b=0;for(var c=d.children;b<c.length;){var e=c[b++].find("uiImgConti");null!=e&&(1<a?(d=1/this.mBgContainer.relativeWidth,e.relativeWidth!=d&&e.invalidate(),e.relativeWidth=d,NaN!=e.relativeHeight&&e.invalidate(),e.relativeHeight=NaN):(NaN!=e.relativeWidth&&e.invalidate(),e.relativeWidth=NaN,d=1/this.mBgContainer.relativeHeight,
e.relativeHeight!=d&&e.invalidate(),e.relativeHeight=d))}}X.prototype.onScreenSizeChanged.call(this)},setIndex:function(a){if(this.mIndex!=a){var b=this.find("uiCurrent");if(null!=b){var d=this.context;d=null!=d?d.getTemplate("tView"+ia.ndigits(a,2)):null;if(null!=d){var c=b.getChildAt(0);if(null!=c){var e=new jk(2E3*(this.mIndex<a?1:-1));c.addAnimation(e);this.registerXEventListener(e,"XAnimation:Finished",function(a){null!=c&&c.dispose()})}b.addChild(d.createInstance(),0);this.onScreenSizeChanged()}else return}b=
1<a;d=this.find("uiBtPrevious");null!=d&&(d.enabled=b,d.setLocalState(b?"enabled":"disabled"));b=3>=a;d=this.find("uiUI").find("uiBtNext");null!=d&&(d.enabled=b,d.setLocalState(b?"enabled":"disabled"));for(b=1;10>b;)d=b++,e=this.findType("uiBtDot"+d,Aa),null!=e&&e.set_image(d==a?"dynamic/dot_on.png":"dynamic/dot.png");4==a&&(this.find("uiRewardConti").addChild(new Ub(this.context,h.config.settings.registerReward)),this.find("uiRewardConti2").addChild(new Ub(this.context,h.config.settings.registerReward2)),
this.find("uiRewardConti3").addChild(new Ub(this.context,h.config.settings.registerReward3)));this.mIndex=a}},onButtonClick:function(a){switch(a.name){case "uiBtDot1":this.setIndex(1);break;case "uiBtDot2":this.setIndex(2);break;case "uiBtDot3":this.setIndex(3);break;case "uiBtDot4":this.setIndex(4);break;case "uiBtLogin":y.instance.addScreen(new re);break;case "uiBtNext":this.setIndex(this.mIndex+1);break;case "uiBtPrevious":this.setIndex(this.mIndex-1);break;default:X.prototype.onButtonClick.call(this,
a)}},dispose:function(){this.mBgContainer=null;X.prototype.dispose.call(this)},__class__:He});var Mi=function(a){null==a&&(a=0);ec.call(this,"xml/social_hub.xml",a);this.long=!0};f["screens.SocialHub"]=Mi;Mi.__name__="screens.SocialHub";Mi.__super__=ec;Mi.prototype=k(ec.prototype,{onTabChanged:function(a){var b=this.mContent;null!=b&&b.dispose();this.mContent=null;b=this.find("uiContent");if(null!=b)switch(a){case 0:this.mContent=b.addChild(new Ye(this.context));break;case 1:this.mContent=b.addChild(new rh(this.context));
break;case 2:this.mContent=b.addChild(new ph(this.context));break;case 3:this.mContent=b.addChild(new wc(this.context));break;case 4:this.mContent=b.addChild(new Cf(this.context))}},close:function(){var a=this.mContent;null!=a&&a.dispose();this.mContent=null;ec.prototype.close.call(this)},__class__:Mi});var ji=function(a,b){this.mParticles=this.mPromise=null;this.packageId="package_level";var d=this;L.call(this);this.packageId=a;this.mPromise=b;this.block();u.get_instance().get_tracking().customEvent("offer",
a,1);h.get_instance().listenToShopEvents().onError(function(a){Tc.dispose(d)}).onComplete(function(a){a=u.get_instance().get_payment().getList();var b=function(a){for(var b=0;b<a.length;){var c=a[b];++b;c.sku==d.packageId&&(d.paymentPackage=c)}null==d.paymentPackage?d.close():d.load("xml/special_offer_popup.xml")},c=function(a){d.close()},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));d.register(e);d.register(a.onComplete(function(a){null!=
b&&b(a);null!=e&&e.dispose()}).onError(function(a){null!=c&&c(a);null!=e&&e.dispose()}))})};f["screens.SpecialOfferPopUp"]=ji;ji.__name__="screens.SpecialOfferPopUp";ji.__super__=L;ji.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.setLocalState(this.packageId);"package_level"==this.packageId&&(this.setLevel(h.get_instance().get_nextLevel()),this.set_label("SID_SPECIAL_OFFER"));this.setText("uiTxtSpecialOffer","SID_SPECIAL_OFFER_"+this.packageId.toUpperCase());
this.mParticles=new rf;this.registerXEventListener(h.get_instance(),"ZooBackendLayer::PAYMENT",c(this,this.onPayment));this.updateDisplay()},onPayment:function(a){this.close()},updateDisplay:function(){var a=w.field(h.get_instance().packageData,this.packageId);if(null!=a){var b=a.resources,d=0,c="starter_package"==this.packageId,e=this.findType("uiImgPic",G);null!=e&&(this.find("uiImgEmitter").preParticleEmitter.active=c,c=a.icon,e.set_image(null!=c&&0==c.indexOf("http")?c:"shop/"+c+".png"));e=null!=
a.bonus?a.bonus:0;u.get_instance().get_payment().hasDiscount()&&(e+=u.get_instance().get_payment().discount.bonus);this.setText("uiTxtContiHead","SID_"+this.packageId.toUpperCase());null!=b&&(this.setupResource(1,"singleHit",w.field(b,"singleHit")),this.setupResource(2,"rowHit",w.field(b,"rowHit")),this.setupResource(3,"columnHit",w.field(b,"columnHit")),this.setupResource(4,"swizzle",w.field(b,"swizzle")),this.setupResource(5,"starterLine",w.field(b,"starterLine")),this.setupResource(6,"starterSkunk",
w.field(b,"starterSkunk")),this.setupResource(7,"starterOrb",w.field(b,"starterOrb")),this.setupResource(8,"tempUnlimitedLife",w.field(b,"tempUnlimitedLife")),d=w.field(b,"mtx"),this.setupResource(0,"mtx",d));this.setVisible("uiImgSticker",null!=a.sticker);this.setText("uiTxtSticker",N.translate(a.sticker,null));this.setLocalState(0<e?"bonus":"default");this.setText("uiTxtBadge01",N.percentage(100*e));this.setVisible("uiImgDisountBar",0<e);this.setText("uiTxtValueBonus",0<e?N.number(Math.round(d*
(1+e))):"");a=this.paymentPackage;a=null!=a?a.displayPrice:null;b=this.find("uiBtBuy");b instanceof Aa&&V.__cast(b,Aa).set_label(a)}},setupResource:function(a,b,d){null==d&&(d=0);a=this.find("uiRes"+a);if(null!=a){var c=Sb.getResourceIcon(b),e=a.find("uiImgResIcon");null!=e&&e instanceof G&&e.set_image(c);null==b?a.setText("uiTxtValue",N.translate("SID_X_TIMES",[d])):"tempUnlimitedLife"==b?3600<=d?a.setText("uiTxtValue",N.translate("SID_SHORT_HOUR",[d/3600])):a.setText("uiTxtValue",N.translate("SID_SHORT_MINUTE",
[60*d/3600])):a.setText("uiTxtValue",N.translate("SID_X_TIMES",[d]));a.set_visible(0!=d)}},onButtonClick:function(a){switch(a.name){case "uiBtBuy":case "uiBtOK":u.get_instance().get_tracking().customEvent("offer",""+this.packageId+"_click",1);u.get_instance().get_payment().buy(this.packageId,{});break;default:L.prototype.onButtonClick.call(this,a)}},close:function(){y.instance.addScreen(new td);L.prototype.close.call(this)},draw:function(){null!=this.mParticles&&this.mParticles.draw();L.prototype.draw.call(this)},
dispose:function(){this.paymentPackage=this.packageId=null;var a=this.mParticles;null!=a&&a.dispose();this.mParticles=null;null!=this.mPromise&&(this.mPromise.complete(this),this.mPromise=null);L.prototype.dispose.call(this)},__class__:ji});var Mj=function(){L.call(this);this.load("xml/streak_info_popup.xml");this.block()};f["screens.StreakInfoScreen"]=Mj;Mj.__name__="screens.StreakInfoScreen";Mj.__super__=L;Mj.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this)},
onButtonClick:function(a){"uiBtOk"==a.name?this.close():L.prototype.onButtonClick.call(this,a)},__class__:Mj});var Nd=function(a){X.call(this);this.mParentScreen=a;this.XAnimMoveInClass=this.XAnimMoveOutClass=null;this.load("xml/team_create.xml")};f["screens.TeamCreate"]=Nd;Nd.__name__="screens.TeamCreate";Nd.__super__=X;Nd.prototype=k(X.prototype,{onLoadComplete:function(){var a=this;this.findTypeFuture("uiTeam",xc).onComplete(function(a){a.randomize()});this.deepFindTypeFuture("uiInputName/uiInput",
fd).onComplete(function(b){a.registerXEventListener(b,"changeEvent",c(a,a.onTextChangeEvent))});this.deepFindTypeFuture("uiInputDesc/uiInput",fd).onComplete(function(b){a.registerXEventListener(b,"changeEvent",c(a,a.onTextChangeEvent))});var b=h.config.teams.creationCosts.mtx,d=this.find("uiBtCreate");d instanceof Aa&&(d=V.__cast(d,Aa),d.set_label("SID_CREATE"),d.setText("uiTxtPrice",N.number(b)));this.checkState();X.prototype.onLoadComplete.call(this)},onTextChangeEvent:function(a){this.checkState()},
onButtonClick:function(a){var b=this;switch(a.name){case "uiBtCreate":a=this.deepFindType("uiInputName/uiInput",fd);var d=this.deepFindType("uiInputDesc/uiInput",fd),c=this.findType("uiTeam",xc);if(null!=d&&null!=a&&null!=c){a=h.get_instance().createTeam(a.get_text(),d.get_text(),c.badge);var e=function(a){y.instance.addScreen(new ii(a.teamId))},f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(f);this.register(a.onComplete(function(a){null!=
e&&e(a);null!=f&&f.dispose()}).onError(function(a){null!=f&&f.dispose()}))}break;case "uiBtEditBadge":case "uiBtEditBadge2":this.findTypeFuture("uiTeam",xc).onComplete(function(a){be.create(a.badge).onComplete(function(a){b.findTypeFuture("uiTeam",xc).onComplete(function(b){b.setBadge(a)})})});break;case "uiBtRandom":this.findTypeFuture("uiTeam",xc).onComplete(function(a){a.randomize()});break;default:X.prototype.onButtonClick.call(this,a)}},checkState:function(){var a=!0,b=this.deepFindType("uiInputName/uiInput",
fd);if(null==b||b.isInitial()||5>b.get_text().length)a=!1;b=this.deepFindType("uiInputDesc/uiInput",fd);if(null==b||b.isInitial()||3>b.get_text().length)a=!1;b=this.find("uiBtCreate");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"))},dispose:function(){this.mParentScreen=this.vcard=this.teamData=null;X.prototype.dispose.call(this)},__class__:Nd});var ii=function(a){ec.call(this);this.id=a;this.load("xml/team_details.xml");this.block()};f["screens.TeamDetails"]=ii;ii.__name__="screens.TeamDetails";
ii.__super__=ec;ii.prototype=k(ec.prototype,{onLoadComplete:function(){ec.prototype.onLoadComplete.call(this);this.registerXEventListener(h.get_instance(),"TEAM_PLAYER_CHANGE",c(this,this.onPlayerTeamChange));this.registerXEventListener(h.get_instance(),"TEAM_PLAYER_INVITED",c(this,this.onPlayerInvited));if(this.self=this.id==h.get_instance().teamId){var a=Za.get_instance(),b=c(this,this.onChatUpdate);b(null);this.registerXEventListener(a,"ChatManager::UPDATE",b)}else this.setVisible("uiBGTab1",!1);
this.setTab(0)},onPlayerTeamChange:function(a){null==a.data.teamId&&a.data.uid==h.get_instance().get_uid()&&this.close()},onPlayerInvited:function(a){this.updateDetails()},onTabChanged:function(a){this.setVisible("uiDetails",0==a);this.setVisible("uiChat",1==a);this.setVisible("uiInput",1==a);var b=this.find("uiChatHook");if(null!=b)switch(b.removeAllChildren(),a){case 0:this.updateDetails();break;case 1:b.addChild(new Ji(this.id,!1,!0))}},onChatUpdate:function(a){a=Za.get_instance().getNumUnread(!0);
this.setVisible("uiUnread",0<a);this.setText("uiTxtGlobalNumUnread",0==a?"":N.number(a))},updateDetails:function(){var a=this;ba.instance.read("teams/"+this.id+"/public",function(b){a.teamData=b;h.get_instance().getVCardTeam(a.id,!0).onComplete(function(b){a.vcard=b;a.onVCardUpdate(null)})})},onVCardUpdate:function(a){var b=this;if(null!=this.vcard){this.find("uiDetails").findTypeFuture("uiTeam",xc).onComplete(function(a){a.set_id(b.id)});a=aa.getFlagIconX(this.vcard.cid);var d=this.find("uiImgBtnFlag");
null!=d&&d instanceof G&&d.set_image(a);a=null==this.vcard.cid||"X"==this.vcard.cid;d=this.find("uiBtFlag");null!=d&&d instanceof G&&d.set_image(a?"ui/SquareButton.png":null);this.setText("uiTxtTeamName",this.vcard.name)}if(null!=this.teamData){a=this.teamData.members;d=this.findType("uiListMembers",Lb);if(null!=d&&null!=a){d.clear();for(var c=w.fields(a),e=0;e<c.length;){var f=c[e];++e;var g=w.field(a,f);g.uid=f;4>g.rank&&d.addContainer(new Nj(this.context,g,this.id))}d.sort("team")}this.setText("uiTxtTeamStars",
N.number(this.teamData.stars));this.setText("uiTxtTeamTournaments",N.number(this.teamData.tournaments_won));this.setText("uiTxtDesc",this.teamData.desc)}},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtEditBadge":if(h.get_instance().teamId==this.id&&1>=h.get_instance().teamRank)be.create(null!=this.vcard?this.vcard.badge:null).onComplete(function(a){a=h.get_instance().editTeam({badge:a});var d=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,
y.instance.get_foreground().context));b.register(d);b.register(a.onComplete(function(a){null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}));a.onComplete(function(a){b.updateDetails()})});break;case "uiBtEditDesc":if(h.get_instance().teamId==this.id&&1>=h.get_instance().teamRank)Hg.create("SID_ENTER_TEAM_DESC_LABEL",null!=this.teamData.desc?this.teamData.desc:"","SID_ENTER_TEAM_DESC").onComplete(function(a){a=h.get_instance().editTeam({desc:a});var d=function(a){b.updateDetails()},c=
y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));b.register(c);b.register(a.onComplete(function(a){null!=d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))});break;default:ec.prototype.onButtonClick.call(this,a)}},dispose:function(){this.vcard=this.id=this.teamData=null;ec.prototype.dispose.call(this)},__class__:ii});var be=function(a,b){this.mPromise=b;this.mInitialBadge=a;this.XAnimMoveOutClass=
this.XAnimMoveInClass=null;L.call(this);this.load("xml/team_edit_badge.xml")};f["screens.TeamEditBadge"]=be;be.__name__="screens.TeamEditBadge";be.create=function(a){var b=new Xa;y.instance.addScreen(new be(a,b));return b.future};be.__super__=L;be.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=this.mTeamBadge=this.findType("uiEditBadge",xc),b=c(this,this.onUpdateBadge);b(null);this.registerXEventListener(a,"XTeam::UPDATE_BADGE",b);null==this.mInitialBadge?
this.mTeamBadge.randomize():(this.mTeamBadge.setBadge(this.mInitialBadge),this.mInitialBadge=null)},onUpdateBadge:function(a){a=null!=a&&null!=a.data?a.data:this.mTeamBadge.badge;for(var b=0;3>b;){var d=b++,c=a[d].color,e=a[d].icon,f=this.find("uiItem"+d);e="teams/"+d+"/"+ia.ndigits(e,3)+".png";f=f.find("uiImgItem");null!=f&&f instanceof G&&f.set_image(e);f=this.find("uiItem"+d).find("uiImgItem");if(null!=f){e=U.toFloat(c>>>16&255)/255;var g=U.toFloat(c>>>8&255)/255,h=U.toFloat(c&255)/255;if(e!=f.colorR||
g!=f.colorG||h!=f.colorB)f.colorR!=e&&f.invalidate(),f.colorR=e,f.colorG!=g&&f.invalidate(),f.colorG=g,f.colorB!=h&&f.invalidate(),f.colorB=h,f.invalidate();f.color=c}d=this.find("uiItem"+d).find("uiBtColor");if(null!=d){f=U.toFloat(c>>>16&255)/255;e=U.toFloat(c>>>8&255)/255;g=U.toFloat(c&255)/255;if(f!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=f&&d.invalidate(),d.colorR=f,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=g&&d.invalidate(),d.colorB=g,d.invalidate();d.color=c}}f=this.find("uiItem2");
e="teams/2/"+ia.ndigits(a[2].icon,3)+"_o.png";f=f.find("uiImgOverlay");null!=f&&f instanceof G&&f.set_image(e)},setBadgeColor:function(a,b){this.mTeamBadge.setBadgeColor(a,b)},getBadgeColor:function(a){return this.mTeamBadge.badge[a].color},buttonToIdx:function(a){switch(a){case "uiItem0":return 0;case "uiItem1":return 1;case "uiItem2":return 2;default:return 0}},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtClose":null!=this.mPromise&&this.mPromise.error({});this.close();break;case "uiBtColor":var d=
this.buttonToIdx(a.parent.name);qj.create(this.getBadgeColor(d)).onComplete(function(a){b.setBadgeColor(d,a)});break;case "uiBtNext":this.buttonToIdx(a.parent.name);this.mTeamBadge.toggleIcon(this.buttonToIdx(a.parent.name),1);break;case "uiBtOk":null!=this.mPromise&&this.mPromise.complete(this.mTeamBadge.badge);this.close();break;case "uiBtPrevious":this.mTeamBadge.toggleIcon(this.buttonToIdx(a.parent.name),-1);break;case "uiBtRandom":this.mTeamBadge.randomize();break;default:L.prototype.onButtonClick.call(this,
a)}},dispose:function(){this.mPromise=this.mTeamBadge=null;L.prototype.dispose.call(this)},__class__:be});var Cf=function(a,b){X.call(this,null,a);this.XAnimMoveInClass=null;this.load("xml/team_ladder_tab.xml")};f["screens.TeamLadderTab"]=Cf;Cf.__name__="screens.TeamLadderTab";Cf.__super__=X;Cf.prototype=k(X.prototype,{onLoadComplete:function(){this.requestData();X.prototype.onLoadComplete.call(this)},onButtonClick:function(a){"uiBtPrevious"!=a.name&&X.prototype.onButtonClick.call(this,a)},requestData:function(){var a=
this,b=this.findType("uiList",Lb);null!=b&&b.clear();b=h.get_instance().call("teams-ladder",{});var d=function(b){var d=a.findType("uiList",Lb);if(null!=d){b=null!=b?b:{};d.clear();for(var c=w.fields(b),e=0;e<c.length;){var f=c[e];++e;var l=w.field(b,f);l.id=f;d.addContainer(new P(a.context,l,"tTeamLadderContainer"),f==h.get_instance().teamId)}d.sort("stars")}},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(c);
this.register(b.onComplete(function(a){null!=d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))},__class__:Cf});var af=function(a){L.call(this);this.mPromise=a;this.load("xml/thankx_popup.xml");this.block()};f["screens.ThankxPopUp"]=af;af.__name__="screens.ThankxPopUp";af.create=function(){var a=new Xa;y.instance.addScreen(new af(a));return a.future};af.__super__=L;af.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);this.mParticles=new $g;
this.mCountDown=new Cc(10,this.findType("uiTxtCountDown",Ea));this.registerXEventListener(this.mCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.onCountDownFinished));this.mCountDown.start()},onCountDownFinished:function(a){this.setVisible("uiTxtCountDown",!1);a=this.find("uiBtOk");null!=a&&(a.enabled=!0,a.setLocalState("enabled"));this.setPulse("uiBtOk")},draw:function(){var a=this.mParticles;null!=a&&a.draw();L.prototype.draw.call(this)},onButtonClick:function(a){"uiBtOk"==a.name?(null!=this.mPromise&&
(this.mPromise.complete(!0),this.mPromise=null),this.close()):L.prototype.onButtonClick.call(this,a)},dispose:function(){L.prototype.dispose.call(this);var a=this.mParticles;null!=a&&a.dispose();this.mParticles=null;a=this.mCountDown;null!=a&&a.dispose();this.mCountDown=null;null!=this.mPromise&&(this.mPromise.error(!1),this.mPromise=null)},__class__:af});var ki=function(){var a=this;L.call(this);this.block();if(null!=h.get_instance().tournamentData){var b=h.get_instance().call("tournament-getTournamentReward",
{tid:h.get_instance().getDynamicResource("tournament")}),d=function(b){a.mRewardData=b;a.load("xml/tournament_finished.xml")},c=function(b){a.close()},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(b.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=c&&c(a);null!=e&&e.dispose()}))}else this.close()};f["screens.TournamentFinished"]=ki;ki.__name__=
"screens.TournamentFinished";ki.__super__=L;ki.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=this.mRewardData;null!=a.reward?(this.setVisible("uiRewardConti",!0),this.find("uiReward").addChild(new Ub(this.context,a.reward))):this.setText("uiTxtRewardHint",N.translate("SID_REACH_PLACE_X_FOR_REWARD",[h.config.tournament.rewards.length]));null!=a.player&&this.setText("uiTxtStars",N.number(a.player.stars));this.setText("uiTxtRank",N.ordinal(a.position+
1));this.setText("uiTxtTournamentText",N.translate("SID_TOURNAMENT_REWARD_TEXT",[a.position+1|0]))},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtOk":this.close();break;case "uiBtShare":u.get_instance().share(N.translate("SID_SHARE_TOURNAMENT_HEAD",null),N.translate("SID_SHARE_TOURNAMENT_TEXT",null),"https://zoo-boom.com/icons/favicon-512x512.png");break;default:L.prototype.onButtonClick.call(this,a)}},dispose:function(){L.prototype.dispose.call(this);this.mRewardData=null},
__class__:ki});var ph=function(a,b){X.call(this,null,a);this.XAnimMoveInClass=null;this.load("xml/tournament_tab.xml")};f["screens.TournamentTab"]=ph;ph.__name__="screens.TournamentTab";ph.__super__=X;ph.prototype=k(X.prototype,{onLoadComplete:function(){var a=this;X.prototype.onLoadComplete.call(this);this.registerXEventListener(h.get_instance(),"TOURNAMENT_UPDATE",c(this,this.onTournamentUpdate));if(ba.instance.signedIn){var b=this.findType("uiList",Lb);if(null!=b){var d=h.get_instance().tournamentData;
if(null!=d&&(d=d.arr,null!=d)){this.setVisible("uiImgRanking",0<d.length);b.clear();for(var e=0;e<d.length;){var f=d[e];++e;b.addContainer(new ig(this.context,f,"tPlayerContainerTournamentWithReward"),f.uid==h.get_instance().get_uid())}b.sort("stars")}}}else this.setVisible("uiTxtHelp",!1),this.setVisible("uiNotSignedIn",!0),this.findFuture("uiRewardConti").onComplete(function(b){b.addChild(new Ub(a.context,h.config.settings.registerReward))}),this.findFuture("uiRewardConti2").onComplete(function(b){b.addChild(new Ub(a.context,
h.config.settings.registerReward2))}),this.findFuture("uiRewardConti3").onComplete(function(b){b.addChild(new Ub(a.context,h.config.settings.registerReward3))});this.updateDisplay()},onTournamentUpdate:function(a){this.updateDisplay()},updateDisplay:function(){var a=this.mTournamentCountDown;null!=a&&a.dispose();this.mTournamentCountDown=null;a=h.get_instance().tournamentData;null!=a&&(a.endTime>C.get_now().getTime()?(this.setLocalState("active"),this.mTournamentCountDown=(new Cc(Math.floor((a.endTime-
C.get_now().getTime())/1E3),this.findType("uiTxtCountdown",Ea),"SID_COUNTDOWN_HHMMSS")).start()):(this.setLocalState("finished"),this.setText("uiTxtCountdown","SID_FINISHED")))},onButtonClick:function(a){"uiBtLogin"==a.name?y.instance.addScreen(new re):X.prototype.onButtonClick.call(this,a)},close:function(){var a=this.mTournamentCountDown;null!=a&&a.dispose();this.mTournamentCountDown=null;X.prototype.close.call(this)},__class__:ph});var wc=function(a,b){X.call(this,null,a);this.XAnimMoveInClass=
null;this.load("xml/tournament_winners_tab.xml")};f["screens.TournamentWinnersTab"]=wc;wc.__name__="screens.TournamentWinnersTab";wc.__super__=X;wc.prototype=k(X.prototype,{onLoadComplete:function(){var a=this,b=h.get_instance().getTournamentHighscore(),d=function(b){if(null!=b&&null!=b.entries){var d=a.findType("uiList",Lb);if(null!=d){b=b.entries;for(var c=[],e=w.fields(b),f=0;f<e.length;){var l=e[f];++f;if("min"!=l){var g=w.field(b,l);c.push({uid:l,score:g.score,date:g.date})}}d.clear();for(f=
0;f<c.length;)g=c[f],++f,d.addContainer(new bh(a.context,g),g.uid==h.get_instance().get_uid());d.sort("score")}}},c=this.find("uiList"),e=(null!=c?c:y.instance.get_foreground()).addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(b.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}));X.prototype.onLoadComplete.call(this)},__class__:wc});var qh=function(a){null==a&&(a=
-1);L.call(this);this.mDebugCount=a;this.load("xml/unlimited_lifes_popup.xml");this.block()};f["screens.UnlimitedLifesPopUp"]=qh;qh.__name__="screens.UnlimitedLifesPopUp";qh.__super__=L;qh.prototype=k(L.prototype,{onLoadComplete:function(){L.prototype.onLoadComplete.call(this);var a=h.get_instance(),b=c(this,this.onLifeUpdate);b(null);this.registerXEventListener(a,"ZooBackendLayer::tempBonusUpdate",b)},onLifeUpdate:function(a){null!=this.mLifeInfinityCountDown&&(a=this.mLifeInfinityCountDown,null!=
a&&a.dispose(),this.mLifeInfinityCountDown=null,this.releaseXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.onFinished)),this.releaseXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_TICK",c(this,this.onTick)));this.mLifeInfinityCountDown=new Cc(-1!=this.mDebugCount?this.mDebugCount:h.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")|0,this.findType("uiTxtDuration",Ea));this.registerXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",
c(this,this.onFinished));this.registerXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_TICK",c(this,this.onTick));this.mLifeInfinityCountDown.start()},onTick:function(a){a=this.mLifeInfinityCountDown;this.setText("uiTxtUnlimitedLifes",N.translate("SID_GOT_UNLIMITED_LIFES",[Math.round(Math.floor(a.duration-(C.timer-a.startTime))/60)]))},onFinished:function(a){y.instance.transScreen(new td)},onButtonClick:function(a){if("uiBtOK"==a.name)this.onFinished();else L.prototype.onButtonClick.call(this,
a)},close:function(){var a=this.mLifeInfinityCountDown;null!=a&&a.dispose();this.mLifeInfinityCountDown=null;L.prototype.close.call(this)},__class__:qh});var rh=function(a,b){X.call(this,null,a);this.XAnimMoveInClass=null;this.mCurrentWeek=this.mWeek=(C.get_now().getTime()+2592E5)/6048E5|0;this.load("xml/weekly_ladder_tab.xml")};f["screens.WeeklyLadderTab"]=rh;rh.__name__="screens.WeeklyLadderTab";rh.__super__=X;rh.prototype=k(X.prototype,{onLoadComplete:function(){this.requestData();this.setVisible("uiBtPrevious",
!0);this.setVisible("uiBtNext",!0);var a=this.find("uiBtNext");null!=a&&(a.enabled=!1,a.setLocalState("disabled"));X.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtNext":this.mWeek+=1;this.requestData();break;case "uiBtPrevious":--this.mWeek;this.requestData();break;default:X.prototype.onButtonClick.call(this,a)}},requestData:function(){var a=this,b=this.findType("uiList",Lb);null!=b&&b.clear();b=this.mWeek<this.mCurrentWeek;var d=this.find("uiBtNext");null!=
d&&(d.enabled=b,d.setLocalState(b?"enabled":"disabled"));b=2734<this.mWeek;d=this.find("uiBtPrevious");null!=d&&(d.enabled=b,d.setLocalState(b?"enabled":"disabled"));b=h.get_instance().call("ladder",{uid:ba.instance.uid,week:this.mWeek});var c=function(b){a.setText("uiTxtDate",ya.format(new Date(6048E5*(a.mWeek+1)-2592E5+6E4*C.get_now().getTimezoneOffset()-1),N.translate("SID_DATE",null)));var d=a.findType("uiList",Lb);if(null!=d){var c=null!=b?b:{};a.setVisible("uiImgRanking",0<c.length);d.clear();
b=[];for(var e=w.fields(c),f=0;f<e.length;){var l=e[f];++f;var g=w.field(c,l);null!=g&&(g.uid=l,b.push(g))}for(f=0;f<b.length;)c=b[f],++f,d.addContainer(new uh(a.context,c,"tPlayerContainerLadder"),c.uid==ba.instance.uid);d.sort("stars")}},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(b.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))},
__class__:rh});var Ni=function(a,b,d){null==d&&(d="NORMAL");this.mBonusScore=this.mBaseScore=this.mScore=this.mLevel=0;this.mCurrentStar=-1;this.mStartTime=this.mStars=0;L.call(this);this.mBaseScore=a;this.mLevelType=d;this.load("xml/win_popup.xml");this.block(.5)};f["screens.WinPopUp"]=Ni;Ni.__name__="screens.WinPopUp";Ni.__super__=L;Ni.prototype=k(L.prototype,{onLoadComplete:function(){var a=this;L.prototype.onLoadComplete.call(this);this.setLevel(t.get_instance().level);var b=t.get_instance().task,
d=h.get_instance().getStreakBonus();this.mBonusScore=Math.round(this.mBaseScore*(d-1));this.mScore=this.mBaseScore+this.mBonusScore;this.mStars=b.getStarsForScore(this.mScore);b=h.get_instance().getStreak();this.setLocalState(1<d?"streak":"noStreak");this.setText("uiTxtStreak",N.number(b));this.setText("uiTxtScoreBonus",N.translate("SID_PLUS_X",[this.mBonusScore]));this.setText("uiTxtStreak",N.number(b));this.mLevel=t.get_instance().level;this.mText=this.findType("uiTxtWinInfo",Ea);h.get_instance().levelWon(t.get_instance().level,
this.mStars,this.mScore);d=this.mStars;h.get_instance().hasTemporaryBonus("tempDoubleStars")&&(d*=2);if("NORMAL"==this.mLevelType){var c=h.get_instance().finishLevel(this.mLevel,this.mScore,d),e=function(b){b=td.sLevelHighscores;var d=t.get_instance().level,c=b.h[d];if(null!=c){a.setVisible("uiImgLeaderboard",0<c.length);b=a.findType("uiListRanking",Lb);d=[];for(var e=0;e<c.length;){var f=c[e];++e;null!=f&&f.uid!=ba.instance.uid&&d.push(f)}d.push({icon:ba.instance.icon,name:ba.instance.name,score:a.mScore,
stars:a.mStars,uid:ba.instance.uid});d.sort(function(a,b){return ia.toFloat(null!=a?a.score:null)<ia.toFloat(null!=b?b.score:null)?1:-1});for(e=0;e<d.length;)c=d[e],++e,b.addContainer(new Bb(a.context,c),c.uid==ba.instance.uid)}},f=this;this.register(c.onComplete(function(a){f.unregister(c);null!=e&&e(a)}).onError(function(a){f.unregister(c)}))}},onAnimateInFinished:function(a){this.mStartTime=C.timer;L.prototype.onAnimateInFinished.call(this)},update:function(){var a=this;L.prototype.update.call(this);
if(0<this.mStartTime){var b=C.timer-this.mStartTime;this.setText("uiTxtScore",N.translate("SID_SCORE_X",[Math.round(this.mBaseScore*Math.min(1,b))]));for(var d=0,c=this.mStars;d<c;){var f=d++;if(b>.1+.5*f){var g=this.findType("uiImgStar"+f,G);null!=g&&this.mCurrentStar<f&&(this.mCurrentStar=f,g.setLocalState("on"),g.pulse(),h.get_instance().hasTemporaryBonus("tempDoubleStars")&&(g.setLocalState("double"),g.findTypeFuture("uiImgStar",ca).onComplete(function(a){a.activateEmitter(!0)})),e.get_instance().playUnique("sound/snap0.mp3",
0,1,1))}}b>.5*this.mStars+.3&&null!=this.mText&&(null==this.mText.get_text()&&this.mText.pulse(),this.mText.set_text("SID_WIN"+this.mStars));b>1.7+.5*this.mStars&&(this.mStartTime=0,u.get_instance().levelSuccess(this.mLevel,this.mScore,{stars:this.mStars}).onComplete(function(b){a.setVisible("uiContinue",!0);a.setPulse("uiBtOk")}))}},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtClose":case "uiBtOk":u.get_instance().buttonAction("button:success:next").onComplete(function(a){t.get_instance().leave();
b.close();h.get_instance().justfinishedMaxLevel&&(h.get_instance().justfinishedMaxLevel=!1,y.instance.addScreen(new Ij))});break;case "uiBtShare":u.get_instance().share(N.translate("SID_SHARE_LEVEL_HEAD",null),N.translate("SID_SHARE_LEVEL_TEXT",null),"https://zoo-boom.com/icons/favicon-512x512.png");break;default:L.prototype.onButtonClick.call(this,a)}},dispose:function(){this.mLevelType=this.mText=null;L.prototype.dispose.call(this)},__class__:Ni});var rj=function(a,b){Na.call(this,a,"tAvatarContainer");
for(a=0;5>=++a&&0<b.length;){var d=this.findType("uiBtAvatar"+ia.ndigits(a,2),G);if(null!=d){var c=b.shift();d.set_image(c);d.data={imageId:c}}}};f["screens.elements.AvatarContainer"]=rj;rj.__name__="screens.elements.AvatarContainer";rj.__super__=Na;rj.prototype=k(Na.prototype,{dispose:function(){Na.prototype.dispose.call(this)},__class__:rj});var hg=function(a,b,d){this.blocked=this.team=!1;var e=this;Na.call(this,a,"tChatContainer");this.chat=d;this.chatId=b;this.date=ia.toInt(this.chat.last);a=
w.fields(this.chat.members);this.uid=1<a.length&&a[0]==h.get_instance().get_uid()?a[1]:a[0];(this.team=Object.prototype.hasOwnProperty.call(this.chat,"team"))?(this.findTypeFuture("uiTeam",xc).onComplete(function(a){a.set_id(e.uid)}),this.setVisible("uiPlayer",!1)):(this.findTypeFuture("uiPlayer",$b).onComplete(function(a){a.set_uid(e.uid)}),this.setVisible("uiTeam",!1));a=Za.get_instance();b=c(this,this.updateData);b(null);this.registerXEventListener(a,"ChatManager::CHANNEL_UPDATE",b);a=Za.get_instance();
b=c(this,this.updateBlock);b(null);this.registerXEventListener(a,"ChatManager::BLOCK_UPDATE",b);this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,c(this,this.onLanguageChange));this.setLocalState("jenny"==this.uid?"jenny":"default")};f["screens.elements.ChatContainer"]=hg;hg.__name__="screens.elements.ChatContainer";hg.__super__=Na;hg.prototype=k(Na.prototype,{updateBlock:function(a){if(null==a||a.data.chatId==this.chatId)this.blocked=Za.get_instance().isBlocked(this.chatId),this.setLocalState(this.blocked?
"blocked":"unblocked"),a=this.find("uiBtUnblock"),null!=a&&(a.enabled=!0,a.setLocalState("enabled")),a=this.find("uiBtBlock"),null!=a&&(a.enabled=!0,a.setLocalState("enabled"))},updateData:function(a){if(null==a||a.data==this.chatId)this.date=ia.toInt(this.chat.last),a=Za.get_instance().getNumUnreadByChannel(this.chatId),this.setText("uiTxtInfo",ya.format(new Date(this.date),N.translate("SID_DATE_AND_TIME",null))),this.setVisible("uiImgUnread",0<a),this.setText("uiTxtNumUnread",N.number(a))},onLanguageChange:function(a){this.updateData()},
compare:function(a,b){return"jenny"==this.uid?-1:"jenny"==a.uid?1:this.date<a.date?1:this.date==a.date?0:-1},dispose:function(){this.uid=this.chatId=this.chat=null;Na.prototype.dispose.call(this)},__class__:hg});var Aa=function(a){G.call(this,a);this.clickable=!0;1!=this.highlight&&(this.invalidate(),null!=this.highlightAnimation&&(this.removeAnimation(this.highlightAnimation),this.highlightAnimation=null));this.highlight=!0};f["system.gfx.ui.elements.XButton"]=Aa;Aa.__name__="system.gfx.ui.elements.XButton";
Aa.__super__=G;Aa.prototype=k(G.prototype,{applyStringAttribute:function(a,b){switch(a){case "icon":this.set_icon(b);break;case "label":this.set_label(b);break;case "tag":this.tag=b;break;default:G.prototype.applyStringAttribute.call(this,a,b)}},set_label:function(a){if(this.label!=a){this.label=a;var b=this.findType("uiTxtLabel",Ea);null!=b&&(b.rawText=b.set_text(a))}return a},set_icon:function(a){if(this.icon!=a){this.icon=a;var b=this.find("uiImgIcon");null!=b&&b instanceof G&&b.set_image(a)}return a},
onTouchUp:function(a,b,d,c){if(this.enabled&&30>c&&this.dispatchSimpleXEvent("XButton::BUTTON_PRESSED")){var f=this.getControllListener();null!=f&&(e.get_instance().play("sound/click.mp3",0,1,1),this.blubb(),f.onButtonAction(this))}G.prototype.onTouchUp.call(this,a,b,d,c)},copyElements:function(a){G.prototype.copyElements.call(this,a);a.set_label(new String(this.label))},dispose:function(){this.tag=null;this.set_icon(null);this.set_label(null);G.prototype.dispose.call(this)},__class__:Aa,__properties__:k(G.prototype.__properties__,
{set_icon:"set_icon",set_label:"set_label"})});var Oi=function(a){Aa.call(this,a)};f["screens.elements.FamobiButton"]=Oi;Oi.__name__="screens.elements.FamobiButton";Oi.__super__=Aa;Oi.prototype=k(Aa.prototype,{onTouchUp:function(a,b,d,c){var f=this;if(this.enabled&&30>c&&this.dispatchSimpleXEvent("XButton::BUTTON_PRESSED")){var l=this.getControllListener();null!=l&&(e.get_instance().play("sound/click.mp3",0,1,1),this.blubb(),a=null!=this.name?ka.replace(this.name,"uiBt","").toUpperCase():"",a=(null!=
l.name?ka.replace(l.name,"ui","").toUpperCase():"")+":"+a,null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"trackingState")&&(a+=":"+R.string(w.field(this.data,"trackingState"))),oa.from(window.famobi_analytics.trackEvent("EVENT_CUSTOM",{eventName:"EVENT_BUTTON",eventId:a})).onComplete(function(a){l.onButtonAction(f)}).onError(function(a){l.onButtonAction(f)}))}},__class__:Oi});var li=function(a,b){Na.call(this,a,"tFlagContainer");for(a=0;5>=++a&&0<b.length;){var d=this.findType("uiBtFlag"+
ia.ndigits(a,2),G);if(null!=d){var c=b.shift();d.set_image(aa.getFlagIconWithX(c));d.data={cid:c}}}};f["screens.elements.FlagContainer"]=li;li.__name__="screens.elements.FlagContainer";li.__super__=Na;li.prototype=k(Na.prototype,{dispose:function(){Na.prototype.dispose.call(this)},__class__:li});var Pi=function(a,b){G.call(this,a);a=this.context;a=null!=a?a.getTemplate("tLevelContainer"):null;null!=a&&a.applyTo(this);this.name="uiConti"+b;b*=170;this.y!=b&&this.invalidate();this.y=b};f["screens.elements.LevelContainer"]=
Pi;Pi.__name__="screens.elements.LevelContainer";Pi.__super__=G;Pi.prototype=k(G.prototype,{setLevel:function(a){var b=this,d=h.get_instance().getLevelScoreData(a).stars,c=ac.getLevel(a),e=function(c){var e=ac.ratioToDifficulty(c.ratio);c=1==a||a-1<=h.get_instance().get_bestLevel();b.set_visible(a<=h.get_instance().get_maxLevel());b.setText("uiTxtLevel",N.number(a));var f=b.find("uiImgDifficulty");null!=f&&f instanceof G&&f.set_image(0==e?"":1==e?"dynamic/difficulty_1_small.png":"dynamic/difficulty_2_small.png");
e=c?16777215:13421772;f=U.toFloat(e>>>16&255)/255;var l=U.toFloat(e>>>8&255)/255,g=U.toFloat(e&255)/255;if(f!=b.colorR||l!=b.colorG||g!=b.colorB)b.colorR!=f&&b.invalidate(),b.colorR=f,b.colorG!=l&&b.invalidate(),b.colorG=l,b.colorB!=g&&b.invalidate(),b.colorB=g,b.invalidate();b.color=e;e=V.__cast(b.find("uiBtPlay"),Aa);e.data=a;e.set_visible(c);e.removeAllAnimations();b.setStars(d);if(0>=d&&c)h.get_instance().readDB("highscores/"+a+"/"+h.get_instance().get_uid()).onComplete(function(c){null!=c&&(d=
c.stars,h.get_instance().setLevelScore(a,d,c.score));null==d&&(d=1);b.setStars(d)})},f=this;this.register(c.onComplete(function(a){f.unregister(c);null!=e&&e(a)}).onError(function(a){f.unregister(c)}))},setStars:function(a){var b=this.find("uiImgStar0");null!=b&&b instanceof G&&b.set_image(0<a?"ui/star_on.png":"ui/star_off.png");b=this.find("uiImgStar1");null!=b&&b instanceof G&&b.set_image(1<a?"ui/star_on.png":"ui/star_off.png");b=this.find("uiImgStar2");null!=b&&b instanceof G&&b.set_image(2<a?
"ui/star_on.png":"ui/star_off.png")},dispose:function(){G.prototype.dispose.call(this)},__class__:Pi});var Df=function(a,b,d,e,f){null==f&&(f="tMessageContainer");this.mOptions=null;this.mAdd=0;var l=this;Na.call(this,a,f);null!=this.data&&null!=this.data.add&&(this.mAdd=this.data.add);this.chatId=b;this.mMessageData=e;this.messageId=d;this.date=ia.toInt(d);this.sender=this.mMessageData.sender;this.jenny="jenny"==this.sender;this.setLocalState(h.get_instance().get_uid()==this.sender?"self":"default");
this.findTypeFuture("uiPlayer",$b).onComplete(function(a){a.set_uid(l.sender);a.clickable=!0});null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"height")?(a=this.mInitialHeight=this.data.height,this.height!=a&&this.invalidate(),null!=this.relativeHeight&&this.invalidate(),this.relativeHeight=null,this.height=a):this.mInitialHeight=this.height;this.mTextField=this.findType("uiTxtMessage",Ea);Object.prototype.hasOwnProperty.call(this.mMessageData,"text")?this.setMessage(this.mMessageData.text):
Object.prototype.hasOwnProperty.call(this.mMessageData,"loca")&&(a=this.mMessageData.loca,this.setMessage(Object.prototype.hasOwnProperty.call(a,N.language)&&null!=w.field(a,N.language)?w.field(a,N.language):w.field(a,"en-US")));this.jenny||this.setText("uiTxtTime",ya.format(new Date(this.date),N.translate("SID_TIME_HH_MM",null)));this.registerXEventListener(Za.get_instance(),"ChatManager::DELETE_MESSAGE",c(this,this.onDeleteMessage))};f["screens.elements.MessageContainer"]=Df;Df.__name__="screens.elements.MessageContainer";
Df.__super__=Na;Df.prototype=k(Na.prototype,{setMessage:function(a){a=null!=a?E.substr(a,0,null):"";null==this.mTextField&&(this.mTextField=this.findType("uiTxtMessage",Ea));if(Object.prototype.hasOwnProperty.call(this.mMessageData,"data")){var b=this.mMessageData.data;switch(a){case "SID_PAYMENT_MESSAGE":if(null!=b){var d=w.field(b,"package");switch(d){case "mtx_package_01":case "mtx_package_02":case "mtx_package_03":case "mtx_package_04":case "mtx_package_05":case "mtx_package_06":a=N.translate(a,
[N.translate("SID_BOUGHT_MTX",null)]);Object.prototype.hasOwnProperty.call(b,"mtx")&&(a=ka.replace(N.translate(a,null),"_MTX",N.number(null!=b?b.mtx:null)));break;default:a=N.translate(a,['"'+N.translate("SID_"+d.toUpperCase(),null)+'"'])}}break;case "SID_TEAM_DEMOTED":case "SID_TEAM_JOINED":case "SID_TEAM_PROMOTED":case "SID_TEAM_QUIT":case "SID_TEAM_REMOVED":this.findTypeFuture("uiTeam",xc).onComplete(function(a){a.set_id(b.teamId)}),a=N.translate(a,[b.name])}}this.mTextField.set_text(a)},addOptions:function(){if(null==
this.mOptions){this.mTextFieldHeight=1;this.find("uiImgMessage").addChild(this.mOptions=qa.createInstanceFromString('<element template="tMessageContainerOptions" />',this.context));this.registerXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",c(this,this.onClosePressed));this.registerXEventListener(this.mOptions.find("uiBtDelete"),"XButton::BUTTON_PRESSED",c(this,this.onDeletePressed));this.registerXEventListener(this.mOptions.find("uiBtOpen"),"XButton::BUTTON_PRESSED",c(this,
this.onOpenPressed));this.mOptions.setVisible("uiBtOpen",ia.containsURL(this.mTextField.get_text()));var a=h.get_instance().get_uid()==this.sender,b=this.find("uiBtDelete");null!=b&&(b.enabled=a,b.setLocalState(a?"enabled":"disabled"));this.jenny||this.setText("uiTxtTime",ya.format(new Date(this.date),N.translate("SID_DATE_AND_TIME",null)))}},removeOptions:function(){null!=this.mOptions&&(this.mTextFieldHeight=1,this.releaseXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",
c(this,this.onClosePressed)),this.releaseXEventListener(this.mOptions.find("uiBtDelete"),"XButton::BUTTON_PRESSED",c(this,this.onDeletePressed)),this.releaseXEventListener(this.mOptions.find("uiBtOpen"),"XButton::BUTTON_PRESSED",c(this,this.onOpenPressed)),this.mOptions.dispose(),this.mOptions=null,this.jenny||this.setText("uiTxtTime",ya.format(new Date(this.date),N.translate("SID_TIME_HH_MM",null))))},onClick:function(){this.jenny||this.addOptions()},onClosePressed:function(a){a.stop=!0;this.removeOptions()},
onOpenPressed:function(a){var b=this;a.stop=!0;this.removeOptions();y.instance.addScreen(Tb.createOkPopUp("SID_ATTENTION","SID_OPEN_EXTERNAL_URL",function(a){a==id.YES&&ia.openURL(ia.getURL(b.mTextField.get_text()))}))},onDeletePressed:function(a){a.stop=!0;this.removeOptions();Za.get_instance().deleteMessage(this.chatId,this.messageId)},onDeleteMessage:function(a){null!=a&&null!=a.data&&a.data.chatId==this.chatId&&a.data.messageId==this.messageId&&null!=this.parentList&&(this.parentList.removeContainer(this),
Tc.dispose(this))},update:function(){if(null!=this.mTextField){var a=Math.floor(this.mTextField.textHeight);if(a!=this.mTextFieldHeight){this.mTextFieldHeight=a;if(isNaN(this.mTextField.textHeight))a=this.mInitialHeight,this.height!=a&&this.invalidate(),b=null;else{a=Math.max(this.mTextField.textHeight+70,this.mInitialHeight)+(null!=this.mOptions?this.mOptions.height:0)+this.mAdd;this.height!=a&&this.invalidate();var b=null}this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;this.height=
a}}this.jenny||(a=this.getPrevious(),null!=a&&this.setVisible("uiHead",a.sender!=this.sender));Na.prototype.update.call(this)},compare:function(a,b){return this.date<a.date?1:this.date==a.date?0:-1},dispose:function(){this.sender=this.messageId=this.chatId=this.mOptions=this.mMessageData=this.mTextField=null;Na.prototype.dispose.call(this)},__class__:Df});var sj=function(a,b,d,e){Df.call(this,a,b,d,e,"tTeamInvitationContainer");a=h.get_instance();b=c(this,this.onTeamUpdate);b(null);this.registerXEventListener(a,
"TEAM_UPDATE",b);this.teamId=e.teamId};f["screens.elements.MessageInviteContainer"]=sj;sj.__name__="screens.elements.MessageInviteContainer";sj.__super__=Df;sj.prototype=k(Df.prototype,{onTeamUpdate:function(a){a=this.find("uiBtAcceptInvitation");null!=a&&(a.enabled=!0,a.setLocalState("enabled"))},setMessage:function(a){if(Object.prototype.hasOwnProperty.call(this.mMessageData,"data")){var b=this.mMessageData.data;this.findTypeFuture("uiTeam",xc).onComplete(function(a){a.set_id(b.teamId)});a=N.translate("SID_TEAM_INVITATION",
[b.name]);this.registerXEventListener(this.find("uiBtAcceptInvitation"),"XButton::BUTTON_PRESSED",c(this,this.onAcceptInvitation));this.registerXEventListener(this.find("uiBtDeclineInvitation"),"XButton::BUTTON_PRESSED",c(this,this.onDeclineInvitation))}this.mTextField.set_text(a)},onAcceptInvitation:function(a){var b=this;a.stop=!0;this.findTypeFuture("uiTeam",xc).onComplete(function(a){a=h.get_instance().acceptInvitation(a.id);var d=function(a){Za.get_instance().deleteMessage(b.chatId,b.messageId)},
c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));b.register(c);b.register(a.onComplete(function(a){null!=d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))})},onDeclineInvitation:function(a){var b=this;a.stop=!0;this.findTypeFuture("uiTeam",xc).onComplete(function(a){a=h.get_instance().declineInvitation(a.id);var d=function(a){Za.get_instance().deleteMessage(b.chatId,b.messageId)},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,
y.instance.get_foreground().context));b.register(c);b.register(a.onComplete(function(a){null!=d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))})},dispose:function(){this.teamId=null;Df.prototype.dispose.call(this)},__class__:sj});var sh=function(){};f["system.gfx.ui.elements.interfaces.IScrollable"]=sh;sh.__name__="system.gfx.ui.elements.interfaces.IScrollable";sh.__isInterface__=!0;sh.prototype={__class__:sh};var Lb=function(a){this.mScrollDown=!1;this.mFocusContainerX=
this.mFocusContainerY=0;this.mFocusContainer=null;this.mDirty=!0;this.listSize=0;this.containers=[];this.uiListField=this.clipArea=this.content=null;this.vertical=this.allowScrollbar=!0;this.grid=!1;this.gap=0;La.call(this,a);this.clickable=!0};f["system.gfx.ui.elements.XList"]=Lb;Lb.__name__="system.gfx.ui.elements.XList";Lb.__interfaces__=[sh];Lb.__super__=La;Lb.prototype=k(La.prototype,{setFocusContainer:function(a){null!=this.mFocusContainer&&this.get_content().addChild(this.mFocusContainer);
return this.mFocusContainer=a},onScroll:function(a){this.scroll(100*a)},getPos:function(){return this.vertical?this.get_content().y:this.get_content().x},scrollDown:function(){this.mScrollDown=!0},setPos:function(a){if(this.vertical){var b=this.get_content();a=ia.fClamp(a,Math.min(0,this.resultHeight-this.listSize),0);b.y!=a&&b.invalidate();b.y=a;b=this.find("uiImgScrollPin");null!=b&&this.listSize>this.resultHeight&&(a=(this.resultHeight-b.height)*this.get_content().y/(this.resultHeight-this.listSize),
b.y!=a&&b.invalidate(),b.y=a)}else b=this.get_content(),a=ia.fClamp(a,Math.min(0,this.resultWidth-this.listSize),0),b.x!=a&&b.invalidate(),b.x=a,b=this.find("uiImgScrollPin"),null!=b&&this.listSize>this.resultWidth&&(a=(this.resultWidth-b.width)*this.get_content().x/(this.resultWidth-this.listSize),b.x!=a&&b.invalidate(),b.x=a);this.updateContainers()},scroll:function(a){this.setPos(this.getPos()+a);this.mScrollDown=!1},update:function(){this.mDirty&&(this.rearrange(),this.mDirty=!1);if(null!=this.mFocusContainer)if(this.vertical&&
1<this.resultHeight){var a=this.mFocusContainer.height;if(this.mFocusContainer.parent==this.get_content())if(0>this.mFocusContainerY+this.get_content().y){this.get_uiListField().addChild(this.mFocusContainer);var b=this.mFocusContainer;0!=b.y&&b.invalidate();b.y=0;b=this.get_clipArea();var d=-a;b.paddingTop!=d&&b.invalidate();b.paddingTop=d;b=this.get_clipArea();b.marginTop!=a&&b.invalidate();b.marginTop=a}else this.mFocusContainerY+this.get_content().y>this.resultHeight-this.mFocusContainer.height&&
(this.get_uiListField().addChild(this.mFocusContainer),b=this.mFocusContainer,d=this.resultHeight-a,b.y!=d&&b.invalidate(),b.y=d,b=this.get_clipArea(),d=-a,b.paddingBottom!=d&&b.invalidate(),b.paddingBottom=d,b=this.get_clipArea(),b.marginBottom!=a&&b.invalidate(),b.marginBottom=a);else if(0<this.mFocusContainerY+this.get_content().y&&this.mFocusContainerY+this.get_content().y<this.resultHeight-a){b=this.mFocusContainer;d=this.mFocusContainerY;b.y!=d&&b.invalidate();b.y=d;b=this.get_clipArea();a=
this.get_clipArea();var c=this.get_clipArea();d=this.get_clipArea();0!=d.marginBottom&&d.invalidate();d=d.marginBottom=0;c.paddingBottom!=d&&c.invalidate();d=c.paddingBottom=d;a.marginTop!=d&&a.invalidate();d=a.marginTop=d;b.paddingTop!=d&&b.invalidate();b.paddingTop=d;this.get_content().addChild(this.mFocusContainer);this.mFocusContainer.calc()}}else 1<this.resultWidth&&(this.mFocusContainer.parent==this.get_content()?0>this.mFocusContainerX+this.get_content().x?(this.get_uiListField().addChild(this.mFocusContainer),
b=this.mFocusContainer,0!=b.x&&b.invalidate(),b.x=0,b=this.get_clipArea(),d=-this.mFocusContainer.width,b.paddingLeft!=d&&b.invalidate(),b.paddingLeft=d,b=this.get_clipArea(),d=this.mFocusContainer.width,b.marginLeft!=d&&b.invalidate(),b.marginLeft=d):this.mFocusContainerX+this.get_content().x>this.resultWidth-this.mFocusContainer.width&&(this.get_uiListField().addChild(this.mFocusContainer),b=this.mFocusContainer,d=this.resultWidth-this.mFocusContainer.width,b.x!=d&&b.invalidate(),b.x=d,b=this.get_clipArea(),
d=-this.mFocusContainer.width,b.paddingRight!=d&&b.invalidate(),b.paddingRight=d,b=this.get_clipArea(),d=this.mFocusContainer.width,b.marginRight!=d&&b.invalidate(),b.marginRight=d):0<this.mFocusContainerX+this.get_content().x&&this.mFocusContainerX+this.get_content().x<this.resultWidth-this.mFocusContainer.width&&(b=this.mFocusContainer,d=this.mFocusContainerX,b.x!=d&&b.invalidate(),b.x=d,b=this.get_clipArea(),a=this.get_clipArea(),c=this.get_clipArea(),d=this.get_clipArea(),0!=d.marginRight&&d.invalidate(),
d=d.marginRight=0,c.paddingRight!=d&&c.invalidate(),d=c.paddingRight=d,a.marginLeft!=d&&a.invalidate(),d=a.marginLeft=d,b.paddingLeft!=d&&b.invalidate(),b.paddingLeft=d,this.get_content().addChild(this.mFocusContainer),this.mFocusContainer.calc()));La.prototype.update.call(this);this.mScrollDown?this.setPos((this.vertical?this.resultHeight:this.resultWidth)-this.listSize):this.setPos(this.getPos())},updateContainers:function(){if(null!=this.containers)for(var a=0,b=this.containers;a<b.length;)b[a++].updateVisability()},
onTouch:function(a,b){this.mScrollTarget=null;var d=this.find("uiImgScrollPin");null!=d&&d.testHit(a,b)?this.mScrollTarget=d:(d=this.find("uiImgScrollbar"),null!=d&&d.testHit(a,b)&&(this.touchScrollBar(a,b),this.mScrollTarget=d));this.registerXEventListener(S.get_instance(),"DOWN_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"UP_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"MOVE_EVENT",c(this,this.onTouchEvent));La.prototype.onTouch.call(this,
a,b)},touchScrollBar:function(a,b){var d=this.find("uiImgScrollbar");if(null!=d){this.mScrollDown=!1;var c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];if(null!=d.resultMatrix){var e=d.resultMatrix;d=Ba.sTempM2D[++Ba.sTempM2DIdx%Ba.sTempM2D.length];null!=e&&Ba.copyFrom(d,e);e=1/(d[0]*(d[4]*d[8]-d[7]*d[5])-d[1]*(d[3]*d[8]-d[5]*d[6])+d[2]*(d[3]*d[7]-d[4]*d[6]));var f=-(d[1]*d[8]-d[2]*d[7])*e,h=(d[1]*d[5]-d[2]*d[4])*e,m=-(d[3]*d[8]-d[5]*d[6])*e,k=(d[0]*d[8]-d[2]*d[6])*e,n=-(d[0]*d[5]-d[3]*d[2])*e,q=(d[3]*
d[7]-d[6]*d[4])*e,t=-(d[0]*d[7]-d[6]*d[1])*e,r=(d[0]*d[4]-d[3]*d[1])*e;d[0]=(d[4]*d[8]-d[7]*d[5])*e;d[3]=m;d[6]=q;d[1]=f;d[4]=k;d[7]=t;d[2]=h;d[5]=n;d[8]=r;c.x=a;c.y=b;a=c.multiplyMatrix(d)}else a=c;this.vertical?(b=0,c=this.find("uiImgScrollbar"),null!=c&&(b=.25*c.resultHeight),this.setPos((this.resultHeight-this.listSize)*(a.y-b)/(this.resultHeight-2*b))):(b=0,c=this.find("uiImgScrollbar"),null!=c&&(b=.25*c.resultWidth),this.setPos((this.resultWidth-this.listSize)*(a.x-b)/(this.resultWidth-2*b)))}},
onTouchEvent:function(a){if("MOVE_EVENT"==a.type){var b=y.SCREEN_WIDTH/q.instance.width*q.window.__scale,d=y.SCREEN_HEIGHT/q.instance.height*q.window.__scale;null==this.mScrollTarget?this.scroll(this.vertical?a.dy*d:a.dx*b):"uiImgScrollbar"==this.mScrollTarget.name?this.touchScrollBar(a.x*b,a.y*d):"uiImgScrollPin"==this.mScrollTarget.name&&this.scroll((this.vertical?a.dy*d:a.dx*b)*Math.max(1,this.listSize/(this.vertical?this.resultHeight:this.resultWidth))*-1)}else this.releaseXEventListener(S.get_instance(),
"DOWN_EVENT",c(this,this.onTouchEvent)),this.releaseXEventListener(S.get_instance(),"UP_EVENT",c(this,this.onTouchEvent)),this.releaseXEventListener(S.get_instance(),"MOVE_EVENT",c(this,this.onTouchEvent)),this.mScrollTarget=null},onTouchMove:function(a,b,d,e){null==this.mScrollTarget&&S.get_instance().buttonPressed(0)&&(this.registerXEventListener(S.get_instance(),"DOWN_EVENT",c(this,this.onTouchEvent)),this.registerXEventListener(S.get_instance(),"UP_EVENT",c(this,this.onTouchEvent)),this.registerXEventListener(S.get_instance(),
"MOVE_EVENT",c(this,this.onTouchEvent)),this.mScrollTarget=null);La.prototype.onTouchMove.call(this,a,b,d,e)},get_content:function(){null==this.content&&(this.content=this.find("uiContent"),null==this.content&&(this.content=qa.createInstanceFromString('<element relativeWidth="1.0" relativeHeight="1.0" />',this.context),this.get_clipArea().addChild(this.content)));return this.content},get_size:function(){return this.vertical?this.resultHeight:this.resultWidth},get_uiListField:function(){null==this.uiListField&&
(this.uiListField=this.find("uiListField"),null==this.uiListField&&(this.uiListField=qa.createInstanceFromString('<element template="tElement" />',this.context),this.addChild(this.uiListField)));return this.uiListField},get_clipArea:function(){null==this.clipArea&&(this.clipArea=this.findType("uiClipArea",sk),null==this.clipArea&&(this.clipArea=qa.createInstanceFromString('<area relativeWidth="1.0" relativeHeight="1.0" />',this.context),this.get_uiListField().addChild(this.clipArea)));return this.clipArea},
addContainer:function(a,b){null==b&&(b=!1);null!=a&&(a.onAddedToList(this),a.setRank(this.containers.length),this.get_content().addChild(a),this.containers.push(a),b&&this.setFocusContainer(a),this.invalidate());return a},removeContainer:function(a){null!=a&&(a.onRemovedFromList(),this.get_content().removeChild(a),E.remove(this.containers,a),this.invalidate());return a},rearrange:function(){var a=this.listSize=0,b=0;if(null!=this.containers)for(var d=0,c=this.containers;d<c.length;){var e=c[d];++d;
if(this.vertical){if(e==this.mFocusContainer&&(this.mFocusContainerY=this.listSize),e.parent==this.get_content())if(this.grid){this.get_content().resultWidth<b+e.width?(this.listSize+=e.height,b=e.width,this.listSize+=this.gap):(0!=b&&(b+=this.gap),b+=e.width);var f=b-e.width;e.x!=f&&e.invalidate();e.x=f;f=this.listSize;e.y!=f&&e.invalidate();e.y=f;0<this.containers.length&&e==this.containers[this.containers.length-1]&&(this.listSize+=e.height)}else 0!=this.listSize&&(this.listSize+=this.gap),f=this.listSize,
e.y!=f&&e.invalidate(),e.y=f,this.listSize+=e.height}else 0!=this.listSize&&(this.listSize+=this.gap),e==this.mFocusContainer&&(this.mFocusContainerX=this.listSize),e.parent==this.get_content()&&(f=this.listSize,e.x!=f&&e.invalidate(),e.x=f),this.listSize+=e.width;e.updateVisability();e.setRank(a++)}this.check()},check:function(){if(this.listSize>this.get_size()&&this.allowScrollbar){this.setLocalState("scrollbarOn");var a=this.find("uiImgScrollPin");if(null!=a)if(this.vertical){var b=Math.max(10,
this.resultHeight*this.resultHeight/this.listSize);a.height!=b&&a.invalidate();var d=null;a.relativeHeight!=d&&a.invalidate();a.relativeHeight=d;a.height=b}else b=Math.max(10,this.resultWidth*this.resultWidth/this.listSize),a.width!=b&&a.invalidate(),d=null,a.relativeWidth!=d&&a.invalidate(),a.relativeWidth=d,a.width=b}else this.setLocalState("scrollbarOff")},sort:function(a,b){null==b&&(b=!0);this.containers.sort(function(d,c){return d.compare(c,a)*(b?1:-1)});this.mDirty=!0},calc:function(){La.prototype.calc.call(this);
this.rearrange()},clear:function(a){for(null==a&&(a=!0);0<this.containers.length;){var b=this.containers.pop();a&&null!=b&&b.dispose()}this.listSize=0;a=this.get_content();b=this.get_content();0!=b.y&&b.invalidate();var d=b.y=0;a.x!=d&&a.invalidate();a.x=d;this.mFocusContainerY=this.mFocusContainerX=0;this.mFocusContainer=null;a=this.get_clipArea();b=this.get_clipArea();var c=this.get_clipArea();d=this.get_clipArea();0!=d.marginRight&&d.invalidate();d=d.marginRight=0;c.paddingRight!=d&&c.invalidate();
c=c.paddingRight=d;b.marginLeft!=c&&b.invalidate();d=b.marginLeft=c;a.paddingLeft!=d&&a.invalidate();a.paddingLeft=d;a=this.get_clipArea();b=this.get_clipArea();c=this.get_clipArea();d=this.get_clipArea();0!=d.marginBottom&&d.invalidate();d=d.marginBottom=0;c.paddingBottom!=d&&c.invalidate();c=c.paddingBottom=d;b.marginTop!=c&&b.invalidate();d=b.marginTop=c;a.paddingTop!=d&&a.invalidate();a.paddingTop=d;this.invalidate();if(null!=this.children)for(a=0,b=this.children;a<b.length;)b[a++].invalidate()},
applyFloatAttribute:function(a,b){"gap"==a?this.set_gap(b):(La.prototype.applyFloatAttribute.call(this,a,b),La.prototype.applyFloatAttribute.call(this,a,b))},set_gap:function(a){this.gap!=a&&(this.gap=a,this.mDirty=!0);return a},set_grid:function(a){this.grid!=a&&(this.grid=a,this.mDirty=!0);return a},applyBoolAttribute:function(a,b){switch(a){case "allowScrollbar":this.set_allowScrollbar(b);break;case "grid":this.set_grid(b);break;case "vertical":this.set_vertical(b);break;default:La.prototype.applyBoolAttribute.call(this,
a,b)}},set_vertical:function(a){this.vertical!=a&&(this.invalidate(),this.vertical=a,this.mDirty=!0);return a},set_allowScrollbar:function(a){this.allowScrollbar!=a&&(this.invalidate(),this.allowScrollbar=a,this.mDirty=!0);return a},onContainerAction:function(a){if(this.enabled){var b=this.parent.getControllListener();if(null!=b)b.onListAction(this,a)}},copyElements:function(a){La.prototype.copyElements.call(this,a);a.set_gap(this.gap);a.set_vertical(this.vertical)},onButtonAction:function(a){var b=
this.parent.getControllListener();if(null!=b)b.onButtonAction(a);else La.prototype.onButtonAction.call(this,a)},dispose:function(){La.prototype.dispose.call(this);this.mFocusContainer=this.content=this.containers=null},__class__:Lb,__properties__:k(La.prototype.__properties__,{get_size:"get_size",get_content:"get_content",get_clipArea:"get_clipArea",get_uiListField:"get_uiListField",set_allowScrollbar:"set_allowScrollbar",set_vertical:"set_vertical",set_grid:"set_grid",set_gap:"set_gap"})});var tj=
function(a){this.count=20;this.mContainerMap=new Sa;Lb.call(this,a)};f["screens.elements.NewsList"]=tj;tj.__name__="screens.elements.NewsList";tj.__super__=Lb;tj.prototype=k(Lb.prototype,{onAdded:function(){this.registerXEventListener(Ad.get_instance(),"NewsManager::NEWS_UPDATE",c(this,this.onNewsData));this.onNewsData()},onNewsData:function(a){if(null!=this.mContainerMap){a=null!=a&&0!=this.containers.length;for(var b=Ad.get_instance().list.slice(0,this.count),d=0;d<b.length;){var c=b[d];++d;if(!this.mContainerMap.h.hasOwnProperty(c.id)){var e=
new Jg(c,this.context),f=this.mContainerMap;c=c.id;f.h.hasOwnProperty(c)&&E.remove(f.mKeys,c);f.h[c]=e;f.mKeys.push(c);this.addContainer(e);this.sort();a&&e.pulse()}}}},applyFloatAttribute:function(a,b){"count"==a?this.count=b|0:Lb.prototype.applyFloatAttribute.call(this,a,b)},onContainerAction:function(a){var b=V.__cast(a,Jg);null!=b&&y.instance.addScreen(new cc(b.uid));Lb.prototype.onContainerAction.call(this,a)},dispose:function(){this.mContainerMap=null;Lb.prototype.dispose.call(this)},__class__:tj});
var Jg=function(a,b){Na.call(this,b);this.mNewsData=a;this.date=this.mNewsData.date;this.uid=this.mNewsData.uid;a=this.context;a=null!=a?a.getTemplate("tNewsFeedConti"):null;null!=a&&(a.applyTo(this),null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"height")?(a=this.mInitialHeight=this.data.height,this.height!=a&&this.invalidate(),null!=this.relativeHeight&&this.invalidate(),this.relativeHeight=null,this.height=a):this.mInitialHeight=this.height,this.mTextField=this.findType("uiTxtNews",
Ea),this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,c(this,this.onLanguageChange)),this.updateData())};f["screens.elements.NewsListContainer"]=Jg;Jg.__name__="screens.elements.NewsListContainer";Jg.__super__=Na;Jg.prototype=k(Na.prototype,{setLocalState:function(a,b){null==b&&(b=!1);Na.prototype.setLocalState.call(this,a,b);null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"height")&&(this.mInitialHeight=this.data.height)},updateData:function(){for(var a=this,b=("SID_NEWS_"+
R.string(this.mNewsData.type)).toUpperCase(),d=[],c=w.fields(this.mNewsData),e=0;e<c.length;){var f=c[e];++e;"uid"!=f&&d.push(w.field(this.mNewsData,f))}if(Object.prototype.hasOwnProperty.call(this.mNewsData,"uid")){var g=this.mNewsData.uid;"SID_NEWS_NEW_PLAYER"==b&&(c=E.cca(g,Math.max(1,g.length-5)|0)%3,0<c&&(b="SID_NEWS_NEW_PLAYER"+(c+1)));this.findTypeFuture("uiPlayer",$b).onComplete(function(a){a.set_uid(g)});var m=h.get_instance().getVCard(this.mNewsData.uid),k=function(c){var e=N.translate(b,
d);e=ka.replace(e,"_NAME",Jg.NAME_COLOR_TAG+c.name+"</col>");a.setText("uiTxtNews",e)},n=this;this.register(m.onComplete(function(a){n.unregister(m);null!=k&&k(a)}).onError(function(a){n.unregister(m)}))}else this.mTextField.set_text(N.translate(b,d))},update:function(){if(null!=this.mTextField){var a=Math.floor(this.mTextField.textHeight);if(a!=this.mTextFieldHeight){this.mTextFieldHeight=a;if(isNaN(this.mTextField.textHeight))a=this.mInitialHeight,this.height!=a&&this.invalidate(),b=null;else{a=
Math.max(this.mTextField.textHeight+50,this.mInitialHeight);this.height!=a&&this.invalidate();var b=null}this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;this.height=a}}Na.prototype.update.call(this)},onLanguageChange:function(a){this.updateData()},compare:function(a,b){return this.date<a.date?1:this.date==a.date?0:-1},dispose:function(){this.uid=this.mNewsData=this.mTextField=null;Na.prototype.dispose.call(this)},__class__:Jg});var Qa=function(a,b){this.profile=null;Na.call(this,a,
null!=b?"tEntry":"tAddEntry");this.profile=b;null!=b&&(this.setText("uiTxtName",b.name),this.setText("uiTxtLevel",N.translate("SID_LEVEL_X",[w.field(b.data,"level")+1])),a=b.icon,b=this.find("uiImgAvatar"),null!=b&&b instanceof G&&b.set_image(a));b=this.find("uiBtDelete");null!=b&&(b.data=this)};f["screens.elements.ProfileContainer"]=Qa;Qa.__name__="screens.elements.ProfileContainer";Qa.__super__=Na;Qa.prototype=k(Na.prototype,{__class__:Qa});var mi=function(a,b,d,c){this.middle=new g(0,0);this.animationTarget=
new g(0,0);this.animationStart=new g(0,0);ca.call(this,a.context);var e=this.context;e=null!=e?e.getTemplate("tAnimation"):null;null!=e&&e.applyTo(this);this.preParticleEmitter=new Zi;this.preParticleEmitter.numParticlesPerSecond=80;this.resourceType=b;this.value=d;this.screenScale=a.scale;this.mStartTime=C.timer;d=this.animationStart;e=a.find("uiRewardEmitter");e=null!=e?e.getMiddle():null;d.x=e.x;d.y=e.y;d.w=e.w;switch(b){case "chestLevel":a=a.find("uiBtLevelChest");this.setText("uiTxt","+1");break;
case "chestStars":a=a.find("uiBtStarChest");this.mStartTime+=.3*c;this.animationStart.x+=90*Math.floor((c+1)/2)*(1==c%2?-1:1);break;case "lifes":e=a.find("uiBtLifes");a=null!=e?e.findType("uiImgIcon",G):null;this.mStartTime+=.3*c;break;case "mtx":e=a.find("uiBtGold");a=null!=e?e.findType("uiImgIcon",G):null;break;default:a=a.find("uiBtGold").findType("uiImgIcon",G)}d=Sb.getResourceIcon(b);b=this.find("uiImgIcon");null!=b&&b instanceof G&&b.set_image(d);d=this.animationTarget;e=null!=a?a.getMiddle():
null;d.x=e.x;d.y=e.y;d.w=e.w;d=this.middle;d.x=y.SCREEN_WIDTH/2;d.y=y.SCREEN_HEIGHT/3};f["screens.elements.ResourceAnimation"]=mi;mi.__name__="screens.elements.ResourceAnimation";mi.__super__=ca;mi.prototype=k(ca.prototype,{update:function(){if(null!=this.middle){var a=Math.min(Math.max(0,C.timer-this.mStartTime)/1,1);a*=a;var b=g.BEZIER(g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],this.animationStart,this.middle,this.animationTarget,a),d=b.x;this.x!=d&&this.invalidate();this.x=d;d=b.y;this.y!=d&&this.invalidate();
this.y=d;d=(.8*Math.sin((.75*a+.25)*Math.PI)+1)*this.screenScale;this.scale!=d&&this.invalidate();this.scale=d;1<=a&&(Tc.dispose(this),this.middle=null)}ca.prototype.update.call(this)},dispose:function(){h.get_instance().consumeDelayedResource(this.resourceType,this.value);e.get_instance().play("sound/snap0.mp3",0,1,1);ca.prototype.dispose.call(this);this.middle=this.animationTarget=this.animationStart=null},__class__:mi});var Xc=function(a,b,d){this.mAnimCount=0;ca.call(this,a.context);1!=this.relativeHeight&&
this.invalidate();this.relativeHeight=1;1!=this.relativeWidth&&this.invalidate();this.relativeWidth=1;1!=this.absolute&&this.invalidate();this.absolute=!0;this.mScreen=a;this.resourceType=b;this.value=d;switch(b){case "chestStars":a=0;b=this.value;for(b=6>b?b:6;a<b;)this.addResourceAnimation(this.resourceType,1,a++);break;case "lifes":a=0;b=this.value;for(b=5>b?b:5;a<b;)this.addResourceAnimation(this.resourceType,1,a++);break;default:this.addResourceAnimation(this.resourceType,this.value)}this.registerXEventListener(q.instance,
"SIZE_CHANGED",c(this,this.onScreenSizeChanged));this.onScreenSizeChanged()};f["screens.elements.ResourceAnimationHandler"]=Xc;Xc.__name__="screens.elements.ResourceAnimationHandler";Xc.__super__=ca;Xc.prototype=k(ca.prototype,{onScreenSizeChanged:function(a){},addResourceAnimation:function(a,b,d){null==d&&(d=0);a=new mi(this.mScreen,this.resourceType,b,d);this.registerXEventListener(a,"XEventDispatcher::dispose",c(this,this.onAnimFinished));this.addChild(a);++this.mAnimCount},onAnimFinished:function(a){this.releaseXEventListener(a.target,
"XEventDispatcher::dispose",c(this,this.onAnimFinished));0>=--this.mAnimCount&&Tc.dispose(this)},dispose:function(){ca.prototype.dispose.call(this);this.mScreen=null},__class__:Xc});var Ub=function(a,b){this.rewardValue=0;G.call(this,a);if("string"==typeof b){var d=null;null!=h.get_instance().packageData&&(d=w.field(h.get_instance().packageData,b));null==d&&(d=w.field(h.config.buyables,b));null!=d&&(b="SID_"+b.toUpperCase(),N.hasTranslation(b)?(qa.applyFromStringTo('<image template="tBaseReward"/>',
this,a),2!=this.scale&&this.invalidate(),this.scale=2,1.22!=(isFinite(this.ratio)?this.ratio:this.resultWidth/this.resultHeight)&&this.invalidate(),this.ratio=1.22,a="shop/"+R.string(d.icon)+".png",d=this.find("uiImgRewardIcon"),null!=d&&d instanceof G&&d.set_image(a),this.setText("uiTxtRewardAmount",b)):this.applyData(d.resources))}else w.isObject(b)&&this.applyData(b)};f["screens.elements.RewardItem"]=Ub;Ub.__name__="screens.elements.RewardItem";Ub.__super__=G;Ub.prototype=k(G.prototype,{applyData:function(a){this.rewardResource=
w.fields(a)[0];this.rewardValue=w.field(a,this.rewardResource);a=this.rewardResource;switch(a){case "tempDoubleStars":qa.applyFromStringTo('<image template="tTemporaryStarReward"/>',this,this.context);this.setText("uiTxtStarBonus","tempDoubleStars"==this.rewardResource?N.translate("SID_X_TIMES",[2]):"");break;case "tempUnlimitedLife":qa.applyFromStringTo('<image template="tUnlimitedLifesReward"/>',this,this.context);break;default:h.get_instance().isTemporaryResource(a)?qa.applyFromStringTo('<image template="tTemporaryReward"/>',
this,this.context):qa.applyFromStringTo('<image template="tBaseReward"/>',this,this.context)}a=this.rewardResource;switch(a){case "lifes":a=h.get_instance().isTemporaryResource(a)?"+"+this.rewardValue/60+"min":"+"+this.rewardValue;break;case "moreMoves":case "mtx":if("moreMoves"==this.rewardResource&&(a=this.find("uiTxtRewardAmount"),null!=a)){var b=U.toFloat(243)/255,d=U.toFloat(42)/255,c=U.toFloat(29)/255;if(b!=a.colorR||d!=a.colorG||c!=a.colorB)a.colorR!=b&&a.invalidate(),a.colorR=b,a.colorG!=
d&&a.invalidate(),a.colorG=d,a.colorB!=c&&a.invalidate(),a.colorB=c,a.invalidate();a.color=15936029}a="+"+(1<this.rewardValue?N.number(this.rewardValue):"");break;default:a=h.get_instance().isTemporaryResource(a)?"+"+this.rewardValue/60+"min":1<this.rewardValue?N.number(this.rewardValue):""}this.setLocalState(this.rewardResource);this.setText("uiTxtRewardAmount",a);b=Sb.getResourceIcon(this.rewardResource);a=this.find("uiImgRewardIcon");null!=a&&a instanceof G&&a.set_image(b)},__class__:Ub});var ce=
function(a){this.mLastState=null;Aa.call(this,a);this.clickableChildren=!1};f["system.gfx.ui.elements.XRewardedAdButton"]=ce;ce.__name__="system.gfx.ui.elements.XRewardedAdButton";ce.__super__=Aa;ce.prototype=k(Aa.prototype,{onTouchUp:function(a,b,d,c){this.enabled&&30>c&&this.handleAd();Aa.prototype.onTouchUp.call(this,a,b,d,c)},handleAd:function(){var a=this;this.blubb();u.get_instance().get_ads().hasBadConsent()?(this.onConsentIssueDetected(),u.get_instance().get_tracking().adBlocked("rewarded")):
!u.get_instance().get_ads().rewardedAdAvailable&&u.get_instance().get_ads().hasAdBlocker()?(this.onAdBlockerDetected(),u.get_instance().get_tracking().adBlocked("rewarded")):this.register(u.get_instance().get_ads().showRewardedAd().onComplete(function(b){a.onRewardedAddCallback(b)}))},onAdBlockerDetected:function(){},onConsentIssueDetected:function(){},applyStringAttribute:function(a,b){switch(a){case "event":this.set_event(b);break;case "reward":this.set_reward(b);break;default:Aa.prototype.applyStringAttribute.call(this,
a,b)}},set_reward:function(a){this.reward!=a&&(this.reward=a);return a},set_event:function(a){this.event!=a&&(this.event=a);return a},onAdded:function(){Aa.prototype.onAdded.call(this);var a=u.get_instance().get_ads(),b=c(this,this.updateRewardedAdState);b(null);this.registerXEventListener(a,"rewarded_ad_available",b)},updateRewardedAdState:function(a){a=u.get_instance().get_ads().allowRewarded&&(u.get_instance().get_ads().rewardedAdAvailable||u.get_instance().get_ads().hasAdBlocker()||u.get_instance().get_ads().hasBadConsent());
if(this.mLastState!=a){var b=u.get_instance().get_ads().allowRewarded&&(!u.get_instance().hasFeature("hide_unfilled_ads")||a);this.setVisible("uiImgAd",b);this.setVisible("uiImgNoAd",!b);b=a?1:.5;var d=this.find("uiImgAd");null!=d&&(d.alpha!=b&&d.invalidate(),d.alpha=b);this.clickable=a;b=this.find("uiBtWatch");b=null!=b?b.preParticleEmitter:null;null!=b&&(b.active=a);this.mLastState=a}},onRewardedAddCallback:function(a){null!=a&&a.success&&null!=this.event&&u.get_instance().get_tracking().customEvent("rewarded",
this.event,1);if(null!=this.parent){var b=this.parent.getControllListener();if(null!=b)b.onRewardedAdAction(this,a)}},dispose:function(){this.set_event(null);this.set_reward(null);Aa.prototype.dispose.call(this)},__class__:ce,__properties__:k(Aa.prototype.__properties__,{set_event:"set_event",set_reward:"set_reward"})});var Ef=function(a){this.allowThankx=!1;ce.call(this,a)};f["screens.elements.RewardedAdButton"]=Ef;Ef.__name__="screens.elements.RewardedAdButton";Ef.__super__=ce;Ef.prototype=k(ce.prototype,
{handleAd:function(){var a=this;if(this.allowThankx&&!u.get_instance().get_ads().rewardedAdAvailable)af.create().onComplete(function(b){a.onRewardedAddCallback({success:b})});else ce.prototype.handleAd.call(this)},onAdBlockerDetected:function(){y.instance.addScreen(Tb.createOkPopUp("SID_ATTENTION","SID_PLEASE_REMOVE_ADBLOCKER"))},onConsentIssueDetected:function(){var a=this;y.instance.addScreen(Tb.createXPopUp(function(a){a.setText("uiTxtHeadText","SID_ATTENTION");a.setText("uiTxtMessage","SID_BAD_CONSENT");
a=a.find("uiBtPopupOk");a instanceof Aa&&V.__cast(a,Aa).set_label("SID_CHANGE")},function(b){if(b.result==id.YES){var d=u.get_instance().forcePrivacyForm(),c=function(a){u.get_instance().get_ads().startAdSystem(a);b.close()},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));a.register(e);a.register(d.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))}else b.close()}))},
set_reward:function(a){if(this.reward!=a){this.reward=a;var b=w.field(h.config.rewards,this.reward);if(null!=b){var d=this.find("uiImgRewardConti");null!=d&&(d.removeAllChildren(),d.addChild(new Ub(this.context,b.resources)))}}return a},__class__:Ef});var ni=function(a,b){this.paymentPackage=b;this.packageId=this.paymentPackage.sku;this.packageData=w.field(null!=h.get_instance().packageData?h.get_instance().packageData:h.config.buyables,this.packageId);null!=this.packageData?(this.index=this.packageData.idx|
0,Na.call(this,a,1<w.fields(this.packageData.resources).length?"tBigShopConti":"tMtxShopConti",this.packageData.idx),this.registerXEventListener(u.get_instance().get_payment(),"PaymentManager:DISCOUNT",c(this,this.onPackageUpdate)),this.registerXEventListener(h.get_instance(),"ZooBackendLayer::packageUpdate",c(this,this.onPackageUpdate)),this.registerXEventListener(h.get_instance(),"RESOURCE_UPDATE",c(this,this.onResourceUpdate)),this.updateDisplay()):Na.call(this,a,"tMtxShopConti")};f["screens.elements.ShopContainer"]=
ni;ni.__name__="screens.elements.ShopContainer";ni.__super__=Na;ni.prototype=k(Na.prototype,{onResourceUpdate:function(a){this.packageId==a.resourceType&&"starter_package"==this.packageId?(this.packageId="package_01",this.updateDisplay()):"noAd"==a.resourceType&&this.updateDisplay()},updateDisplay:function(){var a=this.packageData,b=a.resources,d="starter_package"==this.packageId,c=this.findType("uiImgPic",G);if(null!=c){this.find("uiImgEmitter").preParticleEmitter.active=d;var e=a.icon;c.set_image(null!=
e&&0==e.indexOf("http")?e:"shop/"+e+".png")}this.set_image(d?"ui/starter_bg.png":Object.prototype.hasOwnProperty.call(b,"singleHit")?"ui/shopground2.png":"ui/shopground.png");d=a.bonus;d=null!=d?d:0;u.get_instance().get_payment().hasDiscount()&&(d+=u.get_instance().get_payment().discount.bonus);this.setText("uiTxtContiHead","SID_"+this.packageId.toUpperCase());null!=b&&(this.setupResource(1,"singleHit",w.field(b,"singleHit")),this.setupResource(2,"rowHit",w.field(b,"rowHit")),this.setupResource(3,
"columnHit",w.field(b,"columnHit")),this.setupResource(4,"swizzle",w.field(b,"swizzle")),this.setupResource(5,"starterLine",w.field(b,"starterLine")),this.setupResource(6,"starterSkunk",w.field(b,"starterSkunk")),this.setupResource(7,"starterOrb",w.field(b,"starterOrb")),this.setupResource(8,"tempUnlimitedLife",w.field(b,"tempUnlimitedLife")),this.gold=w.field(b,"mtx"),this.setupResource(0,"mtx",this.gold));this.setVisible("uiImgSticker",null!=a.sticker);this.setVisible("uiImgSticker2",u.get_instance().hasFeature("buy_ad_free")&&
Object.prototype.hasOwnProperty.call(b,"noAd")&&!u.get_instance().adsSupressed);null!=a.sticker&&this.setLocalState("noAds");this.setText("uiTxtSticker",N.translate(a.sticker,null));this.setLocalState(0<d?"bonus":"default");this.setText("uiTxtBadge01",N.percentage(100*d));this.setVisible("uiImgDisountBar",0<d);this.setText("uiTxtValueBonus",0<d?N.number(Math.round(this.gold*(1+d))):"");d=this.paymentPackage;a=null!=d?d.displayPrice:null;b=this.find("uiBtBuy");b instanceof Aa&&V.__cast(b,Aa).set_label(a);
null!=this.paymentPackage.currencyImageURI&&(this.setLocalState("paymentIcon",!0),d=this.paymentPackage,a=null!=d?d.currencyImageURI:null,b=this.find("uiImgCurrencyIcon"),null!=b&&b instanceof G&&b.set_image(a))},onPackageUpdate:function(a){this.updateDisplay()},setupResource:function(a,b,d){null==d&&(d=0);a=this.find("uiRes"+a);if(null!=a){var c=ka.replace(Sb.getResourceIcon(b),".png","_small.png"),e=a.find("uiImgResIcon");null!=e&&e instanceof G&&e.set_image(c);null==b?a.setText("uiTxtValue",N.number(d)):
"tempUnlimitedLife"==b?a.setText("uiTxtValue",N.translate("SID_SHORT_HOUR",[d/3600])):a.setText("uiTxtValue",N.number(d));a.set_visible(0!=d)}},dispose:function(){this.packageData=this.paymentPackage=this.packageId=null;Na.prototype.dispose.call(this)},__class__:ni});var de=function(a,b,d){null==d&&(d=0);Na.call(this,a,b);this.idx=d};f["screens.elements.ShopSortContainer"]=de;de.__name__="screens.elements.ShopSortContainer";de.__super__=Na;de.prototype=k(Na.prototype,{compare:function(a,b){return null!=
a?a.idx<this.idx?1:-1:Na.prototype.compare.call(this,a,b)},__class__:de});var th=function(a,b,d){null==d&&(d=0);this.map={};de.call(this,a,b,d);this.map.singleHit="uiBtBuySingle";this.map.rowHit="uiBtBuyRow";this.map.columnHit="uiBtBuyColumn";this.map.swizzle="uiBtBuySwizzle";this.map.starterLine="uiBtBuyBreaker";this.map.starterSkunk="uiBtBuySkunk";this.map.starterOrb="uiBtBuyOrb";a=h.get_instance();b=c(this,this.onResourceUpdate);b(null);this.registerXEventListener(a,"RESOURCE_UPDATE",b)};f["screens.elements.ShopLinkContainer"]=
th;th.__name__="screens.elements.ShopLinkContainer";th.__super__=de;th.prototype=k(de.prototype,{onResourceUpdate:function(a){var b=this;if(null!=a&&Object.prototype.hasOwnProperty.call(this.map,a.resourceType)){var d=w.field(this.map,a.resourceType);this.register(Dc.delay(function(){var a=b.find(d);null!=a&&a.pulse()},1E3))}a=w.fields(this.map);for(var c=0;c<a.length;){var e=a[c];++c;this.setAmount(w.field(this.map,e),e)}},setAmount:function(a,b){a=this.find(a);null!=a&&a.setText("uiTxtAmount",N.number(h.get_instance().getResource(b)))},
dispose:function(){this.map=null;de.prototype.dispose.call(this)},__class__:th});var Qi=function(a,b,d){null==d&&(d=0);de.call(this,a,b,d);this.init();a=h.get_instance();b=c(this,this.onResourceUpdate);b(null);this.registerXEventListener(a,"RESOURCE_UPDATE",b)};f["screens.elements.ShopTempContainer"]=Qi;Qi.__name__="screens.elements.ShopTempContainer";Qi.__super__=de;Qi.prototype=k(de.prototype,{init:function(){var a=this.checkType(0,"tempDoubleStars");a=this.checkType(a,"tempMoreMoves");a=this.checkType(a,
"tempStarterLine");a=this.checkType(a,"tempStarterSkunk");this.checkType(a,"tempStarterOrb")},checkType:function(a,b){var d=this;return h.get_instance().hasTemporaryBonus(b)?(this.findFuture("uiImgTemp"+a).onComplete(function(a){a.set_visible(!0);var e=d.context,f={};f[b]=3600;a.addChild(new Ub(e,f));a=new Cc(h.get_instance().getTemporaryBonusDuration(b),a.findType("uiTxtRewardAmount",Ea));d.registerXEventListener(a,"XCountDown::COUNTDOWN_FINISHED",c(d,d.onStarCountDownFinished));a.start()}),++a):
a},onStarCountDownFinished:function(a){},onResourceUpdate:function(a){},dispose:function(){de.prototype.dispose.call(this)},__class__:Qi});var oi=function(a){this.payment=this.mLocked=!1;Aa.call(this,a);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",c(this,this.onButton))};f["screens.elements.XBuyButton"]=oi;oi.__name__="screens.elements.XBuyButton";oi.__super__=Aa;oi.prototype=k(Aa.prototype,{onButton:function(a){this.executePayment()},executePayment:function(){var a=this;if(!this.mLocked)if(this.payment)u.get_instance().get_payment().buy(this.packageId);
else{var b=h.get_instance().buy(this.packageId),d=function(b){a.mLocked=!1;y.instance.addScreen(new Md(b.pack.resources))},c=function(b){a.mLocked=!1},e=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(e);this.register(b.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=c&&c(a);null!=e&&e.dispose()}))}},applyFloatAttribute:function(a,b){"price"==a?this.set_price(b):Aa.prototype.applyFloatAttribute.call(this,
a,b)},applyStringAttribute:function(a,b){"package"==a?this.set_packageId(b):Aa.prototype.applyStringAttribute.call(this,a,b)},set_price:function(a){this.price!=a&&(this.price=a,this.setText("uiTxtPrice",N.number(a)));return a},set_packageId:function(a){if(this.packageId!=a){this.packageId=a;var b=w.field(h.config.buyables,this.packageId);if(null!=b){var d=w.fields(b.resources),c=Sb.getResourceIcon(d[0]),e=this.find("uiImgIcon");null!=e&&e instanceof G&&e.set_image(c);this.setText("uiTxtValue",N.translate("SID_PLUS_X",
[w.field(b.resources,d[0])]));c=Object.prototype.hasOwnProperty.call(b,"price")?"$"+N.number(b.price):N.number(b.costs.mtx);e=this.find("uiBtBuy");e instanceof Aa&&V.__cast(e,Aa).set_label(c);this.payment=b.payment}}return a},__class__:oi,__properties__:k(Aa.prototype.__properties__,{set_packageId:"set_packageId",set_price:"set_price"})});var Pc=function(a){this.temporary=!1;this.amount=0;this.resource="starterLine";this.starter="unknown";Aa.call(this,a);this.registerXEventListener(h.get_instance(),
"RESOURCE_UPDATE",c(this,this.onResourceUpdate));this.registerXEventListener(h.get_instance(),"ZooBackendLayer::tempBonusUpdate",c(this,this.onResourceUpdate))};f["screens.elements.XJumpStarterButton"]=Pc;Pc.__name__="screens.elements.XJumpStarterButton";Pc.__super__=Aa;Pc.prototype=k(Aa.prototype,{get_temporaryActive:function(){return h.get_instance().hasTemporaryBonus(this.starter)},getTemporaryDuration:function(){return h.get_instance().getTemporaryBonusDuration(this.starter)},get_active:function(){return t.get_instance().hasJumpStarter(this.starter)?
!0:this.get_temporaryActive()},applyStringAttribute:function(a,b){"starter"==a?this.set_starter(b):Aa.prototype.applyStringAttribute.call(this,a,b)},applyFloatAttribute:function(a,b){"starter"==a?this.set_starter(null==b?"null":""+b):Aa.prototype.applyFloatAttribute.call(this,a,b)},onResourceUpdate:function(a){this.amount=Math.round(h.get_instance().getResource(this.resource));this.updateDisplay()},updateDisplay:function(){var a=this.get_temporaryActive(),b=!a;this.enabled=b;this.setLocalState(b?
"enabled":"disabled");if(this.get_active()){b=this.find("uiImgBg");if(null!=b){var d=U.toFloat(175)/255,e=U.toFloat(175)/255,f=U.toFloat(175)/255;if(d!=b.colorR||e!=b.colorG||f!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=e&&b.invalidate(),b.colorG=e,b.colorB!=f&&b.invalidate(),b.colorB=f,b.invalidate();b.color=11513775}this.setVisible("uiImgOk",!0);this.setVisible("uiTxtAmount",!1);this.setVisible("uiImgPlus",!1)}else{b=this.find("uiImgBg");if(null!=b){d=U.toFloat(255)/255;e=U.toFloat(255)/
255;f=U.toFloat(0)/255;if(d!=b.colorR||e!=b.colorG||f!=b.colorB)b.colorR!=d&&b.invalidate(),b.colorR=d,b.colorG!=e&&b.invalidate(),b.colorG=e,b.colorB!=f&&b.invalidate(),b.colorB=f,b.invalidate();b.color=16776960}this.setVisible("uiImgOk",!1);0<this.amount?(this.setText("uiTxtAmount",N.number(this.amount)),this.setVisible("uiTxtAmount",!0),this.setVisible("uiImgPlus",!1)):(this.setVisible("uiTxtAmount",!1),this.setVisible("uiImgPlus",!0))}this.setLocalState(a?"temporary":"default");if(!this.temporary){switch(this.starter){case "starterLine":b=
"tempStarterLine";break;case "starterOrb":b="tempStarterOrb";break;case "starterSkunk":b="tempStarterSkunk";break;default:b=null}null!=b&&this.set_visible(!h.get_instance().hasTemporaryBonus(b))}b=this.mCountDown;null!=b&&b.dispose();this.mCountDown=null;a&&(this.mCountDown=(new Cc(this.getTemporaryDuration(),this.findType("uiTxtTime",Ea))).start(),this.registerXEventListener(this.mCountDown,"XCountDown::COUNTDOWN_FINISHED",c(this,this.onFinished)))},onFinished:function(a){a=this.mCountDown;null!=
a&&a.dispose();this.mCountDown=null;t.get_instance().setJumpStarter(this.starter,!1);this.set_visible(!1)},set_starter:function(a){if(this.starter!=a){this.starter=a;switch(a){case "starterLine":this.resource="starterLine";break;case "starterOrb":this.resource="starterOrb";break;case "starterSkunk":this.resource="starterSkunk";break;case "tempStarterLine":case "tempStarterOrb":case "tempStarterSkunk":this.temporary=!0,this.set_visible(this.get_temporaryActive())}var b=Sb.getResourceIcon(a),d=this.find("uiImgIcon");
null!=d&&d instanceof G&&d.set_image(b);this.amount=Math.round(h.get_instance().getResource(this.resource));this.updateDisplay()}return a},onTouchUp:function(a,b,d,c){this.get_active()?(t.get_instance().setJumpStarter(this.starter,!1),this.updateDisplay()):0<this.amount?(t.get_instance().setJumpStarter(this.starter,!0),this.updateDisplay()):y.instance.addScreen(new sd(this.resource));Aa.prototype.onTouchUp.call(this,a,b,d,c)},__class__:Pc,__properties__:k(Aa.prototype.__properties__,{get_temporaryActive:"get_temporaryActive",
get_active:"get_active",set_starter:"set_starter"})});var $b=function(a){this.overrideClick=null;this.big=!1;Aa.call(this,a);1!=this.highlight&&(this.invalidate(),null!=this.highlightAnimation&&(this.removeAnimation(this.highlightAnimation),this.highlightAnimation=null));this.highlight=!0;a=this.context;a=null!=a?a.getTemplate("tPlayer"):null;null!=a&&a.applyTo(this);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",c(this,this.onPlayerClick))};f["screens.elements.XPlayer"]=$b;$b.__name__=
"screens.elements.XPlayer";$b.__super__=Aa;$b.prototype=k(Aa.prototype,{onPlayerClick:function(a){null!=this.overrideClick?this.overrideClick():y.instance.addScreen(new cc(this.uid))},set_uid:function(a){var b=this;this.uid=a;var d=h.get_instance().getVCard(this.uid),e=function(a){a.applyPlayerData(b,b.big);b.releaseXEventListener(a,"VCard::UPDATE",c(b,b.onVCardUpdate));b.registerXEventListener(a,"VCard::UPDATE",c(b,b.onVCardUpdate));b.dispatchSimpleXEvent("XPlayer::UPDATE")},f=this;this.register(d.onComplete(function(a){f.unregister(d);
null!=e&&e(a)}).onError(function(a){f.unregister(d)}));return a},onVCardUpdate:function(a){a=a.target;null!=a&&a.applyPlayerData(this,this.big)},applyBoolAttribute:function(a,b){"big"==a?this.big=b:Aa.prototype.applyBoolAttribute.call(this,a,b)},dispose:function(){Aa.prototype.dispose.call(this)},__class__:$b,__properties__:k(Aa.prototype.__properties__,{set_uid:"set_uid"})});var xc=function(a){this.badge=[{color:255,icon:1},{color:65280,icon:1},{color:16711680,icon:1}];this.big=!1;Aa.call(this,a);
if(1==xc.MAX[0])for(a=0;3>a;){for(var b=a++,d=0;ua.exists("teams/"+b+"/"+ia.ndigits(d,3)+".png");)++d;xc.MAX[b]=d}1!=this.highlight&&(this.invalidate(),null!=this.highlightAnimation&&(this.removeAnimation(this.highlightAnimation),this.highlightAnimation=null));this.highlight=!0;a=this.context;a=null!=a?a.getTemplate("tTeam"):null;null!=a&&a.applyTo(this);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",c(this,this.onTeamClick))};f["screens.elements.XTeam"]=xc;xc.__name__="screens.elements.XTeam";
xc.__super__=Aa;xc.prototype=k(Aa.prototype,{onTeamClick:function(a){null!=this.id&&y.instance.addScreen(new ii(this.id))},applyVCard:function(a){this.setBadge(a.badge);var b=aa.getFlagIcon(a.cid),d=this.find("uiImgFlag");null!=d&&d instanceof G&&d.set_image(b);this.setText("uiTxtTeamName",a.name)||(this.tooltip=a.name)},set_id:function(a){var b=this;if(this.id!=a)if(this.id=a,null!=this.id){var d=h.get_instance().getVCardTeam(this.id),e=function(a){b.set_visible(!0);b.applyVCard(a);b.registerXEventListener(a,
"VCardTeam::UPDATE",c(b,b.onVCardUpdate));b.dispatchSimpleXEvent("XTeam::UPDATE")},f=this;this.register(d.onComplete(function(a){f.unregister(d);null!=e&&e(a)}).onError(function(a){f.unregister(d)}))}else{this.setBadge(null);var g=this.find("uiImgFlag");null!=g&&g instanceof G&&g.set_image(null);this.setText("uiTxtTeamName",null);this.tooltip=null;this.set_visible(!1)}return a},setBadge:function(a){if(null!=a){for(var b=0;3>b;){var d=b++;this.badge[d].icon=a[d].icon;this.badge[d].color=a[d].color}this.updateDisplay()}else for(b=
0;3>b;)a=this.find("uiImg"+b++),null!=a&&a instanceof G&&a.set_image(null)},setBadgeColor:function(a,b){this.badge[a].color=b;this.updateDisplay()},setBadgeEntry:function(a,b){var d=this.findType("uiImg"+a,G);null!=d&&(null!=b?(this.badge[a].icon=b.icon,this.badge[a].color=b.color,this.updateDisplay()):d.set_image(null))},toggleIcon:function(a,b){for(b=this.badge[a].icon+b;0>b;)b+=xc.MAX[a];this.badge[a].icon=b%xc.MAX[a];this.updateDisplay()},updateDisplay:function(){for(var a=0;3>a;){var b=a++,d=
this.findType("uiImg"+b,G);if(null!=d){var c=this.badge[b];if(null!=c){d.set_image(null!=c.icon?"teams/"+b+"/"+ia.ndigits(c.icon,3)+".png":null);b=c.color;c=U.toFloat(b>>>16&255)/255;var e=U.toFloat(b>>>8&255)/255,f=U.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||f!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=f&&d.invalidate(),d.colorB=f,d.invalidate();d.color=b}}}b="teams/2/"+ia.ndigits(this.badge[2].icon,3)+"_o.png";a=this.find("uiImgOverlay");
null!=a&&a instanceof G&&a.set_image(b);this.dispatchSimpleXEvent("XTeam::UPDATE_BADGE",this.badge)},randomize:function(){for(var a=0;3>a;){var b=a++;this.setBadgeEntry(b,{icon:R.random(xc.MAX[b]),color:R.random(16777215)})}this.updateDisplay()},onVCardUpdate:function(a){a=a.target;null!=a&&this.applyVCard(a)},applyBoolAttribute:function(a,b){"big"==a?this.big=b:Aa.prototype.applyBoolAttribute.call(this,a,b)},dispose:function(){this.badge=null;this.set_id(null);Aa.prototype.dispose.call(this)},__class__:xc,
__properties__:k(Aa.prototype.__properties__,{set_id:"set_id"})});var Bb=function(a,b,d){null==d&&(d="tPlayerContainer");Na.call(this,a);a=this.context;d=null!=a?a.getTemplate(d):null;null!=d&&d.applyTo(this);Object.prototype.hasOwnProperty.call(b,"score")&&(this.setText("uiTxtScore",N.number(b.score)),this.score=b.score);Object.prototype.hasOwnProperty.call(b,"date")?this.date=b.date:Object.prototype.hasOwnProperty.call(b,"time")&&(this.date=b.time);Object.prototype.hasOwnProperty.call(b,"levels")&&
(this.setText("uiTxtLevels",N.number(b.levels)+" "+N.translate("SID_LEVELS")),this.levels=b.levels);Object.prototype.hasOwnProperty.call(b,"stars")&&(this.setText("uiTxtStars",N.number(b.stars)),this.stars=b.stars);null!=b.uid?(this.uid=b.uid,d=this.find("uiPlayer"),null!=d&&d.set_uid(this.uid),null!=this.image&&this.set_image(h.get_instance().get_uid()==b.uid?"ui/mark.png":"ui/dark.png")):(this.setText("uiTxtName",b.name),Object.prototype.hasOwnProperty.call(b,"icon")&&(b=b.icon,d=this.find("uiImgIcon"),
null!=d&&d instanceof G&&d.set_image(b)));this.registerXEventListener(this,"XCONTAINER_CLICKED",c(this,this.onClicked))};f["screens.highscore.LevelHighscoreContainer"]=Bb;Bb.__name__="screens.highscore.LevelHighscoreContainer";Bb.__super__=Na;Bb.prototype=k(Na.prototype,{setRank:function(a){this.setText("uiTxtRank",N.number(a+1))},onClicked:function(a){y.instance.addScreen(new cc(this.uid))},compare:function(a,b){if(null==b)return this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1;
switch(b){case "level":return this.levels<a.levels?1:this.levels==a.levels?this.date>a.date?1:-1:-1;case "stars":return this.stars<a.stars?1:this.stars==a.stars?this.date>a.date?1:-1:-1;default:return this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1}},__class__:Bb});var uh=function(a,b,d){null==d&&(d="tPlayerContainerTournamentWithReward");this.mOldRank=-1;Bb.call(this,a,b,d)};f["screens.highscore.LadderHighscoreContainer"]=uh;uh.__name__="screens.highscore.LadderHighscoreContainer";
uh.__super__=Bb;uh.prototype=k(Bb.prototype,{setRank:function(a){var b=this;if(this.mOldRank!=a){this.mOldRank=a;Bb.prototype.setRank.call(this,a);var d=h.config.weekly.rewards[a];this.setVisible("uiImgRewardGlow",null!=d);if(null!=d)this.findFuture("uiImgRewardConti").onComplete(function(a){a.removeAllChildren();a.addChild(new Ub(b.context,d))})}},__class__:uh});var P=function(a,b,d){null==d&&(d="tTeamLadderContainer");this.stars=-1;Na.call(this,a,d);Object.prototype.hasOwnProperty.call(b,"stars")&&
(this.setText("uiTxtStars",N.number(b.stars)),this.stars=b.stars);this.teamId=b.id;this.time=b.time;h.get_instance().teamId==this.teamId&&this.set_image("ui/mark.png");a=this.findType("uiAvatarTeam",xc);null!=a&&a.set_id(this.teamId);this.registerXEventListener(this,"XCONTAINER_CLICKED",c(this,this.onClicked))};f["screens.highscore.TeamLadderContainer"]=P;P.__name__="screens.highscore.TeamLadderContainer";P.__super__=Na;P.prototype=k(Na.prototype,{onClicked:function(a){y.instance.addScreen(new ii(this.teamId))},
setRank:function(a){this.setText("uiTxtRank",N.number(a+1))},compare:function(a,b){return null==b?this.time>a.time?1:-1:"stars"==b?this.stars<a.stars?1:this.stars==a.stars?this.time>a.time?1:-1:-1:this.time>a.time?1:-1},__class__:P});var Nj=function(a,b,d,e){null==e&&(e="tPlayerContainerMember");this.mOptions=null;Bb.call(this,a,b,e);this.teamRank=w.field(b,"rank");this.teamId=d;this.registerXEventListener(h.get_instance(),"TEAM_UPDATE",c(this,this.onTeamUpdate));this.registerXEventListener(h.get_instance(),
"TEAM_RANK_CHANGE",c(this,this.onTeamRankChange));this.registerXEventListener(h.get_instance(),"TEAM_PLAYER_CHANGE",c(this,this.onPlayerTeamChange));this.clickable=this.teamId==h.get_instance().teamId;this.updateDisplay()};f["screens.highscore.TeamMemberContainer"]=Nj;Nj.__name__="screens.highscore.TeamMemberContainer";Nj.__super__=Bb;Nj.prototype=k(Bb.prototype,{onPlayerTeamChange:function(a){var b=a.data.uid;null==a.data.teamId&&b!=h.get_instance().get_uid()&&b==this.uid&&null!=this.parentList&&
this.parentList.removeContainer(this)},onTeamRankChange:function(a){a.data.uid==this.uid&&(this.teamRank=a.data.rank,this.updateDisplay())},onTeamUpdate:function(a){null==h.get_instance().teamId&&this.uid==h.get_instance().get_uid()&&this.parentList.removeContainer(this)},updateDisplay:function(){this.setText("uiTxtMemberRank","SID_TEAM_RANK"+this.teamRank);this.setText("uiTxtStars",N.number(this.stars))},onClicked:function(a){this.teamId==h.get_instance().teamId&&this.addOptions()},addOptions:function(){if(null==
this.mOptions){this.clickable=!1;var a=this.height+100;this.height!=a&&this.invalidate();null!=this.relativeHeight&&this.invalidate();this.relativeHeight=null;this.height=a;100!=this.paddingBottom&&this.invalidate();this.paddingBottom=100;this.parentList.invalidate();this.addChild(this.mOptions=qa.createInstanceFromString('<element template="tMemberOptions" />',this.context));this.registerXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",c(this,this.onClosePressed));this.registerXEventListener(this.mOptions.find("uiBtPromote"),
"XButton::BUTTON_PRESSED",c(this,this.onPromotePressed));this.registerXEventListener(this.mOptions.find("uiBtDemote"),"XButton::BUTTON_PRESSED",c(this,this.onDemotePressed));this.registerXEventListener(this.mOptions.find("uiBtRemove"),"XButton::BUTTON_PRESSED",c(this,this.onRemovePressed));var b=this.uid==h.get_instance().get_uid(),d=this.uid!=h.get_instance().get_uid()&&h.get_instance().teamRank<this.teamRank;a=2>=this.teamRank&&d;var e=this.mOptions.find("uiBtPromote");null!=e&&(e.enabled=a,e.setLocalState(a?
"enabled":"disabled"));a=1>=this.teamRank&&(d||b);e=this.mOptions.find("uiBtDemote");null!=e&&(e.enabled=a,e.setLocalState(a?"enabled":"disabled"));e=this.mOptions;a=d&&1>=h.get_instance().teamRank||b;e=e.find("uiBtRemove");null!=e&&(e.enabled=a,e.setLocalState(a?"enabled":"disabled"))}},removeOptions:function(){if(null!=this.mOptions){this.clickable=!0;0!=this.paddingBottom&&this.invalidate();this.paddingBottom=0;var a=this.height-100;this.height!=a&&this.invalidate();null!=this.relativeHeight&&
this.invalidate();this.relativeHeight=null;this.height=a;this.releaseXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",c(this,this.onClosePressed));this.releaseXEventListener(this.mOptions.find("uiBtPromote"),"XButton::BUTTON_PRESSED",c(this,this.onPromotePressed));this.releaseXEventListener(this.mOptions.find("uiBtDemote"),"XButton::BUTTON_PRESSED",c(this,this.onDemotePressed));this.releaseXEventListener(this.mOptions.find("uiBtRemove"),"XButton::BUTTON_PRESSED",c(this,this.onRemovePressed));
this.mOptions.dispose();this.mOptions=null}},onClosePressed:function(a){a.stop=!0;this.removeOptions()},onRemovePressed:function(a){var b=this;a.stop=!0;if(this.uid!=h.get_instance().get_uid()){a=h.get_instance().removeFromTeam(this.uid);var d=function(a){Object.prototype.hasOwnProperty.call(a,"error")||null==b.parentList||b.parentList.removeContainer(b)},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(c);
this.register(a.onComplete(function(a){null!=d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))}else{a=h.get_instance().quitTeam();var e=function(a){Object.prototype.hasOwnProperty.call(a,"error")||null==b.parentList||b.parentList.removeContainer(b)},f=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(f);this.register(a.onComplete(function(a){null!=e&&e(a);null!=f&&f.dispose()}).onError(function(a){null!=
f&&f.dispose()}))}},onPromotePressed:function(a){var b=this;a.stop=!0;a=h.get_instance().promote(this.uid);var d=function(a){var d=b.teamRank,c=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"rank");b.teamRank=c?w.field(a,"rank"):d;b.updateDisplay();b.removeOptions();b.parentList.sort("team")},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(c);this.register(a.onComplete(function(a){null!=d&&d(a);
null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))},onDemotePressed:function(a){var b=this;a.stop=!0;a=h.get_instance().demote(this.uid);var d=function(a){var d=b.teamRank,c=w.isObject(a)&&Object.prototype.hasOwnProperty.call(a,"rank");b.teamRank=c?w.field(a,"rank"):d;b.updateDisplay();b.removeOptions();b.parentList.sort("team")},c=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));this.register(c);this.register(a.onComplete(function(a){null!=
d&&d(a);null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}))},compare:function(a,b){return null==b?this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1:"team"==b?this.teamRank>a.teamRank?1:this.teamRank==a.teamRank?this.stars<a.stars?1:-1:-1:this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1},dispose:function(){this.teamId=this.mOptions=null;Bb.prototype.dispose.call(this)},__class__:Nj});var ig=function(a,b,d){null==d&&(d="tPlayerContainerTournamentWithReward");
this.rank=-1;Bb.call(this,a,b,d)};f["screens.highscore.TournamentContainer"]=ig;ig.__name__="screens.highscore.TournamentContainer";ig.__super__=Bb;ig.prototype=k(Bb.prototype,{setRank:function(a){if(this.rank!=a){this.rank=a;Bb.prototype.setRank.call(this,a);var b=this.find("uiImgRewardConti");if(null!=b){b.removeAllChildren();var d=h.config.tournament.rewards;a<d.length?(this.setVisible("uiImgRewardGlow",!0),b.addChild(new Ub(this.context,d[a]))):this.setVisible("uiImgRewardGlow",!1)}}},compare:function(a,
b){return this.stars<a.stars?1:this.stars==a.stars?this.date>a.date?1:-1:-1},__class__:ig});var bh=function(a,b){var d=this;Bb.call(this,a,b,"tPlayerContainerTournamentHighscore");if(Object.prototype.hasOwnProperty.call(b,"score"))h.get_instance().getVCard(this.uid).onComplete(function(a){a.tournamentsWon!=d.score&&h.get_instance().getVCard(d.uid,!0)})};f["screens.highscore.TournamentWinnerContainer"]=bh;bh.__name__="screens.highscore.TournamentWinnerContainer";bh.__super__=Bb;bh.prototype=k(Bb.prototype,
{__class__:bh});var aa=function(){};f["screens.utils.FlagUtils"]=aa;aa.__name__="screens.utils.FlagUtils";aa.getFlagIcon=function(a){return null!=a&&"X"!=a?"flags/"+a.toUpperCase()+".png":null};aa.getFlagIconWithX=function(a){return null!=a?"flags/"+a.toUpperCase()+".png":null};aa.getFlagIconX=function(a){return null!=a?"flags/"+a.toUpperCase()+".png":"flags/X.png"};aa.mapLocaToFlag=function(a){a=null!=a?a.toLowerCase():"";switch(a){case "de":return"DE";case "en":case "en_US":return"us";case "en_GB":return"uk";
case "ru":return"RU";default:return 5==a.length&&(a=E.substr(a,3,2).toUpperCase(),-1!=aa.total.indexOf(a))?a:null}};var jg=function(){this.rewardedAdAvailable=!1;this.allow=this.allowRewarded=!0;this.mXEventListener=null};f["system.ads.AdsIntegration"]=jg;jg.__name__="system.ads.AdsIntegration";jg.__super__=H;jg.prototype=k(H.prototype,{startUpdateTicker:function(a){null==a&&(a=15E3);var b=this;this.updateRewardedAdState();this.mTimer=new Dc(a);this.mTimer.run=function(){b.allowRewarded&&b.updateRewardedAdState()}},
set_rewardedAdAvailable:function(a){this.rewardedAdAvailable!=a&&(this.rewardedAdAvailable=a,this.dispatchSimpleXEvent("rewarded_ad_available",this.rewardedAdAvailable));return this.rewardedAdAvailable},updateRewardedAdState:function(){var a=this;if(1!=this.rewardedAdAvailable)this.requestRewardedAd().onComplete(function(b){a.set_rewardedAdAvailable(b)})},init:function(a){},requestRewardedAd:function(){return oa.withValue(!1)},hasAdBlocker:function(){return null==window.document.getElementById("UVWBaURGkZWdPrVp")},
hasBadConsent:function(){return!1},startAdSystem:function(a){},__class__:jg,__properties__:{set_rewardedAdAvailable:"set_rewardedAdAvailable"}});var We=function(a,b,d,c,f){null==f&&(f=1);null==c&&(c=0);this.volume=1;var l=this;this.mXEventListener=null;this.file=a;this.type=d;this.mAudioSource=new pj(b);this.mAudioSource.offset=0;this.mAudioSource.set_loops(c);this.mAudioSource.onComplete.add(function(){l.dispatchSimpleXEvent("AudioData::COMPLETE");l.onComplete()});this.set_volume(f);this.update();
this.mAudioSource.play();if(!e.get_instance().active)this.onDeactivate()};f["system.audio.AudioData"]=We;We.__name__="system.audio.AudioData";We.create=function(a,b,d,c,e){null==e&&(e=1);null==c&&(c=0);var f=We.sInstanceStack.h[a];return null!=f&&1<f.length?(a=f.pop(),a.replay(c,e),a):new We(a,b,d,c,e)};We.__super__=H;We.prototype=k(H.prototype,{replay:function(a,b){null==b&&(b=1);null==a&&(a=0);this.set_volume(b);this.mAudioSource.offset=0;this.mAudioSource.set_loops(a);this.update();this.mAudioSource.play()},
set_volume:function(a){this.volume=a;this.update();return a},onActivate:function(){null!=this.mAudioSource&&this.mAudioSource.play()},update:function(){var a=e.get_instance().muted,b=e.get_instance().getTotalVolume()*this.volume;switch(this.type){case 1:a=a||e.get_instance().get_muteSound();b*=e.get_instance().soundVolume;break;case 2:a=a||e.get_instance().get_muteMusic(),b*=e.get_instance().musicVolume}null!=this.mAudioSource&&this.mAudioSource.set_gain(a?0:b)},onDeactivate:function(){null!=this.mAudioSource&&
this.mAudioSource.pause()},onComplete:function(){e.get_instance().removeAudioData(this);var a=We.sInstanceStack.h[this.file];if(null==a){a=[];var b=We.sInstanceStack,d=this.file;b.h.hasOwnProperty(d)&&E.remove(b.mKeys,d);b.h[d]=a;b.mKeys.push(d)}a.push(this);H.prototype.dispose.call(this)},dispose:function(){var a=We.sInstanceStack.h[this.file];null!=a&&E.remove(a,this);null!=this.mAudioSource&&(this.mAudioSource.stop(),this.mAudioSource.dispose(),this.mAudioSource=null);this.file=null;H.prototype.dispose.call(this)},
__class__:We,__properties__:{set_volume:"set_volume"}});var pi=function(){this.audioFuture=null};f["system.audio.AudioChannelData"]=pi;pi.__name__="system.audio.AudioChannelData";pi.prototype={__class__:pi};var e=function(){this.ad=!1;this.focus=!0;this.muteMusic=this.muteSound=!1;this.handleActivationEvents=!0;this.muted=!1;this.volume=this.volumeFactor=this.musicVolume=this.soundVolume=1;this.active=!0;this.mMap=new Sa;this.mAudioBuffers=new Sa;this.mAudioData=[];this.mXEventListener=null};f["system.audio.AudioManager"]=
e;e.__name__="system.audio.AudioManager";e.__properties__={get_instance:"get_instance"};e.get_instance=function(){return e.instance=null!=e.instance?e.instance:new e};e.__super__=H;e.prototype=k(H.prototype,{init:function(){this.registerXEventListener(u.get_instance(),"Storage::UPDATE_EVENT",c(this,this.onSettingsUpdate));this.set_muteMusic(u.get_instance().get_storage().getEntry("mute_music",!1));this.set_muteSound(u.get_instance().get_storage().getEntry("mute_sound",!1))},setMute:function(a){this.muted!=
a&&(this.muted=a,this.updateAll(),this.dispatchSimpleXEvent("AudioManager::Update"))},onFocusLost:function(){this.focus=!1;this.updateState()},onFocus:function(){this.focus=!0;this.updateState()},onAdStart:function(){this.ad=!0;this.updateState()},onAdEnd:function(){this.ad=!1;this.updateState()},updateState:function(){this.focus&&!this.ad&&this.muted?this.setMute(!1):this.focus&&!this.ad||this.muted||this.setMute(!0)},onSettingsUpdate:function(a){switch(a.key){case "mute_music":this.set_muteMusic(a.newValue);
break;case "mute_sound":this.set_muteSound(a.newValue)}},playUnique:function(a,b,d,c){null==c&&(c=1);null==d&&(d=1);null==b&&(b=0);for(var e=0,f=this.mAudioData;e<f.length;)if(f[e++].file==a)return;this.play(a,b,d,c)},play:function(a,b,d,e){null==e&&(e=1);null==d&&(d=1);null==b&&(b=0);var f=this,l=new Xa;if(this.mAudioBuffers.h.hasOwnProperty(a))this.mAudioBuffers.h[a].onComplete(function(c){c=We.create(a,c,e,b,d);f.mAudioData.push(c);l.complete(c)});else{var g=ua.loadAudioBuffer(a),h=this.mAudioBuffers;
h.h.hasOwnProperty(a)&&E.remove(h.mKeys,a);h.h[a]=g;h.mKeys.push(a);g.onComplete(function(g){g=f.play(a,b,d,e);g.onComplete(c(l,l.complete));g.onError(c(l,l.error));g.onProgress(c(l,l.progress))})}return l.future},playChannel:function(a,b,d,c){null==d&&(d=2);var f="sound/"+a+".mp3",l=this.mMap.h[b];if(null==l)l=new pi,l.fileName=a,l.audioFuture=e.get_instance().play(f,65535,null==c?.5:c,d),a=this.mMap,a.h.hasOwnProperty(b)&&E.remove(a.mKeys,b),a.h[b]=l,a.mKeys.push(b);else if(l.fileName!=f){l.fileName=
f;if(null!=l.audioFuture)l.audioFuture.onComplete(function(a){a.dispose()});l.audioFuture=e.get_instance().play(f,65535,null==c?.5:c,d)}},stopChannel:function(a){var b=this.mMap.h[a];if(null!=b){b.fileName=null;if(null!=b.audioFuture)b.audioFuture.onComplete(function(a){a.dispose();b.audioFuture=null});this.mMap.remove(a)}},removeAudioData:function(a){for(;E.remove(this.mAudioData,a););},get_muteMusic:function(){return this.muteMusic},get_muteSound:function(){return this.muteSound},set_muteMusic:function(a){this.get_muteMusic()!=
a&&(this.muteMusic=a,this.updateAll(),this.dispatchSimpleXEvent("AudioManager::Update"),u.get_instance().get_storage().setEntry("mute_music",a,!0));return a},set_muteSound:function(a){this.get_muteSound()!=a&&(this.muteSound=a,this.updateAll(),this.dispatchSimpleXEvent("AudioManager::Update"),u.get_instance().get_storage().setEntry("mute_sound",a,!0));return a},getTotalVolume:function(){return this.volume*this.volumeFactor},set_volumeFactor:function(a){this.volumeFactor=a;this.updateAll();return a},
updateAll:function(){for(var a=0,b=this.mAudioData;a<b.length;)b[a++].update()},onActivate:function(){if(this.handleActivationEvents){this.active=!0;for(var a=0,b=this.mAudioData;a<b.length;)b[a++].onActivate()}},onDeactivate:function(){if(this.handleActivationEvents){this.active=!1;for(var a=0,b=this.mAudioData;a<b.length;)b[a++].onDeactivate()}},__class__:e,__properties__:{set_muteSound:"set_muteSound",get_muteSound:"get_muteSound",set_muteMusic:"set_muteMusic",get_muteMusic:"get_muteMusic",set_volumeFactor:"set_volumeFactor"}});
var m=function(){this.type=void 0};f["system.base.input.events.XKeyEvent"]=m;m.__name__="system.base.input.events.XKeyEvent";m.__super__=ja;m.prototype=k(ja.prototype,{__class__:m});var F=function(){this.type=void 0};f["system.base.input.events.XTouchEvent"]=F;F.__name__="system.base.input.events.XTouchEvent";F.__super__=ja;F.prototype=k(ja.prototype,{__class__:F});var S=function(){this.mGesture=!1;this.x=this.y=this.deltaMovement=this.mOldMouseX=this.mOldMouseY=0;this.mTouchMap=new Yb;this.mKeyMap=
new Yb;this.mButtonTime=new Yb;this.mButtonMap=new Yb;S.sMouseEvent.buttonMap=this.mButtonMap;document.oncontextmenu=document.body.oncontextmenu=function(){return!1};this.mXEventListener=null};f["system.base.input.InputManager"]=S;S.__name__="system.base.input.InputManager";S.__properties__={get_instance:"get_instance"};S.get_instance=function(){return S.instance=null!=S.instance?S.instance:new S};S.__super__=H;S.prototype=k(H.prototype,{init:function(){},keyDown:function(a){this.mKeyMap.h[a]=!0;
S.sKeyEvent.type="KEY_DOWN_EVENT";S.sKeyEvent.code=a;this.dispatchXEvent(S.sKeyEvent)},keyUp:function(a){this.mKeyMap.h[a]=!1;S.sKeyEvent.type="KEY_UP_EVENT";S.sKeyEvent.code=a;this.dispatchXEvent(S.sKeyEvent)},keyPressed:function(a){return 1==this.mKeyMap.h[a]},mouseDown:function(a,b,d){this.mButtonMap.h[d]=!0;this.mButtonTime.h[d]=C.timer;this.deltaMovement=0;S.sMouseEvent.type="DOWN_EVENT";this.x=this.mOldMouseX=S.sMouseEvent.x=a;this.y=this.mOldMouseY=S.sMouseEvent.y=b;S.sMouseEvent.button=d;
this.dispatchXEvent(S.sMouseEvent)},mouseUp:function(a,b,d){this.mButtonMap.h[d]=!1;S.sMouseEvent.type="UP_EVENT";this.x=this.mOldMouseX=S.sMouseEvent.x=a;this.y=this.mOldMouseY=S.sMouseEvent.y=b;S.sMouseEvent.button=d;S.sMouseEvent.deltaTime=C.timer-this.mButtonTime.h[d];S.sMouseEvent.deltaMovement=this.deltaMovement;this.dispatchXEvent(S.sMouseEvent)},mouseMove:function(a,b){this.mGesture||(S.sMouseEvent.type="MOVE_EVENT",this.x=S.sMouseEvent.x=a,this.y=S.sMouseEvent.y=b,S.sMouseEvent.dx=a-this.mOldMouseX,
S.sMouseEvent.dy=b-this.mOldMouseY,this.deltaMovement+=Math.sqrt(S.sMouseEvent.dx*S.sMouseEvent.dx+S.sMouseEvent.dy*S.sMouseEvent.dy),this.dispatchXEvent(S.sMouseEvent),this.mOldMouseX=a,this.mOldMouseY=b)},onTouchCancel:function(a){this.mTouchMap.remove(a.id);0==this.getNumTouches()&&(this.mGesture=!1)},onTouchStart:function(a){this.mTouchMap.h[a.id]=a},onTouchMove:function(a){this.mTouchMap.h[a.id]=a;var b=null,d=null;a=null;for(var c=this.mTouchMap.iterator();c.hasNext();){var e=c.next();null==
b?b=e:null==d?d=e:null==a&&(a=e)}null!=d&&null==a&&(this.mGesture=!0,c=pa.sTempV3D[++pa.sTempV3DIdx%pa.sTempV3DLen],c.x=b.x-d.x,c.y=b.y-d.y,c.z=0,a=pa.sTempV3D[++pa.sTempV3DIdx%pa.sTempV3DLen],a.x=b.x-b.dx-(d.x-d.dx),a.y=b.y-b.dy-(d.y-d.dy),a.z=0,b=Math.sqrt(c.x*c.x+c.y*c.y+c.z*c.z),d=Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z),S.sMouseEvent.type="SCROLL_EVENT",S.sMouseEvent.value=100*(b-d),this.dispatchXEvent(S.sMouseEvent),b=Math.acos(ia.fClamp((c.x*a.x+c.y*a.y+c.z*a.z)/(b*d),-1,1))/Math.PI*180,d=pa.CROSS(pa.sTempV3D[++pa.sTempV3DIdx%
pa.sTempV3DLen],c,pa.Z_AXIS),0>=d.x*a.x+d.y*a.y+d.z*a.z&&(b*=-1),S.sMouseEvent.type="ROTATION_EVENT",S.sMouseEvent.value=20*b,this.dispatchXEvent(S.sMouseEvent))},onTouchEnd:function(a){this.mTouchMap.remove(a.id);0==this.getNumTouches()&&(this.mGesture=!1)},getNumTouches:function(){for(var a=0,b=this.mTouchMap.iterator();b.hasNext();)b.next(),++a;return a},mouseMoveRelative:function(a,b){},mouseWheel:function(a,b,d){S.sMouseEvent.type="SCROLL_EVENT";S.sMouseEvent.value=0<b?1:-1;this.dispatchXEvent(S.sMouseEvent)},
buttonPressed:function(a){return 1==this.mButtonMap.h[a]},__class__:S});var tb=function(){this.acceleration=new pa;this.mXEventListener=null;this.init()};f["system.device.MotionManager"]=tb;tb.__name__="system.device.MotionManager";tb.__super__=H;tb.prototype=k(H.prototype,{init:function(){var a=hd.getSensors(lc.ACCELEROMETER);null!=a&&0<a.length&&(this.mAccelerometer=a[0],null!=this.mAccelerometer&&this.mAccelerometer.onUpdate.add(c(this,this.onAccelerometerUpdate)))},onAccelerometerUpdate:function(a,
b,d){var c=this.acceleration,e=this.acceleration;c.x+=e.x;c.y+=e.y;c.z+=e.z;c=this.acceleration;c.x+=a;c.y+=b;c.z+=d;c=this.acceleration;c.x*=.33333333;c.y*=.33333333;c.z*=.33333333;this.dispatchSimpleXEvent("MotionManager::Update")},__class__:tb});var Ac=function(){this.achievements=new Ej;this.mXEventListener=null};f["system.external.Player"]=Ac;Ac.__name__="system.external.Player";Ac.__super__=H;Ac.prototype=k(H.prototype,{onWindowActivate:function(){},onWindowDeactivate:function(){},__class__:Ac});
var vh=function(){this.mFamobiSDK=!1;jg.call(this);this.mFamobiSDK="undefined"!=typeof window.famobi};f["system.external.famobi.FamobiAdsIntegration"]=vh;vh.__name__="system.external.famobi.FamobiAdsIntegration";vh.__super__=jg;vh.prototype=k(jg.prototype,{init:function(a){jg.prototype.init.call(this,a);this.startUpdateTicker(1E3)},showRewardedAd:function(a){this.set_rewardedAdAvailable(!1);if(this.mFamobiSDK){var b=new Xa;window.famobi.rewardedAd(function(a){b.complete({success:null!=a&&1==a.rewardGranted})});
return b.future}return oa.withError(null)},requestRewardedAd:function(){return this.allowRewarded?oa.withValue(this.mFamobiSDK&&window.famobi.hasRewardedAd()):oa.withValue(!1)},hasAdBlocker:function(){return u.get_instance().hasFeature("rewarded")?jg.prototype.hasAdBlocker.call(this):!1},__class__:vh});var pe=function(){};f["system.utils.clock.ISecondTickObject"]=pe;pe.__name__="system.utils.clock.ISecondTickObject";pe.__isInterface__=!0;pe.prototype={__class__:pe};var Ve=function(){this.type=void 0;
this.type="Storage::UPDATE_EVENT"};f["system.utils.XStorageEvent"]=Ve;Ve.__name__="system.utils.XStorageEvent";Ve.__super__=ja;Ve.prototype=k(ja.prototype,{__class__:Ve});var Rc=function(a,b){this.mLocalStorage=null;this.mLocalData={};this.invalid=!1;this.mXEventListener=null;this.mLocalStorage=this.getStorage();null==b&&(b=Da.sInstance.meta.h.packageName);""!=b&&(b+=":");if(null==a||""==a)throw T.thrown("Name needed for storage");this.storageName=b+a;C.get_instance().addTickObject(this)};f["system.utils.BaseStorage"]=
Rc;Rc.__name__="system.utils.BaseStorage";Rc.__interfaces__=[pe];Rc.__super__=H;Rc.prototype=k(H.prototype,{getStorage:function(){try{return Ei.getLocalStorage()}catch(b){var a={name:"localStorage",message:T.caught(b).get_message(),url:window.location.href};u.get_instance().trackEvent("event/error",a);return{setItem:function(a){},getItem:function(a){return{}},removeItem:function(a){},clear:function(){}}}},apply:function(a,b){null==b&&(b=!1);for(var d=w.fields(a),c=0;c<d.length;){var e=d[c];++c;this.setEntry(e,
w.field(a,e))}return b?this.save():oa.withValue(!0)},setEntry:function(a,b,d){null==d&&(d=!1);var c=w.field(this.mLocalData,a);this.mLocalData[a]=b;c!=b&&(this.invalid=!0);return d?this.save():oa.withValue({})},hasEntry:function(a){return Object.prototype.hasOwnProperty.call(this.mLocalData,a)},getEntry:function(a,b){var d=this.mLocalData;return w.isObject(d)&&Object.prototype.hasOwnProperty.call(d,a)?w.field(d,a):b},deleteEntry:function(a,b){null==b&&(b=!1);w.deleteField(this.mLocalData,a);b&&this.save();
return oa.withValue({})},secondlyTick:function(){this.invalid&&this.save()},getKeys:function(){return w.fields(this.mLocalData)},get_localData:function(){return this.mLocalData},load:function(){var a=this.mLocalStorage,b=null!=a?a.getItem(this.storageName):null;if(null!=b){a={};try{var d=Xd.decode(b);b="";for(var c=0,e=d.length;c<e;){var f=d.b[c++]^123;b+=String.fromCodePoint(f)}var g=new gd(b);g.setResolver({resolveEnum:Ca.resolveEnum,resolveClass:ia.resolveClass});a=g.unserialize()}catch(Od){}}else a=
{};this.mLocalData=a;return oa.withValue(w.copy(this.mLocalData))},save:function(){this.mLocalData["storage-id"]=this.storageName;for(var a=Wd.run(this.mLocalData),b=a.length,d=nc.alloc(b),c=0;c<b;){var e=c++;d.b[e]=(E.cca(a,e)^123)&255}a=Xd.encode(d);b=this.mLocalStorage;null!=b&&b.setItem(this.storageName,a);this.invalid=!1;return oa.withValue(!0)},deleteData:function(a){null==a&&(a=!1);var b=this.mLocalStorage;null!=b&&b.setItem(this.storageName,null);return a?this.save():oa.withValue(!0)},dispose:function(){this.storageName=
null;C.get_instance().removeTickObject(this);H.prototype.dispose.call(this)},__class__:Rc,__properties__:{get_localData:"get_localData"}});var bf=function(a){Rc.call(this,a,null)};f["system.external.famobi.FamobiStorage"]=bf;bf.__name__="system.external.famobi.FamobiStorage";bf.__super__=Rc;bf.prototype=k(Rc.prototype,{getStorage:function(){var a=null;try{if(a=window.hasOwnProperty("famobi")?window.famobi.localStorage:window.localStorage,null==a)return Rc.prototype.getStorage.call(this)}catch(b){return a=
{name:"localStorage",message:T.caught(b).get_message(),url:window.location.href},u.get_instance().trackEvent("event/error",a),Rc.prototype.getStorage.call(this)}return a},__class__:bf});var Gf=function(){this.mXEventListener=null};f["system.tracking.Tracking"]=Gf;Gf.__name__="system.tracking.Tracking";Gf.__super__=H;Gf.prototype=k(H.prototype,{adBlocked:function(a,b){return oa.withValue({})},trackPayment:function(a,b){return this.event("event/payment",{sku:a})},screen:function(a,b){return oa.withValue({})},
levelStart:function(a,b){return oa.withValue({})},levelEnd:function(a,b,d){return oa.withValue({})},user:function(a){return oa.withValue({})},customEvent:function(a,b,d){return this.event("event/custom",{category:a,name:b,value:d})},event:function(a,b){return oa.withValue({})},__class__:Gf});var Bk=function(){this.mXEventListener=null;null!=window.famobi_tracking&&window.famobi_tracking.init(null,u.get_instance().get_uid(),u.get_instance().get_tracking().version,!1,!0)};f["system.external.famobi.FamobiTrackingIntegration"]=
Bk;Bk.__name__="system.external.famobi.FamobiTrackingIntegration";Bk.__super__=Gf;Bk.prototype=k(Gf.prototype,{event:function(a,b){null!=window.famobi_tracking&&window.famobi_tracking.trackEvent(a,b);return oa.withValue({})},__class__:Bk});var kg=function(a){this.dirty=this.dynamicBuffer=!0;this.stride=this.size=this.entries=0};f["system.gfx.buffer.BaseBuffer"]=kg;kg.__name__="system.gfx.buffer.BaseBuffer";kg.__interfaces__=[wb];kg.prototype={increaseSize:function(a){},addEntry:function(a){null==
a&&(a=1);var b=this.entries;this.entries+=a;this.entries>this.size&&this.increaseSize(Math.round(Math.ceil(this.entries/this.size)));return b},dispose:function(){null!=this.glBuffer&&(q.gl.deleteBuffer(this.glBuffer),this.glBuffer=null)},__class__:kg};var Rj=function(a,b){null==b&&(b=!0);kg.call(this,b);this.stride=3;this.size=a;this.glBuffer=q.gl.createBuffer();a=this.size*this.stride;this.bufferData=null!=a?new Uint16Array(a):null};f["system.gfx.buffer.IndexBuffer"]=Rj;Rj.__name__="system.gfx.buffer.IndexBuffer";
Rj.__super__=kg;Rj.prototype=k(kg.prototype,{apply:function(){q.gl.bindBuffer(q.gl.ELEMENT_ARRAY_BUFFER,this.glBuffer)},upload:function(){q.gl.bindBuffer(q.gl.ELEMENT_ARRAY_BUFFER,this.glBuffer);pb.bufferData(q.gl,q.gl.ELEMENT_ARRAY_BUFFER,this.bufferData,this.dynamicBuffer?q.gl.DYNAMIC_DRAW:q.gl.STATIC_DRAW)},increaseSize:function(a){null==a&&(a=2);this.size*=a;a=this.size*this.stride;a=null!=a?new Uint16Array(a):null;a.set(this.bufferData,0);this.bufferData=a},dispose:function(){this.bufferData=
null;kg.prototype.dispose.call(this)},__class__:Rj});var Sj=function(a){Rj.call(this,a,!1)};f["system.gfx.buffer.PermanentIndexBuffer"]=Sj;Sj.__name__="system.gfx.buffer.PermanentIndexBuffer";Sj.__super__=Rj;Sj.prototype=k(Rj.prototype,{increaseSize:function(a){},__class__:Sj});var zc=function(){};f["system.gfx.buffer.StaticIndexBuffers"]=zc;zc.__name__="system.gfx.buffer.StaticIndexBuffers";zc.getIB=function(a){a=ia.nextPowerOfTwo(a);var b=Math.log(a)/Math.log(2)|0,d=zc.sIndexBuffers[b];if(null==
d){d=new Sj(a);a=a/2|0;for(var c=d.addEntry(2),e=d.bufferData,f=0;f<a;){var g=4*f++;e[c++]=g;e[c++]=g+1;e[c++]=g+2;e[c++]=g+2;e[c++]=g+1;e[c++]=g+3}d.upload();return zc.sIndexBuffers[b]=d}return d};var yc=function(a,b,d){null==d&&(d=!0);kg.call(this,d);this.stride=b;this.size=a;this.glBuffer=q.gl.createBuffer();this.data=new Ia(this.size*this.stride*4)};f["system.gfx.buffer.VertexBuffer"]=yc;yc.__name__="system.gfx.buffer.VertexBuffer";yc.__super__=kg;yc.prototype=k(kg.prototype,{apply:function(){q.gl.bindBuffer(q.gl.ARRAY_BUFFER,
this.glBuffer)},upload:function(){this.dirty&&(q.gl.bindBuffer(q.gl.ARRAY_BUFFER,this.glBuffer),pb.bufferData(q.gl,q.gl.ARRAY_BUFFER,this.data.floatArray,this.dynamicBuffer?q.gl.DYNAMIC_DRAW:q.gl.STATIC_DRAW),this.dirty=!1)},increaseSize:function(a){null==a&&(a=2);this.size*=a;this.data.increaseSize(a)},addEntry:function(a){null==a&&(a=1);a=kg.prototype.addEntry.call(this,a);this.data.position=a*this.stride<<2;this.dirty=!0;return a},dispose:function(){var a=this.data;null!=a&&a.dispose();this.data=
null;kg.prototype.dispose.call(this)},__class__:yc});var O={_new:function(a){16!=(null!=a?a.length:null)&&(a=O.sIdentityArray,a=null!=a?new Float32Array(a):null);return a},copyFrom:function(a,b){a[0]=b[0];a[4]=b[4];a[8]=b[8];a[12]=b[12];a[1]=b[1];a[5]=b[5];a[9]=b[9];a[13]=b[13];a[2]=b[2];a[6]=b[6];a[10]=b[10];a[14]=b[14];a[3]=b[3];a[7]=b[7];a[11]=b[11];a[15]=b[15];return a},fromM2D:function(a,b){a[0]=b[0];a[4]=b[3];a[8]=0;a[12]=b[6];a[1]=b[1];a[5]=b[4];a[9]=0;a[13]=b[7];a[2]=0;a[6]=0;a[10]=0;a[14]=
0;a[3]=b[2];a[7]=b[5];a[11]=0;a[15]=b[8];return a},makeIdentity:function(a){a[0]=1;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=1;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=1;a[14]=0;a[3]=0;a[7]=0;a[11]=0;a[15]=1;return a},ortho:function(a,b,d,c,e,f,g){var l=1/(c-b),h=1/(e-d),p=1/(g-f);a[0]=2*l;a[4]=0;a[8]=0;a[12]=-(b+c)*l;a[1]=0;a[5]=2*h;a[9]=0;a[13]=-(d+e)*h;a[2]=0;a[6]=0;a[10]=-2*p;a[14]=-(f+g)*p;a[3]=0;a[7]=0;a[11]=0;a[15]=1;return a},makeRotationMatrix:function(a,b,d){d*=ia.PI_GRAD;var c=b.x,e=b.y;b=b.z;var f=
Math.cos(d);d=Math.sin(d);var g=1-f;a[0]=g*c*c+f;a[4]=g*c*e-d*b;a[8]=g*c*b+d*e;a[12]=0;a[1]=g*c*e+d*b;a[5]=g*e*e+f;a[9]=g*e*b-d*c;a[13]=0;a[2]=g*c*b-d*e;a[6]=g*e*b+d*c;a[10]=g*b*b+f;a[14]=0;a[3]=0;a[7]=0;a[11]=0;a[15]=1;return a},makeScaleMatrix:function(a,b,d,c){a[0]=b;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=d;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=c;a[14]=0;a[3]=0;a[7]=0;a[11]=0;a[15]=1;return a},MUL:function(a,b,d){var c=b[0]*d[1]+b[1]*d[5]+b[2]*d[9]+b[3]*d[13],e=b[0]*d[2]+b[1]*d[6]+b[2]*d[10]+b[3]*d[14],
f=b[0]*d[3]+b[1]*d[7]+b[2]*d[11]+b[3]*d[15],g=b[4]*d[0]+b[5]*d[4]+b[6]*d[8]+b[7]*d[12],h=b[4]*d[1]+b[5]*d[5]+b[6]*d[9]+b[7]*d[13],m=b[4]*d[2]+b[5]*d[6]+b[6]*d[10]+b[7]*d[14],k=b[4]*d[3]+b[5]*d[7]+b[6]*d[11]+b[7]*d[15],n=b[8]*d[0]+b[9]*d[4]+b[10]*d[8]+b[11]*d[12],q=b[8]*d[1]+b[9]*d[5]+b[10]*d[9]+b[11]*d[13],t=b[8]*d[2]+b[9]*d[6]+b[10]*d[10]+b[11]*d[14],r=b[8]*d[3]+b[9]*d[7]+b[10]*d[11]+b[11]*d[15],u=b[12]*d[0]+b[13]*d[4]+b[14]*d[8]+b[15]*d[12],M=b[12]*d[1]+b[13]*d[5]+b[14]*d[9]+b[15]*d[13],ea=b[12]*
d[2]+b[13]*d[6]+b[14]*d[10]+b[15]*d[14],y=b[12]*d[3]+b[13]*d[7]+b[14]*d[11]+b[15]*d[15];a[0]=b[0]*d[0]+b[1]*d[4]+b[2]*d[8]+b[3]*d[12];a[4]=g;a[8]=n;a[12]=u;a[1]=c;a[5]=h;a[9]=q;a[13]=M;a[2]=e;a[6]=m;a[10]=t;a[14]=ea;a[3]=f;a[7]=k;a[11]=r;a[15]=y;return a},getM3D:function(){if(0<O.sM3DDataCount){var a=O.sM3DData[--O.sM3DDataCount];O.makeIdentity(a);return a}return O._new()},recycleM3D:function(a){O.sM3DData[O.sM3DDataCount++]=a}},se=function(){this.ri=new pa(1,0,0);this.up=new pa(0,1,0);this.fw=new pa(0,
0,1);this.pos=new pa(0,0,0)};f["system.gfx.math.Base3D"]=se;se.__name__="system.gfx.math.Base3D";se.__interfaces__=[wb];se.prototype={rotate:function(a,b){O.makeRotationMatrix(se.sMatrix,a,b);a=this.ri;b=se.sMatrix;var d=a.x,c=a.y;a.x=b[0]*d+b[4]*c+b[8]*a.z;a.y=b[1]*d+b[5]*c+b[9]*a.z;a.z=b[2]*d+b[6]*c+b[10]*a.z;a.x+=b[12];a.y+=b[13];a.z+=b[14];a=this.up;b=se.sMatrix;d=a.x;c=a.y;a.x=b[0]*d+b[4]*c+b[8]*a.z;a.y=b[1]*d+b[5]*c+b[9]*a.z;a.z=b[2]*d+b[6]*c+b[10]*a.z;a.x+=b[12];a.y+=b[13];a.z+=b[14];a=this.fw;
b=se.sMatrix;d=a.x;c=a.y;a.x=b[0]*d+b[4]*c+b[8]*a.z;a.y=b[1]*d+b[5]*c+b[9]*a.z;a.z=b[2]*d+b[6]*c+b[10]*a.z;a.x+=b[12];a.y+=b[13];a.z+=b[14]},matrix:function(){null==this.mMatrix&&(this.mMatrix=O._new());this.mMatrix[0]=this.ri.x;this.mMatrix[4]=this.ri.y;this.mMatrix[8]=this.ri.z;this.mMatrix[12]=0;this.mMatrix[1]=this.up.x;this.mMatrix[5]=this.up.y;this.mMatrix[9]=this.up.z;this.mMatrix[13]=0;this.mMatrix[2]=this.fw.x;this.mMatrix[6]=this.fw.y;this.mMatrix[10]=this.fw.z;this.mMatrix[14]=0;this.mMatrix[3]=
this.pos.x;this.mMatrix[7]=this.pos.y;this.mMatrix[11]=this.pos.z;this.mMatrix[15]=1;return this.mMatrix},repair:function(){var a=this.fw,b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x*=b;a.y*=b;a.z*=b;a=pa.CROSS(this.ri,this.up,this.fw);b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x*=b;a.y*=b;a.z*=b;this.ri=a;a=pa.CROSS(this.up,this.fw,this.ri);b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x*=b;a.y*=b;a.z*=b;this.up=a},dispose:function(){this.mTransposedMatrix=this.mMatrix=this.fw=this.up=this.ri=null},__class__:se};
var Ff=function(){this.mView=O._new();this.frustumPlanes=[new qi,new qi,new qi,new qi,new qi,new qi];this.viewProjection=O._new();this.projectionMatrix=O._new();this.far=20;this.near=.1;se.call(this);this.mView=O._new()};f["system.gfx.camera.Camera3D"]=Ff;Ff.__name__="system.gfx.camera.Camera3D";Ff.__super__=se;Ff.prototype=k(se.prototype,{lookAt:function(a,b,d){var c=this.pos;c.x=b.x;c.y=b.y;c.z=b.z;c.w=b.w;this.fw=pa.SUB(this.fw,a,b);c=this.up;c.x=d.x;c.y=d.y;c.z=d.z;c.w=d.w;this.repair()},get_viewMatrix:function(){this.mView[0]=
this.ri.x;this.mView[4]=this.ri.y;this.mView[8]=this.ri.z;var a=this.ri,b=this.pos;this.mView[12]=-(a.x*b.x+a.y*b.y+a.z*b.z);this.mView[1]=this.up.x;this.mView[5]=this.up.y;this.mView[9]=this.up.z;a=this.up;b=this.pos;this.mView[13]=-(a.x*b.x+a.y*b.y+a.z*b.z);this.mView[2]=this.fw.x;this.mView[6]=this.fw.y;this.mView[10]=this.fw.z;a=this.fw;b=this.pos;this.mView[14]=-(a.x*b.x+a.y*b.y+a.z*b.z);this.mView[3]=0;this.mView[7]=0;this.mView[11]=0;this.mView[15]=1;return this.mView},get_projectionMatrix:function(){return this.projectionMatrix},
get_viewProjection:function(){return O.MUL(this.viewProjection,this.get_viewMatrix(),this.get_projectionMatrix())},dispose:function(){this.frustumPlanes=this.viewMatrix=this.viewProjection=this.projectionMatrix=null;se.prototype.dispose.call(this)},__class__:Ff,__properties__:{get_viewProjection:"get_viewProjection",get_viewMatrix:"get_viewMatrix",get_projectionMatrix:"get_projectionMatrix"}});var xk=function(a){this.cameraBase=new se;this.smoothBase=new se;this.mZoomDelta=0;this.mZoom=15;this.mHeightFactor=
1;this.mMoveDelta=new pa;this.mRotationDelta=0;this.mXEventListener=null;this.cameraBase.pos.y=1.4;this.camera=a;this.camera.near=1;this.camera.far=200};f["system.gfx.camera.CameraController"]=xk;xk.__name__="system.gfx.camera.CameraController";xk.__super__=H;xk.prototype=k(H.prototype,{update:function(){var a=C.delta;S.get_instance().keyPressed(46)&&(this.mRotationDelta=.5*(this.mRotationDelta+-100));S.get_instance().keyPressed(44)&&(this.mRotationDelta=.5*(this.mRotationDelta+100));var b=1.5*Math.pow(this.mZoom,
.8);if(S.get_instance().keyPressed(1073741904)||S.get_instance().keyPressed(1073741903)||S.get_instance().keyPressed(1073741906)||S.get_instance().keyPressed(1073741905)){var d=this.mMoveDelta;d.x=0;d.y=0;d.z=0;S.get_instance().keyPressed(1073741904)&&(pa.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.fw,-b),this.target=null);S.get_instance().keyPressed(1073741903)&&(pa.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.fw,b),this.target=null);S.get_instance().keyPressed(1073741906)&&(pa.MAD(this.mMoveDelta,
this.mMoveDelta,this.cameraBase.ri,-b),this.target=null);S.get_instance().keyPressed(1073741905)&&(pa.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.ri,b),this.target=null)}if(S.get_instance().keyPressed(61)||S.get_instance().keyPressed(171))this.mZoomDelta=25*-a;if(S.get_instance().keyPressed(45)||S.get_instance().keyPressed(173))this.mZoomDelta=25*a;S.get_instance().keyPressed(1073741911)&&(this.mHeightFactor+=.001);S.get_instance().keyPressed(1073741910)&&(this.mHeightFactor-=.001);this.cameraBase.rotate(pa.Y_AXIS,
ia.fClamp(this.mRotationDelta*a,-6,6));this.cameraBase.repair();this.mRotationDelta*=Math.pow(.02,a);this.mZoom+=this.mZoomDelta;this.mZoomDelta*=Math.pow(.03,a);pa.MAD(this.cameraBase.pos,this.cameraBase.pos,this.mMoveDelta,a);d=this.mMoveDelta;b=Math.pow(.03,a);d.x*=b;d.y*=b;d.z*=b;null!=this.target&&(d=this.cameraBase.pos,b=this.target,d.x=b.x,d.y=b.y,d.z=b.z,d.w=b.w);b=10*a;pa.LERP(this.smoothBase.pos,this.smoothBase.pos,this.cameraBase.pos,b);pa.LERP(this.smoothBase.fw,this.smoothBase.fw,this.cameraBase.fw,
b);pa.LERP(this.smoothBase.up,this.smoothBase.up,this.cameraBase.up,b);pa.LERP(this.smoothBase.ri,this.smoothBase.ri,this.cameraBase.ri,b);this.smoothBase.repair();d=pa.ADD(pa.sTempV3D[++pa.sTempV3DIdx%pa.sTempV3DLen],this.smoothBase.ri,pa.SCALE(pa.sTempV3D[++pa.sTempV3DIdx%pa.sTempV3DLen],pa.Y_AXIS,this.mHeightFactor));b=this.mZoom;d.x*=b;d.y*=b;d.z*=b;b=this.smoothBase.pos;d.x+=b.x;d.y+=b.y;d.z+=b.z;this.camera.lookAt(this.smoothBase.pos,d,pa.Y_AXIS)},__class__:xk});var uj=function(a,b,d,c){Ff.call(this);
this.near=d;this.far=c;this.width=a;this.height=b};f["system.gfx.camera.OrthoCamera"]=uj;uj.__name__="system.gfx.camera.OrthoCamera";uj.__super__=Ff;uj.prototype=k(Ff.prototype,{get_projectionMatrix:function(){O.makeIdentity(this.projectionMatrix);var a=1/(this.far-this.near);this.projectionMatrix[0]=2/this.width;this.projectionMatrix[5]=2/this.height;this.projectionMatrix[10]=a;this.projectionMatrix[14]=-this.near*a;this.projectionMatrix[15]=1;return this.projectionMatrix},__class__:uj});var yk=
function(){this.foV=40;Ff.call(this)};f["system.gfx.camera.PerspectiveCamera"]=yk;yk.__name__="system.gfx.camera.PerspectiveCamera";yk.__super__=Ff;yk.prototype=k(Ff.prototype,{get_projectionMatrix:function(){var a=this.projectionMatrix;O.makeIdentity(this.projectionMatrix);var b=1/Math.tan(this.foV*Math.PI/360),d=this.far/(this.far-this.near);a[0]=q.instance.height/q.instance.width*b;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=b;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=d;a[14]=-this.near*d;a[3]=0;a[7]=0;a[11]=1;
a[15]=0;return this.projectionMatrix},__class__:yk});var Pd={__properties__:{set_a:"set_a",get_a:"get_a",set_b:"set_b",get_b:"get_b",set_g:"set_g",get_g:"get_g",set_r:"set_r",get_r:"get_r"},_new:function(a){if(null==a||16!=a.length)a=Pd.sWhiteArray,a=null!=a?new Float32Array(a):null;return a},set_r:function(a,b){return a[0]=b},set_g:function(a,b){return a[1]=b},set_b:function(a,b){return a[2]=b},set_a:function(a,b){return a[3]=b},get_r:function(a){return a[0]},get_g:function(a){return a[1]},get_b:function(a){return a[2]},
get_a:function(a){return a[3]}},qi=function(a,b,d,c){null==c&&(c=0);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.a=a;this.b=b;this.c=d;this.d=c};f["system.gfx.math.Plane3D"]=qi;qi.__name__="system.gfx.math.Plane3D";qi.prototype={__class__:qi};var pa=function(a,b,d,c){null==c&&(c=1);null==d&&(d=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=d;this.w=c};f["system.gfx.math.V3D"]=pa;pa.__name__="system.gfx.math.V3D";pa.CROSS=function(a,b,d){var c=b.x,e=b.y;b=b.z;var f=d.x,g=d.y;d=d.z;
a.x=e*d-b*g;a.y=b*f-c*d;a.z=c*g-e*f;return a};pa.SUB=function(a,b,d){a.x=b.x-d.x;a.y=b.y-d.y;a.z=b.z-d.z;return a};pa.SCALE=function(a,b,d){a.x=b.x*d;a.y=b.y*d;a.z=b.z*d;return a};pa.MAD=function(a,b,d,c){a.x=b.x+d.x*c;a.y=b.y+d.y*c;a.z=b.z+d.z*c;return a};pa.LERP=function(a,b,d,c){a.x=b.x*(1-c)+d.x*c;a.y=b.y*(1-c)+d.y*c;a.z=b.z*(1-c)+d.z*c;return a};pa.ADD=function(a,b,d){a.x=b.x+d.x;a.y=b.y+d.y;a.z=b.z+d.z;return a};pa.prototype={__class__:pa};var Sk=function(a,b){Jb.call(this);this.mMeshData=a;
this.mMeshRenderer=null!=b?b:q.sDefaultMeshRenderer};f["system.gfx.mesh.Mesh"]=Sk;Sk.__name__="system.gfx.mesh.Mesh";Sk.__super__=Jb;Sk.prototype=k(Jb.prototype,{draw:function(){this.renderMeshData(this.mMeshData)},getRenderer:function(){switch(q.renderPass._hx_index){case 0:return this.mMeshRenderer;case 1:return q.sDefaultShadowMeshRenderer}},renderMeshData:function(a){this.getRenderer().renderMeshData(a,this);var b=0;for(a=a.subMeshData;b<a.length;)this.renderMeshData(a[b++])},__class__:Sk});var zk=
function(){this.subMeshData=[];this.vertexBuffer=this.indexBuffer=null};f["system.gfx.mesh.MeshData"]=zk;zk.__name__="system.gfx.mesh.MeshData";zk.__super__=Fa;zk.prototype=k(Fa.prototype,{__class__:zk});var yh=function(){this.mXEventListener=null};f["system.gfx.mesh.MeshLoader"]=yh;yh.__name__="system.gfx.mesh.MeshLoader";yh.__super__=H;yh.prototype=k(H.prototype,{__class__:yh});var Gk=function(){this.mXEventListener=null};f["system.gfx.mesh.MeshLoader3DS"]=Gk;Gk.__name__="system.gfx.mesh.MeshLoader3DS";
Gk.__super__=yh;Gk.prototype=k(yh.prototype,{__class__:Gk});var Ak=function(){this.mXEventListener=null};f["system.gfx.mesh.MeshLoaderObj"]=Ak;Ak.__name__="system.gfx.mesh.MeshLoaderObj";Ak.__super__=yh;Ak.prototype=k(yh.prototype,{__class__:Ak});var cl=function(){this.shininess=16;this.specular=new pa(.1,.1,.1,0);this.diffuse=new pa(.7,.7,.7,0);this.ambient=new pa(.3,.3,.3,0)};f["system.gfx.mesh.MeshMaterial"]=cl;cl.__name__="system.gfx.mesh.MeshMaterial";cl.prototype={__class__:cl};var og=function(){};
f["system.gfx.mesh.MeshMaterialMap"]=og;og.__name__="system.gfx.mesh.MeshMaterialMap";og.prototype={__class__:og};var Oj=function(){null==this.shader&&this.createShader()};f["system.gfx.mesh.MeshRenderer"]=Oj;Oj.__name__="system.gfx.mesh.MeshRenderer";Oj.__interfaces__=[wb];Oj.prototype={createShader:function(){this.shader=new qc("\r\n\t\t\tattribute vec3 aVertexPosition;\r\n\t\t\tattribute vec2 aTexCoord;\r\n\t\t\tattribute vec3 aNormal;\r\n\t\t\t//attribute vec3 aTangent;\r\n\t\t\t//attribute vec3 aBiTangent;\r\n\t\t\t\t\t\t\r\n\t\t\tuniform mat4  uViewProjection;\r\n\t\t\tuniform mat4  uModel;\r\n\t\t\tuniform float uFar;\r\n\t\t\tuniform vec4  uFogSettings;\r\n\t\t\tuniform vec4  uFogColor;\r\n\t\t\tuniform vec4  uEye;\t\t\t\t\t\t\t\t\r\n\t\t\tuniform mat4  uShadowMVP;\r\n\t\t\t\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec3 vTexCoordShadow;\r\n\t\t\tvarying vec3 vPos;\t\t\r\n\t\t\tvarying vec3 vNormal;\t\t\r\n\t\t\t//varying mat3 vTangentSpace;\t\t\t\r\n\t\t\tvarying vec4 vFog;\r\n\t\t\tvarying vec3 vEye;\r\n\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tvec4 pos = vec4( aVertexPosition, 1.0 ) * uModel;\r\n\t\t\t\tvec4 projectedPos = uViewProjection * pos;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tvPos = pos.xyz;\r\n\t\t\t\tvTexCoord = aTexCoord;\t\t\t\t\r\n\t\t\t\t//vTangentSpace = mat3( aBiTangent, aNormal, aTangent)*mat3(uModel)\r\n\t\t\t\tvNormal = aNormal*mat3(uModel);\r\n\t\t\t\tvFog = vec4( uFogColor.rgb, clamp( ( projectedPos.z - uFogSettings.y ) / ( uFogSettings.x - uFogSettings.y ) , 0.0, 1.0 ) );\r\n\t\t\t\tvEye = normalize( pos.xyz - uEye.xyz );\r\n\t\t\t\tvTexCoordShadow = ( uShadowMVP * pos ).xyz;\r\n\t\t\t\t\r\n\t\t\t\tgl_Position = projectedPos;\r\n\t\t\t}\t\t\t\r\n\t\t",
"\r\n\t\t\tvarying vec3 vPos;\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec3 vTexCoordShadow;\r\n\t\t\tvarying vec4 vFog;\r\n\t\t\tvarying vec3 vEye;\r\n\t\t\tvarying vec3 vNormal;\r\n\t\t\t//varying mat3 vTangentSpace;\t\t\r\n\t\t\t\r\n\t\t\tuniform sampler2D uTex0;\r\n\t\t\tuniform sampler2D uNormalMap0;\r\n\t\t\tuniform sampler2D uTexShadow;\r\n\t\t\tuniform vec4 uMaterial4f;\r\n\t\t\tuniform vec4 uAmbient4f;\r\n\t\t\tuniform vec4 uDiffuse4f;\r\n\t\t\tuniform vec4 uSpecular4f;\r\n\t\t\tuniform float uShininess1f;\r\n\t\t\tuniform vec4 uLight;\t\t\t\r\n\t\t\tuniform float uShadowFar;\r\n\t\t\t\r\n\t\t\t"+
Mg.decodeFloat+"\r\n\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tvec4 tex4f = texture2D( uTex0, vTexCoord );\t\t\t\t\r\n\t\t\t\t//vec3 normal = normalize(( (texture2D( uNormalMap0, vTexCoord ).xzy * 2.0 - 1.0) ) * vTangentSpace);\r\n\t\t\t\tvec3 normal = vNormal;\r\n\t\t\t\tvec3 light = uLight.xyz;\r\n\t\t\t\tvec3 eyeReflect = reflect( vEye, normal );\t\r\n\t\t\t\t\r\n\t\t\t\tfloat visibility = 1.0;\r\n\t\t\t\tfloat texShadowZ = decodeFloat( texture2D( uTexShadow, ( vTexCoordShadow.xy/* / shadowCoords.z*/ ) * 0.5 + 0.5 )) + 0.0000;\r\n\t\t\t\tfloat shadowZ  = vTexCoordShadow.z;// / uShadowFar;\r\n\t\t\t\tif ( texShadowZ < shadowZ )\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility = 0.3;\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tvec4 specularAdd = uSpecular4f * pow( clamp( dot( eyeReflect, uLight.xyz), 0.0, 1.0), uShininess1f );\r\n\t\t\t\tvec4 result = ( tex4f * ( uAmbient4f + clamp( uDiffuse4f * dot( light, normal ), 0.0, visibility) ) + specularAdd * visibility ); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tgl_FragColor = mix( result, vec4( vFog.rgb, 0.0 ), vFog.w );\r\n\t\t\t\t//gl_FragColor = vec4( normal, 0.0 );\r\n\t\t\t}\r\n\t\t")},
renderMeshData:function(a,b){b=a.indexBuffer;var d=a.vertexBuffer,c=q.sCurrentView;if(null!=b&&null!=a.material.textureMap){var e=this.shader;q.gl.depthFunc(q.gl.LESS);e.mVertexBuffer=d;e.mVertexBuffer2=null;e.mIndexBuffer=b;q.gl.useProgram(e.mProgram);d.apply();null!=b&&b.apply();e.vertexAttribPointer("aVertexPosition",3,q.gl.FLOAT,0);var f=c.camera.far;d=q.gl;var g=e.mUniformLookUp.h.uFar;if(null==g){var h=e.mUniformLookUp;g=q.gl.getUniformLocation(e.mProgram,"uFar");h.h.hasOwnProperty("uFar")&&
E.remove(h.mKeys,"uFar");h.h.uFar=g;h.mKeys.push("uFar")}d.uniform1f(g,f);f=c.camera.get_viewProjection();d=q.gl;g=e.mUniformLookUp.h.uViewProjection;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uViewProjection"),h.h.hasOwnProperty("uViewProjection")&&E.remove(h.mKeys,"uViewProjection"),h.h.uViewProjection=g,h.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(d,g,!1,f);f=c.modelMatrix;d=q.gl;g=e.mUniformLookUp.h.uModel;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,
"uModel"),h.h.hasOwnProperty("uModel")&&E.remove(h.mKeys,"uModel"),h.h.uModel=g,h.mKeys.push("uModel"));pb.uniformMatrix4fv(d,g,!1,f);q.gl.cullFace(q.gl.BACK);e.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,12);e.vertexAttribPointer("aNormal",3,q.gl.FLOAT,20);null!=a.tangents&&(e.vertexAttribPointer("aTangent",3,q.gl.FLOAT,32),e.vertexAttribPointer("aBiTangent",3,q.gl.FLOAT,44),f=a.material.textureMap.normalMap,d=q.gl,g=e.mUniformLookUp.h.uNormalMap0,null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,
"uNormalMap0"),h.h.hasOwnProperty("uNormalMap0")&&E.remove(h.mKeys,"uNormalMap0"),h.h.uNormalMap0=g,h.mKeys.push("uNormalMap0")),d.uniform1i(g,1),null!=f?f.apply(1):q.sDefaultTex.apply(1));f=a.material.textureMap.tex;d=q.gl;g=e.mUniformLookUp.h.uTex0;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uTex0"),h.h.hasOwnProperty("uTex0")&&E.remove(h.mKeys,"uTex0"),h.h.uTex0=g,h.mKeys.push("uTex0"));d.uniform1i(g,0);null!=f?f.apply(0):q.sDefaultTex.apply(0);f=a.material.ambient;d=q.gl;
g=e.mUniformLookUp.h.uAmbient4f;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uAmbient4f"),h.h.hasOwnProperty("uAmbient4f")&&E.remove(h.mKeys,"uAmbient4f"),h.h.uAmbient4f=g,h.mKeys.push("uAmbient4f"));d.uniform4f(g,f.x,f.y,f.z,f.w);f=a.material.diffuse;d=q.gl;g=e.mUniformLookUp.h.uDiffuse4f;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uDiffuse4f"),h.h.hasOwnProperty("uDiffuse4f")&&E.remove(h.mKeys,"uDiffuse4f"),h.h.uDiffuse4f=g,h.mKeys.push("uDiffuse4f"));
d.uniform4f(g,f.x,f.y,f.z,f.w);f=a.material.specular;d=q.gl;g=e.mUniformLookUp.h.uSpecular4f;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uSpecular4f"),h.h.hasOwnProperty("uSpecular4f")&&E.remove(h.mKeys,"uSpecular4f"),h.h.uSpecular4f=g,h.mKeys.push("uSpecular4f"));d.uniform4f(g,f.x,f.y,f.z,f.w);f=a.material.shininess;d=q.gl;g=e.mUniformLookUp.h.uShininess1f;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uShininess1f"),h.h.hasOwnProperty("uShininess1f")&&
E.remove(h.mKeys,"uShininess1f"),h.h.uShininess1f=g,h.mKeys.push("uShininess1f"));d.uniform1f(g,f);null!=c.fogSettings&&(f=c.fogSettings,d=q.gl,g=e.mUniformLookUp.h.uFogSettings,null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uFogSettings"),h.h.hasOwnProperty("uFogSettings")&&E.remove(h.mKeys,"uFogSettings"),h.h.uFogSettings=g,h.mKeys.push("uFogSettings")),d.uniform4f(g,f.x,f.y,f.z,f.w),f=c.fogColor,d=q.gl,g=e.mUniformLookUp.h.uFogColor,null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,
"uFogColor"),h.h.hasOwnProperty("uFogColor")&&E.remove(h.mKeys,"uFogColor"),h.h.uFogColor=g,h.mKeys.push("uFogColor")),d.uniform4f(g,f.x,f.y,f.z,f.w));f=c.camera.pos;d=q.gl;g=e.mUniformLookUp.h.uEye;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uEye"),h.h.hasOwnProperty("uEye")&&E.remove(h.mKeys,"uEye"),h.h.uEye=g,h.mKeys.push("uEye"));d.uniform4f(g,f.x,f.y,f.z,f.w);f=c.light;d=q.gl;g=e.mUniformLookUp.h.uLight;null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,
"uLight"),h.h.hasOwnProperty("uLight")&&E.remove(h.mKeys,"uLight"),h.h.uLight=g,h.mKeys.push("uLight"));d.uniform4f(g,f.x,f.y,f.z,f.w);null!=c.shadowView&&(f=c.shadowView.camera.get_viewProjection(),d=q.gl,g=e.mUniformLookUp.h.uShadowMVP,null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uShadowMVP"),h.h.hasOwnProperty("uShadowMVP")&&E.remove(h.mKeys,"uShadowMVP"),h.h.uShadowMVP=g,h.mKeys.push("uShadowMVP")),pb.uniformMatrix4fv(d,g,!1,f),f=c.shadowView.camera.far,d=q.gl,g=e.mUniformLookUp.h.uShadowFar,
null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uShadowFar"),h.h.hasOwnProperty("uShadowFar")&&E.remove(h.mKeys,"uShadowFar"),h.h.uShadowFar=g,h.mKeys.push("uShadowFar")),d.uniform1f(g,f),f=c.shadowView.renderTarget,d=q.gl,g=e.mUniformLookUp.h.uTexShadow,null==g&&(h=e.mUniformLookUp,g=q.gl.getUniformLocation(e.mProgram,"uTexShadow"),h.h.hasOwnProperty("uTexShadow")&&E.remove(h.mKeys,"uTexShadow"),h.h.uTexShadow=g,h.mKeys.push("uTexShadow")),d.uniform1i(g,2),null!=f?f.apply(2):q.sDefaultTex.apply(2));
q.gl.drawElements(q.gl.TRIANGLES,b.entries*b.stride,q.gl.UNSIGNED_SHORT,0);q.gl.cullFace(q.gl.BACK)}},dispose:function(){},__class__:Oj};var Vk=function(){Oj.call(this)};f["system.gfx.mesh.MeshShadowRenderer"]=Vk;Vk.__name__="system.gfx.mesh.MeshShadowRenderer";Vk.__super__=Oj;Vk.prototype=k(Oj.prototype,{createShader:function(){this.shader=new qc("\r\n\t\t\tattribute vec3 aVertexPosition;\r\n\t\t\t\r\n\t\t\tuniform mat4  uViewProjection;\r\n\t\t\tuniform mat4  uModel;\r\n\t\t\tuniform float uFar;\r\n\t\t\t\r\n\t\t\tvarying float vDepth;\r\n\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tvec4 pos = uViewProjection * ( vec4( aVertexPosition, 1.0 ) * uModel );\t\t\t\t\r\n\t\t\t\tvDepth = pos.z;// / uFar;\r\n\t\t\t\t\r\n\t\t\t\tgl_Position = pos;\r\n\t\t\t}\t\t\t\r\n\t\t",
"\r\n\t\t\tvarying float vDepth;\r\n\t\t\t\r\n\t\t\t"+Mg.encodeFloat+"\r\n\t\t\t\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tgl_FragColor = encodeFloat( vDepth );\r\n\t\t\t}\r\n\t\t")},renderMeshData:function(a,b){b=a.indexBuffer;var d=a.vertexBuffer,c=q.sCurrentView;if(null!=b&&null!=a.material.textureMap){a=this.shader;q.gl.depthFunc(q.gl.LESS);a.mVertexBuffer=d;a.mVertexBuffer2=null;a.mIndexBuffer=b;q.gl.useProgram(a.mProgram);d.apply();null!=b&&b.apply();a.vertexAttribPointer("aVertexPosition",
3,q.gl.FLOAT,0);var e=c.camera.far;d=q.gl;var f=a.mUniformLookUp.h.uFar;if(null==f){var g=a.mUniformLookUp;f=q.gl.getUniformLocation(a.mProgram,"uFar");g.h.hasOwnProperty("uFar")&&E.remove(g.mKeys,"uFar");g.h.uFar=f;g.mKeys.push("uFar")}d.uniform1f(f,e);e=c.camera.get_viewProjection();d=q.gl;f=a.mUniformLookUp.h.uViewProjection;null==f&&(g=a.mUniformLookUp,f=q.gl.getUniformLocation(a.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=
f,g.mKeys.push("uViewProjection"));pb.uniformMatrix4fv(d,f,!1,e);e=c.modelMatrix;d=q.gl;f=a.mUniformLookUp.h.uModel;null==f&&(g=a.mUniformLookUp,f=q.gl.getUniformLocation(a.mProgram,"uModel"),g.h.hasOwnProperty("uModel")&&E.remove(g.mKeys,"uModel"),g.h.uModel=f,g.mKeys.push("uModel"));pb.uniformMatrix4fv(d,f,!1,e);q.gl.cullFace(q.gl.FRONT);q.gl.drawElements(q.gl.TRIANGLES,b.entries*b.stride,q.gl.UNSIGNED_SHORT,0);q.gl.cullFace(q.gl.BACK)}},__class__:Vk});var Sc=function(a){Jb.call(this);this.texture=
a;this.createShader();null!=Sc.sIndexBuffer&&null!=Sc.sVertexBuffer||this.createBuffer()};f["system.gfx.render.Presenter"]=Sc;Sc.__name__="system.gfx.render.Presenter";Sc.__super__=Jb;Sc.prototype=k(Jb.prototype,{createBuffer:function(){Sc.sIndexBuffer=zc.getIB(2);Sc.sVertexBuffer=new yc(4,5);Sc.sVertexBuffer.addEntry(4);for(var a=Sc.sVertexBuffer.data,b=0;2>b;)for(var d=b++,c=0;2>c;){var e=c++;a.floatArray[a.position>>>2]=2*e-1;a.position+=4;a.floatArray[a.position>>>2]=2*d-1;a.position+=4;a.floatArray[a.position>>>
2]=0;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=d;a.position+=4}Sc.sVertexBuffer.upload()},createShader:function(){this.mShader=new qc("attribute vec3 aVertexPosition;attribute vec2 aTexCoord;uniform mat4 uModel;uniform mat4 uTexModel;varying vec2 vTexCoord;void main (void){vTexCoord = ( vec4( aTexCoord, 0.0, 1.0 ) * uTexModel ).xy;gl_Position = vec4( aVertexPosition, 1.0 ) * uModel;}","varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 t1 = texture2D( uTex0, vTexCoord );gl_FragColor = t1;}")},
setupShader:function(){},draw:function(){if(null!=this.texture){q.gl.depthFunc(q.gl.LESS);q.instance.pushCullingState();q.instance.enableCulling(!1);var a=this.mShader,b=Sc.sVertexBuffer,d=Sc.sIndexBuffer;a.mVertexBuffer=b;a.mVertexBuffer2=null;a.mIndexBuffer=d;q.gl.useProgram(a.mProgram);b.apply();null!=d&&d.apply();this.setupShader();a=this.mShader;var c=this.texture.texCoordMatrix;b=q.gl;d=a.mUniformLookUp.h.uTexModel;if(null==d){var e=a.mUniformLookUp;d=q.gl.getUniformLocation(a.mProgram,"uTexModel");
e.h.hasOwnProperty("uTexModel")&&E.remove(e.mKeys,"uTexModel");e.h.uTexModel=d;e.mKeys.push("uTexModel")}pb.uniformMatrix4fv(b,d,!1,c);a=this.mShader;c=this.modelMatrix;b=q.gl;d=a.mUniformLookUp.h.uModel;null==d&&(e=a.mUniformLookUp,d=q.gl.getUniformLocation(a.mProgram,"uModel"),e.h.hasOwnProperty("uModel")&&E.remove(e.mKeys,"uModel"),e.h.uModel=d,e.mKeys.push("uModel"));pb.uniformMatrix4fv(b,d,!1,c);a=this.mShader;c=this.texture.width;var f=this.texture.height;b=q.gl;d=a.mUniformLookUp.h.uSize;null==
d&&(e=a.mUniformLookUp,d=q.gl.getUniformLocation(a.mProgram,"uSize"),e.h.hasOwnProperty("uSize")&&E.remove(e.mKeys,"uSize"),e.h.uSize=d,e.mKeys.push("uSize"));b.uniform4f(d,c,f,0,0);this.mShader.vertexAttribPointer("aVertexPosition",3,q.gl.FLOAT,0);this.mShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,12);a=this.mShader;c=this.texture;b=q.gl;d=a.mUniformLookUp.h.uTex0;null==d&&(e=a.mUniformLookUp,d=q.gl.getUniformLocation(a.mProgram,"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),
e.h.uTex0=d,e.mKeys.push("uTex0"));b.uniform1i(d,0);null!=c?c.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,2*Sc.sIndexBuffer.stride,q.gl.UNSIGNED_SHORT,0);q.instance.popCullingState()}},__class__:Sc});var fk=function(){this.mClearColor=new pa(.4980392156862745,.4980392156862745,1);Sc.call(this)};f["system.gfx.render.Benchmark"]=fk;fk.__name__="system.gfx.render.Benchmark";fk.run=function(a){null==a&&(a=100);return Xa.create(function(b,d){var c=new fk;c.benchmark(a).onComplete(function(a){c.dispose();
b(a)})})};fk.__super__=Sc;fk.prototype=k(Sc.prototype,{benchmark:function(a){null==a&&(a=100);var b=this;return Xa.create(function(d,c){c=(new Date).getTime();var e=new xj(1);b.texture=e;O.makeIdentity(b.modelMatrix);for(var f=0,g=0;1E3>g&&!(++g,b.draw(),f=(new Date).getTime()-c,f>a););d(f);null!=e&&e.dispose()})},createShader:function(){this.mShader=new qc("attribute vec3 aVertexPosition;attribute vec2 aTexCoord;uniform mat4 uModel;uniform mat4 uTexModel;varying vec2 vTexCoord;uniform vec4 uSize;void main (void){vTexCoord = ( vec4( aTexCoord, 0.0, 1.0 ) * uTexModel ).xy;gl_Position = vec4( aVertexPosition, 1.0 ) * uModel;}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;uniform sampler2D uTex1;uniform sampler2D uTexNormal;uniform float uTimer;uniform vec2 uOffset;void main (void) {vec3 n = ( ( texture2D( uTex1, vTexCoord ).xyz - ( 0.5 ) ) * 2.0 );float diffuse = clamp(( dot( n, vec3( 0.0, 0.0, 1.0 ) ) * 1.0 + 0.0 ), 0.0, 1.0 );float specular = pow( clamp( dot( n, vec3( -0.57735, 0.57735, 0.57735 ) ), 0.0, 1.0 ), 32.0 );vec4 t = texture2D( uTex0, vTexCoord + ( n.xy ) * 0.04 ) * diffuse + specular;gl_FragColor = t;}")},
setupShader:function(){var a=this.mShader,b=this.mDeformMap,d=q.gl,c=a.mUniformLookUp.h.uTex1;if(null==c){var e=a.mUniformLookUp;c=q.gl.getUniformLocation(a.mProgram,"uTex1");e.h.hasOwnProperty("uTex1")&&E.remove(e.mKeys,"uTex1");e.h.uTex1=c;e.mKeys.push("uTex1")}d.uniform1i(c,1);null!=b?b.apply(1):q.sDefaultTex.apply(1);a=this.mShader;b=C.timer;d=q.gl;c=a.mUniformLookUp.h.uTimer;null==c&&(e=a.mUniformLookUp,c=q.gl.getUniformLocation(a.mProgram,"uTimer"),e.h.hasOwnProperty("uTimer")&&E.remove(e.mKeys,
"uTimer"),e.h.uTimer=c,e.mKeys.push("uTimer"));d.uniform1f(c,b);a=this.mShader;b=1/this.mDeformMap.width;var f=1/this.mDeformMap.height;d=q.gl;c=a.mUniformLookUp.h.uOffset;null==c&&(e=a.mUniformLookUp,c=q.gl.getUniformLocation(a.mProgram,"uOffset"),e.h.hasOwnProperty("uOffset")&&E.remove(e.mKeys,"uOffset"),e.h.uOffset=c,e.mKeys.push("uOffset"));d.uniform2f(c,b,f);Sc.prototype.setupShader.call(this)},draw:function(){null==this.mDeformMap&&(this.mDeformMap=new xj);var a=q.instance;a.mFrameBufferStack.push(a.currentFramebuffer);
q.instance.pushClearColor();a=this.mDeformMap;var b=this.mClearColor;q.instance.setFramebuffer(a.mFramebuffer);null!=a.mDepthBuffer&&q.instance.setDepthbuffer(a.mDepthBuffer);var d=a.width;a=a.height;q.instance.viewport.setTo(0,0,d,a);q.gl.viewport(0,0,d,a);null!=b&&(q.instance.set_clearColor(b),q.gl.clear(q.gl.COLOR_BUFFER_BIT|q.gl.DEPTH_BUFFER_BIT));q.instance.popClearColor();a=q.instance;a.setFramebuffer(a.mFrameBufferStack.pop());q.instance.pushDepthState();q.instance.enableDepthTest(!1);q.instance.pushBlendState();
q.instance.enableBlend(!1);Sc.prototype.draw.call(this);q.instance.popBlendState();q.instance.popDepthState();a=this.mDeformMap;null!=q.gl2&&(b=q.instance,b.mFrameBufferStack.push(b.currentFramebuffer),q.instance.setFramebuffer(a.mFramebuffer),q.gl2.invalidateFramebuffer(q.gl.FRAMEBUFFER,null!=a.mDepthBuffer?[q.gl.DEPTH_ATTACHMENT,q.gl.COLOR_ATTACHMENT0]:[q.gl.COLOR_ATTACHMENT0]),a=q.instance,a.setFramebuffer(a.mFrameBufferStack.pop()))},dispose:function(){var a=this.mDeformMap;null!=a&&a.dispose();
this.mDeformMap=null;Sc.prototype.dispose.call(this)},__class__:fk});var Qk=ra["system.gfx.render.RenderPass"]={__ename__:"system.gfx.render.RenderPass",__constructs__:null,STANDARD:{_hx_name:"STANDARD",_hx_index:0,__enum__:"system.gfx.render.RenderPass",toString:r},SHADOW:{_hx_name:"SHADOW",_hx_index:1,__enum__:"system.gfx.render.RenderPass",toString:r}};Qk.__constructs__=[Qk.STANDARD,Qk.SHADOW];var q=function(){this.mCullingStack=[];this.mDepthStack=[];this.mBlendStack=[];this.mBlendEnabled=!0;
this.mClearColorStack=[];this.mClipStack=[];this.mDepthBufferStack=[];this.mFrameBufferStack=[];this.viewport=new tc;this.clipRectangle=null;this.clearColor=new pa;this.views=[];this.landscape=!0;this.ratio=1;this.webGLCompressedTextureS3TC=null;this.texSubImage2DVersion=0;this.lowProfile=!1;this.version=this.renderer="";this.scale=this.maxTextureSize=this.maxCubeTextureSize=this.maxRenderBufferSize=1;this.width=this.height=10;this.mXEventListener=null;C.get_instance().addTickObject(this)};f["system.gfx.render.OpenGLManager"]=
q;q.__name__="system.gfx.render.OpenGLManager";q.__interfaces__=[pe];q.__super__=H;q.prototype=k(H.prototype,{secondlyTick:function(){},set_glContext:function(a){this.get_glContext()!=a&&(q.gl=a,q.gl2=q.gl,null==q.gl2.invalidateFramebuffer&&(q.gl2=null),this.set_clearColor(this.clearColor),q.gl.disable(q.gl.BLEND),q.gl.enable(q.gl.DEPTH_TEST),this.enableCulling(!0),this.currentFramebuffer=this.defaultFramebuffer=q.gl.getParameter(q.gl.FRAMEBUFFER_BINDING),this.currentDepthbuffer=this.defaultDepthbuffer=
q.gl.getParameter(q.gl.RENDERBUFFER_BINDING),q.sDefaultTex=new Ic(new lb(null,0,0,32,32,0)),this.version=q.gl.getParameter(q.gl.VERSION),this.renderer=q.gl.getParameter(q.gl.RENDERER),this.maxTextureSize=q.gl.getParameter(q.gl.MAX_TEXTURE_SIZE),this.maxCubeTextureSize=q.gl.getParameter(q.gl.MAX_RENDERBUFFER_SIZE),this.maxRenderBufferSize=q.gl.getParameter(q.gl.MAX_CUBE_MAP_TEXTURE_SIZE),a=q.gl.getExtension("NVX_gpu_memory_info"),null!=a&&(q.__glMemoryTotalAvailable=a.GPU_MEMORY_INFO_TOTAL_AVAILABLE_MEMORY_NVX,
q.__glMemoryCurrentAvailable=a.GPU_MEMORY_INFO_CURRENT_AVAILABLE_VIDMEM_NVX),this.testFunctions(),this.webGLCompressedTextureS3TC=q.gl.getExtension("WEBGL_compressed_texture_s3tc"));return this.get_glContext()},testFunctions:function(){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=64;a.y=64;a=new Ic(a);q.gl.bindTexture(q.gl.TEXTURE_2D,a.glTexture);a=new lb(null,0,0,32,32);this.texSubImage2DVersion=1;try{pb.texSubImage2D(q.gl,q.gl.TEXTURE_2D,0,0,0,a.width,a.height,q.gl.RGBA,q.gl.UNSIGNED_BYTE,
a.get_data())}catch(b){this.texSubImage2DVersion=0}},get_glContext:function(){return q.gl},pushClearColor:function(){var a=new pa,b=this.clearColor;a.x=b.x;a.y=b.y;a.z=b.z;a.w=b.w;this.mClearColorStack.push(a)},popClearColor:function(){0<this.mClearColorStack.length&&this.set_clearColor(this.mClearColorStack.pop())},setClearColor:function(a,b,d,c){if(a!=this.clearColor.x||b!=this.clearColor.y||d!=this.clearColor.z||c!=this.clearColor.w){var e=this.clearColor;e.x=a;e.y=b;e.z=d;e.w=c;q.gl.clearColor(this.clearColor.x,
this.clearColor.y,this.clearColor.z,this.clearColor.w)}},set_clearColor:function(a){var b=this.clearColor;if(b.x!=a.x||b.y!=a.y||b.z!=a.z||b.w!=a.w)b=this.clearColor,b.x=a.x,b.y=a.y,b.z=a.z,b.w=a.w,q.gl.clearColor(this.clearColor.x,this.clearColor.y,this.clearColor.z,this.clearColor.w);return this.clearColor},setFramebuffer:function(a){this.currentFramebuffer!=a&&(q.gl.bindFramebuffer(q.gl.FRAMEBUFFER,a),this.currentFramebuffer=a)},setDepthbuffer:function(a){this.currentDepthbuffer!=a&&(q.gl.bindRenderbuffer(q.gl.RENDERBUFFER,
a),this.currentDepthbuffer=a)},setDefaultRenderTarget:function(){this.setFramebuffer(this.defaultFramebuffer);var a=this.width,b=this.height;this.viewport.setTo(0,0,a,b);q.gl.viewport(0,0,a,b)},enableBlend:function(a){null==a&&(a=!0);this.mBlendEnabled!=a&&(a?q.gl.enable(q.gl.BLEND):q.gl.disable(q.gl.BLEND),this.mBlendEnabled=a)},pushBlendState:function(){this.mBlendStack.push(this.mBlendEnabled)},popBlendState:function(){this.enableBlend(this.mBlendStack.pop())},enableDepthTest:function(a){null==
a&&(a=!0);a?q.gl.enable(q.gl.DEPTH_TEST):q.gl.disable(q.gl.DEPTH_TEST);this.mDepthEnabled=a},pushDepthState:function(){this.mDepthStack.push(this.mDepthEnabled)},popDepthState:function(){this.enableDepthTest(this.mDepthStack.pop())},enableCulling:function(a){null==a&&(a=!0);a?q.gl.enable(q.gl.CULL_FACE):q.gl.disable(q.gl.CULL_FACE);this.mCullingEnabled=a},pushCullingState:function(){this.mCullingStack.push(this.mCullingEnabled)},popCullingState:function(){this.enableCulling(this.mCullingStack.pop())},
setWindow:function(a,b){null==b&&(b=!0);null!=a&&(q.window=a,b&&this.setWindowPos(a.__width,a.__height,a.__scale))},setWindowPos:function(a,b,d){a=a*d|0;b=b*d|0;if(this.width!=a||this.height!=b)this.width=a,this.height=b,this.scale=d,this.ratio=this.width/this.height,this.lowProfile=1024>this.width&&1024>this.height,this.landscape!=1<=this.ratio&&(this.landscape=1<=this.ratio,this.dispatchSimpleXEvent("ORIENTATION_CHANGED")),this.dispatchSimpleXEvent("SIZE_CHANGED")},preDraw:function(){this.setDefaultRenderTarget();
q.gl.clear(q.gl.COLOR_BUFFER_BIT|q.gl.DEPTH_BUFFER_BIT)},render:function(){for(var a=0,b=this.views;a<b.length;){var d=b[a];++a;q.sCurrentView=d;d.render()}},update:function(){for(var a=0,b=this.views;a<b.length;){var d=b[a];++a;q.sCurrentView=d;d.update()}},__class__:q,__properties__:{set_clearColor:"set_clearColor",set_glContext:"set_glContext",get_glContext:"get_glContext"}});var gk=function(){Sc.call(this)};f["system.gfx.render.PlainPresenter"]=gk;gk.__name__="system.gfx.render.PlainPresenter";
gk.__super__=Sc;gk.prototype=k(Sc.prototype,{draw:function(){q.instance.pushDepthState();q.instance.enableDepthTest(!1);q.instance.pushBlendState();q.instance.enableBlend(!1);Sc.prototype.draw.call(this);q.instance.popBlendState();q.instance.popDepthState()},__class__:gk});var qc=function(a,b){this.mAttribLookUp=new Sa;this.mUniformLookUp=new Sa;this.createShader(a,b)};f["system.gfx.shader.ShaderProgram"]=qc;qc.__name__="system.gfx.shader.ShaderProgram";qc.__interfaces__=[wb];qc.prototype={createShader:function(a,
b){this.mProgram=Pk.fromSources(q.gl,a,"precision mediump float;"+b)},vertexAttribPointer:function(a,b,d,c,e){null==e&&(e=!1);var f=q.gl,g=this.mAttribLookUp.h[a];if(null==g){g=q.gl.getAttribLocation(this.mProgram,a);var l=this.mAttribLookUp;l.h.hasOwnProperty(a)&&E.remove(l.mKeys,a);l.h[a]=g;l.mKeys.push(a)}a=g;q.gl.enableVertexAttribArray(a);f.vertexAttribPointer(a,b,d,e,4*this.mVertexBuffer.stride,c)},dispose:function(){null!=this.mProgram&&(q.gl.deleteProgram(this.mProgram),this.mProgram=null);
this.mUniformLookUp=this.mAttribLookUp=null},__class__:qc};var Mg=function(){};f["system.gfx.shader.ShaderUtils"]=Mg;Mg.__name__="system.gfx.shader.ShaderUtils";var Lg=function(){this.useCounter=this.lastTimeUsed=0;this.ready=this.compress=this.alpha=this.autoGenerateMipMaps=!1;this.texCoordMatrix=O._new();this.rectangle=new tc(0,0,1,1);this.wrapS=this.wrapT=this.magFilter=this.minFilter=-1;this.width=this.height=1;this.mXEventListener=null;this.textureType=q.gl.TEXTURE_2D};f["system.gfx.texture.BaseTexture"]=
Lg;Lg.__name__="system.gfx.texture.BaseTexture";Lg.__super__=H;Lg.prototype=k(H.prototype,{getStageEnum:function(a){switch(a){case 0:return q.gl.TEXTURE0;case 1:return q.gl.TEXTURE1;case 2:return q.gl.TEXTURE2;case 3:return q.gl.TEXTURE3;case 4:return q.gl.TEXTURE4;case 5:return q.gl.TEXTURE5;case 6:return q.gl.TEXTURE6;case 7:return q.gl.TEXTURE7;default:return q.gl.TEXTURE7}},apply:function(a){null!=this.glTexture&&(this.lastTimeUsed=C.timer,++this.useCounter,q.gl.activeTexture(this.getStageEnum(a)),
q.gl.bindTexture(this.textureType,this.glTexture),q.gl.texParameteri(this.textureType,q.gl.TEXTURE_WRAP_S,-1==this.wrapS?q.gl.REPEAT:this.wrapS),q.gl.texParameteri(this.textureType,q.gl.TEXTURE_WRAP_T,-1==this.wrapT?q.gl.REPEAT:this.wrapT),q.gl.texParameteri(this.textureType,q.gl.TEXTURE_MAG_FILTER,-1==this.magFilter?q.gl.LINEAR:this.magFilter),q.gl.texParameteri(this.textureType,q.gl.TEXTURE_MIN_FILTER,-1==this.minFilter?q.gl.LINEAR:this.minFilter))},dispose:function(){this.texCoordMatrix=this.rectangle=
null;null==this.glTexture&&(q.gl.deleteTexture(this.glTexture),this.glTexture=null);H.prototype.dispose.call(this)},__class__:Lg});var Tj=function(){};f["system.gfx.texture.INodeElement"]=Tj;Tj.__name__="system.gfx.texture.INodeElement";Tj.__isInterface__=!0;Tj.prototype={__class__:Tj};var mc=function(a){this.web=this.ready=!1;this.name=null;this.width=this.height=1;this.mXEventListener=null;this.create(a)};f["system.gfx.texture.BufferedImage"]=mc;mc.__name__="system.gfx.texture.BufferedImage";mc.__interfaces__=
[Tj];mc.getImage=function(a){var b=mc.sBufferdImages.h[a];if(null==b){b=new mc(a);var d=mc.sBufferdImages;d.h.hasOwnProperty(a)&&E.remove(d.mKeys,a);d.h[a]=b;d.mKeys.push(a)}return b};mc.getImageFuture=function(a){var b=mc.getImage(a);if(null!=b.img)return oa.withValue(b.img);var d=new Xa,c=null;c=b.registerXEventListener(b,mc.READY,function(a){d.complete(b.img);b.releaseXEventListener(b,mc.READY,c)});return d.future};mc.getFileInfo=function(a){return null!=a?w.field(fb.DATA,a):null};mc.__super__=
H;mc.prototype=k(H.prototype,{create:function(a){var b=this;if(a instanceof lb)this.imageReady(V.__cast(a,lb));else if(a instanceof Wa)this.bytes=a,a=mc.getFileInfo(this.name),null==this.bytes||null==a||Xf.make(this.bytes).toHex()==a.t&&null!=a.t||(a=y.instance,0!=a.alpha&&a.invalidate(),a.alpha=0,y.instance.clickable=!1),lb.loadFromBytes(this.bytes).onComplete(function(a){b.imageReady(a)});else if("string"==typeof a)if(this.name=V.__cast(a,String),a=mc.getFileInfo(this.name),null!=a&&(this.width=
a.w,this.height=a.h),ua.isLocal(this.name))this.create(ua.getBytes(this.name));else ua.loadBytes(this.name).onComplete(function(a){b.create(a)}).onError(function(a){if(null!=b.name)if(a=b.name.toLowerCase(),-1!=a.indexOf(".png")||-1!=a.indexOf(".jpg")||0==a.indexOf("http")){b.web=!0;var d=window.document.createElement("img");d.crossOrigin="anonymous";d.onload=function(){b.imageReady(lb.fromImageElement(d))};d.onerror=function(){b.dispatchSimpleXEvent(mc.CANCEL)};d.src=b.name}else b.dispatchSimpleXEvent(mc.CANCEL);
else b.dispatchSimpleXEvent(mc.CANCEL)})},imageReady:function(a){this.img=a;null!=a&&(this.ready=!0,this.width=a.width,this.height=a.height,this.dispatchSimpleXEvent(mc.READY))},dispose:function(){mc.sBufferdImages.remove(this.name);this.img=this.bytes=this.name=null;H.prototype.dispose.call(this)},__class__:mc});var wj=function(a,b,d){Lg.call(this);var c=q.instance;c.mFrameBufferStack.push(c.currentFramebuffer);c=q.instance;c.mDepthBufferStack.push(c.currentDepthbuffer);this.width=ia.iClamp(a|0,
16,4096);this.height=ia.iClamp(b|0,16,4096);this.rectangle.setTo(0,0,a,b);this.magFilter=this.minFilter=q.gl.LINEAR;this.wrapS=this.wrapT=q.gl.CLAMP_TO_EDGE;this.glTexture=q.gl.createTexture();q.gl.bindTexture(this.textureType,this.glTexture);pb.texImage2D(q.gl,this.textureType,0,q.gl.RGBA,this.width,this.height,0,q.gl.RGBA,q.gl.UNSIGNED_BYTE,null);this.mFramebuffer=q.gl.createFramebuffer();q.instance.setFramebuffer(this.mFramebuffer);q.gl.framebufferTexture2D(q.gl.FRAMEBUFFER,q.gl.COLOR_ATTACHMENT0,
this.textureType,this.glTexture,0);d&&(this.mDepthBuffer=q.gl.createRenderbuffer(),q.gl.bindRenderbuffer(q.gl.RENDERBUFFER,this.mDepthBuffer),q.gl.renderbufferStorage(q.gl.RENDERBUFFER,q.gl.DEPTH_COMPONENT16,this.width,this.height),q.gl.framebufferRenderbuffer(q.gl.FRAMEBUFFER,q.gl.DEPTH_ATTACHMENT,q.gl.RENDERBUFFER,this.mDepthBuffer));q.instance.setClearColor(0,0,0,0);q.gl.clear(d?q.gl.COLOR_BUFFER_BIT|q.gl.DEPTH_BUFFER_BIT:q.gl.COLOR_BUFFER_BIT);c=q.instance;c.setDepthbuffer(c.mDepthBufferStack.pop());
c=q.instance;c.setFramebuffer(c.mFrameBufferStack.pop())};f["system.gfx.texture.RenderTarget"]=wj;wj.__name__="system.gfx.texture.RenderTarget";wj.__super__=Lg;wj.prototype=k(Lg.prototype,{dispose:function(){null!=this.mFramebuffer&&(q.instance.currentFramebuffer==this.mFramebuffer&&q.instance.setDefaultRenderTarget(),q.gl.deleteFramebuffer(this.mFramebuffer),this.mFramebuffer=null);null!=this.mDepthBuffer&&(q.instance.currentDepthbuffer==this.mDepthBuffer&&q.instance.setDepthbuffer(q.instance.currentDepthbuffer),
q.gl.deleteRenderbuffer(this.mDepthBuffer),this.mDepthBuffer=null);Lg.prototype.dispose.call(this)},__class__:wj});var xj=function(a,b){null==b&&(b=!1);null==a&&(a=1);this.factor=a;wj.call(this,q.instance.width*this.factor|0,q.instance.height*this.factor|0,b);this.registerXEventListener(q.instance,"SIZE_CHANGED",c(this,this.onScreenSizeChanged))};f["system.gfx.texture.ScreenRenderTarget"]=xj;xj.__name__="system.gfx.texture.ScreenRenderTarget";xj.__super__=wj;xj.prototype=k(wj.prototype,{onScreenSizeChanged:function(a){a=
q.instance;a.mFrameBufferStack.push(a.currentFramebuffer);a=q.instance;a.mDepthBufferStack.push(a.currentDepthbuffer);this.width=q.instance.width*this.factor|0;this.height=q.instance.height*this.factor|0;this.rectangle.setTo(0,0,this.width,this.height);q.gl.bindTexture(q.gl.TEXTURE_2D,this.glTexture);pb.texImage2D(q.gl,q.gl.TEXTURE_2D,0,q.gl.RGBA,this.width,this.height,0,q.gl.RGBA,q.gl.UNSIGNED_BYTE,null);q.instance.setFramebuffer(this.mFramebuffer);q.gl.framebufferTexture2D(q.gl.FRAMEBUFFER,q.gl.COLOR_ATTACHMENT0,
q.gl.TEXTURE_2D,this.glTexture,0);null!=this.mDepthBuffer&&(q.gl.bindRenderbuffer(q.gl.RENDERBUFFER,this.mDepthBuffer),q.gl.renderbufferStorage(q.gl.RENDERBUFFER,q.gl.DEPTH_COMPONENT16,this.width,this.height),q.gl.framebufferRenderbuffer(q.gl.FRAMEBUFFER,q.gl.DEPTH_ATTACHMENT,q.gl.RENDERBUFFER,this.mDepthBuffer));a=q.instance;a.setDepthbuffer(a.mDepthBufferStack.pop());a=q.instance;a.setFramebuffer(a.mFrameBufferStack.pop())},__class__:xj});var Ic=function(a,b){null==b&&(b=!1);this.name=this.image=
null;var d=this;Lg.call(this);this.autoGenerateMipMaps=b;a instanceof g?(this.rectangle.width=this.width=a.x|0,this.rectangle.height=this.height=a.y|0,this.glTexture=q.gl.createTexture(),this.clearTexture()):a instanceof lb?this.createFromImage(V.__cast(a,lb)):"string"==typeof a&&(a=this.name=V.__cast(a,String),null!=this.name&&-1!=this.name.indexOf(".png")&&(this.alpha=!0),b=Ic.getFileInfo(a),null!=b&&(this.rectangle.width=this.width=b.w,this.rectangle.height=this.height=b.h),this.compress=!0,mc.getImageFuture(a).onComplete(function(a){d.createFromImage(a)}))};
f["system.gfx.texture.Texture2D"]=Ic;Ic.__name__="system.gfx.texture.Texture2D";Ic.getFileInfo=function(a){return null!=a?w.field(fb.DATA,a):null};Ic.getTexture=function(a){var b=Ic.sTextures.h[a];if(null==b){b=new Ic(a);var d=Ic.sTextures;d.h.hasOwnProperty(a)&&E.remove(d.mKeys,a);d.h[a]=b;d.mKeys.push(a)}return b};Ic.__super__=Lg;Ic.prototype=k(Lg.prototype,{clearTexture:function(){q.gl.bindTexture(this.textureType,this.glTexture);pb.texImage2D(q.gl,this.textureType,0,q.gl.RGBA,this.width,this.height,
0,q.gl.RGBA,q.gl.UNSIGNED_BYTE,null)},createFromImage:function(a){if(null!=this.rectangle){this.glTexture=q.gl.createTexture();var b=a;this.rectangle.copyFrom(a.get_rect());this.width=a.width;this.height=a.height;var d=a.width,c=a.height;d=c>d?c:d;0<d&&0==(d&d-1)&&a.width==a.height||(d=ia.nextPowerOfTwo(d),b=new lb(null,0,0,d,d),b.copyPixels(a,this.rectangle,Ic.sDummyVector),this.width=this.height=d,O.makeIdentity(this.texCoordMatrix),a=this.texCoordMatrix,d=this.rectangle.width/this.width,c=this.rectangle.height/
this.height,a[0]*=d,a[1]*=c,a[2]=a[2],a[4]*=d,a[5]*=c,a[6]=a[6],a[8]*=d,a[9]*=c,a[10]=a[10],a[12]*=d,a[13]*=c,a[14]=a[14]);this.upload(b,0);this.autoGenerateMipMaps&&this.generateMipmap();this.ready=!0;this.dispatchSimpleXEvent(Ic.READY)}},generateMipmap:function(){q.gl.generateMipmap(this.textureType);this.minFilter=q.gl.LINEAR_MIPMAP_LINEAR},upload:function(a,b){null==b&&(b=0);if(null!=this.glTexture){q.gl.bindTexture(this.textureType,this.glTexture);var d=q.gl.RGBA;a instanceof lb?pb.texImage2D(q.gl,
this.textureType,b,d,d,q.gl.UNSIGNED_BYTE,a.get_src()):a instanceof Wa&&this.compress&&null!=q.instance.webGLCompressedTextureS3TC&&(d=q.instance.webGLCompressedTextureS3TC.COMPRESSED_RGBA_S3TC_DXT1_EXT,pb.compressedTexImage2D(q.gl,this.textureType,b,d,256,256,0,new DataView(a.b.bufferValue)))}},dispose:function(){Ic.sTextures.remove(this.name);this.ready=!1;var a=this.mTimer;null!=a&&a.dispose();this.image=this.name=this.mTimer=null;Lg.prototype.dispose.call(this)},__class__:Ic});var y=function(){this.mScreenStack=
[];this.mForeGround=null;this.bannerBottom=this.bannerRight=NaN;this.globalX=this.globalY=0;X.call(this);this.addChild(this.UIScreens=qa.createInstanceFromString('<element name="uiScreens" width="100%" height="100%"/>'));y.instance=this;this.registerXEventListener(S.get_instance(),"DOWN_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"UP_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"MOVE_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),
"SCROLL_EVENT",c(this,this.onTouchEvent))};f["system.gfx.ui.XRoot"]=y;y.__name__="system.gfx.ui.XRoot";y.overrideVirtualScreen=function(a,b){if(y.V_SCREEN_HEIGHT!=b||y.V_SCREEN_WIDTH!=a){y.V_SCREEN_WIDTH=a;y.V_SCREEN_HEIGHT=b;y.V_AR=y.V_SCREEN_WIDTH/y.V_SCREEN_HEIGHT;y.instance.calc();y.instance.invalidate();b=y.instance;if(null!=b.children)for(a=0,b=b.children;a<b.length;)b[a++].invalidate();q.instance.dispatchSimpleXEvent("SIZE_CHANGED")}};y.getScreenScaleX=function(){return y.SCREEN_WIDTH/q.instance.width*
q.window.__scale};y.getScreenScaleY=function(){return y.SCREEN_HEIGHT/q.instance.height*q.window.__scale};y.mapToScreen=function(a){a.x/=y.getScreenScaleX();a.y/=y.getScreenScaleY();return a};y.__super__=X;y.prototype=k(X.prototype,{write:function(a){},transScreen:function(a){0<this.mScreenStack.length&&this.mScreenStack.pop().close();this.mScreenStack.push(a);this.addChild(a);this.registerXEventListener(a,"XEventDispatcher::dispose",c(this,this.onScreenDisposed))},addScreen:function(a,b){null==b&&
(b=!0);b&&0<this.mScreenStack.length&&this.mScreenStack[this.mScreenStack.length-1].moveOut();this.mScreenStack.push(a);this.UIScreens.addChild(a);this.registerXEventListener(a,"XEventDispatcher::dispose",c(this,this.onScreenDisposed));this.dispatchSimpleXEvent("XRoot::SCREEN_ADDED");return a},getFocus:function(){return 0<this.mScreenStack.length?this.mScreenStack[this.mScreenStack.length-1]:null},onScreenDisposed:function(a){a=V.__cast(a.target,X);this.releaseXEventListener(a,"XEventDispatcher::dispose",
c(this,this.onScreenDisposed));this.removeScreen(a)},removeScreen:function(a){this.UIScreens.removeChild(a);E.remove(this.mScreenStack,a)&&0<this.mScreenStack.length&&this.mScreenStack[this.mScreenStack.length-1].moveIn()},get_foreground:function(){if(null==this.mForeGround){var a=this.mForeGround=new X;1!=a.absolute&&a.invalidate();a.absolute=!0;var b=a=this.mForeGround;1!=b.relativeHeight&&b.invalidate();b.relativeHeight=1;1!=a.relativeWidth&&a.invalidate();a.relativeWidth=1}return this.mForeGround},
update:function(){var a=this.bannerBottom;if(isFinite(a)){var b=this.bannerBottom*y.SCREEN_HEIGHT*q.instance.scale/q.instance.height;if(y.instance.UIScreens.marginBottom!=b&&(a=y.instance.UIScreens,a.marginBottom!=b&&a.invalidate(),a.marginBottom=b,this.invalidate(),null!=this.children))for(a=0,b=this.children;a<b.length;)b[a++].invalidate()}a=this.bannerRight;if(isFinite(a)&&(b=this.bannerRight*y.SCREEN_WIDTH*q.instance.scale/q.instance.width,800<b&&(b=0),y.instance.UIScreens.marginRight!=b&&(a=
y.instance.UIScreens,a.marginRight!=b&&a.invalidate(),a.marginRight=b,this.invalidate(),null!=this.children)))for(a=0,b=this.children;a<b.length;)b[a++].invalidate();X.prototype.update.call(this);a=this.mForeGround;null!=a&&a.update()},draw:function(){X.prototype.draw.call(this);var a=this.mForeGround;null!=a&&a.draw()},onScreenSizeChanged:function(){var a=this.bannerBottom;if(isFinite(a)){a=y.instance.UIScreens;var b=this.bannerBottom*q.instance.scale*y.SCREEN_HEIGHT/q.instance.height;a.marginBottom!=
b&&a.invalidate();a.marginBottom=b}a=this.bannerRight;isFinite(a)&&(a=y.instance.UIScreens,b=this.bannerRight*q.instance.scale*y.SCREEN_WIDTH/q.instance.width,a.marginRight!=b&&a.invalidate(),a.marginRight=b);this.calc();X.prototype.onScreenSizeChanged.call(this)},onTouchEvent:function(a){var b=this.globalX=a.x*y.SCREEN_WIDTH/q.instance.width*q.window.__scale,d=this.globalY=a.y*y.SCREEN_HEIGHT/q.instance.height*q.window.__scale,c=this.getClickableElementAt(b,d);if(null!=y.forceElements&&("DOWN_EVENT"==
a.type||"UP_EVENT"==a.type)){for(var e=c;null!=e&&-1==y.forceElements.indexOf(e);)e=e.parent;if(null==e||-1==y.forceElements.indexOf(e))return}if(y.sLastElement!=c){e=y.sLastElement;if(null!=e)e.onTouchOut(b,d);null!=c&&this.dispatchSimpleXEvent("XRoot::UI_ELEMENT_MOVE_OVER",c);y.sLastElement=c}if(null!=c)if("DOWN_EVENT"==a.type)c.onTouch(b,d),this.dispatchSimpleXEvent("XRoot::UI_ELEMENT_TOUCHED",c);else if("UP_EVENT"==a.type)c.onTouchUp(b,d,a.deltaTime,a.deltaMovement),this.dispatchSimpleXEvent("XRoot::UI_ELEMENT_TOUCHED_UP",
c);else if("MOVE_EVENT"==a.type)c.onTouchMove(b,d,a.dx,a.dy);else{if("SCROLL_EVENT"==a.type){for(b=c;null!=b&&!V.__implements(b,sh);)b=b.parent;if(null!=b&&V.__implements(b,sh))V.__cast(b,sh).onScroll(a.value)}}else this.dispatchXEvent(a)},calc:function(){var a=y.V_SCREEN_HEIGHT+(isFinite(this.bannerBottom)?this.bannerBottom:0)*y.SCREEN_HEIGHT/q.instance.height/y.instance.scale;q.instance.ratio>y.V_AR?(this.resultWidth=a*q.instance.ratio|0,this.resultHeight=a):(this.resultWidth=y.V_SCREEN_WIDTH,this.resultHeight=
y.V_SCREEN_WIDTH/q.instance.ratio|0);y.SCREEN_WIDTH=this.resultWidth|0;y.SCREEN_HEIGHT=this.resultHeight|0;this.resultOffsetColor=this.colorOffset;this.resultColorR=this.colorR;this.resultColorG=this.colorG;this.resultColorB=this.colorB;this.resultAlpha=this.alpha},__class__:y,__properties__:k(X.prototype.__properties__,{get_foreground:"get_foreground"})});var Ti=function(){this.root=new y;M.call(this);new xi("font")};f["system.gfx.ui.XUIRenderView"]=Ti;Ti.__name__="system.gfx.ui.XUIRenderView";Ti.__super__=
M;Ti.prototype=k(M.prototype,{render:function(){this.root.update();q.instance.enableBlend(!0);q.gl.blendFunc(q.gl.SRC_ALPHA,q.gl.ONE_MINUS_SRC_ALPHA);q.instance.enableDepthTest(!1);q.instance.pushCullingState();q.instance.enableCulling(!1);this.root.render();M.prototype.render.call(this);q.instance.popCullingState();q.instance.enableDepthTest(!0);q.instance.enableBlend(!1)},__class__:Ti});var Hf=function(a){null==a&&(a=.3);Ma.call(this);this.mDuration=a};f["system.gfx.ui.animation.XAnimFadeIn"]=Hf;
Hf.__name__="system.gfx.ui.animation.XAnimFadeIn";Hf.__super__=Ma;Hf.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,(C.timer-this.start)/this.mDuration);this.alpha=a;1<=a&&this.finished();return this.matrix},__class__:Hf});var ik=function(){Ma.call(this)};f["system.gfx.ui.animation.XAnimFadeOut"]=ik;ik.__name__="system.gfx.ui.animation.XAnimFadeOut";ik.__super__=Ma;ik.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,(C.timer-this.start)/.3);this.alpha=1-a;1<=a&&(this.running=
!1,this.finished());return this.matrix},__class__:ik});var jk=function(a){Ma.call(this);this.mSlide=a};f["system.gfx.ui.animation.XAnimFadeOutSlider"]=jk;jk.__name__="system.gfx.ui.animation.XAnimFadeOutSlider";jk.__super__=Ma;jk.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,(C.timer-this.start)/.6),b=this.matrix;b[0]=1;b[3]=0;b[6]=-a*this.mSlide;b[1]=0;b[4]=1;b[7]=0;b[2]=0;b[5]=0;b[8]=1;this.alpha=Math.max(0,1-a);1<=a&&this.running&&(this.register(Dc.delay(c(this,this.finished),
1)),this.running=!1);return this.matrix},__class__:jk});var vk=function(){Ma.call(this)};f["system.gfx.ui.animation.XAnimGlow"]=vk;vk.__name__="system.gfx.ui.animation.XAnimGlow";vk.__super__=Ma;vk.prototype=k(Ma.prototype,{getMatrix:function(){var a=.25*Math.sin(2*(C.timer-this.start))+.75;this.colorOffset=(Math.round(U.toFloat(0)*a)<<24)+(Math.round(U.toFloat(80)*a)<<16)+(Math.round(U.toFloat(80)*a)<<8)+Math.round(U.toFloat(80)*a);return this.matrix},__class__:vk});var kk=function(){Ma.call(this)};
f["system.gfx.ui.animation.XAnimPling"]=kk;kk.__name__="system.gfx.ui.animation.XAnimPling";kk.__super__=Ma;kk.prototype=k(Ma.prototype,{getMatrix:function(){var a=5*(C.timer-this.start+10*this.random),b=Math.max(0,0==Math.floor(a/(2*Math.PI))%5?Math.sin(a):0);this.alpha=b;var d=this.matrix;var c=30*a*ia.PI_GRAD;a=Math.cos(c);c=Math.sin(c);d[0]=a;d[3]=-c;d[6]=0;d[1]=c;d[4]=a;d[7]=0;d[2]=0;d[5]=0;d[8]=1;b=b*b*1.5;d=this.matrix;a=Ba.sDummyM2D;a[0]=b;a[3]=0;a[6]=0;a[1]=0;a[4]=b;a[7]=0;a[2]=0;a[5]=0;
a[8]=1;Ba.MUL(d,d,a);return this.matrix},__class__:kk});var wk=function(a,b,d){null==d&&(d=0);null==b&&(b=5);null==a&&(a=1);Ma.call(this);this.mShakeStrength=b;this.mOffset=d;this.speed=a};f["system.gfx.ui.animation.XAnimShake"]=wk;wk.__name__="system.gfx.ui.animation.XAnimShake";wk.__super__=Ma;wk.prototype=k(Ma.prototype,{getMatrix:function(){var a=this.matrix,b=Math.sin(this.speed*(C.timer-this.start+this.mOffset)/.2*Math.PI*4)*this.mShakeStrength;a[0]=1;a[3]=0;a[6]=b;a[1]=0;a[4]=1;a[7]=0;a[2]=
0;a[5]=0;a[8]=1;return this.matrix},__class__:wk});var lk=function(a,b,d,c){null==c&&(c=0);null==d&&(d=30);null==b&&(b=2);this.angle=0;Ma.call(this,a);this.speed=b;this.size=d;this.rotation=c;null!=a&&(b=a.mFloatMap.h.size,this.size=null==b?this.size:b,b=a.mFloatMap.h.rotation,this.rotation=null==b?this.rotation:b,b=a.mFloatMap.h.speed,this.speed=null==b?this.speed:b,b=a.mFloatMap.h.angle,this.angle=null==b?this.angle:b)};f["system.gfx.ui.animation.XAnimationHover"]=lk;lk.__name__="system.gfx.ui.animation.XAnimationHover";
lk.__super__=Ma;lk.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.sin(C.timer*this.speed+100*this.random)*this.size,b=this.matrix;b[0]=1;b[3]=0;b[6]=0;b[1]=0;b[4]=1;b[7]=a;b[2]=0;b[5]=0;b[8]=1;Ba.rotate(this.matrix,(C.timer+360*this.random)*this.rotation);Ba.rotate(this.matrix,Math.sin(C.timer+360*this.random)*this.angle);return this.matrix},__class__:lk});var Ek=function(a,b,d,c,e){null==e&&(e=4);null==c&&(c=.5);null==d&&(d=.7);null==b&&(b=2);null==a&&(a=2);Ma.call(this);this.mSpeedX=
a;this.mSpeedY=b;this.mSize=d;this.mSpeed=c;this.mAngle=e};f["system.gfx.ui.animation.XBlob"]=Ek;Ek.__name__="system.gfx.ui.animation.XBlob";Ek.__super__=Ma;Ek.prototype=k(Ma.prototype,{getMatrix:function(){var a=1+.15*Math.sin(C.timer*this.mSpeedY+12*this.random)*this.mSize,b=this.matrix;b[0]=1+.1*Math.sin(C.timer*this.mSpeedX+10*this.random)*this.mSize;b[3]=0;b[6]=0;b[1]=0;b[4]=a;b[7]=0;b[2]=0;b[5]=0;b[8]=1;b=this.matrix;var d=Math.sin(C.timer*this.mSpeed*1.5+10*this.random)*this.mAngle;d*=ia.PI_GRAD;
a=Math.cos(d);d=Math.sin(d);b[0]=a;b[3]=-d;b[6]=0;b[1]=d;b[4]=a;b[7]=0;b[2]=0;b[5]=0;b[8]=1;return this.matrix},__class__:Ek});var yd=function(){Ma.call(this)};f["system.gfx.ui.animation.XBlubb"]=yd;yd.__name__="system.gfx.ui.animation.XBlubb";yd.__super__=Ma;yd.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,(C.timer-this.start)/.25),b=1+.25*Math.abs(Math.sin((a-.1)*Math.PI));1<=a?(a=this.matrix,a[0]=1,a[3]=0,a[6]=0,a[1]=0,a[4]=1,a[7]=0,a[2]=0,a[5]=0,a[8]=1,this.finished()):(a=this.matrix,
a[0]=b,a[3]=0,a[6]=0,a[1]=0,a[4]=b,a[7]=0,a[2]=0,a[5]=0,a[8]=1);return this.matrix},__class__:yd});var Fk=function(){Ma.call(this)};f["system.gfx.ui.animation.XBoom"]=Fk;Fk.__name__="system.gfx.ui.animation.XBoom";Fk.__super__=Ma;Fk.prototype=k(Ma.prototype,{getMatrix:function(){var a=(C.timer-this.start)/.5,b=this.matrix,d=15*Math.sin(a*Math.PI*6);b[0]=1;b[3]=0;b[6]=d;b[1]=0;b[4]=1;b[7]=0;b[2]=0;b[5]=0;b[8]=1;1<a&&this.finished();return this.matrix},__class__:Fk});var Uj=function(a,b){this.active=
!0;this.highlightColor=0;this.duration=1;Ma.call(this);this.value=this.startValue=this.targetValue=a;this.highlightColor=b};f["system.gfx.ui.animation.XHighlight"]=Uj;Uj.__name__="system.gfx.ui.animation.XHighlight";Uj.__super__=Ma;Uj.prototype=k(Ma.prototype,{setTargetValue:function(a,b){this.start=C.timer;this.startValue=this.value;this.targetValue=a;this.duration=b;this.active=!0},getMatrix:function(){var a=ia.fClamp((C.timer-this.start)/this.duration,0,1);this.value=this.startValue*(1-a)+this.targetValue*
a;var b=this.highlightColor,d=this.value;this.colorOffset=(Math.round(U.toFloat(b>>>24&255)*d)<<24)+(Math.round(U.toFloat(b>>>16&255)*d)<<16)+(Math.round(U.toFloat(b>>>8&255)*d)<<8)+Math.round(U.toFloat(b&255)*d);1<=a&&0==this.targetValue&&this.finished();return this.matrix},__class__:Uj});var Qd=function(){Ma.call(this)};f["system.gfx.ui.animation.XNope"]=Qd;Qd.__name__="system.gfx.ui.animation.XNope";Qd.__super__=Ma;Qd.prototype=k(Ma.prototype,{getMatrix:function(){var a=Math.min(1,(C.timer-this.start)/
.3),b=this.matrix,d=7*Math.sin(a*Math.PI*4);d*=ia.PI_GRAD;var c=Math.cos(d);d=Math.sin(d);b[0]=c;b[3]=-d;b[6]=0;b[1]=d;b[4]=c;b[7]=0;b[2]=0;b[5]=0;b[8]=1;1<=a&&this.finished();return this.matrix},__class__:Qd});var Ch=function(a,b,d){null==d&&(d=0);null==b&&(b=20);this.offsetX=this.offsetY=0;Ma.call(this,a);this.speed=b;this.add=d;null!=a&&(b=a.mFloatMap.h.add,this.add=null==b?this.add:b,b=a.mFloatMap.h.speed,this.speed=null==b?this.speed:b,b=a.mFloatMap.h.offsetX,this.offsetX=null==b?0:b,b=a.mFloatMap.h.offsetY,
this.offsetY=null==b?0:b,a.mFloatMap.h.hasOwnProperty("random")&&(this.add+=Math.random()*a.mFloatMap.h.random))};f["system.gfx.ui.animation.XRotation"]=Ch;Ch.__name__="system.gfx.ui.animation.XRotation";Ch.__super__=Ma;Ch.prototype=k(Ma.prototype,{getMatrix:function(){if(0!=this.offsetX||0!=this.offsetY){var a=this.matrix;a[0]=1;a[3]=0;a[6]=this.offsetX;a[1]=0;a[4]=1;a[7]=this.offsetY;a[2]=0;a[5]=0;a[8]=1;a=this.matrix;var b=C.timer*this.speed+this.add,d=Ba.sDummyM2D;b*=ia.PI_GRAD;var c=Math.cos(b);
b=Math.sin(b);d[0]=c;d[3]=-b;d[6]=0;d[1]=b;d[4]=c;d[7]=0;d[2]=0;d[5]=0;d[8]=1;Ba.MUL(a,a,d)}else a=this.matrix,b=C.timer*this.speed+this.add,b*=ia.PI_GRAD,c=Math.cos(b),b=Math.sin(b),a[0]=c,a[3]=-b,a[6]=0,a[1]=b,a[4]=c,a[7]=0,a[2]=0,a[5]=0,a[8]=1;return this.matrix},__class__:Ch});var df=function(a,b,d,c,e){null==c&&(c=7);null==d&&(d=1);null==b&&(b=2);Ma.call(this,a);null!=e&&(this.random=e);this.speed=b;this.size=d;this.angle=c;null!=a&&(b=a.mFloatMap.h.speed,this.speed=null==b?this.speed:b,b=a.mFloatMap.h.size,
this.size=null==b?this.size:b,b=a.mFloatMap.h.angle,this.angle=null==b?this.angle:b,a.mFloatMap.h.hasOwnProperty("random")&&(this.random=a.mFloatMap.h.random))};f["system.gfx.ui.animation.XWobble"]=df;df.__name__="system.gfx.ui.animation.XWobble";df.__super__=Ma;df.prototype=k(Ma.prototype,{getMatrix:function(){var a=1+.1*Math.sin(C.timer*this.speed+100*this.random)*this.size,b=this.matrix;b[0]=a;b[3]=0;b[6]=0;b[1]=0;b[4]=a;b[7]=0;b[2]=0;b[5]=0;b[8]=1;Ba.rotate(this.matrix,Math.sin(C.timer*this.speed*
1.5+10*this.random)*this.angle);return this.matrix},__class__:df});var wh=function(a,b){null==b&&(b="");null==a&&(a=1024);this.mElements=new Sa;this.mTextureDirty=this.mDirty=!0;this.id=0;this.mXEventListener=null;this.id=++wh.sId;this.name=b;C.get_instance().addClockObject(this);this.init(a)};f["system.gfx.ui.atlas.XAtlas"]=wh;wh.__name__="system.gfx.ui.atlas.XAtlas";wh.__interfaces__=[lg];wh.__super__=H;wh.prototype=k(H.prototype,{frameTick:function(){this.mDirty&&(this.dispatchSimpleXEvent("XAtlas::update"),
this.mDirty=!1)},init:function(a){if(null==this.mTexture||this.mTexture.width!=a){var b=this.mTexture;null!=b&&b.dispose();b=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];b.x=a;b.y=a;this.mTexture=new Ic(b)}else this.mTexture.clearTexture();b=this.root;null!=b&&b.dispose();this.root=new Si(new Ui(0,0,a,a,a));for(a=this.mElements.keys();a.hasNext();)b=a.next(),this.mElements.h[b].onAdded(this);this.invalidate()},get_texture:function(){this.mTextureDirty&&(this.mTexture.apply(0),this.mTextureDirty=!1);
return this.mTexture},getOrInject:function(a,b){var d=this.mElements.h[a];null==d&&(d=this.addAtlasElement(b(a)));return d.texRectangle},addAtlasElement:function(a){if(null!=a&&!this.mElements.h.hasOwnProperty(a.name)){a.onAdded(this);this.register(a);var b=this.mElements,d=a.name;b.h.hasOwnProperty(d)&&E.remove(b.mKeys,d);b.h[d]=a;b.mKeys.push(d)}return a},insert:function(a){for(var b=this.root.insert(a),d=ia.nextPowerOfTwo(Math.ceil(Math.max(a.width,a.height)/this.mTexture.width))+1;null==b;)this.init(this.mTexture.width*
d),d=2,b=this.root.insert(a);return b},createBufferedImage:function(a){return new Rk(a)},getTexture:function(a){return this.getOrInject(a,c(this,this.createBufferedImage))},invalidate:function(){this.mDirty=this.mTextureDirty=!0},dispose:function(){C.get_instance().removeClockObject(this);var a=this.mTexture;null!=a&&a.dispose();this.mTexture=null;a=this.root;null!=a&&a.dispose();this.root=null;H.prototype.dispose.call(this)},__class__:wh,__properties__:{get_texture:"get_texture"}});var Ri=function(a){null==
a&&(a="");this.texRectangle=new Ui(0,0,0,0,8192);this.ready=this.applied=!1;this.mXEventListener=null;this.name=a};f["system.gfx.ui.atlas.XAtlasElement"]=Ri;Ri.__name__="system.gfx.ui.atlas.XAtlasElement";Ri.__interfaces__=[Tj];Ri.__super__=H;Ri.prototype=k(H.prototype,{onAdded:function(a){this.atlas=a},apply:function(){var a=this.atlas.insert(this);null!=a&&(this.applied=!0,this.texRectangle.copyFrom(a.rect),this.texRectangle.calc(),this.draw())},draw:function(){},__class__:Ri});var Rk=function(a){null==
a&&(a="");Ri.call(this,a)};f["system.gfx.ui.atlas.XAtlasBufferedImageElement"]=Rk;Rk.__name__="system.gfx.ui.atlas.XAtlasBufferedImageElement";Rk.__super__=Ri;Rk.prototype=k(Ri.prototype,{onAdded:function(a){Ri.prototype.onAdded.call(this,a);this.bufferdImage=null!=this.bufferdImage?this.bufferdImage:mc.getImage(this.name);if(this.bufferdImage.ready)this.onReady();else this.registerXEventListener(this.bufferdImage,mc.READY,c(this,this.onReady))},onReady:function(a){this.ready=!0;this.releaseXEventListener(this.bufferdImage,
mc.READY,c(this,this.onReady));this.width=this.bufferdImage.width;this.height=this.bufferdImage.height;this.apply()},draw:function(){q.gl.bindTexture(q.gl.TEXTURE_2D,this.atlas.get_texture().glTexture);var a=q.instance,b=Math.round(this.texRectangle.get_left()),d=Math.round(this.texRectangle.get_top()),c=this.bufferdImage.img;1==a.texSubImage2DVersion?pb.texSubImage2D(q.gl,q.gl.TEXTURE_2D,0,b,d,c.width,c.height,q.gl.RGBA,q.gl.UNSIGNED_BYTE,c.get_data()):pb.texSubImage2D(q.gl,q.gl.TEXTURE_2D,0,b,d,
q.gl.RGBA,q.gl.UNSIGNED_BYTE,c.get_src());this.atlas.invalidate()},dispose:function(){this.bufferdImage=null;Ri.prototype.dispose.call(this)},__class__:Rk});var Ui=function(a,b,d,c,e){this.scaledLeft=this.scaledRight=this.scaledTop=this.scaledBottom=0;this.texSize=this.invTexSize=1;tc.call(this,a,b,d,c);this.texSize=e;this.invTexSize=1/e};f["system.gfx.ui.utils.XTexRectangle"]=Ui;Ui.__name__="system.gfx.ui.utils.XTexRectangle";Ui.__super__=tc;Ui.prototype=k(tc.prototype,{calc:function(){this.scaledLeft=
(this.get_left()+.5)*this.invTexSize;this.scaledRight=(this.get_right()-.5)*this.invTexSize;this.scaledTop=(this.get_top()+.5)*this.invTexSize;this.scaledBottom=(this.get_bottom()-.5)*this.invTexSize},copyFrom:function(a){tc.prototype.copyFrom.call(this,a);null!=a&&(this.texSize=a.texSize,this.invTexSize=a.invTexSize,this.scaledLeft=a.scaledLeft,this.scaledRight=a.scaledRight,this.scaledTop=a.scaledTop,this.scaledBottom=a.scaledBottom)},__class__:Ui});var Si=function(a){this.used=!1;this.childA=this.childB=
null;this.rect=a};f["system.gfx.ui.atlas.XAtlasNode"]=Si;Si.__name__="system.gfx.ui.atlas.XAtlasNode";Si.__interfaces__=[wb];Si.prototype={insert:function(a){if(1==a.width&&1==a.height)return Si.placeholder;if(null!=this.childA){var b=this.childA.insert(a);return null!=b?b:this.childB.insert(a)}if(this.used||a.width>this.rect.width||a.height>this.rect.height)return null;if(a.width==this.rect.width&&a.height==this.rect.height)return this.used=!0,this.rect.calc(),this;b=this.rect;this.childA=new Si(new Ui(b.get_left(),
b.get_top(),b.width,b.height,b.texSize));b=this.rect;this.childB=new Si(new Ui(b.get_left(),b.get_top(),b.width,b.height,b.texSize));this.rect.width-a.width>this.rect.height-a.height?(this.childA.rect.width=a.width,b=this.childB.rect,b.set_left(b.get_left()+(a.width+1))):(this.childA.rect.height=a.height,b=this.childB.rect,b.set_top(b.get_top()+(a.height+1)));return this.childA.insert(a)},dispose:function(){var a=this.childA;null!=a&&a.dispose();this.childA=null;a=this.childB;null!=a&&a.dispose();
this.rect=this.childB=null},__class__:Si};var Id=function(){this.duration=.4;this.startTick=0;this.targetAlpha=.6;this.sourceAlpha=0;this.modelMatrix=O._new();this.initialAtlasSize=0;X.call(this);null==Id.sBlockerShader&&this.createBlockShader()};f["system.gfx.ui.elements.XBlockerLayer"]=Id;Id.__name__="system.gfx.ui.elements.XBlockerLayer";Id.__super__=X;Id.prototype=k(X.prototype,{fadeTo:function(a,b){this.sourceAlpha=this.getAlpha();this.targetAlpha=a;this.startTick=C.timer;this.duration=b},createBlockShader:function(){Id.sIndexBuffer=
zc.getIB(2);Id.sVertexBuffer=new yc(4,2);Id.sVertexBuffer.addEntry(4);for(var a=Id.sVertexBuffer.data,b=0;2>b;)for(var c=b++,e=0;2>e;)a.floatArray[a.position>>>2]=2*e++-1,a.position+=4,a.floatArray[a.position>>>2]=2*c-1,a.position+=4;Id.sVertexBuffer.upload();Id.sBlockerShader=new qc("attribute vec2 aVertexPosition;uniform vec4 uColor;uniform mat4 uModel;varying vec4 vColor;void main (void){vColor = uColor.rgba;gl_Position = vec4( aVertexPosition, 0.0, 1.0 ) * uModel;}","varying vec4 vColor;void main (void) { gl_FragColor = vColor;}")},
getAlpha:function(){if(0<this.startTick){var a=Math.min(1,(C.timer-this.startTick)/this.duration);return this.sourceAlpha*(1-a)+this.targetAlpha*a}return this.sourceAlpha},draw:function(){var a=Id.sBlockerShader,b=Id.sVertexBuffer,c=Id.sIndexBuffer;a.mVertexBuffer=b;a.mVertexBuffer2=null;a.mIndexBuffer=c;q.gl.useProgram(a.mProgram);b.apply();null!=c&&c.apply();a=Id.sBlockerShader;var e=this.getAlpha();b=q.gl;c=a.mUniformLookUp.h.uColor;if(null==c){var f=a.mUniformLookUp;c=q.gl.getUniformLocation(a.mProgram,
"uColor");f.h.hasOwnProperty("uColor")&&E.remove(f.mKeys,"uColor");f.h.uColor=c;f.mKeys.push("uColor")}b.uniform4f(c,0,0,0,e);a=Id.sBlockerShader;e=this.modelMatrix;b=q.gl;c=a.mUniformLookUp.h.uModel;null==c&&(f=a.mUniformLookUp,c=q.gl.getUniformLocation(a.mProgram,"uModel"),f.h.hasOwnProperty("uModel")&&E.remove(f.mKeys,"uModel"),f.h.uModel=c,f.mKeys.push("uModel"));pb.uniformMatrix4fv(b,c,!1,e);Id.sBlockerShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);q.gl.drawElements(q.gl.TRIANGLES,
2*Id.sIndexBuffer.stride,q.gl.UNSIGNED_SHORT,0)},dispose:function(){this.modelMatrix=null;X.prototype.dispose.call(this)},__class__:Id});var Uk=function(a){Aa.call(this,a);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",c(this,this.onButton))};f["system.gfx.ui.elements.XBuyButton"]=Uk;Uk.__name__="system.gfx.ui.elements.XBuyButton";Uk.__super__=Aa;Uk.prototype=k(Aa.prototype,{onButton:function(a){a=this.parent.getControllListener();if(null!=a)a.onBuyButtonAction(this)},applyStringAttribute:function(a,
b){"package"==a?this.set_packageId(b):Aa.prototype.applyStringAttribute.call(this,a,b)},set_packageId:function(a){this.packageId!=a&&(this.packageId=a);return a},applyFloatAttribute:function(a,b){"price"==a?this.set_price(b):Aa.prototype.applyFloatAttribute.call(this,a,b)},set_price:function(a){this.price!=a&&(this.price=a,this.setText("uiTxtPrice",N.number(a)));return a},__class__:Uk,__properties__:k(Aa.prototype.__properties__,{set_packageId:"set_packageId",set_price:"set_price"})});var sk=function(a){this.parentDrawData=
null;this.clipRectangle=new tc;G.call(this,a)};f["system.gfx.ui.elements.XClipArea"]=sk;sk.__name__="system.gfx.ui.elements.XClipArea";sk.__super__=G;sk.prototype=k(G.prototype,{write:function(a){if(this.visible){++a.vertexBufferIdx;var b=a.drawData;a.vertexBufferIdx>=(null!=b?b.length:null)?(a.currentDrawData=new Nh,a.drawData.push(a.currentDrawData),a.currentDrawData.vertexBuffer.upload()):a.currentDrawData=a.drawData[a.vertexBufferIdx];this.parentDrawData=a.currentDrawData;b=1/(y.SCREEN_WIDTH/
q.instance.width);var c=1/(y.SCREEN_HEIGHT/q.instance.height),e=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];e.x=this.x;e.y=this.y;e.multiplyMatrix(this.resultMatrix);var f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f.x=this.resultWidth;f.y=this.resultHeight;f.multiplyNonTransMatrix(this.resultMatrix);this.clipRectangle.setTo(e.x*b,e.y*c,f.x*b,f.y*c);this.parentDrawData.clipRectangle=this.clipRectangle;G.prototype.write.call(this,a);++a.vertexBufferIdx;b=a.drawData;a.vertexBufferIdx>=(null!=b?b.length:
null)?(a.currentDrawData=new Nh,a.drawData.push(a.currentDrawData),a.currentDrawData.vertexBuffer.upload()):a.currentDrawData=a.drawData[a.vertexBufferIdx]}},getClickableElementAt:function(a,b){if(null!=this.resultMatrix){var c=this.resultMatrix,e=Ba.sTempM2D[++Ba.sTempM2DIdx%Ba.sTempM2D.length];null!=c&&Ba.copyFrom(e,c);c=1/(e[0]*(e[4]*e[8]-e[7]*e[5])-e[1]*(e[3]*e[8]-e[5]*e[6])+e[2]*(e[3]*e[7]-e[4]*e[6]));var f=-(e[1]*e[8]-e[2]*e[7])*c,h=(e[1]*e[5]-e[2]*e[4])*c,m=-(e[3]*e[8]-e[5]*e[6])*c,k=(e[0]*
e[8]-e[2]*e[6])*c,n=-(e[0]*e[5]-e[3]*e[2])*c,q=(e[3]*e[7]-e[6]*e[4])*c,t=-(e[0]*e[7]-e[6]*e[1])*c,r=(e[0]*e[4]-e[3]*e[1])*c;e[0]=(e[4]*e[8]-e[7]*e[5])*c;e[3]=m;e[6]=q;e[1]=f;e[4]=k;e[7]=t;e[2]=h;e[5]=n;e[8]=r;c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];c.x=a;c.y=b;e=c.multiplyMatrix(e);if(0<=e.x&&e.x<this.resultWidth&&0<=e.y&&e.y<this.resultHeight)return G.prototype.getClickableElementAt.call(this,a,b)}return null},dispose:function(){null!=this.parentDrawData&&(this.parentDrawData=this.parentDrawData.clipRectangle=
null);this.clipRectangle=null;G.prototype.dispose.call(this)},__class__:sk});var Ok=function(a){this.mIFrame=null;this.mOldX=this.mOldY=this.mOldWidth=this.mOldHeight=-1;ca.call(this,a);this.mIFrame=window.document.createElement("iframe");null!=this.mIFrame&&(null!=this.url&&this.mIFrame.setAttribute("src",this.url),this.mIFrame.setAttribute("allowtransparency","true"),this.mIFrame.setAttribute("allowfullscreen","true"),this.mIFrame.style.padding="0",this.mIFrame.style.margin="0",this.mIFrame.style.border=
"none",this.mIFrame.style.background="transparent",window.document.body.appendChild(this.mIFrame))};f["system.gfx.ui.elements.XIFrame"]=Ok;Ok.__name__="system.gfx.ui.elements.XIFrame";Ok.__super__=ca;Ok.prototype=k(ca.prototype,{set_url:function(a){""==a&&(a=null);this.url!=a&&(this.url=a,null!=this.url&&null!=this.mIFrame&&this.mIFrame.setAttribute("src",this.url));return this.url},applyStringAttribute:function(a,b){switch(a){case "nss":break;case "url":this.set_url(b);break;default:ca.prototype.applyStringAttribute.call(this,
a,b)}},update:function(){var a=1/(y.SCREEN_WIDTH/q.instance.width*q.window.__scale),b=1/(y.SCREEN_HEIGHT/q.instance.height*q.window.__scale),c=this.resultMatrix[6],e=this.resultMatrix[7],f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f.x=c;f.y=e;this.setSize(f.x*a|0,f.y*b|0,this.resultWidth*a|0,this.resultHeight*b|0);ca.prototype.update.call(this)},setSize:function(a,b,c,e){c=Math.round(Math.max(c,100));e=Math.round(Math.max(e,100));if(this.mOldX!=a||this.mOldY!=b||this.mOldWidth!=c||this.mOldHeight!=
e)this.mOldX=a,this.mOldY=b,this.mOldWidth=c,this.mOldHeight=e,this.mIFrame.style.position="absolute",this.mIFrame.style.left=a+"px",this.mIFrame.style.top=b+"px",this.mIFrame.style.width=c+"px",this.mIFrame.style.height=e+"px"},set_visible:function(a){this.mIFrame.style.display=a?"inline":"none";return ca.prototype.set_visible.call(this,a)},copyElements:function(a){ca.prototype.copyElements.call(this,a);a.set_url(this.url)},dispose:function(){this.set_url(null);null!=this.mIFrame&&(window.document.body.removeChild(this.mIFrame),
this.mIFrame=null)},__class__:Ok,__properties__:k(ca.prototype.__properties__,{set_url:"set_url"})});var bb=function(a){G.call(this,a)};f["system.gfx.ui.elements.XImageSpecial"]=bb;bb.__name__="system.gfx.ui.elements.XImageSpecial";bb.__super__=G;bb.prototype=k(G.prototype,{calc:function(){this.rewrite=!0;G.prototype.calc.call(this)},set_pX:function(a){this.pX=a;this.invalidate();return a},set_pY:function(a){this.pY=a;this.invalidate();return a},write:function(a){if(null!=this.image&&0<this.resultWidth&&
0<this.resultHeight){var b=a.get_atlas().getTexture(this.image);if(null!=b){var c=bb.sP11,e=this.resultMatrix[7];c.x=this.resultMatrix[6];c.y=e;c=bb.sP41;e=this.resultWidth*this.resultMatrix[1]+this.resultMatrix[7];c.x=this.resultWidth*this.resultMatrix[0]+this.resultMatrix[6];c.y=e;c=bb.sP14;e=this.resultHeight*this.resultMatrix[4]+this.resultMatrix[7];c.x=this.resultHeight*this.resultMatrix[3]+this.resultMatrix[6];c.y=e;c=bb.sP44;var f=bb.sP41;c.x=f.x;c.y=f.y;c.w=f.w;f=bb.sP14;c.x+=f.x;c.y+=f.y;
f=bb.sP11;c.x-=f.x;c.y-=f.y;null!=this.preParticleEmitter&&this.preParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix);e=null!=this.pX?this.pX.length-1:0;var h=null!=this.pY?this.pY.length-1:0;if(this.rewrite){this.rewrite=!1;var m=b.scaledLeft,k=b.scaledTop,n=b.invTexSize;bb.sLocalBuffer.floatArray[0]=this.resultColorR;bb.sLocalBuffer.floatArray[1]=this.resultColorG;bb.sLocalBuffer.floatArray[2]=this.resultColorB;bb.sLocalBuffer.floatArray[3]=this.resultAlpha;
bb.sLocalBuffer.position=16;c=bb.sLocalBuffer;c.bytes.setInt32(c.position,this.resultOffsetColor);for(c.position+=4;this.mLocalBuffer.length<e*h*160;)this.mLocalBuffer.increaseSize();var q=this.mLocalBuffer,t=q.position=0,r=q.floatArray,u=bb.sLocalBuffer.bytes;bb.sDx=g.SUB(bb.sDx,bb.sP41,bb.sP11);bb.sDy=g.SUB(bb.sDy,bb.sP14,bb.sP11);bb.sDNx=g.NORMALIZE(bb.sDNx,bb.sDx);bb.sDNy=g.NORMALIZE(bb.sDNy,bb.sDy);var M=this.resultMatrix[0]/this.scale;b=0;for(var ea=e;b<ea;)for(var y=b++,w=0,A=h;w<A;)for(var C=
w++,v=0;2>v;)for(var E=v++,F=0;2>F;){var H=this.pX[y+E],x=this.pY[C+1-F++],fa=m+H.u*n;f=k+x.v*n;var J=bb.sP11;c=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];c.x=J.x;c.y=J.y;Object.prototype.hasOwnProperty.call(H,"left")?g.MAD(c,c,bb.sDNx,H.left*M):Object.prototype.hasOwnProperty.call(H,"right")?(J=bb.sDx,g.MAD(c,c,bb.sDNx,Math.sqrt(J.x*J.x+J.y*J.y)-H.right*M)):Object.prototype.hasOwnProperty.call(H,"rel")&&g.MAD(c,c,bb.sDx,H.rel);Object.prototype.hasOwnProperty.call(x,"top")?g.MAD(c,c,bb.sDNy,x.top*
M):Object.prototype.hasOwnProperty.call(x,"bottom")?(H=bb.sDy,g.MAD(c,c,bb.sDNy,Math.sqrt(H.x*H.x+H.y*H.y)-x.bottom*M)):Object.prototype.hasOwnProperty.call(x,"rel")&&g.MAD(c,c,bb.sDy,x.rel);r[t++]=c.x;r[t++]=c.y;q.bytes.blit(t<<2,u,0,20);t+=5;r[t++]=fa;r[t++]=f;++t}}f=a.currentDrawData.vertexBuffer;f.addEntry(e*h*4);c=f.data;e=e*h*4*f.stride*4;c.bytes.blit(c.position,this.mLocalBuffer.bytes,0,e);c.position+=e;null!=this.postParticleEmitter&&this.postParticleEmitter.write(a,this.resultAlpha,this.resultWidth,
this.resultHeight,this.resultMatrix)}b=0;for(ea=this.children;b<ea.length;)c=ea[b],++b,c.visible&&c.write(a)}else G.prototype.write.call(this,a)},applyStringAttribute:function(a,b){switch(a){case "pX":this.set_pX(JSON.parse(b));break;case "pY":this.set_pY(JSON.parse(b));break;default:G.prototype.applyStringAttribute.call(this,a,b)}},copyElements:function(a){G.prototype.copyElements.call(this,a);a.set_pX(this.pX.slice());a.set_pY(this.pY.slice())},__class__:bb,__properties__:k(G.prototype.__properties__,
{set_pY:"set_pY",set_pX:"set_pX"})});var Og=function(a){Aa.call(this,a);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",c(this,this.onDisplayButtonPressed));this.registerXEventListener(Og.sResourceStateDispatcher,Og.SHOW_CHANGE,c(this,this.onShowChange))};f["system.gfx.ui.elements.XResourceDisplay"]=Og;Og.__name__="system.gfx.ui.elements.XResourceDisplay";Og.__super__=Aa;Og.prototype=k(Aa.prototype,{addChild:function(a,b){null==b&&(b=-1);b=Aa.prototype.addChild.call(this,a,b);if("uiTxtAmount"==
(null!=a?a.name:null))this.onShowChange();return b},onDisplayButtonPressed:function(a){a.stop=!0},onShowChange:function(a){if((null!=a?a.resourceType:null)==this.resourceType||null==a)null!=this.currentValue&&this.pulse(),a=null!=a?a.resourceValue:null,this.currentValue=null!=a?a:w.field(Og.sResourceState,this.resourceType),this.updateDisplay()},updateDisplay:function(){this.setText("uiTxtAmount",N.number(this.currentValue))},applyStringAttribute:function(a,b){"resource"==a?this.set_resourceType(b):
Aa.prototype.applyStringAttribute.call(this,a,b)},set_resourceType:function(a){this.resourceType!=a&&(this.resourceType=a,this.onShowChange());return a},dispose:function(){this.set_resourceType(null);Aa.prototype.dispose.call(this)},__class__:Og,__properties__:k(Aa.prototype.__properties__,{set_resourceType:"set_resourceType"})});var Ih=function(a){this.buttonTemplate=null;this.buttons=[];Ih.defaultTemplate=null!=Ih.defaultTemplate?Ih.defaultTemplate:qa.fromString('<button width="100" height="100" />');
La.call(this,a)};f["system.gfx.ui.elements.XSelectorControl"]=Ih;Ih.__name__="system.gfx.ui.elements.XSelectorControl";Ih.__super__=La;Ih.prototype=k(La.prototype,{calc:function(){La.prototype.calc.call(this);for(var a=0,b=0,c=0,e=this.buttons;c<e.length;){var f=e[c];++c;a+f.width>this.resultWidth&&(a=0,b+=f.height);f.x!=a&&f.invalidate();f.x=a;f.y!=b&&f.invalidate();f.y=b;a+=f.width}},applyStringAttribute:function(a,b){"buttonTemplate"==a?(a=this.context,this.buttonTemplate=null!=a?a.getTemplate(b):
null):La.prototype.applyStringAttribute.call(this,a,b)},onButtonClick:function(a){if("uiBtClose"!=a.name){var b=this.find("uiImgMarker");null!=b&&(b.set_visible(!0),a.addChild(b));this.dispatchSimpleXEvent(Ih.CLICKED,a.data);La.prototype.onButtonClick.call(this,a)}},dispose:function(){this.buttonTemplate=this.buttons=null;La.prototype.dispose.call(this)},__class__:Ih});var Vb=function(a){this.rewrite=!0;this.mLocalBuffer=new Ia(1440);this.initialAtlasSize=0;X.call(this,null,a);a=this.mLocalBuffer.floatArray;
a[7]=0;a[8]=0;a[17]=1;a[18]=0;a[27]=0;a[28]=1;a[37]=1;a[38]=1;null==Vb.sShader&&this.createSimpleShader()};f["system.gfx.ui.elements.XTexLayer"]=Vb;Vb.__name__="system.gfx.ui.elements.XTexLayer";Vb.__super__=X;Vb.prototype=k(X.prototype,{createSimpleShader:function(){Vb.sShader=new qc("attribute vec2 aVertexPosition;attribute vec4 aColor;attribute vec4 aOffsetColor;attribute vec2 aTexCoord;attribute float aBlend;uniform mat4 uViewProjection;varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;void main (void){vTexCoord = aTexCoord;vColor = aColor.rgba;vOffsetColor = aOffsetColor.bgra;gl_Position = uViewProjection * vec4( aVertexPosition - vec2( 0.5, 0.5 ), 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;uniform sampler2D uTex0;void main (void) {vec4 col = texture2D( uTex0, vTexCoord, -1.0 );gl_FragColor = col * vColor + vOffsetColor;}")},calc:function(){this.rewrite=!0;X.prototype.calc.call(this)},set_image:function(a){""==a&&(a=null);this.image!=a&&(this.image=a,this.mTexture=Ic.getTexture(a),this.invalidate());return a},applyStringAttribute:function(a,b){"image"==a?this.set_image(b):X.prototype.applyStringAttribute.call(this,
a,b)},copyElements:function(a){null!=a&&a.set_image(this.image)},write:function(a){if(null!=this.image&&0<this.resultWidth&&0<this.resultHeight&&this.mTexture.ready&&null!=this.mTexture){var b=Vb.sP11,c=this.resultMatrix[7];b.x=this.resultMatrix[6];b.y=c;b=Vb.sP41;c=this.resultWidth*this.resultMatrix[1]+this.resultMatrix[7];b.x=this.resultWidth*this.resultMatrix[0]+this.resultMatrix[6];b.y=c;b=Vb.sP14;c=this.resultHeight*this.resultMatrix[4]+this.resultMatrix[7];b.x=this.resultHeight*this.resultMatrix[3]+
this.resultMatrix[6];b.y=c;b=Vb.sP44;c=Vb.sP41;b.x=c.x;b.y=c.y;b.w=c.w;c=Vb.sP14;b.x+=c.x;b.y+=c.y;c=Vb.sP11;b.x-=c.x;b.y-=c.y;this.rewrite&&(this.rewrite=!1,this.mLocalBuffer.position=0,b=this.mLocalBuffer.floatArray,b[0]=Vb.sP11.x,b[1]=Vb.sP11.y,b[2]=this.resultColorR,b[3]=this.resultColorG,b[4]=this.resultColorB,b[5]=this.resultAlpha,b[10]=Vb.sP41.x,b[11]=Vb.sP41.y,b[12]=this.resultColorR,b[13]=this.resultColorG,b[14]=this.resultColorB,b[15]=this.resultAlpha,b[20]=Vb.sP14.x,b[21]=Vb.sP14.y,b[22]=
this.resultColorR,b[23]=this.resultColorG,b[24]=this.resultColorB,b[25]=this.resultAlpha,b[30]=Vb.sP44.x,b[31]=Vb.sP44.y,b[32]=this.resultColorR,b[33]=this.resultColorG,b[34]=this.resultColorB,b[35]=this.resultAlpha);c=this.currentDrawData.vertexBuffer;c.addEntry(4);b=c.data;c=16*c.stride;b.bytes.blit(b.position,this.mLocalBuffer.bytes,0,c);b.position+=c}X.prototype.write.call(this,a)},draw:function(){for(var a=0,b=this.drawData;a<b.length;){var c=b[a];++a;if(null==c.externalLayer){var e=c.vertexBuffer.entries>>
1;if(0<e){c.start();var f=Vb.sShader,g=c.vertexBuffer,h=zc.getIB(e);f.mVertexBuffer=g;f.mVertexBuffer2=null;f.mIndexBuffer=h;q.gl.useProgram(f.mProgram);g.apply();null!=h&&h.apply();this.setupShader();f=O.sTempM3D[++O.sTempM3DIdx%O.sTempM3D.length];O.ortho(f,0,y.SCREEN_HEIGHT,y.SCREEN_WIDTH,0,-.1,100);g=Vb.sShader;h=q.gl;var m=g.mUniformLookUp.h.uViewProjection;if(null==m){var k=g.mUniformLookUp;m=q.gl.getUniformLocation(g.mProgram,"uViewProjection");k.h.hasOwnProperty("uViewProjection")&&E.remove(k.mKeys,
"uViewProjection");k.h.uViewProjection=m;k.mKeys.push("uViewProjection")}pb.uniformMatrix4fv(h,m,!1,f);Vb.sShader.vertexAttribPointer("aVertexPosition",2,q.gl.FLOAT,0);Vb.sShader.vertexAttribPointer("aColor",4,q.gl.FLOAT,8);Vb.sShader.vertexAttribPointer("aOffsetColor",4,q.gl.UNSIGNED_BYTE,24,!0);Vb.sShader.vertexAttribPointer("aTexCoord",2,q.gl.FLOAT,28);f=Vb.sShader;g=this.mTexture;h=q.gl;m=f.mUniformLookUp.h.uTex0;null==m&&(k=f.mUniformLookUp,m=q.gl.getUniformLocation(f.mProgram,"uTex0"),k.h.hasOwnProperty("uTex0")&&
E.remove(k.mKeys,"uTex0"),k.h.uTex0=m,k.mKeys.push("uTex0"));h.uniform1i(m,0);null!=g?g.apply(0):q.sDefaultTex.apply(0);q.gl.drawElements(q.gl.TRIANGLES,3*e,q.gl.UNSIGNED_SHORT,0);c.end()}}else c.externalLayer.render()}},dispose:function(){this.set_image(null);this.context=null;X.prototype.dispose.call(this)},__class__:Vb,__properties__:k(X.prototype.__properties__,{set_image:"set_image"})});var Ea=function(a){this.writeText=!0;this.rewrite=!1;this.localData=null;this.textDisplayData=new Wj;this.shadow=
!0;this.size=22;this.textHeight=this.textWidth=NaN;ca.call(this,a)};f["system.gfx.ui.elements.XText"]=Ea;Ea.__name__="system.gfx.ui.elements.XText";Ea.__super__=ca;Ea.prototype=k(ca.prototype,{set_text:function(a){this.get_text()!=a&&(null!=a&&0==a.indexOf("SID_")&&(this.rawText=a),this.text=N.translate(a,null),this.rewrite=!0);return a},get_text:function(){return this.text},set_halignText:function(a){this.halignText!=a&&(this.halignText=a,this.rewrite=!0);return a},set_size:function(a){this.size!=
a&&(this.size=a,this.rewrite=!0);return a},invalidate:function(){this.invalid||(ca.prototype.invalidate.call(this),this.rewrite=!0)},write:function(a){if(this.writeText&&null!=this.get_text()&&0<this.get_text().length){var b=a.currentDrawData.vertexBuffer;if(null==this.localData||this.rewrite){var c=this.textHeight,e=this.textWidth;this.textHeight=this.textWidth=0;this.rewrite=!1;var f=xi.sInstance,g=this.size/f.baseline,h=this.get_text();Ea.sLocalBuffer.position=0;var m=Ea.sLocalBuffer;m.floatArray[m.position>>>
2]=this.resultColorR;m.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultColorG;m.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultColorB;m.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultAlpha;m.position+=4;m=Ea.sLocalBuffer;m.bytes.setInt32(m.position,this.resultOffsetColor);m.position+=4;this.textDisplayData.setTo(xi.sInstance,h,g,this.resultWidth,this.resultHeight);var k=this.textDisplayData.chars*(this.shadow?2:1);k=16*k*b.stride;
if(null==this.localData||this.localData.size<k){var n=this.localData;null!=n&&n.dispose();this.localData=new Ia(k)}k=this.localData.position=0;n=this.localData.floatArray;var q=Ea.sLocalBuffer.bytes,t=this.textDisplayData.height,r=0;switch(this.valignText){case "bottom":r=this.resultHeight-t;break;case "center":r=(this.resultHeight-t-f.lineTop*g)/2;break;case "top":r=-f.lineTop*g}t=0;for(var u=this.textDisplayData.lines;t<u.length;){var M=u[t];++t;var ea=0;switch(this.halignText){case "center":ea=
(this.resultWidth-M.lineWidth)/2;break;case "right":ea=this.resultWidth-M.lineWidth}for(var y=M.startIdx-1;++y<M.endIdx;){var w=E.cca(h,y);if(60==w)if(m=E.substr(h,y+1,h.indexOf(">",y)-y-1),0==m.indexOf("/col")){Ea.sLocalBuffer.position=0;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultColorR;m.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultColorG;m.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultColorB;m.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>
2]=this.resultAlpha;m.position+=4;m=Ea.sLocalBuffer;m.bytes.setInt32(m.position,this.resultOffsetColor);for(m.position+=4;++y<h.length&&62!=E.cca(h,y););w=E.cca(h,++y)}else if(0==m.indexOf("col=")){m=R.parseInt(E.substr(m,4,9));Ea.sLocalBuffer.position=0;var A=Ea.sLocalBuffer;A.floatArray[A.position>>>2]=this.resultColorR*(m>>16&255)/255;A.position+=4;A=Ea.sLocalBuffer;A.floatArray[A.position>>>2]=this.resultColorG*(m>>8&255)/255;A.position+=4;A=Ea.sLocalBuffer;A.floatArray[A.position>>>2]=this.resultColorB*
(m&255)/255;A.position+=4;m=Ea.sLocalBuffer;m.floatArray[m.position>>>2]=this.resultAlpha;m.position+=4;m=Ea.sLocalBuffer;m.bytes.setInt32(m.position,this.resultOffsetColor);for(m.position+=4;++y<h.length&&62!=E.cca(h,y););w=E.cca(h,++y)}m=1;var C=A=0,v=0,G=0,F=f.mChars.h[w];null==F&&0==w?F=f.mSpaceChar:null==F&&(F=f.mQuestionChar);w=F;if(null!=w){A=w.texCoordLeft;C=w.texCoordRight;v=w.texCoordTop;G=w.texCoordBottom;F=ea+w.xOffset*g;var H=(w.width+w.xOffset)*g+ea,x=r+w.yOffset*g,J=r+(w.yOffset+w.height)*
g,fa=Ea.sP11;fa.x=F;fa.y=x;fa.multiplyMatrix(this.resultMatrix);fa=Ea.sP41;fa.x=H;fa.y=x;fa.multiplyMatrix(this.resultMatrix);H=Ea.sP14;H.x=F;H.y=J;H.multiplyMatrix(this.resultMatrix);F=Ea.sP44;J=Ea.sP41;F.x=J.x;F.y=J.y;F.w=J.w;J=Ea.sP14;F.x+=J.x;F.y+=J.y;J=Ea.sP11;F.x-=J.x;F.y-=J.y;ea+=w.xAdvance*g}else m=0,null!=(null!=a?a.get_atlas():null)&&a.get_atlas().getTexture("s"+this.size+"c"+R.string(w));n[k++]=Ea.sP11.x;n[k++]=Ea.sP11.y;this.localData.bytes.blit(k<<2,q,0,20);k+=5;n[k++]=A;n[k++]=v;n[k++]=
m;n[k++]=Ea.sP41.x;n[k++]=Ea.sP41.y;this.localData.bytes.blit(k<<2,q,0,20);k+=5;n[k++]=C;n[k++]=v;n[k++]=m;n[k++]=Ea.sP14.x;n[k++]=Ea.sP14.y;this.localData.bytes.blit(k<<2,q,0,20);k+=5;n[k++]=A;n[k++]=G;n[k++]=m;n[k++]=Ea.sP44.x;n[k++]=Ea.sP44.y;this.localData.bytes.blit(k<<2,q,0,20);k+=5;n[k++]=C;n[k++]=G;n[k++]=m}r+=f.lineHeight*g;this.textHeight=Math.max(this.textHeight,r);this.textWidth=Math.max(this.textWidth,ea)}f=k<<2;this.localData.length!=f&&(f>this.localData.size&&this.localData.increaseSize(),
this.localData.length=f);c!=this.textHeight&&this.dispatchSimpleXEvent("XText::UPDATE_HEIGHT",this.textHeight);e!=this.textWidth&&this.dispatchSimpleXEvent("XText::UPDATE_WIDTH",this.textWidth)}null!=this.localData&&(b.addEntry(this.localData.length/(4*b.stride)|0),m=b.data,b=this.localData.length,m.bytes.blit(m.position,this.localData.bytes,0,b),m.position+=b)}ca.prototype.write.call(this,a)},applyStringAttribute:function(a,b){switch(a){case "halignText":this.set_halignText(b);break;case "text":this.set_text(b);
break;case "valignText":this.valignText=b;break;default:ca.prototype.applyStringAttribute.call(this,a,b)}},applyBoolAttribute:function(a,b){"shadow"==a?this.shadow=b:ca.prototype.applyBoolAttribute.call(this,a,b)},applyFloatAttribute:function(a,b){"size"==a?this.set_size(b):ca.prototype.applyFloatAttribute.call(this,a,b)},copyElements:function(a){ca.prototype.copyElements.call(this,a);a.set_size(this.size);a.shadow=this.shadow;a.set_text(new String(this.get_text()));a.set_halignText(this.halignText);
a.valignText=this.valignText},dispose:function(){this.rawText=null;this.set_text(null);this.set_halignText(null);this.valignText=null;var a=this.localData;null!=a&&a.dispose();this.localData=null;a=this.textDisplayData;null!=a&&a.dispose();this.textDisplayData=null;ca.prototype.dispose.call(this)},__class__:Ea,__properties__:k(ca.prototype.__properties__,{set_size:"set_size",set_text:"set_text",get_text:"get_text",set_halignText:"set_halignText"})});var fd=function(a){this.hasFocus=!1;this.autocomplete=
"off";this.multiLine=!1;this.initialText=this.restrict=null;this.type="text";this.maxlength=this.minlength=this.tag=null;Ea.call(this,a);this.writeText=!1;C.get_instance().addClockObject(this)};f["system.gfx.ui.elements.XTextInput"]=fd;fd.__name__="system.gfx.ui.elements.XTextInput";fd.__interfaces__=[lg];fd.__super__=Ea;fd.prototype=k(Ea.prototype,{onAdded:function(){this.showNativeInput()},set_multiLine:function(a){this.multiLine!=a&&(this.multiLine=a,this.recreateNativeInput());return a},isInitial:function(){return this.get_text()!=
this.initialText?null==this.get_text():!0},set_initialText:function(a){var b=N.translate(a,null);this.initialText!=b&&(this.initialText=b,null!=this.textInput&&(this.textInput.placeholder=a));return a},set_tag:function(a){this.tag=a;null!=this.textInput&&(this.textInput.id=this.textInput.name=this.tag);return a},set_type:function(a){this.type=a;null!=this.textInput&&(this.textInput.type=a);return a},applyStringAttribute:function(a,b){switch(a){case "autocomplete":this.autocomplete=b;break;case "initial":this.set_initialText(b);
break;case "restrict":this.restrict=b;break;case "tag":this.set_tag(b);break;case "type":this.set_type(b);break;default:Ea.prototype.applyStringAttribute.call(this,a,b)}},applyFloatAttribute:function(a,b){switch(a){case "maxlength":this.maxlength=Math.round(b);break;case "minlength":this.minlength=Math.round(b);break;default:Ea.prototype.applyFloatAttribute.call(this,a,b)}},applyBoolAttribute:function(a,b){"multiLine"==a?this.set_multiLine(b):Ea.prototype.applyBoolAttribute.call(this,a,b)},onKeyDown:function(a){if(this.hasFocus&&
!this.multiLine)switch(a.code){case 9:this.dispatchSimpleXEvent("tabEvent");a.stop=!0;break;case 13:a.stop=!0,a=window.document.activeElement,null!=a&&a.blur(),this.dispatchSimpleXEvent("enterEvent")}},write:function(a){this.updatePosition();Ea.prototype.write.call(this,a)},showNativeInput:function(){var a=this;if(null==this.textInput){var b=this.multiLine?"textArea":"input";this.textInput=window.document.createElement(b);this.multiLine||(this.textInput.type=this.type);this.textInput.autocomplete=
this.autocomplete;this.textInput.autocapitalize="off";this.textInput.autocorrect="off";null!=this.tag&&(this.textInput.id=this.textInput.name=this.tag);null!=this.maxlength&&(this.textInput.maxLength=this.maxlength);null!=this.minlength&&(this.textInput.minLength=this.minlength);this.textInput.placeholder!=this.initialText&&(this.textInput.placeholder=this.initialText);b=this.textInput.style;b.position="absolute";b.padding=this.textInput.style.margin="0px 0px";b.backgroundColor="rgba(0, 0, 0, 0)";
b.border=b.outline="none";window.textInputActive=!0;b=null==this.get_text()?"":this.get_text();this.textInput.value=b;this.textInput.onkeydown=function(b){if(a.textInput instanceof HTMLTextAreaElement&&13==b.keyCode){b.preventDefault();var c=a.textInput.value;b=a.textInput.selectionEnd;var d=E.substr(c,0,a.textInput.selectionStart);c=E.substr(c,b,c.length);a.set_text(a.textInput.value=d+"\n"+c);a.setSelectionRange(b+1,b+1);return!1}return!0};this.invalidate();this.updatePosition();this.textInput.addEventListener("input",
c(this,this.handleInputEvent),!0);this.textInput.addEventListener("focus",c(this,this.onFocus),!0);this.registerXEventListener(S.get_instance(),"KEY_DOWN_EVENT",c(this,this.onKeyDown));window.document.body.appendChild(this.textInput);b=this.textInput.value;b=null!=b?b.length:null;b=null!=b?b:0;this.setSelectionRange(b,b)}},setSelectionRange:function(a,b){if(null!=this.textInput)try{this.textInput.setSelectionRange(a,b)}catch(d){}},set_text:function(a){if(this.get_text()!=a){Ea.prototype.set_text.call(this,
a);if(null!=this.textInput){var b=null==this.get_text()?"":this.get_text();this.textInput.value=b}this.invalidate()}return a},get_text:function(){return this.text},focus:function(){if(null!=this.textInput){var a=null!=this.get_text()?this.get_text().length:0;this.setSelectionRange(a,a)}},recreateNativeInput:function(){null!=this.textInput&&this.hideNativeInput();this.showNativeInput()},hideNativeInput:function(){null!=this.textInput&&(this.textInput.removeEventListener("input",c(this,this.handleInputEvent),
!0),this.textInput.removeEventListener("focus",c(this,this.onFocus),!0),this.textInput.removeEventListener("blur",c(this,this.onFocusLost),!0),this.releaseXEventListener(S.get_instance(),"KEY_DOWN_EVENT",c(this,this.onKeyDown)),this.textInput.blur(),this.textInput.parentElement.removeChild(this.textInput),this.textInput=null,window.textInputActive=!1)},updatePosition:function(){if(null!=this.textInput){var a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=0;var b=y.mapToScreen(a.multiplyMatrix(this.resultMatrix));
a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=this.resultWidth;a.y=this.resultHeight;var c=y.mapToScreen(a.multiplyNonTransMatrix(this.resultMatrix));a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=this.size;a=y.mapToScreen(a.multiplyNonTransMatrix(this.resultMatrix));var e=this.textInput.style;e.left=""+Math.round(b.x)+"px";e.top=""+Math.round(b.y)+"px";e.width=""+Math.round(c.x)+"px";e.height=""+Math.round(c.y)+"px";e.fontSize=""+Math.round(a.y)+"px";e.zIndex="100"}},frameTick:function(){this.checkVisiblity()},
set_visible:function(a){null!=this.textInput&&this.visible!=a&&(this.textInput.style.display=a?"block":"none");return Ea.prototype.set_visible.call(this,a)},checkVisiblity:function(){for(var a=!0,b=this;null!=b;){if(!b.visible){a=!1;break}b=b.parent}this.textInput.style.display!=(a?"block":"none")&&(this.textInput.style.display=a?"block":"none")},handleInputEvent:function(a){Ea.prototype.set_text.call(this,this.textInput.value);this.dispatchSimpleXEvent("changeEvent")},onFocus:function(a){this.hasFocus=
!0;null==this.textInput||this.multiLine||(this.textInput.type=this.type,this.textInput.addEventListener("blur",c(this,this.onFocusLost),!0))},onFocusLost:function(a){this.hasFocus=!1;a.target==this.textInput&&this.dispatchSimpleXEvent("focusLostEvent")},onTouch:function(a,b){e.get_instance().play("sound/click.mp3",0,1,1);this.focus();Ea.prototype.onTouch.call(this,a,b)},dispose:function(){this.hideNativeInput();C.get_instance().removeClockObject(this);Ea.prototype.dispose.call(this)},__class__:fd,
__properties__:k(Ea.prototype.__properties__,{set_multiLine:"set_multiLine",set_initialText:"set_initialText",set_type:"set_type",set_tag:"set_tag"})});var Rg=function(){this.mDefaultWidth=500;this.mPaddingY=60;this.mPaddingX=40;this.mOffsetX=this.mOffsetY=50;this.mDuration=.2;var a=this;ca.call(this);ge.getLibrary("xml/library.xml").onComplete(function(b){a.context=b;qa.applyFromStringTo('<element width="'+a.mDefaultWidth+'" height="250">\r\n\t\t\t\t\t\t<image name="uiImgBg" width="100%" height="100%" image="ui/barbutton_01.png" nss="45,35,11,3" color="0x7F7F7F" />\r\n\t\t\t\t\t\t<element width="100%" height="100%" paddingLeft="'+
a.mPaddingX+'" paddingRight="'+a.mPaddingX+'" paddingTop="'+a.mPaddingY+'" paddingBottom="'+a.mPaddingY+'" >\r\n\t\t\t\t\t\t\t<text text="this is a Tooltip" name="uiTxtMessage" template="tFontWhite,tFontMedium,tElement" valignText="center" >\r\n\t\t\t\t\t\t\t\t<state state="landscape" template="tFontMedium" />\r\n\t\t\t\t\t\t\t\t<state state="portrait" template="tFontLarge" />\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</element>\r\n\t\t\t\t\t\t<element name="uiContainer" template="tElement" />\r\n\t\t\t\t\t</element>',
a,a.context);a.mText=a.findType("uiTxtMessage",Ea);a.registerXEventListener(a.mText,"XText::UPDATE_WIDTH",c(a,a.onTextWidthUpdate));a.registerXEventListener(a.mText,"XText::UPDATE_HEIGHT",c(a,a.onTextHeightUpdate));a.mContainer=a.find("uiContainer")});0!=this.alpha&&this.invalidate();this.alpha=0};f["system.gfx.ui.elements.XTooltip"]=Rg;Rg.__name__="system.gfx.ui.elements.XTooltip";Rg.__properties__={get_instance:"get_instance"};Rg.get_instance=function(){return Rg.sInstance=null!=Rg.sInstance?Rg.sInstance:
new Rg};Rg.__super__=ca;Rg.prototype=k(ca.prototype,{onTextWidthUpdate:function(a){a=a.data+2*this.mPaddingX;this.width!=a&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=a},onTextHeightUpdate:function(a){a=a.data+2*this.mPaddingY;this.height!=a&&this.invalidate();null!=this.relativeHeight&&this.invalidate();this.relativeHeight=null;this.height=a},onDisposed:function(a){this.hide()},show:function(a,b){a!=this.mTarget&&(this.releaseXEventListener(this.mTarget,
"XEventDispatcher::dispose",c(this,this.onDisposed)),this.mTarget=a,this.registerXEventListener(this.mTarget,"XEventDispatcher::dispose",c(this,this.onDisposed)),y.instance.addChild(this),a=this.mDefaultWidth,this.width!=a&&this.invalidate(),null!=this.relativeWidth&&this.invalidate(),this.relativeWidth=null,this.width=a,this.mText.textHeight=this.mText.textWidth=NaN,this.mText.set_text(b),this.mStartTime=C.timer,this.mEndTime=this.mStartTime+this.mDuration)},hide:function(){this.mContainer.removeAllChildren();
this.releaseXEventListener(this.mTarget,"XEventDispatcher::dispose",c(this,this.onDisposed));this.mText.set_text("");this.mTarget=null;this.onHide()},onHide:function(){this.removeFromParent()},get_progress:function(){return(C.timer-this.mStartTime)/(this.mEndTime-this.mStartTime)},update:function(){var a=y.instance.globalX+this.mOffsetX,b=y.instance.globalY+this.mOffsetY,c=ia.fClamp(this.get_progress(),0,1);this.alpha!=c&&this.invalidate();this.alpha=c;c=y.SCREEN_WIDTH;if(a>c/4*3||a+this.width>c)a-=
this.width+2*this.mOffsetX;b+this.height>y.SCREEN_HEIGHT-100&&(b-=this.height+2*this.mOffsetY);this.x!=a&&this.invalidate();this.x=a;this.y!=b&&this.invalidate();this.y=b;y.sLastElement!=this.mTarget&&this.hide();ca.prototype.update.call(this)},dispose:function(){this.mContainer=this.mText=null;ca.prototype.dispose.call(this)},__class__:Rg,__properties__:k(ca.prototype.__properties__,{get_progress:"get_progress"})});var Xi=function(a){this.fastStepFactor=5;this.step=1;this.max=Number.MAX_VALUE;this.min=
Number.MIN_VALUE;this.value=0;La.call(this,a);this.clickable=!0};f["system.gfx.ui.elements.XValueControl"]=Xi;Xi.__name__="system.gfx.ui.elements.XValueControl";Xi.__super__=La;Xi.prototype=k(La.prototype,{set_value:function(a){a=ia.fClamp(a,this.min,this.max);this.setText("uiTxtValueControlValue",N.number(a));var b=a<this.max,c=this.find("uiBtValueControlAdd");null!=c&&(c.enabled=b,c.setLocalState(b?"enabled":"disabled"));b=a>this.min;c=this.find("uiBtValueControlMinus");null!=c&&(c.enabled=b,c.setLocalState(b?
"enabled":"disabled"));this.value!=a&&(b=a-this.value,this.value=a,this.notifyListener(b),this.dispatchSimpleXEvent(Xi.CHANGED));return this.value},applyStringAttribute:function(a,b){"image"==a?(a=this.find("uiImgValueControlIcon"),null!=a&&a instanceof G&&a.set_image(b)):La.prototype.applyStringAttribute.call(this,a,b)},applyFloatAttribute:function(a,b){switch(a){case "max":this.max=b;this.set_value(this.value);break;case "min":this.min=b;this.set_value(this.value);break;case "step":this.step=b;
break;case "value":this.set_value(b);break;default:La.prototype.applyFloatAttribute.call(this,a,b)}},onTouchUp:function(a,b,c,f){this.notifyListener(0);e.get_instance().play("sound/click.mp3",0,1,1);this.blubb();La.prototype.onTouchUp.call(this,a,b,c,f)},notifyListener:function(a){if(null!=this.parent){var b=this.parent.getControllListener();if(null!=b)b.onValueControlAction(this,a)}},onButtonClick:function(a){switch(a.name){case "uiBtValueControlAdd":this.set_value(this.value+(S.get_instance().buttonPressed(2)?
this.fastStepFactor:1)*this.step);break;case "uiBtValueControlMinus":this.set_value(this.value-(S.get_instance().buttonPressed(2)?this.fastStepFactor:1)*this.step);break;default:La.prototype.onButtonClick.call(this,a)}},__class__:Xi,__properties__:k(La.prototype.__properties__,{set_value:"set_value"})});var Nh=function(){this.blend=!0;this.clipRectangle=this.externalLayer=null;this.vertexBuffer=new yc(256,10)};f["system.gfx.ui.elements.data.LayerDrawData"]=Nh;Nh.__name__="system.gfx.ui.elements.data.LayerDrawData";
Nh.__super__=Fa;Nh.prototype=k(Fa.prototype,{reset:function(){this.externalLayer=null;this.vertexBuffer.entries=0},start:function(){if(null!=this.clipRectangle){var a=q.instance;a.mClipStack.push(a.clipRectangle);a=q.instance;var b=this.clipRectangle;null!=a.clipRectangle&&(ye.sRectangleData[ye.sRectangleDataCount++]=a.clipRectangle,a.clipRectangle=null);null!=b&&(a.clipRectangle=0<ye.sRectangleDataCount?ye.sRectangleData[--ye.sRectangleDataCount]:new tc,a.clipRectangle.copyFrom(b));null!=a.clipRectangle?
(q.gl.enable(q.gl.SCISSOR_TEST),q.gl.scissor(a.clipRectangle.x|0,a.height-a.clipRectangle.get_bottom()|0,a.clipRectangle.width|0,a.clipRectangle.height|0)):q.gl.disable(q.gl.SCISSOR_TEST)}q.instance.pushBlendState();q.instance.enableBlend(this.blend)},end:function(){q.instance.popBlendState();if(null!=this.clipRectangle){var a=q.instance,b=a.mClipStack.pop();null!=a.clipRectangle&&(ye.sRectangleData[ye.sRectangleDataCount++]=a.clipRectangle,a.clipRectangle=null);null!=b&&(a.clipRectangle=0<ye.sRectangleDataCount?
ye.sRectangleData[--ye.sRectangleDataCount]:new tc,a.clipRectangle.copyFrom(b));null!=a.clipRectangle?(q.gl.enable(q.gl.SCISSOR_TEST),q.gl.scissor(a.clipRectangle.x|0,a.height-a.clipRectangle.get_bottom()|0,a.clipRectangle.width|0,a.clipRectangle.height|0)):q.gl.disable(q.gl.SCISSOR_TEST)}},dispose:function(){Fa.prototype.dispose.call(this);var a=this.vertexBuffer;null!=a&&a.dispose();this.clipRectangle=this.vertexBuffer=null},__class__:Nh});var lf=function(){this.endIdx=this.startIdx=this.lineWidth=
0};f["system.gfx.ui.elements.data.LineData"]=lf;lf.__name__="system.gfx.ui.elements.data.LineData";lf.create=function(){if(0<lf.sLineDataPool.length){var a=lf.sLineDataPool.pop();a.clear();return a}return new lf};lf.recycle=function(a){lf.sLineDataPool.push(a)};lf.prototype={clear:function(){this.lineWidth=this.startIdx=this.endIdx=0},__class__:lf};var Wj=function(){this.mChar=this.mLine=null;this.height=this.chars=this.mIdx=this.mTextLength=0;this.lines=[]};f["system.gfx.ui.elements.data.TextDisplayData"]=
Wj;Wj.__name__="system.gfx.ui.elements.data.TextDisplayData";Wj.__interfaces__=[wb];Wj.prototype={setTo:function(a,b,c,e,f){if(this.mFont!=a||this.mText!=b||this.mScale!=c||this.mMaxWidth!=e||this.mMaxHeight!=f)this.mFont=a,this.mText=b,this.mScale=c,this.mMaxWidth=e,this.mMaxHeight=f,this.mTextLength=this.mText.length,this.scan()},scan:function(){if(!(1>=this.mMaxWidth)){for(;0<this.lines.length;)lf.recycle(this.lines.pop());for(var a=this.chars=this.height=this.mIdx=0,b=0,c=0,e=0,f=0,g=0;this.mIdx<
this.mTextLength;){var h=E.cca(this.mText,this.mIdx);if(60==h&&(this.mText.indexOf("col",this.mIdx)==this.mIdx+1||this.mText.indexOf("/col",this.mIdx)==this.mIdx+1)&&-1!=this.mText.indexOf(">",this.mIdx)){for(;62!=E.cca(this.mText,++this.mIdx););h=E.cca(this.mText,++this.mIdx)}var m=this.mIdx+1>=this.mTextLength,k=this.mFont,n=k.mChars.h[h];null==n&&0==h?n=k.mSpaceChar:null==n&&(n=k.mQuestionChar);this.mChar=n;if(this.mChar.wordEnd||m)e=this.mIdx,b=a;++this.chars;a+=this.mChar.xAdvance*this.mScale;
a<this.mMaxWidth&&(f=this.mIdx,g=a);if(a>this.mMaxWidth||m||this.mChar.lineEnd)h=lf.create(),h.startIdx=c,0==b?(e=f,h.endIdx=e+1,h.lineWidth=g,g=0):(h.endIdx=m?this.mTextLength:e,h.lineWidth=m?a:b),this.lines.push(h),b=a=f=0,c=e+1,this.mIdx=e,this.height+=(m?this.mFont.size:this.mFont.lineHeight)*this.mScale;++this.mIdx}}},dispose:function(){if(null!=this.lines){for(;0<this.lines.length;)lf.recycle(this.lines.pop());this.lines=null}this.mLine=this.mChar=this.mText=this.mFont=null},__class__:Wj};var Cc=
function(a,b,c){this.mXEventListener=null;this.timeRest=Math.round(1E3*(a-Math.floor(a)));this.textField=b;this.format=c;this.duration=a;this.startTime=C.timer;this.updateText()};f["system.gfx.ui.elements.data.XCountDown"]=Cc;Cc.__name__="system.gfx.ui.elements.data.XCountDown";Cc.__super__=H;Cc.prototype=k(H.prototype,{start:function(){var a=this;0>=Math.floor(this.duration-(C.timer-this.startTime))?this.secondlyTick():0<this.timeRest?Uc.delay(function(){a.mTimer=new Uc(1E3);a.mTimer.run=c(a,a.secondlyTick);
a.secondlyTick()},this.timeRest+1):(this.mTimer=new Uc(1E3),this.mTimer.run=c(this,this.secondlyTick),this.secondlyTick());return this},secondlyTick:function(){this.updateText();this.dispatchSimpleXEvent("XCountDown::COUNTDOWN_TICK");0>=Math.floor(this.duration-(C.timer-this.startTime))&&(this.dispatchSimpleXEvent("XCountDown::COUNTDOWN_FINISHED"),this.dispose())},updateText:function(){null!=this.textField&&this.textField.set_text(N.countdown(0>Math.floor(this.duration-(C.timer-this.startTime))?0:
Math.floor(this.duration-(C.timer-this.startTime)),this.format))},getTimeString:function(){return N.countdown(0>Math.floor(this.duration-(C.timer-this.startTime))?0:Math.floor(this.duration-(C.timer-this.startTime)),this.format)},dispose:function(){this.format=this.text=this.textField=null;null!=this.mTimer&&(this.mTimer.stop(),this.mTimer=null);H.prototype.dispose.call(this)},__class__:Cc});var Kc=function(){this.v=[0,0];this.u=[0,0];this.endSize=this.gravity=0;this.startSize=30;this.endCol=Pd._new();
this.startCol=Pd._new();this.duration=1;this.x=this.y=this.dx=this.dy=this.rotationStart=this.rotationEnd=this.startTime=0;if(null==Kc.sLocalBuffer){Kc.sLocalBuffer=new Ia(20);Kc.sLocalBuffer.position=16;var a=Kc.sLocalBuffer;a.bytes.setInt32(a.position,0);a.position+=4;Kc.sArr=$k.fromBytes(Kc.sLocalBuffer.bytes)}};f["system.gfx.ui.elements.data.particle.XParticle"]=Kc;Kc.__name__="system.gfx.ui.elements.data.particle.XParticle";Kc.create=function(){return 0<Kc.sParticles.length?Kc.sParticles.pop():
new Kc};Kc.prototype={setTo:function(a,b,c,e,f,g,h){null==f&&(f=0);this.x=a;this.y=b;a=Math.sqrt(c*c+e*e);b=null!=h.rangeRange?h.rangeRange.getRandom():h.range;this.dx=c/a*b;this.dy=e/a*b;this.startTime=C.timer+f;null!=h&&(this.rotationStart=null!=h.rotationStartRange?h.rotationStartRange.getRandom():h.rotationStart,this.rotationEnd=null!=h.rotationEndRange?h.rotationEndRange.getRandom():h.rotationEnd,this.duration=h.duration,c=this.startCol,e=null!=h.startColorRange?h.startColorRange.getRandom():
h.startColor,Pd.set_r(c,U.toFloat(e>>>16&255)/255),Pd.set_g(c,U.toFloat(e>>>8&255)/255),Pd.set_b(c,U.toFloat(e&255)/255),Pd.set_a(c,U.toFloat(e>>>24&255)/255),c=this.endCol,e=null!=h.endColorRange?h.endColorRange.getRandom():h.endColor,Pd.set_r(c,U.toFloat(e>>>16&255)/255),Pd.set_g(c,U.toFloat(e>>>8&255)/255),Pd.set_b(c,U.toFloat(e&255)/255),Pd.set_a(c,U.toFloat(e>>>24&255)/255),this.startSize=h.startSize,this.endSize=h.endSize,this.gravity=h.gravity,null!=g&&(this.u[0]=g.scaledLeft,this.u[1]=g.scaledRight,
this.v[0]=g.scaledTop,this.v[1]=g.scaledBottom))},write:function(a,b,c){var d=Math.min(1,(C.timer-this.startTime)/this.duration),e=Math.sqrt(d),f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];f.x=this.x+this.dx*e;f.y=this.y+this.dy*e+this.gravity*d*d;e=this.startSize*(1-d)+this.endSize*d;Kc.sArr[0]=Pd.get_r(this.startCol)*(1-d)+Pd.get_r(this.endCol)*d;Kc.sArr[1]=Pd.get_g(this.startCol)*(1-d)+Pd.get_g(this.endCol)*d;Kc.sArr[2]=Pd.get_b(this.startCol)*(1-d)+Pd.get_b(this.endCol)*d;Kc.sArr[3]=(Pd.get_a(this.startCol)*
(1-d)+Pd.get_a(this.endCol)*d)*a;if(this.rotationStart!=this.rotationEnd||0!=this.rotationStart){c=Kc.sM;var h=d*(this.rotationEnd-this.rotationStart)+this.rotationStart;h*=ia.PI_GRAD;a=Math.cos(h);h=Math.sin(h);c[0]=a;c[3]=-h;c[6]=0;c[1]=h;c[4]=a;c[7]=0;c[2]=0;c[5]=0;c[8]=1}else c=Ba.IDENTITY;for(a=0;4>a;){h=a++;var m=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];m.x=(0==h%2?-1:1)*e;m.y=(0==h>>1?-1:1)*e;m=m.multiplyMatrix(c);m.x+=f.x;m.y+=f.y;b.floatArray[b.position>>>2]=m.x;b.position+=4;b.floatArray[b.position>>>
2]=m.y;b.position+=4;b.bytes.blit(b.position,Kc.sLocalBuffer.bytes,0,20);b.position+=20;b.floatArray[b.position>>>2]=this.u[h%2];b.position+=4;b.floatArray[b.position>>>2]=this.v[h>>1];b.position+=4;b.floatArray[b.position>>>2]=0;b.position+=4}return 1<=d},recycle:function(){Kc.sParticles.push(this)},__class__:Kc};var Hk=function(a,b){this.min=a;this.max=b};f["system.gfx.ui.elements.data.particle.Range"]=Hk;Hk.__name__="system.gfx.ui.elements.data.particle.Range";Hk.prototype={getRandom:function(){var a=
Math.random();return this.min*(1-a)+this.max*a},__class__:Hk};var Ik=function(a,b){this.min=a;this.max=b};f["system.gfx.ui.elements.data.particle.ColorRange"]=Ik;Ik.__name__="system.gfx.ui.elements.data.particle.ColorRange";Ik.prototype={getRandom:function(){var a=this.min,b=this.max,c=Math.random(),e=1-c;return((U.toFloat(a>>>24&255)*e+U.toFloat(b>>>24&255)*c|0)<<24)+((U.toFloat(a>>>16&255)*e+U.toFloat(b>>>16&255)*c|0)<<16)+((U.toFloat(a>>>8&255)*e+U.toFloat(b>>>8&255)*c|0)<<8)+(U.toFloat(a&255)*
e+U.toFloat(b&255)*c|0)},__class__:Ik};var Zi=function(a){this.mRest=0;this.atlas=null;this.active=!0;this.middle=new g;this.particles=[];this.lastTick=1;this.numParticlesPerSecond=this.numToAddParticles=0;this.mXEventListener=null;this.desc=null!=a?a:(new Ie).copyFrom(ca.DEFAULT_DESCRIPTOR);this.lastTick=C.timer};f["system.gfx.ui.elements.data.particle.XParticleEmitter"]=Zi;Zi.__name__="system.gfx.ui.elements.data.particle.XParticleEmitter";Zi.__super__=H;Zi.prototype=k(H.prototype,{rndBorderPos:function(a,
b,c,e,f){null==f&&(f=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen]);switch(R.random(4)){case 0:var d=.5*Math.random(),l=.5*Math.random();var h=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];var m=1/(1+d+l);h.x=(a.x+b.x*d+c.x*l)*m;h.y=(a.y+b.y*d+c.y*l)*m;var k=.5*Math.random();l=.5*Math.random();var p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];m=1/(k+1+l);p.x=(a.x*k+b.x+e.x*l)*m;p.y=(a.y*k+b.y+e.y*l)*m;return g.LERP(f,h,p,Math.random());case 1:return d=.5*Math.random(),l=.5*Math.random(),h=g.sTempV2D[++g.sTempV2DIdx%
g.sTempV2DLen],m=1/(1+d+l),h.x=(a.x+b.x*d+c.x*l)*m,h.y=(a.y+b.y*d+c.y*l)*m,k=.5*Math.random(),l=.5*Math.random(),p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],m=1/(k+1+l),p.x=(a.x*k+c.x+e.x*l)*m,p.y=(a.y*k+c.y+e.y*l)*m,g.LERP(f,h,p,Math.random());case 2:return k=.5*Math.random(),l=.5*Math.random(),h=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],m=1/(k+1+l),h.x=(a.x*k+b.x+e.x*l)*m,h.y=(a.y*k+b.y+e.y*l)*m,k=.5*Math.random(),d=.5*Math.random(),p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],m=1/(k+d+1),p.x=(b.x*
k+c.x*d+e.x)*m,p.y=(b.y*k+c.y*d+e.y)*m,g.LERP(f,p,h,Math.random());case 3:return k=.5*Math.random(),l=.5*Math.random(),h=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],m=1/(k+1+l),h.x=(a.x*k+c.x+e.x*l)*m,h.y=(a.y*k+c.y+e.y*l)*m,k=.5*Math.random(),d=.5*Math.random(),p=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],m=1/(k+d+1),p.x=(b.x*k+c.x*d+e.x)*m,p.y=(b.y*k+c.y*d+e.y)*m,g.LERP(f,p,h,Math.random())}return f},onAtlasResize:function(a){a=0;for(var b=this.particles;a<b.length;){var c=b[a];++a;var e=this.atlas.getTexture(this.desc.image);
c.u[0]=e.scaledLeft;c.u[1]=e.scaledRight;c.v[0]=e.scaledTop;c.v[1]=e.scaledBottom}},write:function(a,b,d,e,f){if(null!=this.desc.image){null==this.atlas&&(this.atlas=a.get_atlas(),this.registerXEventListener(this.atlas,"XAtlas::resize",c(this,this.onAtlasResize)));var l=this.atlas.getTexture(this.desc.image);if(null!=l){var h=this.middle;h.x=.5*d;h.y=.5*e;var m=h.multiplyMatrix(f),k=Math.min(.1,C.timer-this.lastTick),p=0;if(this.active){var n=this.numParticlesPerSecond*k+this.mRest;p=Math.round(n);
this.mRest=n-p}n=0;for(p+=this.numToAddParticles;n<p;){h=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];h.x=0;h.y=0;var q=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];q.x=d;q.y=0;var t=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];t.x=0;t.y=e;var r=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];r.x=d;r.y=e;h=this.rndBorderPos(h,q,t,r).multiplyMatrix(f);q=Kc.create();t=g.SUB(g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],h,m);q.setTo(h.x,h.y,t.x*(1+Math.random()),t.y*(1+Math.random()),k/(1+n++),l,this.desc);this.particles.push(q)}this.numToAddParticles=
0;a=a.currentDrawData.vertexBuffer;d=this.particles.length;a.addEntry(4*d);for(a=a.data;0<d--;)e=this.particles[d],e.write(b,a,f)&&(E.remove(this.particles,e),e.recycle());this.lastTick=C.timer}}},pulse:function(a){this.numToAddParticles=a},dispose:function(){this.desc=null;H.prototype.dispose.call(this)},__class__:Zi});var Vj=function(a,b,c,e,f,g,h,m,k){this.valid=!0;this.charID=a;this.xOffset=g;this.yOffset=h;this.xAdvance=m;this.texLeft=b;this.texTop=c;this.texRight=e;this.texBottom=f;this.width=
this.texRight-this.texLeft;this.height=this.texBottom-this.texTop;b=1/k;this.texCoordLeft=this.texLeft*b;this.texCoordTop=this.texTop*b;this.texCoordRight=this.texRight*b;this.texCoordBottom=this.texBottom*b;this.lineEnd=10==a||13==a;this.wordEnd=32==a||this.lineEnd};f["system.gfx.ui.font.XBitmapChar"]=Vj;Vj.__name__="system.gfx.ui.font.XBitmapChar";Vj.__interfaces__=[wb];Vj.prototype={dispose:function(){this.valid=!1},__class__:Vj};var xi=function(a){null==a&&(a="font");this.mChars=new Yb;xi.sInstance=
this;this.name=a;this.texture=Ic.getTexture("font/"+a+".png");this.texture.autoGenerateMipMaps=!0;this.texture.minFilter=q.gl.LINEAR_MIPMAP_LINEAR;this.lineHeight=this.size=this.baseline=1;this.loadXMLData()};f["system.gfx.ui.font.XBitmapFont"]=xi;xi.__name__="system.gfx.ui.font.XBitmapFont";xi.__super__=Fa;xi.prototype=k(Fa.prototype,{loadXMLData:function(a){a=Q.parse(ua.getText("font/"+this.name+".xml")).firstElement();if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Invalid nodeType "+
(null==a.nodeType?"null":A.toString(a.nodeType)));this.parseFontXml(a)},parseFontXml:function(a){this.size=parseFloat(ob.resolve(Ab.resolve(a,"info"),"size"));this.lineHeight=parseFloat(ob.resolve(Ab.resolve(a,"common"),"lineHeight"));this.baseline=parseFloat(ob.resolve(Ab.resolve(a,"common"),"base"));this.lineTop=Vh.resolve(Ab.resolve(a,"common"),"lineTop")?parseFloat(ob.resolve(Ab.resolve(a,"common"),"lineTop")):21;var b=new tc;a=Ab.resolve(a,"chars").elements();for(var c=this.texture.width;a.hasNext();){var e=
a.next(),f=R.parseInt(ob.resolve(e,"id")),g=parseFloat(ob.resolve(e,"xoffset")),h=parseFloat(ob.resolve(e,"yoffset")),m=parseFloat(ob.resolve(e,"xadvance"));b.x=parseFloat(ob.resolve(e,"x"))+0;b.y=parseFloat(ob.resolve(e,"y"))+0;b.width=parseFloat(ob.resolve(e,"width"));b.height=parseFloat(ob.resolve(e,"height"));this.addChar(f,new Vj(f,b.get_left(),b.get_top(),b.get_right(),b.get_bottom(),g,h,m,c))}this.addChar(13,new Vj(13,0,0,1,1,0,0,0,c));this.addChar(10,new Vj(10,0,0,1,1,0,0,0,c));b=this.mChars.h[32];
null==b&&(b=this.mQuestionChar);this.mSpaceChar=b;b=this.mChars.h[63];null==b&&(b=this.mQuestionChar);this.mQuestionChar=b;this.mChars.h.hasOwnProperty(160)||this.addChar(160,this.mSpaceChar)},addChar:function(a,b){this.mChars.h[a]=b},dispose:function(){this.mChars=this.texture=this.name=null;Fa.prototype.dispose.call(this)},__class__:xi});var ge=function(a,b){this.externalLibs=[];this.templates=new cb;this.mXEventListener=null;this.name=a;this.mLoadPromise=b;"string"==typeof a&&this.load(a)};f["system.gfx.ui.library.XLibrary"]=
ge;ge.__name__="system.gfx.ui.library.XLibrary";ge.getLibrary=function(a){if(Object.prototype.hasOwnProperty.call(ge.sLibs.h,a))return ge.sLibs.h[a];var b=new Xa;new ge(a,b);return ge.sLibs.h[a]=b.future};ge.__super__=H;ge.prototype=k(H.prototype,{readXMLTemplates:function(a){for(a=a.elements();a.hasNext();){var b=a.next();b=qa.create(this).fromXML(b);Object.prototype.hasOwnProperty.call(this.templates.h,b.id)&&this.templates.h[b.id].dispose();this.templates.h[b.id]=b}},load:function(a){var b=this;
ua.loadText(a).onComplete(function(a){b.fromXML(Q.parse(a))})},fromXML:function(a){var b=this,c=new Xa,e=null;if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Invalid nodeType "+(null==a.nodeType?"null":A.toString(a.nodeType)));if(al.resolve(a,"libraries")){e=[];for(var f=Ab.resolve(a,"libraries").elements();f.hasNext();)e.push(ge.getLibrary(ob.resolve(f.next(),"file")))}oa.wait(e).onComplete(function(d){b.externalLibs=b.externalLibs.concat(d);for(d=a.elements();d.hasNext();){var e=
d.next();if(e.nodeType==Q.Document)var f="Document";else{if(e.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":A.toString(e.nodeType)));f=e.nodeName}"libraries"!=f&&b.readNode(e)}c.complete({});f=b.mLoadPromise;null!=f&&f.complete(b)});return c.future},readNode:function(a){if(a.nodeType==Q.Document)var b="Document";else{if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));
b=a.nodeName}"templates"==b&&this.readXMLTemplates(a)},exits:function(a){if(Object.prototype.hasOwnProperty.call(this.templates.h,a))return!0;if(null!=this.externalLibs)for(var b=0,c=this.externalLibs;b<c.length;)if(c[b++].exits(a))return!0;return!1},getTemplate:function(a){var b=this.templates;if(null!=b&&Object.prototype.hasOwnProperty.call(b.h,a))return this.templates.h[a];if(null!=this.externalLibs){b=0;for(var c=this.externalLibs;b<c.length;){var e=c[b++].getTemplate(a);if(null!=e)return e}}return null},
dispose:function(){if(null!=this.templates){for(var a=this.templates.h,b=Object.keys(a),c=b.length,e=0;e<c;){var f=a[b[e++]];f.clear();qa.sPool.push(f)}this.templates.h=Object.create(null);this.templates=null}this.externalLibs=null;H.prototype.dispose.call(this)},__class__:ge});var mk=function(){ge.call(this);this.template=qa.create(this)};f["system.gfx.ui.library.XLayerLibrary"]=mk;mk.__name__="system.gfx.ui.library.XLayerLibrary";mk.__super__=ge;mk.prototype=k(ge.prototype,{readNode:function(a){if(a.nodeType==
Q.Document)var b="Document";else{if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));b=a.nodeName}"screen"==b?this.template.readNode(a):ge.prototype.readNode.call(this,a)},dispose:function(){var a=this.template;null!=a&&a.dispose();this.template=null;ge.prototype.dispose.call(this)},__class__:mk});var qa=function(a){this.ifCondition=this.unlessCondition=null;this.mFloatMap=new Sa;this.mUIntMap=new Sa;this.mBoolMap=
new Sa;this.mStringMap=new Sa;this.children=[];this.context=this.id=null;this.context=a;this.mXEventListener=null};f["system.gfx.ui.library.XTemplate"]=qa;qa.__name__="system.gfx.ui.library.XTemplate";qa.create=function(a){if(0<qa.sPool.length){var b=qa.sPool.pop();b.context=a;return b}return new qa(a)};qa.fromString=function(a,b){b=qa.create(b);a=Q.parse(a).firstElement();if(a.nodeType!=Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Invalid nodeType "+(null==a.nodeType?"null":A.toString(a.nodeType)));
b.readNode(a);return b};qa.applyFromStringTo=function(a,b,c){a=qa.fromString(a,c);a.applyTo(b);a.clear();qa.sPool.push(a)};qa.createInstanceFromString=function(a,b){a=qa.fromString(a,b);b=a.createInstance();a.clear();qa.sPool.push(a);return b};qa.registerElementClass=function(a,b){var c=qa.sElementClassMap;c.h.hasOwnProperty(a)&&E.remove(c.mKeys,a);c.h[a]=b;c.mKeys.push(a)};qa.__super__=H;qa.prototype=k(H.prototype,{get_name:function(){return this.mStringMap.h.name},fromXML:function(a){if(a.nodeType!=
Q.Document&&a.nodeType!=Q.Element)throw T.thrown("Invalid nodeType "+(null==a.nodeType?"null":A.toString(a.nodeType)));this.readNode(a);return this},getTemplate:function(a){var b=this.context;return null!=b?b.getTemplate(a):null},readNode:function(a){if(a.nodeType==Q.Document)var b="Document";else{if(a.nodeType!=Q.Element)throw T.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":A.toString(a.nodeType)));b=a.nodeName}this.type=b;Vh.resolve(a,"id")&&(this.id=ob.resolve(a,
"id"));var c=a.attributes(),e=a.get("template");if(null!=e){var f=e.split(",");for(e=0;e<f.length;)b=this.getTemplate(f[e++]),null!=b&&b.applyToTemplate(this)}for(;c.hasNext();)switch(e=c.next(),f=a.get(e),e){case "data":b=this.mStringMap;b.h.hasOwnProperty(e)&&E.remove(b.mKeys,e);b.h[e]=f;b.mKeys.push(e);break;case "height":-1==f.indexOf("%")?(e=parseFloat(f),f=this.mFloatMap,f.h.hasOwnProperty("height")&&E.remove(f.mKeys,"height"),f.h.height=e,f.mKeys.push("height"),this.mFloatMap.remove("relativeHeight")):
(e=parseFloat(ka.replace(f,"%",""))/100,f=this.mFloatMap,f.h.hasOwnProperty("relativeHeight")&&E.remove(f.mKeys,"relativeHeight"),f.h.relativeHeight=e,f.mKeys.push("relativeHeight"));break;case "if":this.ifCondition=f;break;case "label":case "nss":case "text":b=this.mStringMap;b.h.hasOwnProperty(e)&&E.remove(b.mKeys,e);b.h[e]=f;b.mKeys.push(e);break;case "relativeHeight":e=parseFloat(f);f=this.mFloatMap;f.h.hasOwnProperty("relativeHeight")&&E.remove(f.mKeys,"relativeHeight");f.h.relativeHeight=e;
f.mKeys.push("relativeHeight");this.mFloatMap.remove("height");break;case "relativeWidth":e=parseFloat(f);f=this.mFloatMap;f.h.hasOwnProperty("relativeWidth")&&E.remove(f.mKeys,"relativeWidth");f.h.relativeWidth=e;f.mKeys.push("relativeWidth");this.mFloatMap.remove("width");break;case "relativeX":e=parseFloat(f);f=this.mFloatMap;f.h.hasOwnProperty("relativeX")&&E.remove(f.mKeys,"relativeX");f.h.relativeX=e;f.mKeys.push("relativeX");this.mFloatMap.remove("x");break;case "relativeY":e=parseFloat(f);
f=this.mFloatMap;f.h.hasOwnProperty("relativeY")&&E.remove(f.mKeys,"relativeY");f.h.relativeY=e;f.mKeys.push("relativeY");this.mFloatMap.remove("y");break;case "unless":this.unlessCondition=f;break;case "width":-1==f.indexOf("%")?(e=parseFloat(f),f=this.mFloatMap,f.h.hasOwnProperty("width")&&E.remove(f.mKeys,"width"),f.h.width=e,f.mKeys.push("width"),this.mFloatMap.remove("relativeWidth")):(e=parseFloat(ka.replace(f,"%",""))/100,f=this.mFloatMap,f.h.hasOwnProperty("relativeWidth")&&E.remove(f.mKeys,
"relativeWidth"),f.h.relativeWidth=e,f.mKeys.push("relativeWidth"));break;case "x":-1==f.indexOf("%")?(e=parseFloat(f),f=this.mFloatMap,f.h.hasOwnProperty("x")&&E.remove(f.mKeys,"x"),f.h.x=e,f.mKeys.push("x"),this.mFloatMap.remove("relativeX")):(e=parseFloat(ka.replace(f,"%",""))/100,f=this.mFloatMap,f.h.hasOwnProperty("relativeX")&&E.remove(f.mKeys,"relativeX"),f.h.relativeX=e,f.mKeys.push("relativeX"));break;case "y":-1==f.indexOf("%")?(e=parseFloat(f),f=this.mFloatMap,f.h.hasOwnProperty("y")&&
E.remove(f.mKeys,"y"),f.h.y=e,f.mKeys.push("y"),this.mFloatMap.remove("relativeY")):(e=parseFloat(ka.replace(f,"%",""))/100,f=this.mFloatMap,f.h.hasOwnProperty("relativeY")&&E.remove(f.mKeys,"relativeY"),f.h.relativeY=e,f.mKeys.push("relativeY"));break;default:"true"==f?(f=this.mBoolMap,f.h.hasOwnProperty(e)&&E.remove(f.mKeys,e),f.h[e]=!0,f.mKeys.push(e)):"false"==f?(f=this.mBoolMap,f.h.hasOwnProperty(e)&&E.remove(f.mKeys,e),f.h[e]=!1,f.mKeys.push(e)):0==f.indexOf("0x")?(f=R.parseInt(f),b=this.mUIntMap,
b.h.hasOwnProperty(e)&&E.remove(b.mKeys,e),b.h[e]=f,b.mKeys.push(e)):(b=parseFloat(f),isNaN(b)?(b=this.mStringMap,b.h.hasOwnProperty(e)&&E.remove(b.mKeys,e),b.h[e]=f,b.mKeys.push(e)):(f=this.mFloatMap,f.h.hasOwnProperty(e)&&E.remove(f.mKeys,e),f.h[e]=b,f.mKeys.push(e)))}for(a=a.elements();a.hasNext();){e=a.next();c=!1;f=qa.create(this.context).fromXML(e);if(null!=f.ifCondition){switch(f.ifCondition){case "ads":e=!0;break;case "famobi":e=!0;break;case "final":e=!0;break;case "firebase":e=ba.instance.allow;
break;case "locaSupported":e=N.supported;break;case "payment":e=u.get_instance().get_payment().allow;break;case "rewarded":e=u.get_instance().get_ads().allowRewarded;break;case "web":e=!0;break;default:e=!1}e=!e}else e=!1;if(e)b=!0;else if(null!=f.unlessCondition)switch(f.unlessCondition){case "ads":b=!0;break;case "famobi":b=!0;break;case "final":b=!0;break;case "firebase":b=ba.instance.allow;break;case "locaSupported":b=N.supported;break;case "payment":b=u.get_instance().get_payment().allow;break;
case "rewarded":b=u.get_instance().get_ads().allowRewarded;break;case "web":b=!0;break;default:b=!1}else b=!1;if(!b){if(null!=f.get_name())for(e=0,b=this.children;e<b.length;){var g=b[e];++e;if(g.get_name()==f.get_name()){f.applyToTemplate(g);c=!0;f.clear();qa.sPool.push(f);break}}c||this.children.push(f)}}},createInstance:function(){if(null!=this.ifCondition){switch(this.ifCondition){case "ads":var a=!0;break;case "famobi":a=!0;break;case "final":a=!0;break;case "firebase":a=ba.instance.allow;break;
case "locaSupported":a=N.supported;break;case "payment":a=u.get_instance().get_payment().allow;break;case "rewarded":a=u.get_instance().get_ads().allowRewarded;break;case "web":a=!0;break;default:a=!1}a=!a}else a=!1;if(a)a=!0;else if(null!=this.unlessCondition)switch(this.unlessCondition){case "ads":a=!0;break;case "famobi":a=!0;break;case "final":a=!0;break;case "firebase":a=ba.instance.allow;break;case "locaSupported":a=N.supported;break;case "payment":a=u.get_instance().get_payment().allow;break;
case "rewarded":a=u.get_instance().get_ads().allowRewarded;break;case "web":a=!0;break;default:a=!1}else a=!1;if(a)return null;a=qa.sElementClassMap.h.hasOwnProperty(this.type)?Ca.createInstance(qa.sElementClassMap.h[this.type],[this.context]):new ca;null!=a&&this.applyTo(a);return a},applyTo:function(a){if(null!=a){for(var b=0,c=this.children;b<c.length;){var e=c[b];++b;switch(e.type){case "animation":a.addAnimation(Ma.createAnimation(e.mStringMap.h.animation,e));break;case "emitter":null==a.preParticleEmitter&&
(a.preParticleEmitter=new Zi);var f=a.preParticleEmitter.desc;null!=f&&f.fromTemplate(e);f=e.mFloatMap.h.numParticlesPerSecond;a.preParticleEmitter.numParticlesPerSecond=(null==f?0:f)|0;f=e.mBoolMap.h.hasOwnProperty("active")?e.mBoolMap.h.active:!0;a.preParticleEmitter.active=f;break;case "state":break;default:f=null!=a.children&&null!=e.get_name()?a.getChildByName(e.get_name()):null,null!=f?e.applyTo(f):(e=e.createInstance(),null!=e&&a.addChild(e))}}for(b=this.mStringMap.keys();b.hasNext();)c=b.next(),
a.applyStringAttribute(c,this.mStringMap.h[c]);for(b=this.mBoolMap.keys();b.hasNext();)c=b.next(),a.applyBoolAttribute(c,this.mBoolMap.h[c]);for(b=this.mFloatMap.keys();b.hasNext();)c=b.next(),a.applyFloatAttribute(c,this.mFloatMap.h[c]);for(b=this.mUIntMap.keys();b.hasNext();)c=b.next(),a.applyUIntAttribute(c,this.mUIntMap.h[c]);b=0;for(c=this.children;b<c.length;)if(e=c[b],++b,"state"==e.type){if(null!=e.ifCondition){switch(e.ifCondition){case "ads":f=!0;break;case "famobi":f=!0;break;case "final":f=
!0;break;case "firebase":f=ba.instance.allow;break;case "locaSupported":f=N.supported;break;case "payment":f=u.get_instance().get_payment().allow;break;case "rewarded":f=u.get_instance().get_ads().allowRewarded;break;case "web":f=!0;break;default:f=!1}f=!f}else f=!1;if(f)f=!0;else if(null!=e.unlessCondition)switch(e.unlessCondition){case "ads":f=!0;break;case "famobi":f=!0;break;case "final":f=!0;break;case "firebase":f=ba.instance.allow;break;case "locaSupported":f=N.supported;break;case "payment":f=
u.get_instance().get_payment().allow;break;case "rewarded":f=u.get_instance().get_ads().allowRewarded;break;case "web":f=!0;break;default:f=!1}else f=!1;f||a.addState(e.clone())}if(null!=this.ifCondition){switch(this.ifCondition){case "ads":f=!0;break;case "famobi":f=!0;break;case "final":f=!0;break;case "firebase":f=ba.instance.allow;break;case "locaSupported":f=N.supported;break;case "payment":f=u.get_instance().get_payment().allow;break;case "rewarded":f=u.get_instance().get_ads().allowRewarded;
break;case "web":f=!0;break;default:f=!1}f=!f}else f=!1;if(f)f=!0;else if(null!=this.unlessCondition)switch(this.unlessCondition){case "ads":f=!0;break;case "famobi":f=!0;break;case "final":f=!0;break;case "firebase":f=ba.instance.allow;break;case "locaSupported":f=N.supported;break;case "payment":f=u.get_instance().get_payment().allow;break;case "rewarded":f=u.get_instance().get_ads().allowRewarded;break;case "web":f=!0;break;default:f=!1}else f=!1;f&&Tc.dispose(a);a.invalidate()}},applyToTemplate:function(a){null==
a.type&&(a.type=this.type);null!=this.ifCondition&&(a.ifCondition=this.ifCondition);null!=this.unlessCondition&&(a.unlessCondition=this.unlessCondition);for(var b=this.mStringMap.keys();b.hasNext();){var c=b.next(),e=this.mStringMap.h[c],f=a.mStringMap;f.h.hasOwnProperty(c)&&E.remove(f.mKeys,c);f.h[c]=e;f.mKeys.push(c)}for(b=this.mBoolMap.keys();b.hasNext();)c=b.next(),e=this.mBoolMap.h[c],f=a.mBoolMap,f.h.hasOwnProperty(c)&&E.remove(f.mKeys,c),f.h[c]=e,f.mKeys.push(c);for(b=this.mFloatMap.keys();b.hasNext();)c=
b.next(),e=this.mFloatMap.h[c],f=a.mFloatMap,f.h.hasOwnProperty(c)&&E.remove(f.mKeys,c),f.h[c]=e,f.mKeys.push(c);for(b=this.mUIntMap.keys();b.hasNext();)c=b.next(),e=this.mUIntMap.h[c],f=a.mUIntMap,f.h.hasOwnProperty(c)&&E.remove(f.mKeys,c),f.h[c]=e,f.mKeys.push(c);b=0;for(c=this.children;b<c.length;)a.children.push(c[b++].clone())},clone:function(){var a=qa.create(this.context);this.applyToTemplate(a);return a},clear:function(){this.unlessCondition=this.ifCondition=this.type=this.id=null;var a=this.mStringMap;
a.h={};a.mKeys=[];a=this.mBoolMap;a.h={};a.mKeys=[];a=this.mUIntMap;a.h={};a.mKeys=[];a=this.mFloatMap;a.h={};for(a.mKeys=[];0<this.children.length;)a=this.children.pop(),a.clear(),qa.sPool.push(a)},dispose:function(){this.mFloatMap=this.mUIntMap=this.mBoolMap=this.mStringMap=this.unlessCondition=this.ifCondition=this.type=this.id=this.context=null;var a=this.children;if(null!=a)for(;0<a.length;)a.pop().dispose();this.children=null;H.prototype.dispose.call(this)},__class__:qa,__properties__:{get_name:"get_name"}});
var Jk=function(a,b){this.mXEventListener=this.lastElement=this.currentElement=null;this.name=a;var d=null!=b.parent?b.parent.resultMatrix[0]:1,e=null!=b.parent?b.parent.resultMatrix[4]:1;a=this.xdo=b.clone();a.scaleX!=d&&a.invalidate();a.scaleX=d;a=this.xdo;a.scaleY!=e&&a.invalidate();a.scaleY=e;this.xdo.addAnimation(new df(null));a=g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen];a.x=0;a.y=0;b=a.multiplyMatrix(b.resultMatrix);a=this.xdo;d=b.x;a.x!=d&&a.invalidate();a.x=d;a=this.xdo;d=b.y;a.y!=d&&a.invalidate();
a.y=d;this.xdo.dragable=!1;a=this.xdo;"left"!=a.halign&&a.invalidate();a.halign="left";a=this.xdo;"top"!=a.valign&&a.invalidate();a.valign="top";y.instance.get_foreground().addChild(this.xdo);y.instance.dispatchSimpleXEvent("DRAG_EVENT",this);q.window.set_cursor(Gc.CROSSHAIR);this.registerXEventListener(S.get_instance(),"MOVE_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"DOWN_EVENT",c(this,this.onTouchEvent));this.registerXEventListener(S.get_instance(),"UP_EVENT",
c(this,this.onTouchEvent))};f["system.gfx.ui.utils.XDragOperation"]=Jk;Jk.__name__="system.gfx.ui.utils.XDragOperation";Jk.__super__=H;Jk.prototype=k(H.prototype,{onTouchEvent:function(a){switch(a.type){case "MOVE_EVENT":var b=this.xdo,c=a.x*y.getScreenScaleX()-this.xdo.resultHeight/2;b.x!=c&&b.invalidate();b.x=c;b=this.xdo;c=a.y*y.getScreenScaleY()-this.xdo.resultWidth/2;b.y!=c&&b.invalidate();b.y=c;break;case "UP_EVENT":null!=y.forceElements&&-1==y.forceElements.indexOf(y.sLastElement)||this.drop()}this.currentElement!=
y.sLastElement&&"UP_EVENT"!=a.type&&(this.lastElement=this.currentElement,this.currentElement=y.sLastElement,y.instance.dispatchSimpleXEvent("DRAG_OVER_EVENT",this))},drop:function(){this.target=y.sLastElement;this.dispatchSimpleXEvent("DROP_EVENT",this);y.instance.dispatchSimpleXEvent("DROP_EVENT",this);this.dispose()},dispose:function(){this.lastElement=this.currentElement=this.target=this.name=null;var a=this.xdo;null!=a&&a.dispose();this.xdo=null;q.window.set_cursor(Gc.DEFAULT);H.prototype.dispose.call(this)},
__class__:Jk});var mf=function(a){this.mFinished=!1;this.resultAlpha=1;this.resultColorOffset=0;this.resultMatrix=Ba._new();this.c2=0;this.c1=1;this.angle=this.delay=this.c0=0;this.scale=this.alpha=1;this.middle=null;this.pos=new g(0,0);this.duration=1;this.mXEventListener=null;this.mParams=a;this.mStartTime=C.timer;if(Object.prototype.hasOwnProperty.call(a,"pos")){var b=this.pos,c=a.pos;b.x=c.x;b.y=c.y;b.w=c.w}Object.prototype.hasOwnProperty.call(a,"scale")&&(this.scale=a.scale);Object.prototype.hasOwnProperty.call(a,
"duration")&&(this.duration=a.duration);Object.prototype.hasOwnProperty.call(a,"bezier")&&(this.bezier=a.bezier,null!=this.bezier.pos&&(b=new g,c=this.bezier.pos,b.x=c.x,b.y=c.y,b.w=c.w,this.bezier.pos=b));Object.prototype.hasOwnProperty.call(a,"middle")&&(b=new g,c=a.middle,b.x=c.x,b.y=c.y,b.w=c.w,this.middle=b);Object.prototype.hasOwnProperty.call(a,"alpha")&&(this.alpha=a.alpha);Object.prototype.hasOwnProperty.call(a,"angle")&&(this.angle=a.angle);Object.prototype.hasOwnProperty.call(a,"delay")&&
(this.delay=a.delay)};f["system.gfx.ui.utils.XTween"]=mf;mf.__name__="system.gfx.ui.utils.XTween";mf.__super__=H;mf.prototype=k(H.prototype,{start:function(){this.mStartTime=C.timer},calc:function(a,b){var c=0==this.duration?1:Math.min(Math.max(0,C.timer-this.mStartTime-this.delay)/this.duration,1);Ba.makeIdentity(this.resultMatrix);if(null!=b){var f=this.c2*c*c+this.c1*c+this.c0;this.resultAlpha=this.alpha*(1-f)+b.alpha*f;var h=null!=this.bezier&&null!=this.bezier.angle?ia.fBezier(this.angle,this.bezier.angle,
b.angle,f):this.angle*(1-f)+b.angle*f;0!=h&&Ba.rotate(this.resultMatrix,h);var m=null!=this.bezier&&null!=this.bezier.scale?ia.fBezier(this.scale,this.bezier.scale,b.scale,f):this.scale*(1-f)+b.scale*f;1!=m&&(h=this.resultMatrix,h[0]*=m,h[3]*=m,h[6]*=m,h[1]*=m,h[4]*=m,h[7]*=m);if(null!=this.pos&&null!=b.pos){f=null!=this.bezier&&null!=this.bezier.pos?g.BEZIER(g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],this.pos,this.bezier.pos,b.pos,f):g.LERP(g.sTempV2D[++g.sTempV2DIdx%g.sTempV2DLen],this.pos,b.pos,
f);h=this.resultMatrix;b=f.x;var k=f.y;f=h[1]+h[2]*k;m=h[2];var n=h[3]+h[5]*b,q=h[4]+h[5]*k,t=h[5],r=h[6]+h[8]*b;k=h[7]+h[8]*k;var u=h[8];h[0]+=h[2]*b;h[3]=n;h[6]=r;h[1]=f;h[4]=q;h[7]=k;h[2]=m;h[5]=t;h[8]=u}}else this.resultAlpha=this.alpha,1!=this.angle&&Ba.rotate(this.resultMatrix,this.angle),1!=this.scale&&(h=this.resultMatrix,f=b=this.scale,h[0]*=b,h[3]*=b,h[6]*=b,h[1]*=f,h[4]*=f,h[7]*=f),null!=this.pos&&(h=this.resultMatrix,f=this.pos,b=f.x,k=f.y,f=h[1]+h[2]*k,m=h[2],n=h[3]+h[5]*b,q=h[4]+h[5]*
k,t=h[5],r=h[6]+h[8]*b,k=h[7]+h[8]*k,u=h[8],h[0]+=h[2]*b,h[3]=n,h[6]=r,h[1]=f,h[4]=q,h[7]=k,h[2]=m,h[5]=t,h[8]=u);if(1<=c&&!this.mFinished){this.mFinished=!0;this.dispatchSimpleXEvent(mf.FINISHED);a.nextTween();if(Object.prototype.hasOwnProperty.call(this.mParams,"action")&&(c=this.mParams.action,null!=c))switch(c){case "BLUBB":a.blubb();break;case "DISPOSE":a.set_visible(!1);Tc.dispose(a);break;case "HIDE":a.set_visible(!1);break;case "PULSE":a.pulse();break;case "SHOW":a.set_visible(!0)}Object.prototype.hasOwnProperty.call(this.mParams,
"event")&&(a.dispatchSimpleXEvent(this.mParams.event),a.dispatchSimpleXEvent(mf.EVENT,this.mParams.event));Object.prototype.hasOwnProperty.call(this.mParams,"sound")&&(a=this.mParams.sound,e.get_instance().playUnique(a,0,1,1))}},dispose:function(){this.mParams=this.bezier=this.middle=this.resultMatrix=this.pos=null;H.prototype.dispose.call(this)},__class__:mf});var Kk=function(a,b,c){this.params=c;this.errorCode=a;this.errorMessage=b};f["system.http.RequestError"]=Kk;Kk.__name__="system.http.RequestError";
Kk.prototype={__class__:Kk};var Lk=function(a,b,c){this.data=a;this.params=b;this.url=c};f["system.http.RequestResponse"]=Lk;Lk.__name__="system.http.RequestResponse";Lk.prototype={__class__:Lk};var Of=function(){this.mStack=[];this.connected=this.keepAlive=!1;this.mXEventListener=null};f["system.http.WebSocketManager"]=Of;Of.__name__="system.http.WebSocketManager";Of.__properties__={get_instance:"get_instance"};Of.get_instance=function(){null==Of.instance&&(Of.instance=new Of);return Of.instance};
Of.__super__=H;Of.prototype=k(H.prototype,{connect:function(a){this.keepAlive=!0;this.socket=new WebSocket("wss://server.plutoniumbytes.com/ws");this.socket.onopen=c(this,this.onConnected);this.socket.onmessage=c(this,this.onMessage);this.socket.onerror=c(this,this.onError);this.socket.onclose=c(this,this.onDisconnected)},onConnected:function(a){this.connected=!0;for(this.dispatchSimpleXEvent("WebSocketManager:CONNECTED");0<this.mStack.length;)a=this.mStack.shift(),null!=this.socket&&this.socket.send(a)},
onDisconnected:function(a){var b=this;this.connected=!1;null!=this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null);this.socket=null;this.dispatchSimpleXEvent("WebSocketManager:DISCONNECTED");this.keepAlive&&(this.mReconnectTimer=Dc.delay(function(){b.mReconnectTimer=null;b.connect()},1E3))},onMessage:function(a){a="string"==typeof a.data?JSON.parse(a.data):a.data;null!=a&&this.dispatchSimpleXEvent("WebSocketManager:MESSAGE",a)},onError:function(a){},
send:function(a){"string"!=typeof a&&(a=JSON.stringify(a));this.connected?null!=this.socket&&this.socket.send(a):(null==this.socket&&null==this.mReconnectTimer&&this.connect(),this.mStack.push(a))},__class__:Of});var Sg=ra["system.http.sys.ContentKind"]={__ename__:"system.http.sys.ContentKind",__constructs__:null,XML:{_hx_name:"XML",_hx_index:0,__enum__:"system.http.sys.ContentKind",toString:r},JSON:{_hx_name:"JSON",_hx_index:1,__enum__:"system.http.sys.ContentKind",toString:r},IMAGE:{_hx_name:"IMAGE",
_hx_index:2,__enum__:"system.http.sys.ContentKind",toString:r},TEXT:{_hx_name:"TEXT",_hx_index:3,__enum__:"system.http.sys.ContentKind",toString:r},BYTES:{_hx_name:"BYTES",_hx_index:4,__enum__:"system.http.sys.ContentKind",toString:r}};Sg.__constructs__=[Sg.XML,Sg.JSON,Sg.IMAGE,Sg.TEXT,Sg.BYTES];var xe=function(){};f["system.http.sys.AsyncHttp"]=xe;xe.__name__="system.http.sys.AsyncHttp";xe.determineContentKind=function(a){for(var b=Sg.BYTES,c=0,e=xe.CONTENT_KIND_MATCHES;c<e.length;){var f=e[c];++c;
if(f.regex.match(a)){b=f.kind;break}}return b};xe.determineIsBinary=function(a){return a==Sg.BYTES||a==Sg.IMAGE?!0:!1};xe.prototype={send:function(a){if(a.get_finalised())throw a.get_fingerprint(),T.thrown("AsyncHttp Error:Unable to send the request:it was already sent before\nTo send it again you have to clone it before.");a.finalise();this.httpViaHaxeHttp(a)},httpViaHaxeHttp:function(a){var b=this;if(null!=a){var c=(new Date).getTime()/1E3,e=a.get_url(),f=0,g=new Tg,h=null,m=new gh(e.toString());
m.async=a.get_async();for(var k=a.get_headers().keys();k.hasNext();){var n=k.next();m.setHeader(n,a.get_headers().get(n));g.add(n,a.get_headers().get(n))}null!=a.get_content()&&m.setPostData(R.string(a.get_content()));var q=!1;m.onError=function(d){d="Request failed -> "+d;a.get_fingerprint();var l=b.elapsedTime(c),m=d;null==d&&(m="");g.finalise();d=new Cj(a,l,e,g,f,h,m);null==a.get_callbackError()||d.get_isOK()?null!=a.get_callback()&&a.get_callback()(d):a.get_callbackError()(d)};m.onData=function(d){q||
(f=200);var l=b.elapsedTime(c);h=Wa.ofString(d);a.get_method();a.get_url();a.get_fingerprint();g.finalise();d=new Cj(a,l,e,g,f,h,"");null==a.get_callbackError()||d.get_isOK()?null!=a.get_callback()&&a.get_callback()(d):a.get_callbackError()(d)};m.onStatus=function(b){f=b;a.get_fingerprint();q=!0};m.request(null!=a.get_content())}},elapsedTime:function(a){return(1E3*((new Date).getTime()/1E3-a)|0)/1E3},randomUID:function(a){null==a&&(a=32);for(var b=xe.UID_CHARS.length,c="",e=0;e<a;){e++;var f=E.cca(xe.UID_CHARS,
R.random(b));c+=String.fromCodePoint(f)}return c},__class__:xe};var Tg=function(a){this._finalised=!1;this._headers=new cb;if(null!=a)if(a instanceof Tg){a=V.__cast(a,Tg);for(var b=a.keys();b.hasNext();){var c=b.next();this.add(c,a.get(c))}}else{c=0;for(var e=w.fields(a);c<e.length;)b=e[c],++c,this.add(b,w.getProperty(a,b))}};f["system.http.sys.HttpHeaders"]=Tg;Tg.__name__="system.http.sys.HttpHeaders";Tg.prototype={clone:function(){return new Tg(this)},finalise:function(){this._finalised=!0},keys:function(){return new xg(this._headers.h)},
exists:function(a){return Object.prototype.hasOwnProperty.call(this._headers.h,a)},get:function(a){return Object.prototype.hasOwnProperty.call(this._headers.h,a)?this._headers.h[a]:""},add:function(a,b){if(this._finalised)return this;this._headers.h[a]=b;return this},__class__:Tg};var Yk=function(){};f["system.http.sys.HttpMethod"]=Yk;Yk.__name__="system.http.sys.HttpMethod";Yk.validate=function(a){null==a&&(a="GET");return a.toUpperCase()};var nk=function(a){this._callback=this._callbackError=this._callbackProgress=
null;this._contentIsBinary=!1;this._contentType="application/x-www-form-urlencoded";this._content=null;this._method="GET";this._url=null;this._async=this._http11=!0;this._timeout=10;this._headers=new Tg;this._finalised=!1;this._fingerprint=(new xe).randomUID(8);null!=a&&(null!=a.async&&this.set_async(a.async),null!=a.http11&&this.set_http11(a.http11),null!=a.url&&this.set_url(a.url),null!=a.callback&&this.set_callback(a.callback),null!=a.callbackProgress&&this.set_callbackProgress(a.callbackProgress),
null!=a.callbackError&&this.set_callbackError(a.callbackError),null!=a.headers&&(this._headers=a.headers.clone()),null!=a.timeout&&this.set_timeout(a.timeout),null!=a.method&&this.set_method(a.method),null!=a.content&&this.set_content(a.content),null!=a.contentType&&this.set_contentType(a.contentType),null!=a.contentIsBinary&&this.set_contentIsBinary(a.contentIsBinary))};f["system.http.sys.HttpRequest"]=nk;nk.__name__="system.http.sys.HttpRequest";nk.prototype={get_finalised:function(){return this._finalised},
finalise:function(){this._headers.finalise();this._finalised=!0},send:function(){(new xe).send(this)},get_fingerprint:function(){return this._fingerprint},get_headers:function(){return this._headers},set_timeout:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.timeout -> Can't modify a property when the instance is already sent");1>a&&(a=1);return this._timeout=a},get_async:function(){return this._async},set_async:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.async -> Can't modify a property when the instance is already sent");
return this._async=a},set_http11:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.http11 -> Can't modify a property when the instance is already sent");return this._http11=a},get_url:function(){return this._url},set_url:function(a){switch(V.getClass(a).__name__){case "String":a=new ok(a);break;case "URL":case "com.akifox.asynchttp.URL":a=a.clone();break;default:a=!0;null==a&&(a=!1);if(a)throw T.thrown("AsyncHttp Error:HttpRequest.url -> Please specify an URL Object or a String");
return this._url}if(this._finalised){a=!0;null==a&&(a=!1);if(a)throw T.thrown("AsyncHttp Error:HttpRequest.url -> Can't modify a property when the instance is already sent");return this._url}return this._url=a},get_method:function(){return this._method},set_method:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.method -> Can't modify a property when the instance is already sent");return this._method=a=Yk.validate(a)},get_content:function(){return this._content},set_content:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.content -> Can't modify a property when the instance is already sent");
return this._content=a},set_contentType:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.contentType -> Can't modify a property when the instance is already sent");null==a&&(a="application/x-www-form-urlencoded");this._contentIsBinary=xe.determineIsBinary(xe.determineContentKind(a));return this._contentType=a},set_contentIsBinary:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.contentIsBinary -> Can't modify a property when the instance is already sent");
return this._contentIsBinary=a},get_callback:function(){return this._callback},set_callback:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.callback -> Can't modify a property when the instance is already sent");return this._callback=a},get_callbackError:function(){return this._callbackError},set_callbackError:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.callbackError -> Can't modify a property when the instance is already sent");return this._callbackError=
a},set_callbackProgress:function(a){if(this._finalised)throw T.thrown("AsyncHttp Error:HttpRequest.callbackProgress -> Can't modify a property when the instance is already sent");return this._callbackProgress=a},__class__:nk,__properties__:{set_callbackProgress:"set_callbackProgress",set_callbackError:"set_callbackError",get_callbackError:"get_callbackError",set_callback:"set_callback",get_callback:"get_callback",set_contentIsBinary:"set_contentIsBinary",set_contentType:"set_contentType",set_content:"set_content",
get_content:"get_content",set_method:"set_method",get_method:"get_method",set_url:"set_url",get_url:"get_url",set_http11:"set_http11",set_async:"set_async",get_async:"get_async",set_timeout:"set_timeout",get_headers:"get_headers",get_fingerprint:"get_fingerprint",get_finalised:"get_finalised"}};var Cj=function(a,b,c,e,f,g,h){this._error=null;this._request=a;this._time=b;this._url=c;this._status=f;this._isOK=200<=this._status&&400>this._status;this._headers=e;this._error=h;this._isOK||0==this._status||
(this._error=Cj._httpStatus.h[this._status]);this._headers.exists("content-type")?this._contentType=this._headers.get("content-type"):this._contentType="text/plain";this._contentKind=xe.determineContentKind(this._contentType);this._contentIsBinary=xe.determineIsBinary(this._contentKind);this._contentRaw=g;this._content=this._contentIsBinary?this._contentRaw:this.toText();this._contentLength=0;this._headers.exists("content-length")?this._contentLength=R.parseInt(this._headers.get("content-length")):
null!=g&&(this._contentLength=this._content.length)};f["system.http.sys.HttpResponse"]=Cj;Cj.__name__="system.http.sys.HttpResponse";Cj.prototype={toText:function(){var a=null;try{a=R.string(this._contentRaw)}catch(b){T.caught(b).unwrap(),this._request.get_fingerprint()}return a},get_status:function(){return this._status},get_content:function(){return this._content},get_isOK:function(){return this._isOK},get_error:function(){return this._error},__class__:Cj,__properties__:{get_error:"get_error",get_isOK:"get_isOK",
get_content:"get_content",get_status:"get_status"}};var ok=function(a){this._protocol=this._host=this._port=this._resource=this._querystring="";this.regexURL=new Ka("^([a-z]+:|)(//[^/\\?:]+|)(:\\d+|)([^\\?]*|)(\\?.*|)","i");this._urlString=a;this.regexURL.match(a)&&(this._protocol=E.substr(this.regexURL.matched(1),0,-1),null==this._protocol&&(this._protocol=""),this._host=E.substr(this.regexURL.matched(2),2,null),null==this._host&&(this._host=""),this._port=this.regexURL.matched(3),null==this._port&&
(this._port=""),this._resource=this.regexURL.matched(4),null==this._resource&&(this._resource=""),this._querystring=this.regexURL.matched(5),null==this._querystring&&(this._querystring=""))};f["system.http.sys.URL"]=ok;ok.__name__="system.http.sys.URL";ok.prototype={toString:function(){return""+this.get_protocol()+this._host+this._port+this._resource+this._querystring},get_protocol:function(){return""!=this._protocol?""+this._protocol+"://":""},__class__:ok,__properties__:{get_protocol:"get_protocol"}};
var Vd=function(){};f["system.utils.Device"]=Vd;Vd.__name__="system.utils.Device";Vd.isMobileBrowser=function(){if(null==Vd.sMobileBrowser)switch(Vd.getBrowserType()._hx_index){case 2:case 3:case 4:Vd.sMobileBrowser=!0;break;default:Vd.sMobileBrowser=!1}return Vd.sMobileBrowser};Vd.getBrowserType=function(){var a=v.navigator.userAgent;return null!=a?0<=a.indexOf("Opera")||0<=a.indexOf("OPR")?of.OPERA_MOBILE:0<=a.indexOf("Android")||0<=a.indexOf("BlackBerry")||0<=a.indexOf("IEMobile")?of.ANDROID:0<=
a.indexOf("iPhone")||0<=a.indexOf("iPad")||0<=a.indexOf("iPod")?of.IOS:of.DESKTOP:of.UNKNOWN};Vd.isMobileApp=function(){return!1};Vd.isMobile=function(){return Vd.isMobileApp()?!0:Vd.isMobileBrowser()};var N=function(){};f["system.loca.Loca"]=N;N.__name__="system.loca.Loca";N.__properties__={get_currentLocale:"get_currentLocale"};N.initLang=function(a,b){null==a&&(a="de-DE");return Xa.create(function(c,e){e=N.mapLocale(a);N.sLangMap=new Sa;N.language=e;ua.loadText("lang/lang-"+e+".txt").onComplete(function(a){a=
a.split("|");for(var d=a.length>>>1,e=0;e<d;){var f=e++,g=a[2*f];f=a[2*f+1];f=ka.replace(f,"\\n","\n");var h=N.sLangMap;h.h.hasOwnProperty(g)&&E.remove(h.mKeys,g);h.h[g]=f;h.mKeys.push(g)}N.dispatcher.dispatchSimpleXEvent(N.NEW_LANGUAGE);null!=b&&b();c(N.language)})})};N.get_currentLocale=function(){return Gg.get_currentLocale()};N.getSupportedLocale=function(a){if(null!=a)switch(a.toLowerCase()){case "de":case "de-at":case "de-ch":case "de-de":case "de-li":case "de-lu":case "de_at":case "de_ch":case "de_de":case "de_li":case "de_lu":return"de-DE";
case "en":case "en-au":case "en-bz":case "en-ca":case "en-gb":case "en-ie":case "en-jm":case "en-nz":case "en-tt":case "en-us":case "en-za":case "en_au":case "en_bz":case "en_ca":case "en_gb":case "en_ie":case "en_jm":case "en_nz":case "en_tt":case "en_us":case "en_za":return"en-US";case "fr":case "fr-be":case "fr-ch":case "fr-fr":case "fr-li":case "fr-lu":case "fr_be":case "fr_ch":case "fr_fr":case "fr_li":case "fr_lu":return"fr-FR";default:if(0==a.indexOf("de"))return"de-DE";if(0==a.indexOf("fr"))return"fr-FR";
if(0==a.indexOf("ru"))return"ru-RU";if(0==a.indexOf("uk"))return"uk-UA";if(0==a.indexOf("tr"))return"tr-TR"}return null};N.mapLocale=function(a){N.supported=!0;a=cg.getValue("lang",a);a=N.getSupportedLocale(a);if(null!=a)return a;N.supported=!1;return"en-US"};N.ordinal=function(a){if("en-US"==N.language)switch(a){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return N.number(a)+"th"}else return N.number(a)+"."};N.number=function(a,b){null==b&&(b=0);var c=N.translate("SID_THOUSAND_SEP"),
e=N.translate("SID_DECIMAL_SEP"),f="",g=0>a;a=Math.abs(a*Math.pow(10,b));a=Math.round(a);b=-b;do++b,f=(Math.round(ia.fmod(a,10))|0)+(2<b&&1==b%3?c:"")+f,a=Math.floor(a/10),0==b&&(f=e+f);while(0<a||1>b);g&&(f="-"+f);return f};N.percentage=function(a,b){null==b&&(b=0);return N.number(a,b)+"%"};N.replaceTimeTags=function(a,b,c,e){var d=b+b;-1!=a.indexOf(d)?a=ka.replace(a,d,ia.ndigits(c,2)):-1!=a.indexOf(b)&&(a=ka.replace(a,b,N.translate(e,[c])));return a};N.time=function(a,b){null==b&&(b="SID_COUNTDOWN_MMSS");
var c=N.translate(b);if(c==b)switch(b){case "SID_COUNTDOWN_HHMMSS":c="hh:mm:ss";break;case "SID_COUNTDOWN_MMSS":c="mm:ss"}b=c.substring(0);c=a%60|0;a=(a-c)/60;var e=a%60|0;a=(a-e)/60;var f=a%24|0;a-=f;a/=24;a|=0;var g=!0;-1==b.indexOf("D")&&-1==b.indexOf("d")&&(f+=24*a|0,g=!1);b=N.replaceTimeTags(b,"s",c,"SID_SHORT_SECOND");b=N.replaceTimeTags(b,"m",e,"SID_SHORT_MINUTE");b=N.replaceTimeTags(b,"h",f,"SID_SHORT_HOUR");g&&(b=N.replaceTimeTags(b,"d",a,"SID_SHORT_DAY"),b=N.replaceTimeTags(b,"D",a,1==a?
"SID_DAY":"SID_DAYS"));return b};N.countdown=function(a,b){return null!=b?N.time(a,b):3600>a?N.time(a,"SID_COUNTDOWN_MMSS"):N.time(a,"SID_COUNTDOWN_HHMMSS")};N.hasTranslation=function(a){a=N.sLangMap.h[a];return null!=a?""!=a:!1};N.translate=function(a,b){var c=N.sLangMap.h[null!=a?a:""];if(null==c)return a;if(null!=b)for(var e=a=0;e<b.length;){var f=b[e];++e;for(var g=N.sIdx[a++],h=0,m=N.sTags;h<m.length;){var k=m[h];++h;var n=k+g;if(-1!=c.indexOf(n))switch(k){case "_STRING":c=ka.replace(c,n,R.string(f));
break;case "_VALUE":c=ka.replace(c,n,N.number(f))}}}return c};var Mk=function(){this.bonus=1};f["system.payment.Discount"]=Mk;Mk.__name__="system.payment.Discount";Mk.prototype={isActive:function(){var a=C.get_now().getTime();return a>=this.startTime?this.endTime>=a:!1},__class__:Mk};var Bj=function(){this.packageSetupData=[];this.discount=null;this.allow=!0;this.mXEventListener=null};f["system.payment.PaymentIntegration"]=Bj;Bj.__name__="system.payment.PaymentIntegration";Bj.__super__=H;Bj.prototype=
k(H.prototype,{init:function(){},registerPackages:function(a){this.packageSetupData=a;return oa.withError(!1)},hasDiscount:function(){return null!=this.discount?this.discount.isActive():!1},setDiscount:function(a,b,c){var d=this;this.allow&&(this.discount=new Mk,this.discount.startTime=a,this.discount.endTime=this.discount.startTime+b,this.discount.bonus=c,c=this.mDiscountStartTimer,null!=c&&c.dispose(),this.mDiscountStartTimer=Dc.delay(function(){d.dispatchSimpleXEvent("PaymentManager:DISCOUNT")},
Math.round(a-C.get_now().getTime())+3),c=this.mDiscountEndTimer,null!=c&&c.dispose(),this.mDiscountEndTimer=Dc.delay(function(){d.dispatchSimpleXEvent("PaymentManager:DISCOUNT")},Math.round(a+b-C.get_now().getTime())+2),this.dispatchSimpleXEvent("PaymentManager:DISCOUNT"))},clearDiscount:function(){this.discount=null;var a=this.mDiscountStartTimer;null!=a&&a.dispose();a=this.mDiscountEndTimer;null!=a&&a.dispose();this.dispatchSimpleXEvent("PaymentManager:DISCOUNT")},packageBought:function(a){this.dispatchSimpleXEvent("PaymentManager:PACKAGE_BOUGHT",
a)},__class__:Bj});var Xj=function(){};f["system.payment.PaymentPackage"]=Xj;Xj.__name__="system.payment.PaymentPackage";Xj.createFromXsolla=function(a){var b=new Xj;b.sku=a.sku;b.title=a.title;b.description=a.description;b.imageURI=a.imageURI;b.displayPrice=R.string(a.price.amount)+" "+R.string(a.price.currency);b.priceValue=a.price.amount;b.priceCurrencyCode=a.price.currency;return b};Xj.prototype={__class__:Xj};var Yj=function(){this.mIFrame=null;this.functionName="payment-xollaToken";this.apiService=
"xolla-api";this.storeService="xolla-shop";this.projectID="143540";var a=this;Bj.call(this);this.language=(null!=N.language?E.substr(N.language,0,2):"en").toLowerCase();if(null!=u.get_instance().get_uid())for(this.alternativeId="x"+u.get_instance().get_uid().substring(0,32);32>this.alternativeId.length;)this.alternativeId+="0";cd.registerService(this.storeService,"https://store.xsolla.com/api/v2/project/"+this.projectID,function(b){var c=V.__cast(b.headers,Tg);null!=c&&(c.add("Authorization",a.bearerToken),
c.add("Accept-Language",""+a.language+", en;q=0.1"));return b});cd.registerService(this.apiService,"https://secure.xsolla.com/api/v2/project/"+this.projectID);window.addEventListener("message",c(this,this.onWindowMessage))};f["system.payment.XsollaPayment"]=Yj;Yj.__name__="system.payment.XsollaPayment";Yj.__super__=Bj;Yj.prototype=k(Bj.prototype,{onWindowMessage:function(a){if(null!=a.data){var b=a.origin;b=-1!=(null!=b?b.indexOf("xsolla"):null)}else b=!1;if(b)switch(a="string"==typeof a.data?JSON.parse(a.data):
a.data,b=a.data,a.command){case "change-status":"done"==b.value&&u.get_instance().get_tracking().payment(this.skuToBuy,{currency:b.purchase_currency,amount:b.purchase_sum,country:b.payment_country});break;case "open-status-success":b.sku=this.skuToBuy,this.packageBought(b)}},getList:function(){var a=new Xa;this.callRequest(this.storeService,"items/virtual_currency/package?locale="+this.language,null,function(b){a.complete(b.data.items.map(function(a){return Xj.createFromXsolla(a)}))},null,"GET");
return a.future},buy:function(a,b){var c=this;this.skuToBuy=a;var e={language:this.language,packageId:a};ba.instance.signedIn||(e.uid=this.alternativeId);null!=u.get_instance().get_affiliateId()&&(e.aid=u.get_instance().get_affiliateId());null!=b&&0<b.bonus&&(e.bonus=b.bonus);var f=y.instance;e=cd.call("firebase",this.functionName,e);var g=function(d){c.bearerToken="Bearer "+R.string(d.data.token);d=Vd.isMobileBrowser()||1.2<y.SCREEN_HEIGHT/y.SCREEN_WIDTH||700>y.SCREEN_WIDTH;c.callRequest(c.storeService,
"payment/item/"+a,{sandbox:!1,settings:{ui:{size:d?"small":"large",theme:"default",version:d?"mobile":"desktop",desktop:{header:{is_visible:!0,visible_logo:!0,visible_name:!0,visible_purchase:!0,type:"normal",close_button:!1}},mobile:{footer:{is_visible:!0},header:{close_button:!1}}}}},function(a){c.openPayment(a.data.token,b)},null,"GET")},h=y.instance.get_foreground().addChild(qa.createInstanceFromString(ca.sIndicatorTemplateString,y.instance.get_foreground().context));f.register(h);f.register(e.onComplete(function(a){null!=
g&&g(a);null!=h&&h.dispose()}).onError(function(a){null!=h&&h.dispose()}));return oa.withValue({})},openPayment:function(a,b){var c=this;if(Vd.isMobileBrowser()||!q.instance.landscape){if(null==this.mIFrame){this.mIFrame=window.document.createElement("iframe");this.mIFrame.src="https://secure.xsolla.com/paystation4/?token="+a;this.mIFrame.style.width="100%";this.mIFrame.style.height="100%";this.mIFrame.style.position="fixed";this.mIFrame.style.top="0px";this.mIFrame.style.left="0px";this.mIFrame.style.zIndex=
"1000";this.mIFrame.style.border="none";this.mIFrame.style.background="transparent";window.document.body.appendChild(this.mIFrame);var e=window.document.createElement("div");e.innerText="X";e.onclick=function(a){c.mIFrame.remove();c.mIFrame=null;e.remove()};e.style.position="absolute";e.style.top="10px";e.style.right="15px";e.style.width="30px";e.style.height="30px";e.style.border="none";e.style.cursor="pointer";e.style.zIndex="1001";e.style.display="flex";e.style.justifyContent="center";e.style.alignItems=
"center";e.style.fontWeight="bold";e.style.fontSize="20px";e.style.fontFamily="Arial";window.document.body.appendChild(e)}}else this.openPaymentWidget(a,b)},openPaymentWidget:function(a,b){var d=this,e={access_token:a};this.script=window.document.createElement("script");this.script.type="text/javascript";this.script.async=!0;this.script.src="//cdn.xsolla.net/embed/paystation/1.2.9/widget.min.js";this.script.addEventListener("load",function(a){XPayStationWidget.init(e);XPayStationWidget.on(XPayStationWidget.eventTypes.STATUS,
c(d,d.onWidgetStatus));XPayStationWidget.on(XPayStationWidget.eventTypes.LOAD,c(d,d.onWidgetLoaded));XPayStationWidget.on(XPayStationWidget.eventTypes.OPEN,c(d,d.onWidgetOpened));XPayStationWidget.on(XPayStationWidget.eventTypes.CLOSE,c(d,d.onWidgetClosed));XPayStationWidget.on([XPayStationWidget.eventTypes.STATUS_INVOICE,XPayStationWidget.eventTypes.STATUS_DELIVERING,XPayStationWidget.eventTypes.STATUS_DONE,XPayStationWidget.eventTypes.STATUS_TROUBLED].join(" "),function(){console.log("split status event",
arguments)});XPayStationWidget.open()},!1);window.document.head.appendChild(this.script)},onWidgetStatus:function(a,b){},onWidgetLoaded:function(a){this.dispatchSimpleXEvent("CHECKOUT_OPEN")},onWidgetOpened:function(a){},onWidgetClosed:function(a){null!=this.script&&(window.document.head.appendChild(this.script),this.script=null);this.dispatchSimpleXEvent("CHECKOUT_OPEN")},__class__:Yj});var ye=function(){};f["system.pool.Pool"]=ye;ye.__name__="system.pool.Pool";var qk=function(a){this.type=void 0;
this.type=a};f["system.profile.XResourceEvent"]=qk;qk.__name__="system.profile.XResourceEvent";qk.__super__=ja;qk.prototype=k(ja.prototype,{__class__:qk});var ak=function(){this.state="default";this.requirements=[];this.mXEventListener=null};f["system.profile.achievements.Achievement"]=ak;ak.__name__="system.profile.achievements.Achievement";ak.__super__=H;ak.prototype=k(H.prototype,{checkState:function(){for(var a=0,b=this.requirements;a<b.length;){var c=b[a++];c=u.get_instance().get_player().achievements.getAchievement(c);
if(null==c||!c.get_solved())return this.set_state("locked"),!1}this.set_state("default");return!0},set_state:function(a){switch(a){case "fetchable":"fetched"!=this.state&&(this.state=a);break;case "fetched":this.state=a;break;case "default":case "locked":this.get_solved()||(this.state=a)}return this.state},get_solved:function(){return"fetchable"!=this.state?"fetched"==this.state:!0},__class__:ak,__properties__:{set_state:"set_state",get_solved:"get_solved"}});var Ej=function(){this.mDirty=!1;this.mIoObject=
{};this.achievements=new Sa;this.mXEventListener=null;C.get_instance().addTickObject(this)};f["system.profile.achievements.AchievementHandler"]=Ej;Ej.__name__="system.profile.achievements.AchievementHandler";Ej.__interfaces__=[pe];Ej.__super__=H;Ej.prototype=k(H.prototype,{getAchievement:function(a){var b=this.achievements;return null!=b?b.h[a]:null},secondlyTick:function(){if(this.mDirty){u.get_instance().get_player().storage.setEntry("achievements",this.mIoObject,!0);u.get_instance().get_player().storage.save();
this.mDirty=!1;for(var a=this.achievements.keys();a.hasNext();){var b=a.next();this.achievements.h[b].checkState()}}},__class__:Ej});var Zj=function(){this.mXEventListener=null};f["system.tracking.PlutoniumTracking"]=Zj;Zj.__name__="system.tracking.PlutoniumTracking";Zj.__super__=Gf;Zj.prototype=k(Gf.prototype,{user:function(a){var b={locale:N.get_currentLocale()};return this.event(a?"event/user":"event/user/update",b)},levelStart:function(a,b){this.event("event/level/start",b);return Gf.prototype.levelStart.call(this,
a,b)},levelEnd:function(a,b,c){this.event("event/level/end",c);return Gf.prototype.levelEnd.call(this,a,b,c)},adBlocked:function(a,b){return this.event("event/ad",{adType:"interstitial",fill:!1,blocked:!0})},event:function(a,b){var c=new Xa;(new nk({url:"https://master.tracking.html5games.com/"+a,method:"POST",content:JSON.stringify(b),contentType:"application/json",headers:new Tg({"Content-Type":"application/json","X-Version":R.string(u.get_instance().get_tracking().version),"X-Session":u.get_instance().get_tracking().session,
"X-Platform":"web","X-Game":"zoo-boom","X-User":u.get_instance().get_uid(),"X-AID":u.get_instance().get_affiliateId()}),async:!0,callback:function(a){a.get_isOK()?(a=JSON.parse(a.get_content()),c.complete(null!=a?a.data:{})):c.error({status:a.get_status(),error:a.get_error()})}})).send();return c.future},__class__:Zj});var pk=function(){this.mTracker=[];this.allow=this.enabledErrorEvents=!0;var a=this;this.mXEventListener=null;try{window.addEventListener("error",function(b){if(a.enabledErrorEvents&&
null!=b&&null!=b.error){var c=null!=b.error.stack?b.error.stack:" "+R.string(b.error.message)+" "+b.colno+":"+b.lineno;-1==c.indexOf("onServiceReady")&&-1==c.indexOf("@moz-extension")&&a.event("event/error",{name:b.error.name,message:c,url:window.location.href})}})}catch(b){}this.allow=u.get_instance().hasFeature("tracking",!0);this.version=ia.versionToInt(Da.sInstance.meta.h.version);this.newSession()};f["system.tracking.TrackingHandler"]=pk;pk.__name__="system.tracking.TrackingHandler";pk.__super__=
H;pk.prototype=k(H.prototype,{newSession:function(){this.session=ia.createGUID()},addTracking:function(a){this.mTracker.push(a)},adBlocked:function(a,b){for(var c=this.mTracker,e=Array(c.length),f=0,g=c.length;f<g;){var h=f++;e[h]=c[h].adBlocked(a,b)}return oa.wait(e)},payment:function(a,b){for(var c=this.mTracker,e=Array(c.length),f=0,g=c.length;f<g;){var h=f++;e[h]=c[h].trackPayment(a,b)}return oa.wait(e)},levelStart:function(a,b){for(var c=this.mTracker,e=Array(c.length),f=0,g=c.length;f<g;){var h=
f++;e[h]=c[h].levelStart(a,b)}return oa.wait(e)},levelEnd:function(a,b,c){for(var d=this.mTracker,e=Array(d.length),f=0,g=d.length;f<g;){var h=f++;e[h]=d[h].levelEnd(a,b,c)}return oa.wait(e)},user:function(a){for(var b=this.mTracker,c=Array(b.length),e=0,f=b.length;e<f;){var g=e++;c[g]=b[g].user(a)}return oa.wait(c)},screen:function(a){for(var b=this.mTracker,c=Array(b.length),e=0,f=b.length;e<f;){var g=e++;c[g]=b[g].screen(a)}return oa.wait(c)},customEvent:function(a,b,c){for(var d=this.mTracker,
e=Array(d.length),f=0,g=d.length;f<g;){var h=f++;e[h]=d[h].customEvent(a,b,c)}return oa.wait(e)},event:function(a,b){for(var c=this.mTracker,e=Array(c.length),f=0,g=c.length;f<g;){var h=f++;e[h]=c[h].event(a,b)}return oa.wait(e)},__class__:pk});var of=ra["system.utils.BrowserType"]={__ename__:"system.utils.BrowserType",__constructs__:null,UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:0,__enum__:"system.utils.BrowserType",toString:r},NEKO:{_hx_name:"NEKO",_hx_index:1,__enum__:"system.utils.BrowserType",toString:r},
ANDROID:{_hx_name:"ANDROID",_hx_index:2,__enum__:"system.utils.BrowserType",toString:r},IOS:{_hx_name:"IOS",_hx_index:3,__enum__:"system.utils.BrowserType",toString:r},OPERA_MOBILE:{_hx_name:"OPERA_MOBILE",_hx_index:4,__enum__:"system.utils.BrowserType",toString:r},DESKTOP:{_hx_name:"DESKTOP",_hx_index:5,__enum__:"system.utils.BrowserType",toString:r}};of.__constructs__=[of.UNKNOWN,of.NEKO,of.ANDROID,of.IOS,of.OPERA_MOBILE,of.DESKTOP];var Tc=function(){};f["system.utils.DisposeUtil"]=Tc;Tc.__name__=
"system.utils.DisposeUtil";Tc.dispose=function(a){E.remove(Tc.sToDispose,a);Tc.sToDispose.push(a)};Tc.update=function(){for(;0<Tc.sToDispose.length;)Tc.sToDispose.pop().dispose()};var cg=function(){};f["system.utils.Globals"]=cg;cg.__name__="system.utils.Globals";cg.setValue=function(a,b){cg.sValues.h[a]=b};cg.getValue=function(a,b){return Object.prototype.hasOwnProperty.call(cg.sValues.h,a)?cg.sValues.h[a]:b};var Bi=function(a,b){this.startTime=0;this.duration=.7;this.duration=a;this.startTime=C.timer;
this.cb=b;C.get_instance().addClockObject(this)};f["system.utils.TimeAction"]=Bi;Bi.__name__="system.utils.TimeAction";Bi.__interfaces__=[lg];Bi.create=function(a,b,c){a=new Bi(a,b);null!=c&&(a.registerRoot=c,a.registerRoot.register(a));return a};Bi.__super__=Fa;Bi.prototype=k(Fa.prototype,{frameTick:function(){var a=ia.fClamp((C.timer-this.startTime)/this.duration,0,1);this.cb(a);1<=a&&this.dispose()},dispose:function(){this.cb=null;null!=this.registerRoot&&(this.registerRoot.unregister(this),this.registerRoot=
null);C.get_instance().removeClockObject(this);Fa.prototype.dispose.call(this)},__class__:Bi});var Nk=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};f["system.utils._UnsafeStringMap.UnsafeStringMapIterator"]=Nk;Nk.__name__="system.utils._UnsafeStringMap.UnsafeStringMapIterator";Nk.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.h[this.keys[this.index++]]},__class__:Nk};var ia=function(){};f["system.utils.Utils"]=ia;ia.__name__="system.utils.Utils";
ia.ndigits=function(a,b){a=null==a?"null":""+a;b-=a.length;for(var c=0;c<b;)++c,a="0"+a;return a};ia.toInt=function(a){return"string"==typeof a?R.parseInt(a):a};ia.toFloat=function(a){return"string"==typeof a?parseFloat(a):a};ia.openURL=function(a,b){null==b&&(b="_blank");Yd.openURL(a,b)};ia.validMail=function(a){return ia.emailRegExp.match(a)};ia.containsURL=function(a){return ia.urlRegExp.match(a)};ia.getURL=function(a,b){null==b&&(b=0);return ia.urlRegExp.match(a)?ia.urlRegExp.matched(b):null};
ia.numEntries=function(a){var b=0;if(V.__implements(a,Qc)){a=Object.keys(V.__cast(a,cb).h).length;for(var c=0;c<a;)++c,++b}else if(a instanceof Array)for(a=V.__cast(a,Array),c=0;c<a.length;)++c,++b;return b};ia.fClamp=function(a,b,c){return a<b||isNaN(a)?b:a>c?c:a};ia.iClamp=function(a,b,c){return a<b?b:a>c?c:a};ia.nextPowerOfTwo=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;return++a};ia.fmod=function(a,b){a/=b;a-=Math.floor(a);return a*b};ia.createGUID=function(){var a,b=8;for(a=""+R.string(ia.hex(ia.fmod((new Date).getTime(),
4294967295),8));36>b++;)a+=R.string(0!=(51*b&52)?ka.hex(0!=(b^15)?8^(Math.random()*(0!=(b^20)?16:4)|0):4):"-");return a.toLowerCase()};ia.hex=function(a,b){a=Math.floor(a);var c="";do c="0123456789ABCDEF".charAt(ia.fmod(a,16)|0)+c,a=Math.floor(a/16);while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};ia.versionToInt=function(a){var b=0;a=a.split(".");for(var c=0,e=a.length-1|0;0<=e;)b+=Math.pow(1E3,c++)*R.parseInt(a[e])|0,--e;return b};ia.deltaNow=function(a){return a.getTime()-C.get_now().getTime()};
ia.startOfDay=function(a,b){null==b&&(b=0);a=a.getTime();return new Date(a-ia.fmod(a,864E5)+b)};ia.fBezier=function(a,b,c,e){var d=1-e;return a=a*d*d+2*b*e*d+c*e*e};ia.resolveClass=function(a){return null!=a?f[a]:null};var oa=function(a,b){null==b&&(b=!1);if(null!=a)if(b)b=new Xa,b.future=this,Be.queue({promise:b,work:a});else try{this.value=a(),this.isComplete=!0}catch(d){this.error=T.caught(d).unwrap(),this.isError=!0}};f["system.utils.XFuture"]=oa;oa.__name__="system.utils.XFuture";oa.__interfaces__=
[wb];oa.withError=function(a){var b=new oa;b.isError=!0;b.error=a;return b};oa.withValue=function(a){var b=new oa;b.isComplete=!0;b.value=a;return b};oa.from=function(a){var b=new Xa;a.then(function(a){return b.complete(a)},function(a){return b.error(a)});return b.future};oa.wait=function(a){var b=null!=a?a.length:0;if(0==b)return oa.withValue([]);for(var c=new Xa,e=0;e<a.length;)a[e++].onComplete(function(d){if(0==--b){d=Array(a.length);for(var e=0,f=a.length;e<f;){var g=e++;d[g]=a[g].value}c.complete(d)}}).onError(function(d){if(0==
--b){d=Array(a.length);for(var e=0,f=a.length;e<f;){var g=e++;d[g]=a[g].value}c.complete(d)}});return c.future};oa.prototype={onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},onProgress:function(a){null!=
a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},cancel:function(){this.__progressListeners=this.__errorListeners=this.__completeListeners=null},dispose:function(){this.cancel()},__class__:oa};var Be=function(){};f["system.utils._XFuture.FutureWork"]=Be;Be.__name__="system.utils._XFuture.FutureWork";Be.queue=function(a){null==Be.threadPool&&(Be.threadPool=new Hj,Be.threadPool.doWork.add(Be.threadPool_doWork),Be.threadPool.onComplete.add(Be.threadPool_onComplete),
Be.threadPool.onError.add(Be.threadPool_onError));Be.threadPool.queue(a)};Be.threadPool_doWork=function(a){try{var b=a.work();Be.threadPool.sendComplete({promise:a.promise,result:b})}catch(d){b=T.caught(d).unwrap(),Be.threadPool.sendError({promise:a.promise,error:b})}};Be.threadPool_onComplete=function(a){a.promise.complete(a.result)};Be.threadPool_onError=function(a){a.promise.error(a.error)};var Xa=function(a){null==a&&(a=!1);this.future=new oa(null,a)};f["system.utils.XPromise"]=Xa;Xa.__name__=
"system.utils.XPromise";Xa.__interfaces__=[wb];Xa.create=function(a){var b=new Xa;a(function(a){b.complete(a)},function(a){b.error(a)});return b.future};Xa.prototype={complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;)c[b++](a);this.future.__completeListeners=null}return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=
a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;)c[b++](a);this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,e=this.future.__progressListeners;c<e.length;)e[c++](a,b);return this},dispose:function(){var a=this.future;null!=a&&a.dispose();this.future=null},__class__:Xa};var Dc=function(a){this.stopped=!1;Uc.call(this,a)};f["system.utils.XTimer"]=
Dc;Dc.__name__="system.utils.XTimer";Dc.__interfaces__=[wb];Dc.delay=function(a,b){var c=new Dc(b);c.run=function(){c.stop();a()};return c};Dc.__super__=Uc;Dc.prototype=k(Uc.prototype,{dispose:function(){this.stop()},stop:function(){this.stopped=!0;Uc.prototype.stop.call(this)},__class__:Dc});v.$haxeUID|=0;"undefined"!=typeof performance&&"function"==typeof performance.now&&(E.now=performance.now.bind(performance));f.Math=Math;null==String.fromCodePoint&&(String.fromCodePoint=function(a){return 65536>
a?String.fromCharCode(a):String.fromCharCode((a>>10)+55232)+String.fromCharCode((a&1023)+56320)});Object.defineProperty(String.prototype,"__class__",{value:f.String=String,enumerable:!1,writable:!0});String.__name__="String";f.Array=Array;Array.__name__="Array";Date.prototype.__class__=f.Date=Date;Date.__name__="Date";var dl={},el={},fl=Number,hl=Boolean,gl={},Wk={};V.__toStr={}.toString;la.__alpha16=new Uint32Array(256);for(var bk=0;256>bk;){var rk=bk++;la.__alpha16[rk]=Math.ceil(257.00392156862745*
rk)}la.__clamp=new Uint8Array(511);for(bk=0;255>bk;)rk=bk++,la.__clamp[rk]=rk;for(bk=255;511>bk;)rk=bk++,la.__clamp[rk]=255;Ib.level=0;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});fb.DATA={"arcade1up/favicon-192x192.png":{w:192,h:192,t:"1380426e857aaf9d0a5fbbbe61c6d97c",l:79856},"arcade1up/favicon-32x32.png":{w:32,h:32,t:"dd8b72edd7681abd73164534b6de7f4a",l:3873},"arcade1up/favicon-512x512.png":{w:512,h:512,t:"529241b11d310bba33111a7617b58c53",l:463628},
"arcade1up/favicon-96x96.png":{w:96,h:96,t:"6c18e2636c659c2713fd334e38785f2a",l:23151},"arcade1up/icon.png":{w:272,h:159,t:"0f546db10688386bb053c524e3b3be80",l:40354},"avatar/ava001.jpg":{w:95,h:95,t:"30c8692bbfb3068cb65cb549608ef50f",l:1974},"avatar/ava002.jpg":{w:186,h:185,t:"943b17a1c00b9a991994111ffca03cbe",l:9489},"avatar/ava003.jpg":{w:140,h:138,t:"3bfa8fc52292636eefbadcbf4c699bd3",l:6764},"avatar/ava004.jpg":{w:200,h:200,t:"0828c90473218aa51d0e57f1ebbed621",l:8790},"avatar/ava005.jpg":{w:167,
h:169,t:"bc44e49422930b2cc7658ea70a2e1beb",l:7800},"avatar/ava006.jpg":{w:200,h:201,t:"99e83dd1a560d6a438c8adc5b239bc99",l:8748},"avatar/ava007.jpg":{w:200,h:200,t:"a9f30e9b5cbc6ffa8081dcd071927e46",l:8239},"avatar/ava008.jpg":{w:173,h:177,t:"438910981fd367b9b67929a7fb16ac50",l:8827},"avatar/ava009.jpg":{w:200,h:200,t:"562a6a3d5860bac94a15ac658c168e99",l:9296},"avatar/ava010.jpg":{w:200,h:201,t:"362fefdd6bdbf43a2f90bd895d8c8c2b",l:10053},"avatar/ava011.jpg":{w:200,h:200,t:"3adf3eb9b8b3ab4279d8d5ee8e5ac6ec",
l:9849},"avatar/ava012.jpg":{w:200,h:200,t:"13a79acc25c4f0a3fa69f8a278e2947b",l:10664},"avatar/ava013.jpg":{w:93,h:89,t:"7d19b2085d5dd45c70da2b4366c11176",l:3285},"avatar/ava014.jpg":{w:200,h:200,t:"fe0eb15cf2bec882a79f0d473c01962b",l:7076},"avatar/ava015.jpg":{w:181,h:181,t:"e5efd4dbe49db7ce70d38268da4436b8",l:6016},"avatar/ava016.jpg":{w:200,h:200,t:"843403ca98337117bbdc11160139b996",l:6335},"avatar/ava017.jpg":{w:200,h:200,t:"63ddff800ecc57a81d87cea21341d5c1",l:9009},"avatar/ava018.jpg":{w:200,
h:200,t:"d9049ba854353673196d3b1dbeb2a340",l:7830},"avatar/ava019.jpg":{w:145,h:144,t:"48580cfd133167d00cbb0dd12206f8c1",l:6067},"avatar/ava020.jpg":{w:141,h:141,t:"084ea9bf57739c3437f343b62e8c4c1b",l:6199},"avatar/ava021.jpg":{w:141,h:141,t:"1121a7a7dcc60e1b1b70a7ddd19b56a1",l:3709},"avatar/ava022.jpg":{w:150,h:150,t:"148eeb4f2ec9f5827387be3d146cb8ba",l:6707},"avatar/ava023.jpg":{w:150,h:150,t:"2ca91b766c62fad6320bd601e1f5e467",l:6358},"avatar/ava024.jpg":{w:150,h:150,t:"0718bc6b631cca4320e29767c709442b",
l:6435},"avatar/ava025.jpg":{w:150,h:150,t:"0a72ed86a370bf84aed5c512583bdac9",l:6572},"avatar/ava026.jpg":{w:135,h:135,t:"cfa6d37fecd3b38aa0154040196d954e",l:5509},"avatar/ava027.jpg":{w:150,h:150,t:"c65fd32dd0c2e74fe906322654ac1b28",l:6272},"avatar/ava028.jpg":{w:177,h:177,t:"5317c4bffadf364b76522bdc27e1ce46",l:8660},"avatar/ava029.jpg":{w:141,h:141,t:"b6cc879fb025f5f9e91931780c3de8a2",l:7239},"bg/arctic/bear.png":{w:256,h:256,t:"8a7d2cc13b8aff792fffe97d0ac2a013",l:28735},"bg/arctic/bg.jpg":{w:2048,
h:2048,t:"b513ee7610944d1b90dcd9f660fe4973",l:420991},"bg/arctic/characters.png":{w:1024,h:1024,t:"5f4838a3b5edb315279162709c6e0e7a",l:596393},"bg/asia/bg.jpg":{w:2048,h:2048,t:"48017621edb6f375ffc8bac06446dcb6",l:797873},"bg/asia/bird.png":{w:256,h:256,t:"5a6a6459336fd957dd49b9ccaff5e93e",l:31124},"bg/asia/cat.png":{w:256,h:256,t:"682ab76bb0ef455dbde0b77143d833f2",l:55182},"bg/asia/foreground.png":{w:512,h:512,t:"da13bc19f02854d4d6daa847aa39d9a4",l:123480},"bg/asia/girl.png":{w:512,h:512,t:"a81beefb8c87fced9d9ebbc77edbf6a9",
l:144031},"bg/asia/lantern.png":{w:256,h:256,t:"176619b1834890b5b817d8f706a09712",l:14045},"bg/asia/panda.png":{w:512,h:512,t:"f3471abb8c775593d300ae56deb02085",l:166703},"bg/asia/shadow.png":{w:512,h:512,t:"aae9f4b2e0cf6caa0f7e5a47d3a513f3",l:38932},"bg/asia/shadow2.png":{w:512,h:512,t:"9fe671846f22fefa61a5c113788bb05f",l:21099},"bg/beach/bg_beach_background.jpg":{w:2048,h:2048,t:"882193dff37a56d959b478f8073fcf64",l:808116},"bg/beach/bg_beach_characters2.png":{w:1024,h:1024,t:"96ddbe6498e529ab9d8cab9d0d18f24b",
l:358467},"bg/beach/parrot.png":{w:256,h:256,t:"9b4c4fb9ca145645c1103a2e9715cd81",l:39620},"bg/bridge/bg.jpg":{w:2048,h:2048,t:"59a9cd4cb568d7918f01a4dc88cfb84b",l:969729},"bg/bridge/bird.png":{w:256,h:256,t:"6ae1113a3eb8411899da4339e8ad2b70",l:83301},"bg/bridge/characters.png":{w:1024,h:1024,t:"f1bbd2222ee6c5a58cfc89c1f330c9d2",l:276617},"bg/bridge/foreground01.png":{w:1024,h:1024,t:"c95c668dedbc5836449e21d81f45212f",l:922906},"bg/bridge/foreground02.png":{w:1024,h:1024,t:"f040980f5f06acf19b8d9b083cbc8ef6",
l:678224},"bg/bridge/tiger.jpg":{w:256,h:256,t:"637e1bc2e9ef49c326d036d30ecf34d9",l:42167},"bg/carnival/bg.jpg":{w:256,h:256,t:"2516572957b031b4d433868958859ef5",l:5187},"bg/carnival/bird.png":{w:256,h:256,t:"deba6469008d8384cda66d2792dc39a9",l:69029},"bg/carnival/characters.png":{w:1024,h:1024,t:"e46740ec575e92f8470210a2c0380802",l:751322},"bg/carnival/characters2.png":{w:1024,h:1024,t:"454c08c01b682df6ca72a614cb16db1a",l:650880},"bg/carnival/middleground.png":{w:1024,h:1024,t:"37ff21d035cb4224589bb5c6736ccc3b",
l:842778},"bg/castle/bat1.png":{w:256,h:256,t:"6749fcab881bd0d1058b2bdc251ccdee",l:19667},"bg/castle/bat2.png":{w:128,h:128,t:"c66ebb94d3325ce42babb401b97bcb02",l:14987},"bg/castle/bat3.png":{w:128,h:128,t:"40db13681e829beec4c220b360d95a25",l:7670},"bg/castle/bat4.png":{w:128,h:128,t:"81f38363d7834cf6a7988ed3bc4e2c46",l:19810},"bg/castle/bg.jpg":{w:2048,h:2048,t:"fad18cdd27f03de7e94e0c6827105226",l:776548},"bg/castle/bg2.jpg":{w:2048,h:2048,t:"85a5c3e5bee26b208c9de2f4dc6d1850",l:818457},"bg/castle/bird.png":{w:256,
h:256,t:"88a2083f23f252f4c019d79c16505c02",l:74357},"bg/cave/bg.jpg":{w:2048,h:2048,t:"00215e516af8e24778a13e2a69b22df7",l:611391},"bg/cave/characters.jpg":{w:2048,h:2048,t:"0c3d670a1c61347f566709650ba3fa45",l:790920},"bg/crypt/bg.jpg":{w:2048,h:2048,t:"3d097b4607f52d912bbfdde0306ac206",l:1010017},"bg/crypt/bird.png":{w:256,h:256,t:"e71ebb238e77fdbde52de080836cf301",l:41562},"bg/crypt/characters.jpg":{w:1024,h:1024,t:"6cdcad089e95348e2a8ddd8cece44e2a",l:412688},"bg/desert/bd_desert_bird.png":{w:256,
h:256,t:"cb870b5ae0b83088e6d02b2217553882",l:42168},"bg/desert/bg_desert_background.jpg":{w:2048,h:2048,t:"9ab95095fe2a86a3c12f7ce81c267c5d",l:626552},"bg/desert/bg_desert_characters_dust.png":{w:1024,h:1024,t:"4492658dd47c97a2fbfc539b91ea45c6",l:722704},"bg/desert/bg_desert_middleground.png":{w:1024,h:1024,t:"e3ad73a2b62ba7650c41cdb1eced53c1",l:518430},"bg/dino/bg.jpg":{w:2048,h:2048,t:"1999164d57e96067f9ba207a6ee40834",l:278332},"bg/dino/characters.jpg":{w:2048,h:2048,t:"b89182095123a628a127898400cec719",
l:365403},"bg/drama/basket.png":{w:160,h:213,t:"77fee79ee072d029b25da01a7ea6844d",l:46664},"bg/drama/bg.jpg":{w:512,h:512,t:"909b8b4e5238c738b6cb13e7c7fba14d",l:46876},"bg/drama/bird.png":{w:184,h:145,t:"b9c2886016ab1e7675f274c34ca742e7",l:38578},"bg/drama/bird2.png":{w:258,h:258,t:"436550aa19113b4a6d84d8f62fd3445b",l:52992},"bg/drama/characters.jpg":{w:1024,h:1024,t:"ac67d6640b6fd96452b7985a02df61ec",l:334219},"bg/drama/eyes.png":{w:32,h:25,t:"79c8d3c7121f52c992c6f33f2adb1b3e",l:1096},"bg/drama/line.png":{w:6,
h:240,t:"1e4bae24565d3f9430d13ce3518a1e12",l:835},"bg/drama/mock.jpg":{w:339,h:678,t:"f5988a51da9a4a2030ca785b575eaac5",l:69717},"bg/drama/pfahl.png":{w:82,h:250,t:"0ef302e10cbfdd7c6bf8e6edae536867",l:24457},"bg/egypt/bg.jpg":{w:2048,h:2048,t:"f015ad51a0f3c34d9b74e6591d368f2c",l:773759},"bg/egypt/bird.png":{w:256,h:256,t:"637e5c60c6edc61c2cc6a3b5bff8dbde",l:68942},"bg/egypt/characters.jpg":{w:2048,h:2048,t:"5f53a044a836c6d0158a5c6f926601c6",l:881788},"bg/farm/bg.jpg":{w:2048,h:2048,t:"ba13c279f39e1b95eaf86a743a9f453d",
l:789464},"bg/farm/bird.png":{w:256,h:256,t:"b596ef8e6b27a3adbb4c71c3fe163807",l:56806},"bg/farm/characters.png":{w:1024,h:1024,t:"1d65a51dbcc50430c5ec36ab3dc0541b",l:340584},"bg/farm/chicken.png":{w:512,h:512,t:"7c9e041954de9a54235b5bf8d4b9a17e",l:157339},"bg/forest/bg.jpg":{w:2048,h:2048,t:"1200f6326463df637c146486bb10c294",l:966368},"bg/forest/bird.png":{w:256,h:256,t:"6aadcc800c7229a9c2fedcd1c55e1138",l:83281},"bg/forest/characters.jpg":{w:1024,h:1024,t:"3370c76f91cf98bb19ec7c32ee2e69fd",l:316856},
"bg/hayloft/bg.jpg":{w:2048,h:2048,t:"f003df54acf0e4d9c4922c561f1f039f",l:474126},"bg/hayloft/bird.png":{w:512,h:512,t:"b1b033020d7b4ab06f6690173dd06214",l:100996},"bg/hayloft/car.png":{w:1024,h:1024,t:"d37816d8502565587cedebe8e63fd5d9",l:1029372},"bg/hayloft/characters.png":{w:1024,h:1024,t:"5cfa3099dfbff128dff5b368f5ceb24b",l:427123},"bg/hayloft/foreground.png":{w:1024,h:1024,t:"d6684b5ce5e52b1e76dc68c7bb49ea33",l:336340},"bg/jungle/bg_jungle_background.jpg":{w:1024,h:1024,t:"b192703beac9f51d651b59b8014064c2",
l:186018},"bg/jungle/characters.jpg":{w:2048,h:2048,t:"63334a9d5d1c7b8130824a302396fe0f",l:759274},"bg/lava/bg_lava.jpg":{w:2048,h:2048,t:"7d3a0da35b9beeccab1d8cc02323f0e2",l:961650},"bg/lava/bg_lava_characters.png":{w:2048,h:2048,t:"d1178ce6afa193258d4da0a77ffac1af",l:1754493},"bg/meadow/bee.png":{w:256,h:256,t:"7fc985cde90570b8accfd7e62338a5a6",l:51505},"bg/meadow/bg.jpg":{w:2048,h:2048,t:"f15c676e0d674adffd8d497079b8781f",l:911818},"bg/meadow/bird.png":{w:256,h:256,t:"f70386082bbe56640db823d0dd201f66",
l:66236},"bg/meadow/characters.png":{w:1024,h:1024,t:"743761fa73b70279db5c4c6ce0bbb65c",l:477417},"bg/mountain/bg.jpg":{w:1024,h:1024,t:"2f768db6d74c30af4a10a0774174ea17",l:68183},"bg/mountain/characters.png":{w:1024,h:1024,t:"fd204f62c0320e88b065bd05972a78eb",l:730884},"bg/mountain/cloud1.png":{w:256,h:256,t:"0ddf80ce1e18ecb692456a6bfd9465e3",l:18377},"bg/mountain/cloud2.png":{w:256,h:256,t:"dea02c620746bb306e9a736d08bf735d",l:18467},"bg/mountain/cloud3.png":{w:256,h:256,t:"2665afd0f493f8287e142a52a4844e70",
l:16201},"bg/mountain/middleground.png":{w:2048,h:2048,t:"a876f1b1a6f80afe7b621cca2aca741f",l:2948574},"bg/ocean/bg.jpg":{w:1024,h:1024,t:"ca8028d5445c7bf34931dffbb76ce4a2",l:167015},"bg/ocean/bg2.jpg":{w:1024,h:1024,t:"8b3fe4019a6d05de7767c304af72c718",l:212169},"bg/ocean/bird.png":{w:256,h:256,t:"5370b072588aa06a75bd129030ba718e",l:50165},"bg/ocean/characters.png":{w:1594,h:1513,t:"b4cc2e03fc187ec16436e21499e8739f",l:2310402},"bg/ocean/foreground.png":{w:1024,h:1024,t:"1c8f0c95c9170bbbc5f9a817b1cfe01b",
l:410037},"bg/ocean/lightning.png":{w:1024,h:1024,t:"4aaff926c8eeade4c7248d1dcd9b6eb5",l:138962},"bg/ocean/tentacle0.png":{w:256,h:256,t:"253be55f55df53069c8d746df0c3643f",l:57093},"bg/ocean/tentacle1.png":{w:512,h:512,t:"2cc9c0eefc2c1aca6250ef623b0afed6",l:180600},"bg/ocean/tentacle2.png":{w:512,h:512,t:"db1c6b941a59fced8dd17f530b7e45b7",l:148937},"bg/park/balloons_left.png":{w:512,h:512,t:"be10ee7634db821304971ace898fc911",l:145993},"bg/park/balloons_right.png":{w:512,h:512,t:"adeeb17ba47c8fe2e635bad0184f8950",
l:122873},"bg/park/bg.jpg":{w:2048,h:2048,t:"1b471a0e566dfdf76f3bd3938d37ca08",l:821238},"bg/park/bird.png":{w:256,h:256,t:"bb3803ac623550668f8e729ff91ef24c",l:34041},"bg/park/cat.png":{w:1024,h:1024,t:"b9c807bc47cabfd34bb3d43dd9ea948e",l:361965},"bg/park/characters.png":{w:1024,h:1024,t:"13e3d866f5f2267f14fdfde1fcc964dc",l:428771},"bg/plane/bg.jpg":{w:2048,h:2048,t:"a53e7709a1d30ce26b49aa54e752fac0",l:179208},"bg/plane/bird.png":{w:256,h:256,t:"870e0786b272c5076639f113b22ef1be",l:24933},"bg/plane/characters.png":{w:1024,
h:1024,t:"56c158083933ecf8322a71c8f7cd7c6a",l:698396},"bg/plane/seagull.png":{w:256,h:256,t:"4630ed0275c4709532998c7a2aaa0595",l:25420},"bg/river/bg.jpg":{w:2048,h:2048,t:"aabc0c11d917bb8c8a17543306991977",l:770703},"bg/river/characters.png":{w:1024,h:1024,t:"78e22638722de4366850a1e93677beab",l:544772},"bg/river/foreground.png":{w:1024,h:1024,t:"bedff998d593ab27eabd5d38ceaedbf7",l:669092},"bg/safari/bg.jpg":{w:2048,h:2048,t:"29cee9b54f0ca2612592b4323d8ad8ba",l:438151},"bg/safari/bird.png":{w:256,
h:256,t:"4299893e486386446ce662fedb501ebe",l:89297},"bg/safari/characters.jpg":{w:2048,h:2048,t:"5267e543850f0d9217069f332dcccb95",l:546065},"bg/space/bg.jpg":{w:2048,h:2048,t:"e3f870914530f9930044b5afd762d9fa",l:753498},"bg/space/bird.png":{w:256,h:256,t:"5021916508c6f4fbbfd6cab38f9456bf",l:65177},"bg/space/characters.png":{w:1024,h:1024,t:"05f6d40d10a5a6cea490a5d69ab5ee5a",l:446143},"bg/space/ufo.png":{w:256,h:256,t:"abdb1da6d98b64e4df943dd5422cf8b2",l:51838},"bg/tiny/bg_tiny_background.jpg":{w:1024,
h:1024,t:"3f576bb106586e2c8a20bfe1d525f7a4",l:189198},"bg/tiny/bg_underwater_characters.png":{w:1024,h:1024,t:"515fa7a39cb590b3a0afa5d93186d429",l:612029},"bg/tiny/fish.png":{w:256,h:256,t:"b34a06caa58ef943d3698bdf74e33d5f",l:45870},"bg/tribe/bg.jpg":{w:2048,h:2048,t:"8d8350cadff38fedc3fd7686d3002e36",l:954981},"bg/tribe/bg2.jpg":{w:2048,h:2048,t:"c5259f1373aae7de07de9ebf08014865",l:1064031},"bg/tribe/bird.png":{w:256,h:256,t:"585f536766bf2e63184c2f27faf64ff8",l:30951},"bg/water/bg_underwater_background.jpg":{w:1024,
h:1024,t:"af692b6c0c38f69df1c6b6a407c66eb9",l:397203},"bg/water/bg_underwater_characters.png":{w:1024,h:1024,t:"515fa7a39cb590b3a0afa5d93186d429",l:612029},"bg/water/fish.png":{w:256,h:256,t:"b34a06caa58ef943d3698bdf74e33d5f",l:45870},"bg/waterfall/bg.jpg":{w:512,h:512,t:"15570fba07101c40c4b28a2b047e0abd",l:13036},"bg/waterfall/bird.png":{w:256,h:256,t:"f30a56c39252557f36a19cae8f4cc2e7",l:49635},"bg/waterfall/characters.png":{w:1024,h:1024,t:"9dd054259c8a3752a41f2923b07f4e77",l:810261},"bg/waterfall/cloud01.png":{w:256,
h:256,t:"4171897b7cd8bfe0ed8047a5e9088fba",l:13502},"bg/waterfall/cloud02.png":{w:512,h:512,t:"3401896e6ce4576b7d8287e05dc09141",l:52937},"bg/waterfall/cloud03.png":{w:256,h:256,t:"362a5e1248a9ce6c5c33c65f5b99eaa2",l:23387},"bg/waterfall/middleground01.png":{w:1024,h:1024,t:"8e2ad7f8fe0232eb9ae150f64778dbe7",l:657057},"bg/waterfall/middleground02.png":{w:1024,h:1024,t:"66051221bfc43566d3dc5f8f1e84561d",l:541781},"bg/waterfall/middleground03.jpg":{w:1024,h:1024,t:"8777ab7cbd23230c26be62b03089167c",
l:274185},"bg/waterfall/middleground04.jpg":{w:1024,h:1024,t:"57b54a36a8c5a01aacc5610ef5eb1e46",l:323326},"bg/western/bg.jpg":{w:2048,h:2048,t:"5c13ed659aa93293aa7d70e2fe22b24d",l:755890},"bg/western/bg2.jpg":{w:2048,h:2048,t:"4663f6ca30c5264163f77ca9709ae0ad",l:920972},"bg/western/bird.png":{w:256,h:256,t:"51415f2ff6f13370302cc5b01453d38b",l:57034},"bg/winter/background.jpg":{w:2048,h:2048,t:"e5a4176278a63d99d7436936abe8fbfd",l:475275},"bg/winter/bg2.jpg":{w:2048,h:2048,t:"939f55a2e7d8bf27037a15c7bbbbe739",
l:563525},"bg/winter/bird.png":{w:256,h:256,t:"ad856cf563db2efed9f31e0d29240a42",l:64218},"bg/zoo/bg.jpg":{w:2048,h:2048,t:"e88690c2c917da6509b068566fc30726",l:761282},"bg/zoo/bird.png":{w:256,h:256,t:"9febce5fc9a9b85a1988db4fcc07a0fc",l:21959},"bg/zoo/characters.jpg":{w:2048,h:2048,t:"20257f1e04dc61df5efa51dcfa551f15",l:864083},"dynamic/apple-id-sign-in-with.png":{w:216,h:40,t:"a5ef703ab346170f74317899a4ed9dd8",l:3930},"dynamic/arrowwheel.png":{w:100,h:100,t:"baa6ecd1be36204745b01d9166cc9a01",l:5694},
"dynamic/arrow_left.png":{w:35,h:100,t:"58b63c1c6504b812550370da276e9be9",l:1242},"dynamic/avatar.png":{w:100,h:100,t:"23452a8e2efec743f4db5ec0cce0a1cd",l:8305},"dynamic/bag.png":{w:200,h:200,t:"4553c05be368418f56c20043c4c4d2ad",l:23266},"dynamic/bee.png":{w:100,h:100,t:"41005c87bd22755316ee4101225d11fc",l:15113},"dynamic/bee_small.png":{w:50,h:50,t:"6f16e470068733532d0e522741e876c4",l:5425},"dynamic/bird.png":{w:256,h:256,t:"f70386082bbe56640db823d0dd201f66",l:66236},"dynamic/btn_block.png":{w:100,
h:100,t:"18782a7755fbe11ad1b0c2a46dea2c92",l:6689},"dynamic/btn_unblock.png":{w:100,h:100,t:"95e4ca65650a65d6543eb2b62df211a0",l:6748},"dynamic/btn_unlink.png":{w:100,h:100,t:"56f669e3b0f205c7046e5f8e664cc77d",l:4830},"dynamic/bubble.png":{w:166,h:167,t:"8a40e2676f71279245d02267bd1cab21",l:7427},"dynamic/colormap.png":{w:256,h:256,t:"1451dee9c1a9ef1c9884d1d15db6f16f",l:51671},"dynamic/column.png":{w:100,h:100,t:"5ad10c1d27e965f4e9cc1bac41dbf310",l:14510},"dynamic/column_small.png":{w:50,h:50,t:"057a3450856758dbaa96c08348424258",
l:5624},"dynamic/crazygames-sign-in.png":{w:300,h:65,t:"8ef245d1b62ed41d6953a7c9102b7e2e",l:5139},"dynamic/crown.png":{w:110,h:110,t:"5bc2e4ce31dec01d349bbe4041ae06c3",l:17570},"dynamic/delete.png":{w:80,h:80,t:"073b696c9d361330636e1b65fad92e8c",l:2022},"dynamic/difficulty_1.png":{w:200,h:200,t:"fcfaf4a1ec5af4566acca0b72338ba02",l:29987},"dynamic/difficulty_1_small.png":{w:100,h:100,t:"51c16660656b5831642074ba5b771b99",l:14874},"dynamic/difficulty_2.png":{w:200,h:200,t:"4ea64364f39a52b8524be16c5eda5f8c",
l:31755},"dynamic/difficulty_2_small.png":{w:100,h:100,t:"769de345d2ddd58e57c1e55cbc3ca5f0",l:15696},"dynamic/dot.png":{w:50,h:50,t:"7cdd786a495b2892f47e7d5c7d1b08c8",l:1599},"dynamic/dot_on.png":{w:50,h:50,t:"6a2a9867740bc2a78b0dc5ee33cc3223",l:952},"dynamic/down.png":{w:100,h:100,t:"42039c1b256cc16873d9067d25d4629c",l:2192},"dynamic/edit.png":{w:100,h:100,t:"10fecc6765aa962ccf92e1396b615bf2",l:2561},"dynamic/editor.png":{w:100,h:100,t:"33d6fb95a3eb8178bb25b3c43a362e1d",l:25874},"dynamic/exclamation-mark.png":{w:31,
h:100,t:"224cff0bb8f40e22ff4607de8cf37f23",l:2107},"dynamic/expedition.png":{w:1024,h:1024,t:"c600ca354a97d78595323e2c17476159",l:1615421},"dynamic/expeditionMarker.png":{w:100,h:100,t:"caa651ca29d8900daf569956fa74bf17",l:10711},"dynamic/facebook-sign-in.png":{w:300,h:65,t:"9560147eada54d8ceb284ff13552912e",l:3623},"dynamic/flag-de-DE.png":{w:100,h:100,t:"9495e43a3affb30cc04b6549fd19d552",l:3824},"dynamic/flag-en-US.png":{w:100,h:100,t:"5a0121df5c039be3934623d99772ad18",l:9312},"dynamic/flag-es-ES.png":{w:100,
h:100,t:"467f91d99b9641a11e6cbd07ee266f39",l:6644},"dynamic/flag-fr-FR.png":{w:100,h:100,t:"08bc39538cfc64f4b79fc98ef2f3c835",l:3272},"dynamic/flag-ru-RU.png":{w:100,h:100,t:"f61e8cf45f5ea84f75ea8d514612d613",l:3667},"dynamic/flag-tr-TR.png":{w:100,h:100,t:"52ea13169906f42b0c29e06493b5650b",l:5897},"dynamic/flag-uk-UA.png":{w:100,h:100,t:"7b6fe81d5f4bfced3d717c29bc904cd3",l:3446},"dynamic/forward.png":{w:100,h:100,t:"eda048252469aeadd72e96503cf848e3",l:4753},"dynamic/frame.png":{w:200,h:210,t:"988fe8ca773a473f83d301d6531c1aa3",
l:1761},"dynamic/frame_02.png":{w:200,h:200,t:"c765a3d2923d9e79f8b5fb8e4f46496c",l:4328},"dynamic/frame_03.png":{w:200,h:200,t:"52ead9d0f3f6af3f2187581c8359222a",l:5701},"dynamic/frame_wings_01.png":{w:200,h:56,t:"cbb0ebbf1fc1d8c1a9684046b63b184e",l:15084},"dynamic/frame_wings_02.png":{w:200,h:56,t:"8af68c6b6ca553acf789a1715ccb7edf",l:15866},"dynamic/frame_wings_03.png":{w:200,h:56,t:"0a1ec70b054adf5c94838d817eae8407",l:17253},"dynamic/frame_wings_04.png":{w:200,h:70,t:"de7e84385e1a7e4b109c1460b2ee24f7",
l:24519},"dynamic/google-sign-in.png":{w:300,h:65,t:"62923712e4bb7a86522926c41b08815e",l:4528},"dynamic/hammer.png":{w:100,h:118,t:"29e99e7c44d280f91fe94d9f3a40082e",l:19463},"dynamic/hammer_small.png":{w:50,h:59,t:"d367d764c57c7335dd450d87ad9bf4f8",l:6600},"dynamic/help.png":{w:100,h:100,t:"8174da331fed808022fa6b2bb6ff7164",l:4839},"dynamic/info.png":{w:100,h:100,t:"5619532917e34658154e788344f9300a",l:3793},"dynamic/info_icon.png":{w:50,h:50,t:"ef81ae1bf5e11c0f38d63fbbeef3dbee",l:2315},"dynamic/jenny_head.jpg":{w:200,
h:200,t:"cc54683cc2e19ba5c8327ef9f85e3805",l:21977},"dynamic/list.png":{w:100,h:100,t:"9c98aba72578fe9f7ab2d6927caabfeb",l:4213},"dynamic/logo.png":{w:600,h:253,t:"f7435b0f9bfac27b439fba2d34e74dc6",l:17243},"dynamic/mail_big.png":{w:100,h:100,t:"1f371151c5f4e877e50401789c7bfa60",l:10305},"dynamic/microsoft-sign-in.png":{w:300,h:65,t:"61f72b3ed38a50ea98cff24a75b22ed2",l:3480},"dynamic/music.png":{w:100,h:100,t:"8465d39f731233e8e695eb9a4eea077b",l:4665},"dynamic/music_off.png":{w:100,h:100,t:"60d82030442010ae8652db628d378853",
l:5218},"dynamic/news.png":{w:200,h:200,t:"e20dc6a1e76a4db54a7360274d4f331b",l:35470},"dynamic/open.png":{w:100,h:100,t:"352b20af24fdd93589c93d97487692d5",l:5201},"dynamic/orb.png":{w:100,h:100,t:"c8d5de8f211ca93fa153b538318bb919",l:17478},"dynamic/orb_small.png":{w:50,h:50,t:"bdc5f4d92dd02c3d0169ca1eca4d3082",l:6148},"dynamic/play.png":{w:100,h:100,t:"1a55119d85463321aed880a8dcc27b49",l:4231},"dynamic/plus.png":{w:100,h:100,t:"b74e337ee7a7cbb6c25700693ff22f82",l:1631},"dynamic/quit.png":{w:100,h:100,
t:"2bdbaa73bd52c48e18d95c7e21dc219b",l:4651},"dynamic/repeat.png":{w:100,h:100,t:"32c8f014a55154ac23a211a2de690354",l:5696},"dynamic/row.png":{w:100,h:100,t:"a7ee17ae4c50cf49fd0c14c0c4f15b13",l:18519},"dynamic/row_small.png":{w:50,h:50,t:"3a6ed2ea69a9226232453feda0948eaf",l:6228},"dynamic/sales_icon.png":{w:200,h:200,t:"264d32a44e3cce447ccc4dc2df5ef00e",l:11037},"dynamic/sales_icon_blue.png":{w:200,h:200,t:"9a0601684eb26a06727263984bb82760",l:11253},"dynamic/sales_icon_green.png":{w:200,h:200,t:"9848e55d09e4ac876da9fd24bcc6ed47",
l:5759},"dynamic/sales_icon_pink.png":{w:200,h:200,t:"22b472b4b502a4e26b2043f3ba6717e7",l:10982},"dynamic/shop.png":{w:100,h:100,t:"01361660ad33bcb35b56457ca977caa5",l:4341},"dynamic/shop_icon.png":{w:200,h:200,t:"57d5f80a4301356bbb2d9f4bb88ecb2d",l:50683},"dynamic/shre.png":{w:100,h:100,t:"ccb3c29a66bb046a624e22e3324fd58e",l:5163},"dynamic/skipend.png":{w:100,h:100,t:"7936c305a8e1a025aac77071809b7aab",l:4323},"dynamic/skunk.png":{w:100,h:100,t:"06c92e1a29c2b9016681d82c5184de93",l:15641},"dynamic/skunk_small.png":{w:50,
h:50,t:"492f72b3a36cf3463d8e9602b412e255",l:6328},"dynamic/sound.png":{w:100,h:100,t:"01807c45e37471995b4e69f7b1035747",l:4237},"dynamic/sound_off.png":{w:100,h:100,t:"83eb87e0d27d6f9a48a24af265fd1da8",l:5223},"dynamic/strahlen.png":{w:500,h:172,t:"1ff8e75951b1e8e85e95f6748a595808",l:10929},"dynamic/streak.png":{w:200,h:200,t:"3f44d9f9ba253d03fcf472fda4cddfd9",l:27019},"dynamic/switch.png":{w:100,h:100,t:"4867dc545b3a4ac6c3b9deab8daacb95",l:3193},"dynamic/swizzle.png":{w:100,h:100,t:"ae797df7ba8705bf4cd6cbf16717240e",
l:11464},"dynamic/swizzle_small.png":{w:50,h:50,t:"21bb08a9d81214e28d1e27cff34a59fe",l:5611},"dynamic/team.png":{w:100,h:100,t:"4764d2dfc14a8cb24697b17f170490c5",l:12133},"dynamic/TipHand_1.png":{w:200,h:200,t:"632fb586e36ce235908b1045295e9e83",l:13311},"dynamic/TipHand_2.png":{w:200,h:200,t:"8c36838f67e18f73883646835ca53ec5",l:11641},"dynamic/trophy_multi.png":{w:381,h:214,t:"4cfc46eb14a1d20ea977d28458604e90",l:69045},"dynamic/up.png":{w:100,h:100,t:"0502f36165bc1f9056f773df9068344c",l:1746},"dynamic/vignette2.png":{w:512,
h:512,t:"6f90a6d75c7f376d0653668633bec00f",l:68724},"dynamic/week.png":{w:200,h:200,t:"0a0e0ec06a6141828adb301131b747aa",l:35099},"dynamic/wheeloffortune.png":{w:514,h:514,t:"b0e3cbba6093c441103db411b728c484",l:20975},"dynamic/X.png":{w:100,h:100,t:"630eb32d975c9879fffb1b017d9a9728",l:2917},"dynamic/yes.png":{w:50,h:50,t:"bfbc4ed0b6e8d347747807e330d91e52",l:1762},"field/a000000000.png":{w:16,h:16,t:"66c05bcc65dacac057215a94a40664c7",l:97},"field/a000000001.png":{w:100,h:100,t:"f963e28f73f0ccbd43eb0ea1ad127f0e",
l:249},"field/a000000010.png":{w:100,h:100,t:"795c1ecdcc66771bed997ca905fee579",l:156},"field/a000000100.png":{w:100,h:100,t:"8b503b0b6fcf15ff5d298c79b1b3a745",l:250},"field/a000001000.png":{w:100,h:100,t:"1ed6113834afe0e3ff951580f0fbe081",l:152},"field/a000001111.png":{w:100,h:100,t:"0eb1b4c73dff1d19f09e596ebac5af4c",l:224},"field/a000100000.png":{w:100,h:100,t:"3ce84c9a48d4f0f1567849f033c08cff",l:158},"field/a000100111.png":{w:100,h:100,t:"ad2e611a1e4c8fac21bd15ae690a2915",l:249},"field/a001000000.png":{w:100,
h:100,t:"c647722d3fb03c94bc9e099d2a581d35",l:302},"field/a010000000.png":{w:100,h:100,t:"159c5b035afe5bdcb3d7113a54135c8e",l:164},"field/a100000000.png":{w:100,h:100,t:"8fb8dc44c4aa83af73abde1b10ab1d26",l:270},"field/a101111111.png":{w:100,h:100,t:"817cb94d39fb8f37f60aba9b116a33b0",l:312},"field/a111001000.png":{w:100,h:100,t:"de86207d708fc0c0745301a07f36c624",l:287},"field/a111011111.png":{w:100,h:100,t:"df19cab11296181aead874b70a8e3de1",l:333},"field/a111100000.png":{w:100,h:100,t:"ef8fb9eba8e7b4f58b44903161adae7a",
l:279},"field/a111101111.png":{w:100,h:100,t:"6f47b6d1d25028c70bca7b42d3cb597b",l:564},"field/a111110111.png":{w:100,h:100,t:"e70b08b5b1795db4148902cd425001cc",l:347},"field/a111111101.png":{w:100,h:100,t:"e52386b399aeb8fa08a32f873535842a",l:392},"fieldHD/a000000000.png":{w:256,h:256,t:"3f3107b304269dd08ef5ab11812c2371",l:870},"fieldHD/a000000001.png":{w:256,h:256,t:"714a4116e41bad708d97bc92a3f6352c",l:3860},"fieldHD/a000000010.png":{w:256,h:256,t:"749e59af57b846915dfd07e255cdc955",l:1024},"fieldHD/a000000100.png":{w:256,
h:256,t:"3ec9b3b22186b8ccd12d64dc342281e0",l:3959},"fieldHD/a000001000.png":{w:256,h:256,t:"7979f31596fe13a6901f1e3a0cf5e9b8",l:1382},"fieldHD/a000001111.png":{w:256,h:256,t:"9bf2da7781b117aa4b222a060f6ce3dd",l:7086},"fieldHD/a000100000.png":{w:256,h:256,t:"443adae2e4f31e8562eaeeb3b547b1ac",l:1299},"fieldHD/a000100111.png":{w:256,h:256,t:"c4be7dc41bc7359418c1ec9f0669ff6e",l:3700},"fieldHD/a001000000.png":{w:256,h:256,t:"89ff454e2436d1b0f9e55298aa9f3b07",l:4053},"fieldHD/a010000000.png":{w:256,h:256,
t:"80145758ae9a4aeb0c9d53111b0aeae8",l:708},"fieldHD/a100000000.png":{w:256,h:256,t:"7a98b49668a17fe2187fe9009a1e0577",l:4962},"fieldHD/a101111111.png":{w:256,h:256,t:"38fb085dd2497c5f580dc811c5276d43",l:8188},"fieldHD/a111001000.png":{w:256,h:256,t:"ab15724c10b8955618266dc95e880cda",l:6049},"fieldHD/a111011111.png":{w:256,h:256,t:"6454ea00315074038ed1bb5a5b4e8a1a",l:7662},"fieldHD/a111100000.png":{w:256,h:256,t:"42026f3ac9aaebb21c28525c3f1a6718",l:2814},"fieldHD/a111101111.png":{w:256,h:256,t:"8b04d7a8c25ef007ec53bea6ef3636e4",
l:8398},"fieldHD/a111110111.png":{w:256,h:256,t:"88c121caa5f94d9c4da5401f9d5b5a5c",l:4761},"fieldHD/a111111101.png":{w:256,h:256,t:"5bb6628934e88abce49c940960132fee",l:7591},"flags/AL.png":{w:96,h:77,t:"4a571f7fd0d5e89112ab2bc026c0f8b7",l:9085},"flags/AR.png":{w:96,h:77,t:"1a8477e7ad3efa32e934f7547d791c81",l:6622},"flags/AT.png":{w:96,h:76,t:"9a2ffadf72684984b86ea0a7726a39d9",l:3401},"flags/AU.png":{w:96,h:77,t:"8aaeb199f2649e30d53ce085b43d5332",l:8892},"flags/AZ.png":{w:96,h:76,t:"4bad075bd2408261248a1de5af3bd370",
l:6216},"flags/BA.png":{w:96,h:77,t:"b48454a3c58fbaf834f5019c462d415e",l:7486},"flags/BE.png":{w:96,h:77,t:"68ca4ac41aa97e3f04552641d4a787d7",l:4995},"flags/BR.png":{w:96,h:76,t:"f9a008663747d7343088a5b221274594",l:9174},"flags/BY.png":{w:96,h:77,t:"823639b3e45f7255053d76f1cb7965cf",l:7062},"flags/CA.png":{w:96,h:77,t:"5373d4bce650777afe033d49175d5778",l:6381},"flags/CH.png":{w:96,h:77,t:"79512a04ea26b6ac8f875b349eebd546",l:3631},"flags/CL.png":{w:96,h:76,t:"7e8c869dfd1626223431d2344cd34a93",l:4429},
"flags/CN.png":{w:96,h:77,t:"913d13b470058f305259ab534925fac9",l:6125},"flags/CO.png":{w:96,h:77,t:"acf572e2221ee61e97f00c564cfbd895",l:4941},"flags/CZ.png":{w:96,h:76,t:"b9def2607a39c469b6caeff0cefa57b5",l:4393},"flags/DE.png":{w:96,h:77,t:"458edf682d2c815472f79ebc09f65de4",l:4736},"flags/DK.png":{w:96,h:77,t:"94ec9fd4c6865102b157508641a0ad05",l:5556},"flags/EG.png":{w:96,h:77,t:"7b81a5dc89ba4a41e814b721f53a9c5f",l:4497},"flags/ES.png":{w:96,h:76,t:"cad100a9dc0642bab94787ec5e74105c",l:7246},"flags/FI.png":{w:96,
h:76,t:"808e38aec8d2b3c54b4ea80d796a8874",l:3646},"flags/FR.png":{w:96,h:78,t:"b6d515ba84d5c1d2ee0e8920245d5927",l:6928},"flags/GR.png":{w:96,h:77,t:"11e87fa0c0bdea0e5ec1d1cc436f3dee",l:5372},"flags/HK.png":{w:96,h:77,t:"3b30c03b5bb1b6bb69afce1861c83eb2",l:7572},"flags/HR.png":{w:96,h:77,t:"ff5ed9867982082170cc93d97e17d438",l:6872},"flags/HU.png":{w:96,h:76,t:"dfb6468ee3766ee8349f74d64a97a442",l:4292},"flags/IE.png":{w:96,h:77,t:"160e2cca1bf09e385c751fffcde6a7bc",l:6040},"flags/IL.png":{w:96,h:77,
t:"332ee92ca8a752d831101a3365c5901c",l:4590},"flags/IN.png":{w:96,h:76,t:"c1f0f348402aed9a1193c2a9dc3296e5",l:6166},"flags/IS.png":{w:96,h:77,t:"4914923d71b9a6899c8d41a1397f3f32",l:6978},"flags/IT.png":{w:96,h:77,t:"53cd0b11ab332e4df2cdd82ebb7d0dc2",l:3775},"flags/JM.png":{w:96,h:77,t:"82ee917609cbecc422f87d77bf22b7cd",l:8010},"flags/JP.png":{w:96,h:77,t:"830f7a77523824a4bd0ef1ddda629f77",l:3911},"flags/KR.png":{w:96,h:76,t:"701a4525b6c41b44e488af740b1d85d7",l:7776},"flags/KW.png":{w:96,h:78,t:"3361426ed6b5a1bc3818ffb21e6ea540",
l:5556},"flags/LT.png":{w:96,h:76,t:"b5a71976e198b9baa7d7263c1708ed9e",l:4940},"flags/LU.png":{w:96,h:77,t:"36b73e69ed637d434161171f6d21bf5f",l:3963},"flags/MC.png":{w:96,h:77,t:"5bf9a5f517a9553af44277b27387cf4a",l:3818},"flags/MX.png":{w:96,h:77,t:"f5891680c2514f1b030802b475937c04",l:9230},"flags/NL.png":{w:96,h:78,t:"f1d9fc62af6da27cb5bc343d228541f3",l:4942},"flags/NO.png":{w:96,h:77,t:"38b3432751c2add7d2a54e4993c3a6ff",l:7396},"flags/PL.png":{w:96,h:77,t:"bbcdf27d858bc3f1609c782468a0da5a",l:4826},
"flags/PT.png":{w:96,h:76,t:"7a7c6800b24378ac1b4fecf842e4e54c",l:11514},"flags/QA.png":{w:96,h:77,t:"830fa3332ababc801d1a8cb60c8e6143",l:6071},"flags/RO.png":{w:96,h:77,t:"18720a747eae1af3d182e279670e1b2a",l:6027},"flags/RU.png":{w:96,h:77,t:"0b8bcf9f69dbb832f3c131a2f061537d",l:2275},"flags/SA.png":{w:96,h:76,t:"39922015d0230fa424158b8eb1ded220",l:8910},"flags/SE.png":{w:96,h:77,t:"746a7f320fed8073c8222ca9756ceb5d",l:5376},"flags/SG.png":{w:96,h:77,t:"4b6da7d7eaf240b446b8159840f79ca6",l:5678},"flags/SI.png":{w:96,
h:77,t:"f103a0537c0e4a395827685b12fb0215",l:5193},"flags/SK.png":{w:96,h:76,t:"b295748efc215dca6df1ff7c0cdeca27",l:6006},"flags/SP.png":{w:96,h:77,t:"a6d71a831b85039cd1325deb83657717",l:7249},"flags/TN.png":{w:96,h:78,t:"574c0204d5f1dff00f8251c1510031e8",l:8039},"flags/TR.png":{w:96,h:77,t:"e0fa190439667c3c4d2acd85e2728eb7",l:6163},"flags/UA.png":{w:96,h:77,t:"ebfe753a55752c5173baeadd6fec1483",l:4621},"flags/UE.png":{w:96,h:77,t:"053946de97eaccc516d96dcab6b08e79",l:5037},"flags/UK.png":{w:96,h:77,
t:"e2153793f19f1328c765fbaf3da4ff4d",l:8069},"flags/US.png":{w:96,h:77,t:"473f0e04d5dc9ad9beff622fdffd2ec6",l:11778},"flags/UY.png":{w:96,h:77,t:"2db483024a4a38bd1ecf0b746b900880",l:6035},"flags/X.png":{w:100,h:100,t:"453e9b7b58268fe86ab0bfd47b7f01f1",l:2207},"flags/ZA.png":{w:96,h:76,t:"d121d7ba3eee6abb222df06e7e98af0f",l:8417},"font/font.png":{w:1024,h:1024,t:"9172906f4a4bcadeba90b805d4c491c4",l:801284},"font/font_tiny.png":{w:1024,h:1024,t:"8fbe145b22488cef95c375ebc667d9a3",l:312703},"gems/anvil.png":{w:200,
h:200,t:"cfc30e162373cb243d69dbb6f1100031",l:14585},"gems/apple_stone_01.png":{w:200,h:200,t:"0b38af498784022967a2d9b84295cb61",l:26631},"gems/apple_stone_02.png":{w:200,h:200,t:"37feb5ba8f4ff72a153d4a2683a7d811",l:28181},"gems/apple_stone_03.png":{w:200,h:200,t:"1c4bc3d9d11eea2a1ede77adf7f1e281",l:29680},"gems/ballon.png":{w:200,h:200,t:"1fcf587c27aa5103d8b3c0888990a21f",l:15438},"gems/banana_01.png":{w:77,h:150,t:"e3c149390c1c0e5f2c3f09842a03927b",l:7929},"gems/banana_02.png":{w:70,h:150,t:"e2c515956e201854918e9620adde2fc9",
l:8454},"gems/banana_03.png":{w:51,h:152,t:"299402e8c0d636717ac07f4002b64abb",l:7577},"gems/banana_base.png":{w:87,h:200,t:"59ea62a71d269e9dd01427cd5fdc40bf",l:8011},"gems/banana_overlay.png":{w:58,h:31,t:"18831c4406bfb66e276c165cf073ab02",l:3641},"gems/basket.png":{w:200,h:104,t:"966ec4a38059d9324ef739ae47d96bcc",l:35975},"gems/basket_back.png":{w:200,h:114,t:"7ee97e822316574a00f7c6d6bdae0e3a",l:17433},"gems/basket_twister.png":{w:200,h:104,t:"62df10730ce3af9101ddf7ec2d8f7b3b",l:31845},"gems/bathsuit_duck.png":{w:90,
h:39,t:"a1ffe1609b8959e867f9181cdf1a6070",l:2819},"gems/beehive.png":{w:200,h:200,t:"e927c7fe7527591c510b34e5a05472c0",l:27107},"gems/berry.png":{w:50,h:50,t:"98eb9cf3f1f3bec7dc2f6cc96ad62960",l:2966},"gems/bg_glow.png":{w:100,h:100,t:"c72f873a00c052827f3dd02f94eed37c",l:4535},"gems/blob.png":{w:200,h:200,t:"d6ac652b53ad02cb5d25071ecb293222",l:40353},"gems/blockarea_frame.png":{w:200,h:200,t:"7e5f0f04b6f8d0b23d56f8113b61f4a8",l:8393},"gems/blockarea_petframe.png":{w:200,h:200,t:"e881b1a7d9efff04ba8848565ba0ea12",
l:19592},"gems/blockarea_stone.png":{w:200,h:200,t:"ca3647bd39ca56adbb54a347d6eaa2d1",l:19483},"gems/bluecap.png":{w:60,h:36,t:"f28d25b090d1235c455901a50a287faa",l:2711},"gems/bluegloves.png":{w:94,h:26,t:"10ae517ecbe3bbc488ce4e04576c5784",l:3103},"gems/bomb.png":{w:185,h:179,t:"b3196766428267e070b92398e15edc3a",l:23183},"gems/bowl_01.png":{w:200,h:200,t:"4af201b17af46e1876323be0d05e9a02",l:27231},"gems/bowl_02.png":{w:200,h:200,t:"f9c263ec28c0a9b2389783629f359746",l:27055},"gems/bowl_03.png":{w:200,
h:200,t:"fff9c2f779fdfa18ea5dc95fdbfb06db",l:21869},"gems/bowl_04.png":{w:200,h:200,t:"de3ee316dd3c9df8c7ef2394c4bdefd6",l:17187},"gems/box.png":{w:100,h:100,t:"e17e0b10041186e0046d19122c6b9a30",l:4837},"gems/box2.png":{w:100,h:100,t:"ffae76f871e4c75500be144f085f625c",l:5478},"gems/box_white.png":{w:100,h:100,t:"2789bf0ff418fe840d5a39b875cd8f7c",l:6861},"gems/branch.png":{w:200,h:200,t:"e56886ca4445f2294e3cc62dcb6ed93b",l:15662},"gems/bucket.png":{w:200,h:200,t:"03af3f451632b1feed72b5e1f7380d8b",
l:31738},"gems/Cappie_Yellow.png":{w:60,h:42,t:"262e14741c023d56e54a97b6652b90fc",l:3066},"gems/cell_01.png":{w:200,h:200,t:"2532684eb68bdc0a5615b9b9e2d09ec4",l:42322},"gems/cell_02.png":{w:200,h:200,t:"75663103673ee07ef5a32608375e132f",l:48132},"gems/cell_03.png":{w:200,h:200,t:"f3c19191fba1385708e943406c18f853",l:48884},"gems/chameleon.png":{w:100,h:100,t:"fb3da175613b8285c6653da10d81f4fb",l:15678},"gems/chameleon_mask.png":{w:200,h:200,t:"06e4554c0067e331c6065ddd12bf705c",l:22187},"gems/chest.png":{w:100,
h:100,t:"718d2626a1a05ff6641ac237231432d6",l:4394},"gems/chest_open.png":{w:100,h:100,t:"a73dc360f995861022c55fb9cda52f4a",l:4951},"gems/chicken.png":{w:200,h:200,t:"4314a99de7437c6701eab5d458187448",l:39809},"gems/chicken_eye.png":{w:29,h:31,t:"c98f27f163c4ffe87673695d580ba97f",l:1417},"gems/chicken_head.png":{w:100,h:100,t:"9c4d59920572445c2f6616f20955fdab",l:13815},"gems/circle.png":{w:100,h:100,t:"4a853d52ccc43ceb14cc5b00d2e40ee3",l:9253},"gems/coconut_01.png":{w:200,h:200,t:"4ef9b01312ce2459088e2c90cb109c7d",
l:26290},"gems/coconut_02.png":{w:200,h:200,t:"edddb34934a022aa8f3f2669c58edc95",l:24961},"gems/coin.png":{w:200,h:200,t:"272d260398b9f5b58cecf36729a249c3",l:30595},"gems/coins.png":{w:100,h:100,t:"d6a65a731c1c623dafbc697087ff819e",l:15329},"gems/coin_white.png":{w:100,h:100,t:"0ab8f09eb391135e2666d59f77ace13d",l:6900},"gems/color_box.png":{w:100,h:100,t:"eb56ec87e2b22513fb3d51940e04d8fa",l:5032},"gems/crackling1.png":{w:100,h:100,t:"1e38d69be7d7763dccd5ce9aae285d45",l:3730},"gems/crackling2.png":{w:100,
h:100,t:"c0b1e1134d6e514bbcf394cb624792d8",l:4401},"gems/deserthat.png":{w:60,h:33,t:"1a70d735631504c50921ffb6270a41c6",l:2626},"gems/dung.png":{w:200,h:200,t:"cdfd3d7ba36f9cc984b3f8e7274a557c",l:29903},"gems/dung_pile.png":{w:200,h:200,t:"5cdf31507dc5f56f349482aa06c3adab",l:33679},"gems/earwarmer_red.png":{w:90,h:65,t:"dfad340f52d0b958ae889731b35fcb78",l:3486},"gems/egg.png":{w:100,h:100,t:"1647e834693f2fb85a3c035722e5beac",l:8534},"gems/egg_rainbow.png":{w:100,h:100,t:"729888036b54dc4de41fe836c16a001a",
l:10211},"gems/egg_white.png":{w:100,h:100,t:"69399d9ecb1c80223eee0e214d7fdce5",l:5345},"gems/eyes.png":{w:96,h:44,t:"e477dcc803328dc55e728f08f06d8c50",l:5224},"gems/eyes_blink.png":{w:96,h:44,t:"f84ebc28a52b2a74bc01d9868c77ec9d",l:4629},"gems/eyes_closed.png":{w:96,h:44,t:"e7a0724d11459a041c6cfc9d80342143",l:2322},"gems/eyes_sad.png":{w:100,h:50,t:"74e14ff41b5db9e2d65cbb752ff3abda",l:5059},"gems/fertilizer.png":{w:200,h:200,t:"5d7989f2ffb34abbb2e89b1296560977",l:40165},"gems/fish_fin_bottom_01.png":{w:45,
h:58,t:"9c6189a2cac6446ca9a3aae53d10a123",l:6578},"gems/fish_fin_bottom_02.png":{w:45,h:58,t:"52bb588c038bc4823f4f0faa0123463c",l:7155},"gems/fish_fin_rear_01.png":{w:52,h:155,t:"4505143e01db50a7452b39a16fbcbf9d",l:12517},"gems/fish_fin_rear_02.png":{w:52,h:155,t:"5d04a3e67767f6fd41046167c160a302",l:13340},"gems/fish_fin_top_01.png":{w:97,h:82,t:"7735fe07109c86198ec4a67a2f63565f",l:9599},"gems/fish_fin_top_02.png":{w:97,h:82,t:"da325ef33131038cc610ed43a512d904",l:10337},"gems/fish_head2_01.png":{w:108,
h:118,t:"b04c5b742f076700b598e6fda4043880",l:15517},"gems/fish_head2_02.png":{w:108,h:118,t:"38a03996c49f0fadf05258b991c70213",l:16440},"gems/fish_head_01.png":{w:108,h:118,t:"397641eb1e7e9d66ccaf2636f2d4cec8",l:16547},"gems/fish_head_02.png":{w:108,h:118,t:"a82db112ccaed941144cf2d22f5bf5c1",l:17628},"gems/fish_icon.png":{w:100,h:100,t:"6bc581e02887ee0d1d27b559e4f6f207",l:16560},"gems/fish_scale_01.png":{w:50,h:50,t:"8b166b3b67412b19dd18f6b99842604e",l:5482},"gems/fish_scale_02.png":{w:50,h:50,t:"c86d2712f9a446f2f96f5fc7f3dd29cd",
l:5847},"gems/fly.png":{w:100,h:100,t:"749f18af56b3f309b7b4949fb2771157",l:6858},"gems/fly_icon.png":{w:200,h:200,t:"0a776eb3b2f9f70a13cbab873580c1da",l:20483},"gems/fly_wing.png":{w:100,h:100,t:"405e85ba31fe0a7e7b6cf1061b6159ac",l:7975},"gems/gem_blue.png":{w:200,h:200,t:"951de5c66cb91da6a350fef8a663869d",l:44573},"gems/gem_green.png":{w:200,h:200,t:"d069a5f0a753e70c85799395d2a972bd",l:32391},"gems/gem_otter.png":{w:200,h:200,t:"8118f1c9ecafe2314920fd607b468bc2",l:35431},"gems/gem_penguin.png":{w:200,
h:200,t:"f9cfa9e8f5f2e78702bc12d966afcd3b",l:40631},"gems/gem_purple.png":{w:200,h:200,t:"0b2fe745a4c4bc8610f98c86508cef94",l:45764},"gems/gem_red.png":{w:200,h:200,t:"6b7364e9033829054291cd393b5c9e97",l:29957},"gems/gem_white.png":{w:200,h:200,t:"fd893422627c583e2a7a4afedf543999",l:50533},"gems/gem_yellow.png":{w:200,h:200,t:"7be67b7f56c4d524fdbad8903251934a",l:28614},"gems/gift.png":{w:200,h:200,t:"f4af2c8283c2fb5c463ffe1e5c96dbcd",l:31082},"gems/gift02.png":{w:200,h:200,t:"f78ba730365a486897d31d066cdf5dbc",
l:15732},"gems/gift03.png":{w:200,h:200,t:"5d71bb3184dea52f654d6df071202f7c",l:14757},"gems/hardCage.png":{w:200,h:200,t:"ab62910d81ea4c168b444d6c23d69b39",l:8934},"gems/honey.png":{w:200,h:200,t:"014dce13be3b33de8c039623a7472d16",l:30490},"gems/leaf.png":{w:200,h:200,t:"51e700117a5deebd3d3de27737171894",l:55074},"gems/lock_bottom.png":{w:71,h:68,t:"d75bd9807f5bb8c14dacb5e1d8aac925",l:4546},"gems/lock_top.png":{w:69,h:72,t:"565bba3c2372bd89051c2b833f09fbc9",l:4751},"gems/metal_plate.png":{w:200,h:200,
t:"8e40cd903bfaf1d68b3ba5f66925a1e5",l:45578},"gems/orb.png":{w:100,h:100,t:"921b62080428ca7567adf3461d976772",l:3869},"gems/ore.png":{w:200,h:200,t:"1061a245712bacc70410f92f4286d38b",l:41247},"gems/oyster_01.png":{w:200,h:200,t:"eefc5f6b24b2f5a43d8d40b62a292d8d",l:26537},"gems/oyster_02.png":{w:200,h:200,t:"e172a95acaba7d048522cb99d16aac2d",l:37535},"gems/pumpkin.png":{w:200,h:200,t:"f396f3a428d90c9671dc9d47d7b878f6",l:36241},"gems/pumpkinplant_test.png":{w:100,h:100,t:"520a8a4bbdb67570879b3d3ae2ba188f",
l:14798},"gems/pumpkinplant_test_02.png":{w:100,h:100,t:"b4906f0953c8b3550315085e1ea69103",l:5376},"gems/randombox.png":{w:200,h:200,t:"eb214de7a6cad6defcdb872141e76456",l:25396},"gems/redcap.png":{w:60,h:36,t:"c6ad805adda10e12795a5b5eb1d025d9",l:2701},"gems/redscarf.png":{w:98,h:48,t:"8af636cd6d14c0ee3969cae3ffa80918",l:3849},"gems/row.png":{w:100,h:100,t:"53e9a1d886921bbd7a1d7bcad4bd8f5c",l:13152},"gems/skunk.png":{w:100,h:100,t:"dac7a6b05931d56e4962df7d19da47b0",l:5078},"gems/snowball.png":{w:200,
h:200,t:"0ce525cf32fadddc1c307a605e37bfb3",l:21805},"gems/snowflake.png":{w:100,h:100,t:"0d64ee23e4b2c60b77e5c0b2f71d69f5",l:11688},"gems/snowman.png":{w:200,h:200,t:"c5bb33b6f19d07d52deabd38d313cc7a",l:31933},"gems/softCage.png":{w:100,h:100,t:"f3f3baf34b32d94d8e4b5bcb886f7975",l:2279},"gems/spark.png":{w:55,h:49,t:"c43d22066fab396e594b5d83398a44c4",l:3494},"gems/square.png":{w:100,h:100,t:"dc9a5c6a4731c6ef699b997a4c77a66b",l:2141},"gems/star.png":{w:60,h:60,t:"3d696942fd01760d84758511a856665c",
l:2303},"gems/storm.png":{w:100,h:100,t:"032f1ab474165e8298d2f12e505cdb2c",l:11437},"gems/sunglases_01.png":{w:90,h:26,t:"85a4eae9d1de88066feacd2cba8cf63f",l:3671},"gems/sunglases_02.png":{w:90,h:26,t:"d8d88a2928505e5214d6b75a71128ed4",l:3967},"gems/swarm.png":{w:100,h:100,t:"f6b41b7031ab7ef78b0e13db3d4a3dc3",l:11515},"gems/Tierkorb_Back.png":{w:100,h:100,t:"d4536ed192667c78d2202d0de145838f",l:5302},"gems/Tierkorb_Front.png":{w:200,h:200,t:"96b27f1cd31f5b097eac7989d15b9e37",l:40907},"gems/water_drop.png":{w:100,
h:100,t:"6cd0cd55dcb8377fbb48cfdb367ac671",l:14005},"gems/ZooBoom_Cage2.png":{w:100,h:100,t:"bc0fa2eabe126a0b0136fd566c64fd08",l:2761},"jenny/deco01.png":{w:500,h:500,t:"26eb6b190eb8032143a0fbb090d2a9fb",l:168330},"jenny/deco02.png":{w:735,h:808,t:"a63742fb3466d70924720c54a1910d8c",l:340588},"jenny/JennyJungle.png":{w:424,h:1020,t:"f1541d6a4f942cdf0d5a05c7c5bb69eb",l:307733},"jenny/Jenny_Curious.png":{w:439,h:1020,t:"2870014849019a2ec5d7640a4aa36191",l:307194},"jenny/Jenny_Flag.png":{w:631,h:1020,
t:"357edaf6330096dc04ed7038581770dd",l:409124},"jenny/Jenny_Happy.png":{w:447,h:1020,t:"62d1cc1b1573bbcc218673529c8d9f79",l:324974},"jenny/Jenny_Presenting.png":{w:547,h:1020,t:"8990458294e4290cbab71b01ac89a9c4",l:324376},"jenny/Jenny_Sad.png":{w:346,h:1020,t:"063756dee7208f11397583318c864297",l:276499},"jenny/Jenny_Trophy.png":{w:602,h:1020,t:"c85d0c02b3f8c9244e31be65ef6dd81b",l:404879},"jenny/Jenny_Worker.png":{w:519,h:1020,t:"f6a04b1a2ba170cc6f3a811be6bf20f7",l:342603},"low/bg/arctic/bear.png":{w:128,
h:128,t:"39afa0babce6d13ec3824db4159bbd72",l:7904},"low/bg/arctic/bg.jpg":{w:1024,h:1024,t:"a1a48f5614d24bafda852b20e94e4104",l:100894},"low/bg/arctic/characters.png":{w:512,h:512,t:"63c46e7354f55ce49ef922f310d31e8d",l:145565},"low/bg/beach/bg_beach_background.jpg":{w:1024,h:1024,t:"90f5646c7a070b11ee7e53279738d532",l:209045},"low/bg/beach/bg_beach_characters2.png":{w:1024,h:1024,t:"2f78c52f06e5d8517811b22bcefb725a",l:214578},"low/bg/beach/parrot.png":{w:128,h:128,t:"a786c9e4342eac358ad427307be0c6ca",
l:12918},"low/bg/carnival/bg.jpg":{w:128,h:128,t:"7512a7d1bb840e8b0e8f321d520be71c",l:1079},"low/bg/carnival/bird.png":{w:128,h:128,t:"8ce3a72dea3ac05a794e765bc8da8d90",l:22716},"low/bg/carnival/characters.png":{w:512,h:512,t:"39f75c234ff67f3ea94468dafc105f64",l:212609},"low/bg/carnival/characters2.png":{w:512,h:512,t:"f5b34b4bc5774c1a3b84896194000582",l:161523},"low/bg/carnival/middleground.png":{w:1024,h:1024,t:"fae417b258272b1fcf9655653bf1da5a",l:681171},"low/bg/castle/bat1.png":{w:128,h:128,t:"e3b8b7bfea25b84434a94b015e23c9d7",
l:7922},"low/bg/castle/bat2.png":{w:64,h:64,t:"887915e1b5ba3f5cad2dc481c6a9da18",l:4216},"low/bg/castle/bat3.png":{w:64,h:64,t:"35512cd69253b3c020a0d4b48ce581e6",l:3151},"low/bg/castle/bat4.png":{w:64,h:64,t:"615e12cc2078aa1d6d85692a434eac8d",l:4486},"low/bg/castle/bg.jpg":{w:1024,h:1024,t:"2b6271d48c45d33dd72e4ba7d409b60d",l:193878},"low/bg/castle/bg2.jpg":{w:1024,h:1024,t:"a63ef1a152cda983025c3564ffb0ebd8",l:204013},"low/bg/castle/bird.png":{w:128,h:128,t:"9b92441e01e54587157061046577e06e",l:17511},
"low/bg/cave/bg.jpg":{w:1024,h:1024,t:"1702d0868a2f9413021171b4cea94467",l:147713},"low/bg/cave/characters.jpg":{w:1024,h:1024,t:"27f3b89b68ae19c166e86f86dd0aa6ae",l:202446},"low/bg/crypt/bg.jpg":{w:1024,h:1024,t:"0162f9d929ace1f910514ffaccee171b",l:253306},"low/bg/crypt/bird.png":{w:128,h:128,t:"b50a31ff270849e624e1f9a631b25b58",l:10397},"low/bg/crypt/characters.jpg":{w:1024,h:1024,t:"e56f3c65688b45969fd553b0f16b280d",l:264089},"low/bg/desert/bd_desert_bird.png":{w:128,h:128,t:"b34149ff2de23fb125e3f729066a555d",
l:14812},"low/bg/desert/bg_desert_background.jpg":{w:1024,h:1024,t:"aeb02f7e97c63d7c414f1d416380eb6e",l:138179},"low/bg/desert/bg_desert_characters_dust.png":{w:512,h:512,t:"b7bc3f036e3fd7728fb4c584f0b5e184",l:201398},"low/bg/desert/bg_desert_middleground.png":{w:512,h:512,t:"fad9bbca5ad78b27507287944ca4c666",l:117061},"low/bg/dino/bg.jpg":{w:1024,h:1024,t:"0bdeaa7c0d037d8b70d0a2633f0fe986",l:136504},"low/bg/dino/characters.jpg":{w:1024,h:1024,t:"dadd2908c0b97eaa3978701c6039a843",l:177423},"low/bg/egypt/bg.jpg":{w:1024,
h:1024,t:"5742fedfc9ca8d4aa25f00fb168ed7cc",l:205792},"low/bg/egypt/bird.png":{w:128,h:128,t:"8c745d7a303b509ced3564820ae88e5e",l:17834},"low/bg/egypt/characters.jpg":{w:1024,h:1024,t:"8da8a2da8f7d98743cf9ebbb79dfc95a",l:233401},"low/bg/farm/bg.jpg":{w:1024,h:1024,t:"50f3e572a078e84bcf67d6590a1a491f",l:198650},"low/bg/farm/bird.png":{w:128,h:128,t:"c290191ffcb9306793a54344975a6cef",l:13709},"low/bg/farm/characters.png":{w:512,h:512,t:"8fa0bde002ff74ab3dd66caa63136390",l:92478},"low/bg/farm/chicken.png":{w:256,
h:256,t:"2ff5f951afb8da0a59db73af2973e0c2",l:38117},"low/bg/forest/bg.jpg":{w:1024,h:1024,t:"6381bd49744f1dfb3d4d3456741473f3",l:258454},"low/bg/forest/bird.png":{w:128,h:128,t:"de70e1515055c1f5b247b102376ff0da",l:19284},"low/bg/forest/characters.jpg":{w:1024,h:1024,t:"f1e6234dad36232ee2a9057cc10e0d6f",l:270507},"low/bg/hayloft/bg.jpg":{w:1024,h:1024,t:"38fb0da558de3e18ab0bb90c83e6521e",l:103062},"low/bg/hayloft/bird.png":{w:256,h:256,t:"0cac5d432b01facc876a0d7f32a915a4",l:23101},"low/bg/hayloft/car.png":{w:512,
h:512,t:"d38b395d4bec7b9e3cb3ae720a2e9cf0",l:204777},"low/bg/hayloft/characters.png":{w:512,h:512,t:"a4fc25453901b3a40450f600d0805af3",l:85779},"low/bg/hayloft/foreground.png":{w:512,h:512,t:"691ad3836d81413c794c49c3f9764582",l:130531},"low/bg/jungle/bg_jungle_background.jpg":{w:512,h:512,t:"00a4f32b8f363193710c8be67648f642",l:66796},"low/bg/jungle/bg_jungle_characters.png":{w:1024,h:1024,t:"d6c8e22f0fb2774c95d3e650783c33fb",l:274168},"low/bg/jungle/bg_jungle_foreground.png":{w:512,h:512,t:"198c1cd81f518e87700a06db5716d7b9",
l:148211},"low/bg/lava/bg_lava.jpg":{w:1024,h:1024,t:"7188e71d056de32ad83b5444fb8c500b",l:237840},"low/bg/lava/bg_lava_characters.png":{w:1024,h:1024,t:"5c8ed09b9a4aa3bd0c81016cae813231",l:435567},"low/bg/meadow/bee.png":{w:128,h:128,t:"a3a0dcb0569e1e49739da2382b90b389",l:15665},"low/bg/meadow/bg.jpg":{w:1024,h:1024,t:"2835a95d56ceb540e7e035a43e9b5e83",l:228696},"low/bg/meadow/bird.png":{w:128,h:128,t:"2c83d98696081bb774d7a17ae82d4085",l:18173},"low/bg/meadow/characters.png":{w:512,h:512,t:"fe2d21bfa155826b9bb3c7da6f9e946c",
l:120463},"low/bg/mountain/bg.jpg":{w:512,h:512,t:"31cd0fdfc693affd39203b80581b0fcb",l:10344},"low/bg/mountain/characters.png":{w:512,h:512,t:"c26c94a3e155b44d2a2f9ce09183d5f0",l:171764},"low/bg/mountain/cloud1.png":{w:128,h:128,t:"c0da52864c22db885c0bc8e5fc7fdbcb",l:6446},"low/bg/mountain/cloud2.png":{w:128,h:128,t:"765c71adbc4ba8f49be6b60b5840286b",l:6520},"low/bg/mountain/cloud3.png":{w:128,h:128,t:"eb9ee052165e7d2f902c12fb9ebe9862",l:5787},"low/bg/mountain/middleground.png":{w:1024,h:1024,t:"e0db36e593bd3bc9ca2e7f47c1ef4ad0",
l:534454},"low/bg/ocean/bg.jpg":{w:512,h:512,t:"66502f7351aaa76a7af3ccae1c8534a0",l:44029},"low/bg/ocean/bg2.jpg":{w:512,h:512,t:"e1c3575dbe07b0f46d45a31205e2494b",l:55914},"low/bg/ocean/bird.png":{w:128,h:128,t:"f565a015cd50cd96deabdb8d9b2e7963",l:13283},"low/bg/ocean/characters.png":{w:797,h:757,t:"eed21d9707b63d8d24da33b88043df24",l:405644},"low/bg/ocean/foreground.png":{w:512,h:512,t:"d2aea35c03ade909ec8d131363b97bf5",l:106949},"low/bg/ocean/lightning.png":{w:512,h:512,t:"1e89750f43289502d026d012cfdeeca6",
l:33518},"low/bg/ocean/tentacle0.png":{w:128,h:128,t:"fc9861a49d65e622df6f73df1f815b88",l:11439},"low/bg/ocean/tentacle1.png":{w:256,h:256,t:"478a60b374e5c0843affa0f2a05e7204",l:24714},"low/bg/ocean/tentacle2.png":{w:256,h:256,t:"55d8f23949367af23da8d303d2e9cacb",l:26296},"low/bg/plane/bg.jpg":{w:1024,h:1024,t:"a2ee10f97a877af62aa36d8ae51b0414",l:83671},"low/bg/plane/bird.png":{w:128,h:128,t:"e095e1aa44bed38b68d79c6263c578d3",l:7751},"low/bg/plane/characters.png":{w:512,h:512,t:"6f4335046eff55a115e4516d83629730",
l:182107},"low/bg/plane/seagull.png":{w:128,h:128,t:"91815a97a0053848798464fa5882324a",l:9284},"low/bg/river/bg.jpg":{w:1024,h:1024,t:"f855ec9056d2900abf7d78b73e76423f",l:194428},"low/bg/river/characters.png":{w:512,h:512,t:"d0ed948c012ecc86e2238c323cc87557",l:139123},"low/bg/river/foreground.png":{w:512,h:512,t:"bb56bd866ca88ae2312c85f6f7ab1697",l:112279},"low/bg/safari/bg.jpg":{w:1024,h:1024,t:"bf2d646e93a5d98b68cc590f568774a7",l:110582},"low/bg/safari/bird.png":{w:128,h:128,t:"1c71435f49c3b58e690ff5bf6a4c54a4",
l:19893},"low/bg/safari/characters.jpg":{w:1024,h:1024,t:"ad60fef1e1f50806590b0d3f0efeec9d",l:141665},"low/bg/space/bg.jpg":{w:1024,h:1024,t:"834a7b69e34ff8e729ba5bf02554da14",l:155029},"low/bg/space/bird.png":{w:128,h:128,t:"79431a0449506e176e5766d0b556e50c",l:17242},"low/bg/space/characters.png":{w:512,h:512,t:"47a5830a53207cdf6020c4d80eaf8f34",l:132176},"low/bg/space/ufo.png":{w:128,h:128,t:"99b82e1d53f75faae941315fed3ae8e9",l:13892},"low/bg/tribe/bg.jpg":{w:1024,h:1024,t:"d529e23ae0f605471c60ab5030f93791",
l:217834},"low/bg/tribe/bg2.jpg":{w:1024,h:1024,t:"77e9f57ef1aab256977dc6411d3be812",l:262574},"low/bg/tribe/bird.png":{w:128,h:128,t:"28ce91ac2bbe896678fc9de3ee3771c8",l:10634},"low/bg/water/bg_underwater_background.jpg":{w:512,h:512,t:"f40f868a47ae1a843216cff0b209732c",l:99938},"low/bg/water/bg_underwater_characters.png":{w:512,h:512,t:"3c085d4767b2199b6605669498297339",l:163533},"low/bg/water/fish.png":{w:128,h:128,t:"a9619611f2e1c44956c1fbad93b73889",l:20998},"low/bg/waterfall/bg.jpg":{w:256,
h:256,t:"690046d97da949a103595f0dfb939d77",l:1911},"low/bg/waterfall/bird.png":{w:128,h:128,t:"b4e209e7216d90a410a6f991c2ae4cca",l:16277},"low/bg/waterfall/characters.png":{w:1024,h:1024,t:"e8e57ce1c0cd0126d92d60de1214de94",l:415856},"low/bg/waterfall/cloud01.png":{w:128,h:128,t:"d9d3df542da2e7146bfa58736110ce5e",l:4281},"low/bg/waterfall/cloud02.png":{w:256,h:256,t:"221c69966e4e8979d0632cd32e9901ef",l:13146},"low/bg/waterfall/cloud03.png":{w:128,h:128,t:"be60eb4507ce3c44eb7844c56cc75d1d",l:6240},
"low/bg/waterfall/middleground.png":{w:1024,h:1024,t:"f185ea152afc28c4cb4545f2bea7da76",l:965601},"low/bg/winter/background.jpg":{w:1024,h:1024,t:"7bd3103aa5697f680555c02e5880e93e",l:118133},"low/bg/winter/bg2.jpg":{w:1024,h:1024,t:"49e77a4d8e1cb5c4070daab2e11c58e4",l:140183},"low/bg/winter/bird.png":{w:128,h:128,t:"485c14490dd38c4b72ee7dcba2cf65f3",l:18629},"low/bg/zoo/bg.jpg":{w:1024,h:1024,t:"6ab7023f01615553098963743e1e1d0e",l:200057},"low/bg/zoo/bird.png":{w:128,h:128,t:"655812f72b1050176a95cd1cbce4be7a",
l:7283},"low/bg/zoo/characters.jpg":{w:1024,h:1024,t:"3ad2abf7ce71d1ee939591d205f9a6ce",l:230410},"particles/apple.png":{w:50,h:50,t:"58fc0ccf14514101e2baabb69cb71918",l:5411},"particles/ash.png":{w:30,h:30,t:"bd855edb47f7b6aa5d3f1087fe7e9ca5",l:1240},"particles/ballon.png":{w:45,h:45,t:"3560ef783b038601575533b76ec121a3",l:2877},"particles/banana.png":{w:128,h:128,t:"b1caec747339350dff58ea738ae9e64f",l:8447},"particles/box2.png":{w:100,h:100,t:"b2c484a420c11de7f0ea29a14d6dd8c9",l:3702},"particles/bubbles.png":{w:100,
h:100,t:"078638d62abf045fc0202d4562ecd44d",l:5971},"particles/cage01.png":{w:50,h:50,t:"144c7546532509b6bbd3f3b02aa1f927",l:690},"particles/cage02.png":{w:50,h:50,t:"0d03c0c427ed3bf321147184e597c531",l:1239},"particles/cell_01.png":{w:50,h:50,t:"88c62c8a612c5bd07ae3dcfe09aa7354",l:3767},"particles/cell_02.png":{w:50,h:50,t:"0355d0e17a8f6766144c0b48b196f8cd",l:3861},"particles/cell_03.png":{w:50,h:50,t:"9e5e1d3f561f091d3442c45277b86cdb",l:2940},"particles/circlefx.png":{w:64,h:64,t:"3c42bf93d691a83923d1fd25649e2cb2",
l:1200},"particles/coconut.png":{w:50,h:50,t:"e741e186efb658a9549001e16fadecee",l:5892},"particles/confetti.png":{w:100,h:100,t:"66a6f73004f26c673b5ae86128367060",l:2699},"particles/egg.png":{w:50,h:50,t:"c03fe2d5bb01bb0eaace5b45d7ed788c",l:3422},"particles/feather.png":{w:100,h:100,t:"f07bafacd848c48674e9b478e79ee4ad",l:11850},"particles/flare.png":{w:100,h:100,t:"1879c05f752ffaf9021c4d0fbdfccd85",l:11089},"particles/flarefx.png":{w:64,h:64,t:"9552065872421ca2fca3a702690ae0c8",l:1611},"particles/food.png":{w:49,
h:49,t:"6862e1faf92fb375c9c8964f3ef758c6",l:6070},"particles/gem_blue.png":{w:50,h:50,t:"0ef7af2b938bee3a386be05f16924682",l:6848},"particles/gem_green.png":{w:50,h:50,t:"303e71e93289886b464d5ae1e4a4dfd8",l:5658},"particles/gem_penguin.png":{w:50,h:50,t:"1eb1004604aa9a2a5b4b93ec1bfb7c58",l:6211},"particles/gem_purple.png":{w:50,h:50,t:"57acea9e3e08a110200c3206654116a3",l:6881},"particles/gem_red.png":{w:50,h:50,t:"9896b0600a69ca22340c87ac59b0d040",l:5888},"particles/gem_white.png":{w:50,h:50,t:"6bd592ab588a5a4795e27ec7390bbf77",
l:6931},"particles/gem_yellow.png":{w:50,h:50,t:"1c49efc1a07134f323075e1808495a09",l:5275},"particles/glow.png":{w:100,h:100,t:"3b4bc0e28b9c1490a7af62b099acc7d6",l:6812},"particles/glow_dot.png":{w:100,h:100,t:"4ad0ded0d9bc5a2f16b38362918b4801",l:7325},"particles/heart.png":{w:32,h:31,t:"84b1c98ddf85a6382854b739abecb596",l:1780},"particles/hexagonfx.png":{w:64,h:64,t:"0a2b5333d75fbec8c47c42a3024a5023",l:678},"particles/leaf.png":{w:50,h:50,t:"ed8f397e982ea229016cb526dc8c7e8f",l:4568},"particles/ore.png":{w:50,
h:50,t:"636d6aa1260532740bd03feb6e49c20d",l:7858},"particles/pumpkin.png":{w:50,h:50,t:"a056611f50334adfc5ca7c60d76d97b3",l:3452},"particles/ringfx.png":{w:50,h:50,t:"2a91fba9968d6eabf124c5da1d7af6c6",l:804},"particles/rock.png":{w:50,h:50,t:"e7976faea11122ab3f349b21f6f66de8",l:2470},"particles/smelly.png":{w:32,h:32,t:"eaa856eda4f38547c28c0ddffb6f3798",l:1001},"particles/snow.png":{w:30,h:30,t:"8a6cd6bfd710f71cee5b97e0fed131fc",l:1227},"particles/starfx.png":{w:64,h:64,t:"e0b7dd957f40421b25898cd0bc8df33e",
l:3403},"particles/star_on_02.png":{w:100,h:100,t:"5db14e68d81ce704fd1e920537cd8aa4",l:10486},"particles/wave.png":{w:256,h:256,t:"6a9012c3e116b4b5f04ba5cd243b0d43",l:46532},"shop/bauchbinde.png":{w:196,h:96,t:"c13395a2f16955f769170ed7a0c426dc",l:4965},"shop/currency_ok.png":{w:42,h:42,t:"7680d4355b748c11ff428f8bdf1e85fa",l:1252},"shop/gold_pack01.png":{w:200,h:200,t:"b209c7cfec86a50e30427111f749211c",l:33944},"shop/gold_pack02.png":{w:100,h:100,t:"ef38b2a1897ad001f2e009f7887981ac",l:16679},"shop/gold_pack03.png":{w:200,
h:200,t:"57d5f80a4301356bbb2d9f4bb88ecb2d",l:50683},"shop/gold_pack04.png":{w:200,h:200,t:"e9aa77e1c627328bd759f2aa57f8c250",l:36824},"shop/gold_pack05.png":{w:200,h:200,t:"286932e4be7e10a5b5f5fc2f558a4613",l:35375},"shop/gold_pack06.png":{w:200,h:200,t:"a6c4b585acb51ce8e054f0d218e94790",l:49290},"shop/SplashArt_champ.png":{w:512,h:419,t:"0dd9fe10b18060585f8c37b9ebc735db",l:302552},"shop/SplashArt_gigant.png":{w:512,h:419,t:"63acc8917ddb711bc1f90863ecae8663",l:261381},"shop/SplashArt_mega.png":{w:512,
h:419,t:"a7f57b94a2ee4878ff355f5808b107ec",l:269677},"shop/SplashArt_rare.png":{w:512,h:419,t:"2ee1ee8f3ef6e6503658ec7b27811bb3",l:234640},"shop/SplashArt_start.png":{w:512,h:419,t:"945b4b3b7e17c1e1fda4023dde84ed3a",l:145758},"shop/SplashArt_super.png":{w:512,h:419,t:"7ce903dfeb95e1faa1d80798a64feac8",l:206097},"shop/SplashArt_zoo.png":{w:512,h:419,t:"e7017f1ff91bed7fd51d9e817d39a154",l:177926},"spine/atlas2.png":{w:1024,h:1024,t:"0336ca2d7b8c0b5f493568bac94a8197",l:988166},"splash/logo.jpg":{w:512,
h:512,t:"b841fd0f6e81e922d5379968148c2344",l:53860},"splash/logoRU.jpg":{w:512,h:512,t:"56b0276af4d1dca7b2f6cf487b6fe89a",l:43533},"splash/ZooBoom_LogoHD.jpg":{w:480,h:200,t:"6bbcd99f19875de581b1e04626680284",l:52951},"teams/0/000.png":{w:200,h:200,t:"9bd8a1ae6ad6eb66a37febd8d2928891",l:8633},"teams/0/001.png":{w:200,h:200,t:"16951508bcfaa32dc515a637e4ff7f60",l:6564},"teams/0/002.png":{w:200,h:200,t:"7dde26279aba4f907c8b8ff992d502d5",l:7798},"teams/0/003.png":{w:200,h:200,t:"5dfe2d38ac9837770d700712ca7f5ffd",
l:7569},"teams/0/004.png":{w:200,h:200,t:"d7981a976cc15348190a4f7cc6742925",l:15736},"teams/0/005.png":{w:200,h:200,t:"c45f13e1953aeecd0ade027c519a6868",l:3990},"teams/0/006.png":{w:200,h:200,t:"beee7151f5740e49e34488d516a621dc",l:2748},"teams/1/000.png":{w:200,h:200,t:"315209b7f33df5b53c5ac165ad9113fa",l:9030},"teams/1/001.png":{w:200,h:200,t:"8108e244b8a79750dd1c6c16457ed4e7",l:11970},"teams/1/002.png":{w:200,h:200,t:"b7a4920cfe7ba8beb61b21184e560e11",l:3715},"teams/1/003.png":{w:200,h:200,t:"c634f564eb102d0f986dd74779ffaa3d",
l:8783},"teams/1/004.png":{w:200,h:200,t:"add66827501b7066ee414adab9a23fab",l:8689},"teams/1/005.png":{w:200,h:200,t:"7db609cd2d354381d025b6ea7a22473c",l:6945},"teams/1/006.png":{w:200,h:200,t:"002820dd336e079cb6b9247814d36842",l:4401},"teams/2/000.png":{w:100,h:100,t:"c36e959a6b7055429d42745118f06960",l:6101},"teams/2/000_o.png":{w:100,h:100,t:"1d2e45bc6c57b6c327e57705fc2b3d90",l:4799},"teams/2/001.png":{w:100,h:100,t:"aa6e38530e33a3bfd3992084c7857a9a",l:4429},"teams/2/001_o.png":{w:100,h:100,t:"91282fe5e0e30970f7e82af58cbed49e",
l:5892},"teams/2/002.png":{w:100,h:100,t:"2a758cb91342a53540750122f14fbd7e",l:7488},"teams/2/002_o.png":{w:100,h:100,t:"e0bf29263ace189b5063139f9816b77f",l:5276},"teams/2/003.png":{w:100,h:100,t:"0ee9a7011dda0d337c2e822463b17fff",l:6099},"teams/2/003_o.png":{w:100,h:100,t:"fa2284a61f059f104b7a9266d3415eb8",l:4271},"teams/2/004.png":{w:100,h:100,t:"29140fc9d4aff7dd00e747aca240a238",l:5613},"teams/2/004_o.png":{w:100,h:100,t:"4ac11e78eb9cff3b2dd27cc6a30aeddf",l:4640},"teams/2/005.png":{w:100,h:100,
t:"64d4aa53d63aad619242d9db6ae80b12",l:4558},"teams/2/005_o.png":{w:100,h:100,t:"2f0f2b46d9b2d630503caf41138c42c6",l:7171},"teams/2/006.png":{w:100,h:100,t:"e00ac176ca776f45d513bf71fb37578f",l:4017},"teams/2/006_o.png":{w:100,h:100,t:"cb81f157117f17af563f39eb71eb960b",l:5521},"teams/2/007.png":{w:100,h:100,t:"3670258fc4785bed0b6ec356f9db4585",l:4017},"teams/2/007_o.png":{w:100,h:100,t:"9afbffc0edec54bc7a6a5bf5f9a1e099",l:7907},"ui/arrow.png":{w:170,h:104,t:"160672038e7932b0e6ba69f02f4f768c",l:1082},
"ui/arrow_white.png":{w:130,h:90,t:"ec807b9e6a8afbece3df945d4650b25f",l:3335},"ui/barbutton_01.png":{w:101,h:80,t:"07d792cc522a376200d83e8b8ccdd620",l:9241},"ui/barbutton_02.png":{w:80,h:80,t:"84989cb9523dee98d4ccc4027384bc6d",l:5688},"ui/barbutton_03.png":{w:80,h:80,t:"4ecfeb7b8ea5a78d622c7abc5e02b4cd",l:6400},"ui/block.png":{w:16,h:16,t:"a88bae43b897eac189a8806357ab6456",l:77},"ui/box.png":{w:100,h:100,t:"7a2ee75c4c37798b914d5a1ac862b44d",l:1526},"ui/box_blue.png":{w:78,h:159,t:"1bcde575b568f64ff096c4ac7eb1f561",
l:9500},"ui/box_brown.png":{w:159,h:318,t:"1c70879a59fcba9a0f91865d978f0d71",l:15706},"ui/box_green.png":{w:78,h:159,t:"8c68bcd76f55aa35742625a5e7fc22bb",l:8402},"ui/box_orange.png":{w:78,h:159,t:"d32646b5b06350beb229997c4d004b2e",l:8226},"ui/box_red.png":{w:78,h:159,t:"52c8f771844a0e3b1d4d06e90afb94ad",l:7778},"ui/button3.png":{w:65,h:97,t:"a742cff1b39c5dbc8397ebaf42826550",l:3048},"ui/button4.png":{w:65,h:97,t:"104a160b5148fd80d779a33a7409edb7",l:3503},"ui/button5.png":{w:23,h:43,t:"0ba0f015f777e0213df6d003ccf9ca75",
l:2237},"ui/chest.png":{w:200,h:137,t:"5d0562ec2146a11cde2bff6d6de1e2c6",l:7802},"ui/chest_open.png":{w:200,h:137,t:"d005e3358fae6ee571ec893d5e1aac1d",l:29681},"ui/chest_open_front.png":{w:200,h:137,t:"f8c4ee0487dab59ba09b12f04f9d7960",l:15724},"ui/clock.png":{w:40,h:40,t:"93bcb4041ecb7675a975674ff1f181ea",l:1409},"ui/clock_pointer.png":{w:15,h:50,t:"3d46b68dda3b8f1dfd8b64f45ce443bf",l:1914},"ui/close.png":{w:100,h:100,t:"5584f5897255f7b45427532d6f5aede0",l:2267},"ui/dark.png":{w:43,h:50,t:"65bdfcb77bbc470149292ff0b33e08b4",
l:1687},"ui/expeditionIcon.png":{w:100,h:100,t:"06e0e118ca2ff02ccd5c840580daabdf",l:10244},"ui/frame.png":{w:42,h:42,t:"1c8b1065ae42e62f95ad44ecb818c77f",l:1274},"ui/gift.png":{w:100,h:100,t:"9fe363fce03abb15a58e579c6a3dff09",l:4394},"ui/glow.png":{w:100,h:100,t:"007885bb42e1f5d251b14d5c09ba8976",l:7036},"ui/glow2.png":{w:100,h:100,t:"1c507900faf691bd98799401b314ac9d",l:12315},"ui/gold.png":{w:200,h:200,t:"b209c7cfec86a50e30427111f749211c",l:33944},"ui/gold_small.png":{w:100,h:100,t:"1ed69c0dac80d3426a001cfdb67685eb",
l:13316},"ui/gradient.png":{w:100,h:100,t:"bce48a6ae074d1f6e3f97dce7bf20f1c",l:1474},"ui/indicator.png":{w:512,h:512,t:"f0eaa937823708d2c32a81388859764d",l:24309},"ui/infinity.png":{w:100,h:100,t:"bfc75d911304078bc684700521d213bf",l:5601},"ui/input_hint.png":{w:44,h:44,t:"d73a4be7fa31429574f6d34da97f17b3",l:1570},"ui/life.png":{w:100,h:95,t:"d59f1dfba2f0e5663424ee0368e9290a",l:9409},"ui/LogoHigh.png":{w:150,h:110,t:"990b7a34a753616f9fc98201a019c19f",l:8501},"ui/LogoHigh_RU.png":{w:300,h:220,t:"5ab6e524eaf320c285bd80a48fd6aed2",
l:93771},"ui/mail.png":{w:53,h:53,t:"2907e0add6d9e459d0bff28225938eb8",l:2560},"ui/mark.png":{w:43,h:50,t:"80d47a69b12d434724018d611f51db8f",l:2042},"ui/marker.png":{w:23,h:13,t:"654769f095d64d1c0c40b11abecf48b3",l:637},"ui/more.png":{w:100,h:100,t:"3523e099809172519bb26ad98a429923",l:5161},"ui/moremoves.png":{w:100,h:58,t:"ae75a8829d299f95a86ef08d21d76cc6",l:3913},"ui/more_icon.png":{w:100,h:100,t:"ca6bdfb098e5e6e3789c08168676d86c",l:1792},"ui/moves.png":{w:200,h:200,t:"312f9cdd5e0929fc0f251b5589628283",
l:10511},"ui/movie.png":{w:150,h:150,t:"85a8cdd5a68ccf382f014430d18c87cc",l:3698},"ui/ok.png":{w:50,h:50,t:"d1668ca2db207149623293c8960d373d",l:1319},"ui/pin_horizontal.png":{w:42,h:30,t:"ef17088229c59edd222d6d3c2306d5e7",l:2310},"ui/pin_vertical.png":{w:59,h:82,t:"00350b6afd6b4ed026ebd5ce0a180716",l:3116},"ui/plus.png":{w:50,h:50,t:"475db51a97f585f15f1bdc6ef1c20e81",l:277},"ui/question.png":{w:150,h:150,t:"8b465c02776df742fe757db4b98d1d1f",l:4452},"ui/regler_horizontal.png":{w:100,h:30,t:"e85b705831734fcdd25fd6e0c0957bdb",
l:2614},"ui/regler_vertical.png":{w:59,h:199,t:"1c5877d8dc8f333cdc0a213313c1a9c3",l:3731},"ui/rewardground.png":{w:46,h:46,t:"64edd97b6ca0303fdd1a1a47712c050a",l:1612},"ui/screen.png":{w:100,h:1E3,t:"a5a736c8762522582cebb9ff0930670f",l:13076},"ui/screen2.png":{w:220,h:1E3,t:"3d94ea43b664c2b80fe47c19610cbc8d",l:14373},"ui/screen3.png":{w:220,h:1E3,t:"d0900fc35f4cf4620dc48bf31bf8bb00",l:11773},"ui/settings.png":{w:100,h:100,t:"85f04e2d7099cf472dcee88fa4ff035d",l:5865},"ui/shopground.png":{w:46,h:46,
t:"ebfab3904cfe119f949490664b6d78ac",l:1559},"ui/shopground2.png":{w:46,h:46,t:"cd1a2c350a4c0177cf8cff92ede6d1d6",l:1557},"ui/shre.png":{w:50,h:50,t:"09ca1cfdfdb105b3cc7457e6fb5bdd98",l:2233},"ui/SquareButton.png":{w:100,h:100,t:"b8be47cfead6a457960f48a4e6411e31",l:3886},"ui/SquareButtonGray.png":{w:100,h:100,t:"2a8fb538eef45784f2e1774b8eeee47f",l:3546},"ui/SquareButtonRed.png":{w:100,h:100,t:"ac97e080afd585b128640ba653f2beaf",l:3583},"ui/starter_bg.png":{w:43,h:50,t:"46b6b460d38f9f0d246e66d516155a30",
l:2172},"ui/star_chest.png":{w:200,h:137,t:"68b82a6fd19dc96032b099ff080aeff6",l:9091},"ui/star_chest_open.png":{w:200,h:137,t:"5cf2b783b503d033f4dc26638369a755",l:36415},"ui/star_chest_open_front.png":{w:200,h:137,t:"52bc0e9c256e157ee10289b4fdc5dbe4",l:20053},"ui/star_off.png":{w:100,h:100,t:"830b9f3aec48b52f436268e0b004146c",l:3695},"ui/star_on.png":{w:100,h:100,t:"724827cc10aacf676086303338ccfcea",l:5104},"ui/star_on_02.png":{w:100,h:100,t:"e562311742955e15782fc068f739eb59",l:13695},"ui/tab_dark.png":{w:54,
h:114,t:"026cc4fdd2cbb04d7142a40eb901ae3c",l:2232},"ui/tab_dark0.png":{w:54,h:114,t:"271b22d7dfaf3e416fe7b28394532a94",l:2686},"ui/tab_light.png":{w:54,h:114,t:"efa211d59e6ef07de077519663c55b65",l:2681},"ui/tab_light0.png":{w:54,h:114,t:"f5c64ab5b7608c5db8b8e95cb28417cc",l:2532},"ui/top_border.png":{w:16,h:32,t:"e39a56dbb517aa93c8b6173c877e1403",l:180},"ui/trophy.png":{w:256,h:209,t:"4f53f60519bc207a234acdd757318872",l:57686},"ui/trophy_small.png":{w:50,h:50,t:"e47406bc85c04ff61bc494e325bd95d2",l:4156},
"ui/unlimited_life.png":{w:100,h:95,t:"84f91d6e33c28a006410e6ac27d89542",l:12493},"ui/unlimited_life_small.png":{w:50,h:48,t:"79e28c41d587b7eb95f06250d76590c1",l:5411},"ui/ZooBoom_Logo.png":{w:300,h:125,t:"2e887c7fe2b74205665ab81541db7898",l:49408},"ui/ZooBoom_Logo_RU.png":{w:600,h:250,t:"470b3db09664bd9054283067b04fefc4",l:112128}};ya.DAY_SHORT_NAMES="Sun Mon Tue Wed Thu Fri Sat".split(" ");ya.DAY_NAMES="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");ya.MONTH_SHORT_NAMES="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
ya.MONTH_NAMES="January February March April May June July August September October November December".split(" ");Q.Element=0;Q.PCData=1;Q.CData=2;Q.Comment=3;Q.DocType=4;Q.ProcessingInstruction=5;Q.Document=6;H.sStdEvents=[new ja];H.sExecutor=[];h.config={settings:{lifeRestoreDuration:18E5,maxLevel:1570,maxLifes:5,movesPerRevive:5,moveMalusCrown:4,levelPerChest:10,starsPerChest:20,registerReward:{mtx:2E3},registerReward2:{singleHit:5},registerReward3:{starterSkunk:5},adReward:{mtx:50},moreMoves:[2,
1,2],dailyUnlimitedLifeCoolDown:72E3,dailyUnlimitedLifeDuration:1800,expeditionCosts:{mtx:100}},weekly:{rewards:[{mtx:5E3},{mtx:1E3},{mtx:500},{mtx:250},{mtx:150},{mtx:100}]},teams:{maxMembers:10,creationCosts:{mtx:1E3}},buyables:{shop_single_hit_small:{costs:{mtx:150},resources:{singleHit:1}},shop_single_hit:{costs:{mtx:500},resources:{singleHit:5}},shop_single_hit_big:{costs:{mtx:1500},resources:{singleHit:20}},shop_row_hit_small:{costs:{mtx:200},resources:{rowHit:1}},shop_row_hit:{costs:{mtx:750},
resources:{rowHit:5}},shop_row_hit_big:{costs:{mtx:1500},resources:{rowHit:15}},shop_column_hit_small:{costs:{mtx:200},resources:{columnHit:1}},shop_column_hit:{costs:{mtx:750},resources:{columnHit:5}},shop_column_hit_big:{costs:{mtx:1500},resources:{columnHit:15}},shop_swizzle_small:{costs:{mtx:200},resources:{swizzle:1}},shop_swizzle:{costs:{mtx:750},resources:{swizzle:5}},shop_swizzle_big:{costs:{mtx:1500},resources:{swizzle:15}},shop_starter_line_small:{costs:{mtx:150},resources:{starterLine:1}},
shop_starter_line:{costs:{mtx:500},resources:{starterLine:5}},shop_starter_line_big:{costs:{mtx:1500},resources:{starterLine:20}},shop_starter_skunk_small:{costs:{mtx:150},resources:{starterSkunk:1}},shop_starter_skunk:{costs:{mtx:500},resources:{starterSkunk:5}},shop_starter_skunk_big:{costs:{mtx:1500},resources:{starterSkunk:20}},shop_starter_orb_small:{costs:{mtx:150},resources:{starterOrb:1}},shop_starter_orb:{costs:{mtx:500},resources:{starterOrb:5}},shop_starter_orb_big:{costs:{mtx:1500},resources:{starterOrb:20}},
extra_life:{costs:{mtx:100},resources:{lifes:1}},extra_lifes:{costs:{mtx:150},resources:{lifes:5}},extra_lifes_big:{costs:{mtx:500},resources:{lifes:20}},revive0:{costs:{mtx:100}},revive1:{costs:{mtx:200}},revive2:{costs:{mtx:400}},revive3:{costs:{mtx:800}},revive4:{costs:{mtx:1600}},revive5:{costs:{mtx:3200}},starter_package:{icon:"SplashArt_rare",idx:1,resources:{columnHit:2,mtx:200,rowHit:2,singleHit:2,starterLine:2,starterOrb:2,starterSkunk:2,swizzle:2},shop:!0,sticker:"SID_OFFER"},package_level:{icon:"SplashArt_rare",
idx:1,resources:{columnHit:2,mtx:100,rowHit:2,singleHit:2,starterLine:3,starterOrb:3,starterSkunk:3,swizzle:5,tempUnlimitedLife:1800},sticker:"SID_OFFER"},package_lifes:{icon:"SplashArt_rare",idx:1,resources:{columnHit:1,mtx:100,rowHit:1,singleHit:1,starterLine:3,starterOrb:3,starterSkunk:3,swizzle:1,tempUnlimitedLife:3600},sticker:"SID_OFFER"},package_progress:{icon:"SplashArt_rare",idx:1,resources:{columnHit:3,mtx:200,rowHit:2,singleHit:5,starterLine:1,starterOrb:1,starterSkunk:1,swizzle:5},sticker:"SID_OFFER"},
mtx_package_01:{idx:7,price:2.29,shop:!0,icon:"gold_pack01",resources:{mtx:150}},mtx_package_02:{idx:8,price:5.49,shop:!0,icon:"gold_pack02",resources:{mtx:500}},mtx_package_03:{idx:9,price:11.99,shop:!0,icon:"gold_pack03",resources:{mtx:1E3}},mtx_package_04:{idx:10,price:22.99,shop:!0,icon:"gold_pack04",resources:{mtx:2E3}},mtx_package_05:{idx:11,price:44.99,shop:!0,icon:"gold_pack05",resources:{mtx:4E3}},mtx_package_06:{idx:12,price:88.99,shop:!0,icon:"gold_pack06",resources:{mtx:8E3}},package_01:{idx:1,
price:2.99,shop:!0,icon:"SplashArt_start",resources:{mtx:100,singleHit:3,rowHit:3,columnHit:3,swizzle:3,starterLine:3,starterSkunk:3,starterOrb:3}},package_02:{idx:2,price:6.99,shop:!0,icon:"SplashArt_zoo",bonus:.1,resources:{mtx:400,singleHit:6,rowHit:6,columnHit:6,swizzle:6,starterLine:6,starterSkunk:6,starterOrb:6,tempUnlimitedLife:3600}},package_03:{idx:3,price:12.99,shop:!0,icon:"SplashArt_super",bonus:.2,resources:{mtx:800,singleHit:10,rowHit:10,columnHit:10,swizzle:10,starterLine:10,starterSkunk:10,
starterOrb:10,tempUnlimitedLife:7200},sticker:"SID_POPULAR_DEAL"},package_04:{idx:4,price:24.99,shop:!0,icon:"SplashArt_gigant",bonus:.3,resources:{noAd:1,mtx:1500,singleHit:15,rowHit:15,columnHit:15,swizzle:15,starterLine:15,starterSkunk:15,starterOrb:15,tempUnlimitedLife:10800}},package_05:{idx:5,price:49.99,shop:!0,icon:"SplashArt_mega",bonus:.4,resources:{noAd:1,mtx:3500,singleHit:20,rowHit:20,columnHit:20,swizzle:20,starterLine:20,starterSkunk:20,starterOrb:20,tempUnlimitedLife:21600}},package_06:{idx:6,
price:99.99,shop:!0,icon:"SplashArt_champ",bonus:.5,resources:{noAd:1,mtx:7500,singleHit:35,rowHit:35,columnHit:35,swizzle:35,starterLine:35,starterSkunk:35,starterOrb:35,tempUnlimitedLife:86400},sticker:"SID_BEST_DEAL"}},rewards:{reward_mtx:{resources:{mtx:100}},reward_life:{resources:{lifes:1}}},chest:[{weight:10,sub:V.__cast([{weight:1,resources:{columnHit:1}}],Array)},{weight:10,sub:V.__cast([{weight:1,resources:{rowHit:1}}],Array)},{weight:10,sub:V.__cast([{weight:1,resources:{singleHit:1}}],
Array)},{weight:10,sub:V.__cast([{weight:1,resources:{swizzle:1}}],Array)},{weight:15,sub:V.__cast([{weight:1,resources:{starterSkunk:1}}],Array)},{weight:15,sub:V.__cast([{weight:1,resources:{starterOrb:1}}],Array)},{weight:15,sub:V.__cast([{weight:1,resources:{starterLine:1}}],Array)},{weight:50,sub:V.__cast([{weight:100,resources:{mtx:5}},{weight:500,resources:{mtx:10}},{weight:200,resources:{mtx:20}},{weight:10,resources:{mtx:100}},{weight:1,resources:{mtx:200}}],Array)}],expedition:[{weight:5,
sub:V.__cast([{weight:100,resources:{tempDoubleStars:3600}},{weight:10,resources:{tempDoubleStars:7200}},{weight:1,resources:{tempDoubleStars:36E3}}],Array)},{weight:10,sub:V.__cast([{weight:50,resources:{tempStarterLine:600}},{weight:20,resources:{tempStarterLine:1800}},{weight:10,resources:{tempStarterLine:3600}},{weight:1,resources:{tempStarterLine:7200}}],Array)},{weight:10,sub:V.__cast([{weight:50,resources:{tempStarterSkunk:600}},{weight:20,resources:{tempStarterSkunk:1800}},{weight:10,resources:{tempStarterSkunk:3600}},
{weight:1,resources:{tempStarterSkunk:7200}}],Array)},{weight:10,sub:V.__cast([{weight:50,resources:{tempStarterOrb:600}},{weight:20,resources:{tempStarterOrb:1800}},{weight:10,resources:{tempStarterOrb:3600}},{weight:1,resources:{tempStarterOrb:7200}}],Array)},{weight:10,sub:V.__cast([{weight:1,resources:{columnHit:1}}],Array)},{weight:10,sub:V.__cast([{weight:1,resources:{rowHit:1}}],Array)},{weight:10,sub:V.__cast([{weight:1,resources:{singleHit:1}}],Array)},{weight:10,sub:V.__cast([{weight:1,
resources:{swizzle:1}}],Array)},{weight:15,sub:V.__cast([{weight:1,resources:{starterSkunk:1}}],Array)},{weight:15,sub:V.__cast([{weight:1,resources:{starterOrb:1}}],Array)},{weight:15,sub:V.__cast([{weight:1,resources:{starterLine:1}}],Array)},{weight:8,sub:V.__cast([{weight:500,resources:{mtx:100}},{weight:100,resources:{mtx:150}},{weight:50,resources:{mtx:200}},{weight:10,resources:{mtx:300}},{weight:1,resources:{mtx:1E3}}],Array)}],tournament:{rewards:[{mtx:1E3},{mtx:500},{mtx:250},{singleHit:1},
{singleHit:1},{singleHit:1}]}};ac.mLevel=new Yb;Ba.sIdentityArray=[1,0,0,0,1,0,0,0,1];Ba.sTempM2D=[Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new(),Ba._new()].slice(0);Ba.sTempM2DIdx=0;Ba.IDENTITY=Ba._new();Ba.sDummyM2D=Ba._new();g.ZERO=new g(0,0);g.sTempV2D=[new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g].slice(0);g.sTempV2DIdx=0;g.sTempV2DLen=g.sTempV2D.length;g.sPoolV2D=[];ca.Dispatcher=new H;
ca.sIndicatorTemplateString='\r\n\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t</image>\r\n\t\t</element>';ca.sM=Ba._new();ca.DEFAULT_DESCRIPTOR=new Ie;ca.DEFAULT_PULSE_DESCRIPTOR=new Ie;Ma.sAnimationClassMap=new Sa;X.MoveOutDefault=xd;X.MoveInDefault=Nb;od.ITEMS="UNDEFINED GEM_RANDOM GEM_RED GEM_BLUE GEM_YELLOW GEM_PURPLE GEM_GREEN GEM_WHITE COIN ORE BREAKER BREAKER_COLUMN SKUNK ORB CHEST CRACKLING CRACKLING2 BOX BOX_RED BOX_BLUE BOX_YELLOW BOX_PURPLE BOX_GREEN BOX_WHITE BOX2 BOX3 ANVIL FAT_ANVIL COINS MULTI_CAGE ORE_PILE BLOB COLOR_EGG FAT_MULTI APPLE FOOD_BOWL FAT_MULTI2 FAT_MULTI_COLOR FAT_MULTI_COLOR_TWISTER TICKER TICKER2 COCONUT CHAMELEON HONEYPOT CHICKEN DUNG BEEHIVE WATER GIFT X_HIT GROUP_SINGLE_HIT_EACH GROUP_SINGLE_HIT_EACH2 DUNG_PILE SNOWMAN GROUP_5_HITS_ONE_PLACE GROUP_5_HITS_ONE_PLACE2 FERTILIZER BALLON BOMB CELL SNOWBALL".split(" ");
od.GOALS="UNDEFINED GEM_RED GEM_BLUE GEM_YELLOW GEM_PURPLE GEM_GREEN GEM_WHITE COIN ORE BREAKER SKUNK ORB CHEST CRACKLING BOX COLOR_BOX ANVIL FAT_ANVIL MULTI_CAGE ORE_PILE BLOB COLOR_EGG FAT_MULTI APPLE FOOD_BOWL FAT_MULTI2 FAT_MULTI_COLOR FAT_MULTI_COLOR_TWISTER TICKER COCONUT CHAMELEON BEEHIVE WATER GIFT X_HIT GROUP_SINGLE_HIT_EACH DUNG_PILE SNOWMAN GROUP_5_HITS_ONE_PLACE FERTILIZER BALLON BOMB CELL SNOWBALL SOFT_CAGE HARD_CAGE FLIES SNOWFLAKE LEAF METAL_PLATE ROCKS BLOB".split(" ");od.OVERLAY=
"UNDEFINED SOFT_CAGE HARD_CAGE HARD_CAGE2 HARD_CAGE3 HARD_CAGE4 FLIES SNOWFLAKE LEAF ROCKS_RED ROCKS_BLUE ROCKS_YELLOW ROCKS_GREEN ROCKS_PURPLE ROCKS_WHITE METAL_PLATE".split(" ");Ia.sPool=new Yb;G.sLocalBuffer=new Ia(20);G.sP=[new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g].slice(0);G.sv=Array(4);G.su=Array(4);G.sx=Array(4);G.sy=Array(4);cd.sServiceMap=new Sa;C.frame=0;C.delta=0;C.timer=0;ba.instance=new ba;zd.sTargets=[];gc.DEFAULT_FIELD=[[],["x"],
["xx","xx"],["xxx","xxx","xxx"],["xxxx","xxxx","xxxx","xxxx"],["xxxxx","xxxxx","xxxxx","xxxxx","xxxxx"],"xxxxxx xxxxxx xxxxxx xxxxxx xxxxxx xxxxxx".split(" "),"xxxxxxx xxxxxxx xxxxxxx xxxxxxx xxxxxxx xxxxxxx xxxxxxx".split(" "),"xxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx".split(" "),"xxxxxxxxx xxxxxxxxx xxxxxxxxx xxxxxxxxx xxxxxxxxx xxxxxxxxx xxxxxxxxx xxxxxxxxx xxxxxxxxx".split(" "),"xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx xxxxxxxxxx".split(" ")];
ve.ALL_GEM_TYPES=["GEM_BLUE","GEM_RED","GEM_GREEN","GEM_PURPLE","GEM_YELLOW"];t.COLUMNS=-1;t.ROWS=-1;t.STONE_SIZE=100;t.sScale=1;t.THEME_POSTFIX="_ice";hc.sAnimationCount=0;hc.sAnimationDelay=0;K.sStones=new oe;K.sStoneCounts={};K.sStoneCount=0;K.sV2D=new g;ie.sBallons=[];rg.sBeeTargets=[];Wb.sBlobs=[];Wb.sLastBlobPlopp=0;Pf.sBombs=[];Ne.sParticles=["particles/cell_01.png","particles/cell_02.png","particles/cell_03.png"];ic.sProductAmount=new cb;ic.sProductDispatcher=new H;jc.stonegroup=[];Ra.sOverlays=
new Yb;Xb.GEM_TYPE_MAP=function(a){a=new cb;a.h.UNDEFINED="UNDEFINED";a.h.RED="GEM_RED";a.h.BLUE="GEM_BLUE";a.h.YELLOW="GEM_YELLOW";a.h.PURPLE="GEM_PURPLE";a.h.GREEN="GEM_GREEN";a.h.WHITE="GEM_WHITE";return a}(this);Tf.sColors=[40957,14222084,1886464,16771328,16491088,16777215];Wd.USE_CACHE=!1;Wd.USE_ENUM_INDEX=!1;Wd.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";gd.DEFAULT_RESOLVER=new Ce;gd.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Xd.CHARS=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Xd.BYTES=Wa.ofString(Xd.CHARS);De.escapes=function(a){a=new cb;a.h.lt="<";a.h.gt=">";a.h.amp="&";a.h.quot='"';a.h.apos="'";return a}(this);qd.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];qd.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];qd.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];
qd.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];qd.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];Ja.activeRequests=0;Ja.requestLimit=17;Ja.requestQueue=new Wf;Zb.windowID=0;$f.DICTIONARY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");$f.EXTENDED_DICTIONARY=function(a){a=[];for(var b=0,c=$f.DICTIONARY;b<c.length;)for(var e=c[b++],f=0,g=$f.DICTIONARY;f<g.length;)a.push(e+
g[f++]);return a}(this);uc.URI_REGEX=new Ka("^(?:([^:/?#]+):)?(?://((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?))?((((?:[^?#/]*/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)","");uc.QUERY_REGEX=new Ka("(?:^|&)([^&=]*)=?([^&]*)","");hd.sensorByID=new Yb;hd.sensors=[];Fc.devices=new Yb;Fc.onConnect=new Zh;vc.devices=new Yb;vc.onConnect=new dk;nd.onCancel=new Bg;nd.onEnd=new Bg;nd.onMove=new Bg;nd.onStart=new Bg;ua.cache=new ek;ua.onChange=new sc;ua.bundlePaths=new cb;ua.libraries=new cb;ua.libraryPaths=
new cb;Ib.throwErrors=!0;var Zk="tempStarterLine tempStarterSkunk tempStarterOrb tempUnlimitedLife tempDoubleStars tempMoreMoves".split(" ");Sb.sIconMap=new Sa;sd.PACKAGES={lifes:["extra_life","extra_lifes","extra_lifes_big"],singleHit:["shop_single_hit_small","shop_single_hit","shop_single_hit_big"],rowHit:["shop_row_hit_small","shop_row_hit","shop_row_hit_big"],columnHit:["shop_column_hit_small","shop_column_hit","shop_column_hit_big"],swizzle:["shop_swizzle_small","shop_swizzle","shop_swizzle_big"],
starterOrb:["shop_starter_orb_small","shop_starter_orb","shop_starter_orb_big"],starterSkunk:["shop_starter_skunk_small","shop_starter_skunk","shop_starter_skunk_big"],starterLine:["shop_starter_line_small","shop_starter_line","shop_starter_line_big"]};td.sLevelHighscores=new Yb;mh.shown=!1;ud.MAX_AVATAR_INDEX=29;wd.sRegisterScreenCount=0;wd.sHardLevelOfferLevel=0;Jg.NAME_COLOR_TAG="<col=0xFFCF28>";xc.MAX=[1,1,1];aa.fav="DE US RU IT PL FR LT TR UK X".split(" ");aa.total="DE US RU IT PL FR LT TR UK JP CN DK AT AU CA AR ES BE GR IN NO NL SE CH UA PT AL AZ BY BA BR CL CO HR CZ EG FI HK HK HU IS IE IL JM KR KW LU MX MC NO QA RO SA SP SG SK ZA TN".split(" ");
We.sInstanceStack=new Sa;S.sKeyEvent=new m;S.sMouseEvent=new F;zc.sIndexBuffers=[];O.sIdentityArray=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];O.sTempM3D=[O._new(),O._new(),O._new(),O._new(),O._new(),O._new(),O._new(),O._new(),O._new(),O._new(),O._new()].slice(0);O.sTempM3DIdx=0;O.sM3DData=[];O.sM3DDataCount=0;se.sMatrix=O._new();Pd.sWhiteArray=[0,0,0,1];pa.Y_AXIS=new pa(0,1,0);pa.Z_AXIS=new pa(0,0,1);pa.sTempV3D=[new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,
new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa,new pa].slice(0);pa.sTempV3DIdx=0;pa.sTempV3DLen=pa.sTempV3D.length;q.instance=new q;q.__glMemoryCurrentAvailable=-1;q.__glMemoryTotalAvailable=-1;q.renderPass=Qk.STANDARD;Mg.encodeFloat="\r\n\t\t\tvec4 encodeFloat (float depth) \r\n\t\t\t{\r\n\t\t\t  const vec4 bitShift = vec4(\r\n\t\t\t\t256 * 256 * 256,\r\n\t\t\t\t256 * 256,\r\n\t\t\t\t256,\r\n\t\t\t\t1.0\r\n\t\t\t  );\r\n\t\t\t  const vec4 bitMask = vec4(\r\n\t\t\t\t0,\r\n\t\t\t\t1.0 / 256.0,\r\n\t\t\t\t1.0 / 256.0,\r\n\t\t\t\t1.0 / 256.0\r\n\t\t\t  );\r\n\t\t\t  vec4 comp = fract(depth * bitShift);\r\n\t\t\t  comp -= comp.xxyz * bitMask;\r\n\t\t\t  return comp;\r\n\t\t\t}";
Mg.decodeFloat="\r\n\t\t\tfloat decodeFloat (vec4 color) \r\n\t\t\t{\r\n\t\t\t  const vec4 bitShift = vec4(\r\n\t\t\t\t1.0 / (256.0 * 256.0 * 256.0),\r\n\t\t\t\t1.0 / (256.0 * 256.0),\r\n\t\t\t\t1.0 / 256.0,\r\n\t\t\t\t1\r\n\t\t\t  );\r\n\t\t\t  return dot(color, bitShift);\r\n\t\t\t}";mc.READY="BufferdImageTexture2D::ready";mc.CANCEL="BufferdImage::cancel";mc.sBufferdImages=new Sa;Ic.READY="Texture2D::ready";Ic.sTextures=new Sa;Ic.sDummyVector=new mj;y.V_SCREEN_WIDTH=2048;y.V_SCREEN_HEIGHT=1536;
y.V_AR=y.V_SCREEN_WIDTH/y.V_SCREEN_HEIGHT;y.SCREEN_WIDTH=y.V_SCREEN_WIDTH;y.SCREEN_HEIGHT=y.V_SCREEN_HEIGHT;wh.sId=0;Si.placeholder=new Si(new Ui(0,0,0,0,1));bb.sP11=new g;bb.sP41=new g;bb.sP14=new g;bb.sP44=new g;bb.sDx=new g;bb.sDy=new g;bb.sDNx=new g;bb.sDNy=new g;bb.sLocalBuffer=new Ia(20);Og.SHOW_CHANGE="XResourceDisplay::SHOW_CHANGE";Og.sResourceState={};Og.sResourceStateDispatcher=new H;Ih.CLICKED="SelectorControl::clicked";Vb.sP11=new g;Vb.sP41=new g;Vb.sP14=new g;Vb.sP44=new g;Ea.sLocalBuffer=
new Ia(20);Ea.sP11=new g;Ea.sP41=new g;Ea.sP14=new g;Ea.sP44=new g;Xi.CHANGED="XValueControl::changed";lf.sLineDataPool=[];Kc.sParticles=[];Kc.sM=Ba._new();ge.sLibs=new cb;qa.sElementClassMap=new Sa({element:ca,image:G,text:Ea,input:fd,button:Aa,screen:X,list:Lb,area:sk,spine:ca,value:Xi,container:Na,texLayer:Vb,imageSpecial:bb,iframe:Ok,selector:Ih,resource:Og});qa.sPool=[];mf.FINISHED="XTween::FINISHED";mf.EVENT="XTween::EVENT";xe.CONTENT_KIND_MATCHES=[{kind:Sg.IMAGE,regex:new Ka("^image/(jpe?g|png|gif)",
"i")},{kind:Sg.XML,regex:new Ka("(application/xml|text/xml|\\+xml)","i")},{kind:Sg.JSON,regex:new Ka("^(application/json|\\+json)","i")},{kind:Sg.TEXT,regex:new Ka("(^text|application/javascript)","i")}];xe.UID_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";Cj._httpStatus=function(a){a=new Yb;a.h[100]="Continue";a.h[101]="Switching Protocols";a.h[102]="Processing";a.h[200]="OK";a.h[201]="Created";a.h[202]="Accepted";a.h[203]="Non-Authoritative Information";a.h[204]="No Content";
a.h[205]="Reset Content";a.h[206]="Partial Content";a.h[207]="Multi-Status";a.h[300]="Multiple Choices";a.h[301]="Moved Permanently";a.h[302]="Found";a.h[303]="See Other";a.h[304]="Not Modified";a.h[305]="Use Proxy";a.h[306]="Switch Proxy";a.h[307]="Temporary Redirect";a.h[400]="Bad Request";a.h[401]="Unauthorized";a.h[402]="Payment Required";a.h[403]="Forbidden";a.h[404]="Not Found";a.h[405]="Method Not Allowed";a.h[406]="Not Acceptable";a.h[407]="Proxy Authentication Required";a.h[408]="Request Timeout";
a.h[409]="Conflict";a.h[410]="Gone";a.h[411]="Length Required";a.h[412]="Precondition Failed";a.h[413]="Request Entity Too Large";a.h[414]="Request-URI Too Long";a.h[415]="Unsupported Media Type";a.h[416]="Requested Range Not Satisfiable";a.h[417]="Expectation Failed";a.h[418]="I'm a teapot";a.h[422]="Unprocessable Entity";a.h[423]="Locked";a.h[424]="Failed Dependency";a.h[425]="Unordered Collection";a.h[426]="Upgrade Required";a.h[449]="Retry With";a.h[450]="Blocked by Windows Parental Controls";
a.h[500]="Internal Server Error";a.h[501]="Not Implemented";a.h[502]="Bad Gateway";a.h[503]="Service Unavailable";a.h[504]="Gateway Timeout";a.h[505]="HTTP Version Not Supported";a.h[506]="Variant Also Negotiates";a.h[507]="Insufficient Storage";a.h[509]="Bandwidth Limit Exceeded";a.h[510]="Not Extended";return a}(this);N.NEW_LANGUAGE="Loca::NEW_LANGUAGE";N.supported=!1;N.sLangMap=new Sa;N.sTags=["_VALUE","_STRING"];N.sIdx="00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18".split(" ");N.dispatcher=
new H;ye.sRectangleData=[];ye.sRectangleDataCount=0;Tc.sToDispose=[];cg.sValues=new cb;ia.emailRegExp=new Ka("[A-Z0-9._%-]+@{1}[A-Z0-9.-]+\\.{1}[A-Z]{2,}$","i");ia.urlRegExp=new Ka("(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","igm");ia.PI_GRAD=Math.PI/180;J.main()})("undefined"!=typeof n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?
window:"undefined"!=typeof B?B:"undefined"!=typeof self?self:this)};I.lime.embed=function(z){var B={},x=I.lime.$scripts[z];if(!x)throw Error('Cannot find project name "'+z+'"');x(B,n);for(var v in B)I[v]=I[v]||B[v];(x=B.lime||window.lime)&&x.embed&&this!=x.embed&&x.embed.apply(x,arguments);return B};"function"==typeof define&&define.amd&&(define([],function(){return I.lime}),define.__amd=define.amd,define.amd=null)})("undefined"!=typeof exports?exports:"function"==typeof define&&define.amd?{}:"undefined"!=
typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
!function(){var I=function(){this.init()};I.prototype={init:function(){var c=this||n;return c._counter=1E3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var f=this||n;if(c=parseFloat(c),f.ctx||na(),void 0!==c&&0<=c&&1>=
c){if(f._volume=c,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var k=0;k<f._howls.length;k++)if(!f._howls[k]._webAudio)for(var v=f._howls[k]._getSoundIds(),x=0;x<v.length;x++){var fa=f._howls[k]._soundById(v[x]);fa&&fa._node&&(fa._node.volume=fa._volume*c)}return f}return f._volume},mute:function(c){var f=this||n;f.ctx||na();f._muted=c;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(c?0:f._volume,n.ctx.currentTime);for(var k=0;k<f._howls.length;k++)if(!f._howls[k]._webAudio)for(var v=
f._howls[k]._getSoundIds(),x=0;x<v.length;x++){var fa=f._howls[k]._soundById(v[x]);fa&&fa._node&&(fa._node.muted=!!c||fa._muted)}return f},stop:function(){for(var c=this||n,f=0;f<c._howls.length;f++)c._howls[f].stop();return c},unload:function(){for(var c=this||n,f=c._howls.length-1;0<=f;f--)c._howls[f].unload();return c.usingWebAudio&&c.ctx&&void 0!==c.ctx.close&&(c.ctx.close(),c.ctx=null,na()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=
c.ctx?c.ctx.state||"suspended":"suspended",c._autoSuspend(),!c.usingWebAudio)if("undefined"!=typeof Audio)try{var f=new Audio;void 0===f.oncanplaythrough&&(c._canPlayEvent="canplay")}catch(r){c.noAudio=!0}else c.noAudio=!0;try{f=new Audio,f.muted&&(c.noAudio=!0)}catch(r){}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,f=null;try{f="undefined"!=typeof Audio?new Audio:null}catch(ad){return c}if(!f||"function"!=typeof f.canPlayType)return c;var k=f.canPlayType("audio/mpeg;").replace(/^no$/,
""),v=c._navigator?c._navigator.userAgent:"",x=v.match(/OPR\/(\d+)/g);x=x&&33>parseInt(x[0].split("/")[1],10);var fa=-1!==v.indexOf("Safari")&&-1===v.indexOf("Chrome");v=v.match(/Version\/(.*?) /);v=fa&&v&&15>parseInt(v[1],10);return c._codecs={mp3:!(x||!k&&!f.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!k,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,
""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||
f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(v||!f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(v||!f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!c._audioUnlocked&&c.ctx){c._audioUnlocked=!1;c.autoUnlock=!1;c._mobileUnloaded||44100===c.ctx.sampleRate||
(c._mobileUnloaded=!0,c.unload());c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var f=function(k){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var n=new Audio;n._unlocked=!0;c._releaseHtml5Audio(n)}catch(vb){c.noAudio=!0;break}for(k=0;k<c._howls.length;k++)if(!c._howls[k]._webAudio){n=c._howls[k]._getSoundIds();for(var r=0;r<n.length;r++){var v=c._howls[k]._soundById(n[r]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}}c._autoResume();var x=c.ctx.createBufferSource();
x.buffer=c._scratchBuffer;x.connect(c.ctx.destination);void 0===x.start?x.noteOn(0):x.start(0);"function"==typeof c.ctx.resume&&c.ctx.resume();x.onended=function(){x.disconnect(0);c._audioUnlocked=!0;document.removeEventListener("touchstart",f,!0);document.removeEventListener("touchend",f,!0);document.removeEventListener("click",f,!0);document.removeEventListener("keydown",f,!0);for(var k=0;k<c._howls.length;k++)c._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",
f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();c=(new Audio).play();return c&&"undefined"!=typeof Promise&&(c instanceof Promise||"function"==typeof c.then)&&c.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var f=this||n;return c._unlocked&&f._html5AudioPool.push(c),
f},_autoSuspend:function(){var c=this;if(c.autoSuspend&&c.ctx&&void 0!==c.ctx.suspend&&n.usingWebAudio){for(var f=0;f<c._howls.length;f++)if(c._howls[f]._webAudio)for(var k=0;k<c._howls[f]._sounds.length;k++)if(!c._howls[f]._sounds[k]._paused)return c;return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(c.autoSuspend&&"suspended"!==c.ctx.state){c._suspendTimer=null;c.state="suspending";var f=function(){c.state="suspended";c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,
c._autoResume())};c.ctx.suspend().then(f,f)}},3E4),c}},_autoResume:function(){var c=this;if(c.ctx&&void 0!==c.ctx.resume&&n.usingWebAudio)return"running"===c.state&&"interrupted"!==c.ctx.state&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):"suspended"===c.state||"running"===c.state||"suspending"===c.ctx.state?(c.ctx.resume().then(function(){c.state="running";for(var f=0;f<c._howls.length;f++)c._howls[f]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=
null)):"suspending"===c.state&&!0,c}};var n=new I,z=function(c){if(!c.src||0===c.src.length)return void console.error("An array of source files must be passed with any new Howl.");this.init(c)};z.prototype={init:function(c){var f=this;return n.ctx||na(),f._autoplay=c.autoplay||!1,f._format="string"!=typeof c.format?c.format:[c.format],f._html5=c.html5||!1,f._muted=c.mute||!1,f._loop=c.loop||!1,f._pool=c.pool||5,f._preload="boolean"!=typeof c.preload&&"metadata"!==c.preload||c.preload,f._rate=c.rate||
1,f._sprite=c.sprite||{},f._src="string"!=typeof c.src?c.src:[c.src],f._volume=void 0!==c.volume?c.volume:1,f._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:!(!c.xhr||!c.xhr.withCredentials)&&c.xhr.withCredentials},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=c.onend?[{fn:c.onend}]:[],f._onfade=c.onfade?[{fn:c.onfade}]:[],f._onload=c.onload?[{fn:c.onload}]:[],f._onloaderror=c.onloaderror?
[{fn:c.onloaderror}]:[],f._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],f._onpause=c.onpause?[{fn:c.onpause}]:[],f._onplay=c.onplay?[{fn:c.onplay}]:[],f._onstop=c.onstop?[{fn:c.onstop}]:[],f._onmute=c.onmute?[{fn:c.onmute}]:[],f._onvolume=c.onvolume?[{fn:c.onvolume}]:[],f._onrate=c.onrate?[{fn:c.onrate}]:[],f._onseek=c.onseek?[{fn:c.onseek}]:[],f._onunlock=c.onunlock?[{fn:c.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,void 0!==n.ctx&&n.ctx&&n.autoUnlock&&n._unlockAudio(),
n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&"none"!==f._preload&&f.load(),f},load:function(){var c=null;if(n.noAudio)return void this._emit("loaderror",null,"No audio support.");"string"==typeof this._src&&(this._src=[this._src]);for(var f=0;f<this._src.length;f++){var k;if(this._format&&this._format[f])var x=this._format[f];else{if("string"!=typeof(k=this._src[f])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");
continue}(x=/^data:audio\/([^;,]+);/i.exec(k))||(x=/\.([^.]+)$/.exec(k.split("?",1)[0]));x&&(x=x[1].toLowerCase())}if(x||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),x&&n.codecs(x)){c=this._src[f];break}}return c?(this._src=c,this._state="loading","https:"===window.location.protocol&&"http:"===c.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new B(this),this._webAudio&&v(this),this):void this._emit("loaderror",null,"No codec support for selected audio sources.")},
play:function(c,f){var k=this,v=null;if("number"==typeof c)v=c,c=null;else{if("string"==typeof c&&"loaded"===k._state&&!k._sprite[c])return null;if(void 0===c&&(c="__default",!k._playLock)){for(var x=0,fa=0;fa<k._sounds.length;fa++)k._sounds[fa]._paused&&!k._sounds[fa]._ended&&(x++,v=k._sounds[fa]._id);1===x?c=null:v=null}}var z=v?k._soundById(v):k._inactiveSound();if(!z)return null;if(v&&!c&&(c=z._sprite||"__default"),"loaded"!==k._state){z._sprite=c;z._ended=!1;var I=z._id;return k._queue.push({event:"play",
action:function(){k.play(I)}}),I}if(v&&!z._paused)return f||k._loadQueue("play"),z._id;k._webAudio&&n._autoResume();var B=Math.max(0,0<z._seek?z._seek:k._sprite[c][0]/1E3),J=Math.max(0,(k._sprite[c][0]+k._sprite[c][1])/1E3-B),W=1E3*J/Math.abs(z._rate),na=k._sprite[c][0]/1E3,ma=(k._sprite[c][0]+k._sprite[c][1])/1E3;z._sprite=c;z._ended=!1;var E=function(){z._paused=!1;z._seek=B;z._start=na;z._stop=ma;z._loop=!(!z._loop&&!k._sprite[c][2])};if(B>=ma)return void k._ended(z);var ta=z._node;if(k._webAudio)v=
function(){k._playLock=!1;E();k._refreshBuffer(z);ta.gain.setValueAtTime(z._muted||k._muted?0:z._volume,n.ctx.currentTime);z._playStart=n.ctx.currentTime;void 0===ta.bufferSource.start?z._loop?ta.bufferSource.noteGrainOn(0,B,86400):ta.bufferSource.noteGrainOn(0,B,J):z._loop?ta.bufferSource.start(0,B,86400):ta.bufferSource.start(0,B,J);W!==1/0&&(k._endTimers[z._id]=setTimeout(k._ended.bind(k,z),W));f||setTimeout(function(){k._emit("play",z._id);k._loadQueue()},0)},"running"===n.state&&"interrupted"!==
n.ctx.state?v():(k._playLock=!0,k.once("resume",v),k._clearTimer(z._id));else{var Da=function(){ta.currentTime=B;ta.muted=z._muted||k._muted||n._muted||ta.muted;ta.volume=z._volume*n.volume();ta.playbackRate=z._rate;try{var r=ta.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(k._playLock=!0,E(),r.then(function(){k._playLock=!1;ta._unlocked=!0;f?k._loadQueue():k._emit("play",z._id)}).catch(function(){k._playLock=!1;k._emit("playerror",z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
z._ended=!0;z._paused=!0})):f||(k._playLock=!1,E(),k._emit("play",z._id)),ta.playbackRate=z._rate,ta.paused)return void k._emit("playerror",z._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==c||z._loop?k._endTimers[z._id]=setTimeout(k._ended.bind(k,z),W):(k._endTimers[z._id]=function(){k._ended(z);ta.removeEventListener("ended",k._endTimers[z._id],!1)},ta.addEventListener("ended",k._endTimers[z._id],
!1))}catch(w){k._emit("playerror",z._id,w)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===ta.src&&(ta.src=k._src,ta.load());v=window&&window.ejecta||!ta.readyState&&n._navigator.isCocoonJS;if(3<=ta.readyState||v)Da();else{k._playLock=!0;k._state="loading";var $a=function(){k._state="loaded";Da();ta.removeEventListener(n._canPlayEvent,$a,!1)};ta.addEventListener(n._canPlayEvent,$a,!1);k._clearTimer(z._id)}}return z._id},pause:function(c,f){var k=this;if("loaded"!==
k._state||k._playLock)return k._queue.push({event:"pause",action:function(){k.pause(c)}}),k;for(var n=k._getSoundIds(c),v=0;v<n.length;v++){k._clearTimer(n[v]);var x=k._soundById(n[v]);if(x&&!x._paused&&(x._seek=k.seek(n[v]),x._rateSeek=0,x._paused=!0,k._stopFade(n[v]),x._node))if(k._webAudio){if(!x._node.bufferSource)continue;void 0===x._node.bufferSource.stop?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0);k._cleanBuffer(x._node)}else isNaN(x._node.duration)&&x._node.duration!==1/0||
x._node.pause();f||k._emit("pause",x?x._id:null)}return k},stop:function(c,f){var k=this;if("loaded"!==k._state||k._playLock)return k._queue.push({event:"stop",action:function(){k.stop(c)}}),k;for(var n=k._getSoundIds(c),v=0;v<n.length;v++){k._clearTimer(n[v]);var x=k._soundById(n[v]);x&&(x._seek=x._start||0,x._rateSeek=0,x._paused=!0,x._ended=!0,k._stopFade(n[v]),x._node&&(k._webAudio?x._node.bufferSource&&(void 0===x._node.bufferSource.stop?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),
k._cleanBuffer(x._node)):isNaN(x._node.duration)&&x._node.duration!==1/0||(x._node.currentTime=x._start||0,x._node.pause(),x._node.duration===1/0&&k._clearSound(x._node))),f||k._emit("stop",x._id))}return k},mute:function(c,f){var k=this;if("loaded"!==k._state||k._playLock)return k._queue.push({event:"mute",action:function(){k.mute(c,f)}}),k;if(void 0===f){if("boolean"!=typeof c)return k._muted;k._muted=c}for(var v=k._getSoundIds(f),x=0;x<v.length;x++){var z=k._soundById(v[x]);z&&(z._muted=c,z._interval&&
k._stopFade(z._id),k._webAudio&&z._node?z._node.gain.setValueAtTime(c?0:z._volume,n.ctx.currentTime):z._node&&(z._node.muted=!!n._muted||c),k._emit("mute",z._id))}return k},volume:function(){var c,f,k=this,v=arguments;if(0===v.length)return k._volume;1===v.length||2===v.length&&void 0===v[1]?0<=k._getSoundIds().indexOf(v[0])?f=parseInt(v[0],10):c=parseFloat(v[0]):2<=v.length&&(c=parseFloat(v[0]),f=parseInt(v[1],10));var x;if(!(void 0!==c&&0<=c&&1>=c))return x=f?k._soundById(f):k._sounds[0],x?x._volume:
0;if("loaded"!==k._state||k._playLock)return k._queue.push({event:"volume",action:function(){k.volume.apply(k,v)}}),k;void 0===f&&(k._volume=c);f=k._getSoundIds(f);for(var z=0;z<f.length;z++)(x=k._soundById(f[z]))&&(x._volume=c,v[2]||k._stopFade(f[z]),k._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(c,n.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=c*n.volume()),k._emit("volume",x._id));return k},fade:function(c,f,k,v){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",
action:function(){r.fade(c,f,k,v)}}),r;c=Math.min(Math.max(0,parseFloat(c)),1);f=Math.min(Math.max(0,parseFloat(f)),1);k=parseFloat(k);r.volume(c,v);for(var x=r._getSoundIds(v),z=0;z<x.length;z++){var I=r._soundById(x[z]);if(I){if(v||r._stopFade(x[z]),r._webAudio&&!I._muted){var B=n.ctx.currentTime,J=B+k/1E3;I._volume=c;I._node.gain.setValueAtTime(c,B);I._node.gain.linearRampToValueAtTime(f,J)}r._startFadeInterval(I,c,f,k,x[z],void 0===v)}}return r},_startFadeInterval:function(c,f,k,n,v,x){var r=
this,z=f,I=k-f;v=Math.abs(I/.01);v=Math.max(4,0<v?n/v:n);var J=Date.now();c._fadeTo=k;c._interval=setInterval(function(){var v=(Date.now()-J)/n;J=Date.now();z+=I*v;z=Math.round(100*z)/100;z=0>I?Math.max(k,z):Math.min(k,z);r._webAudio?c._volume=z:r.volume(z,c._id,!0);x&&(r._volume=z);(k<f&&z<=k||k>f&&z>=k)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,r.volume(k,c._id),r._emit("fade",c._id))},v)},_stopFade:function(c){var f=this._soundById(c);return f&&f._interval&&(this._webAudio&&
f._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(f._interval),f._interval=null,this.volume(f._fadeTo,c),f._fadeTo=null,this._emit("fade",c)),this},loop:function(){var c,f,k,n=arguments;if(0===n.length)return this._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(k=this._soundById(parseInt(n[0],10)))&&k._loop;this._loop=c=n[0]}else 2===n.length&&(c=n[0],f=parseInt(n[1],10));f=this._getSoundIds(f);for(n=0;n<f.length;n++)(k=this._soundById(f[n]))&&(k._loop=c,this._webAudio&&
k._node&&k._node.bufferSource&&(k._node.bufferSource.loop=c,c&&(k._node.bufferSource.loopStart=k._start||0,k._node.bufferSource.loopEnd=k._stop,this.playing(f[n])&&(this.pause(f[n],!0),this.play(f[n],!0)))));return this},rate:function(){var c,f,k=this,v=arguments;0===v.length?f=k._sounds[0]._id:1===v.length?0<=k._getSoundIds().indexOf(v[0])?f=parseInt(v[0],10):c=parseFloat(v[0]):2===v.length&&(c=parseFloat(v[0]),f=parseInt(v[1],10));var x;if("number"!=typeof c)return x=k._soundById(f),x?x._rate:k._rate;
if("loaded"!==k._state||k._playLock)return k._queue.push({event:"rate",action:function(){k.rate.apply(k,v)}}),k;void 0===f&&(k._rate=c);f=k._getSoundIds(f);for(var z=0;z<f.length;z++)if(x=k._soundById(f[z])){k.playing(f[z])&&(x._rateSeek=k.seek(f[z]),x._playStart=k._webAudio?n.ctx.currentTime:x._playStart);x._rate=c;k._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(c,n.ctx.currentTime):x._node&&(x._node.playbackRate=c);var I=k.seek(f[z]);I=1E3*((k._sprite[x._sprite][0]+
k._sprite[x._sprite][1])/1E3-I)/Math.abs(x._rate);!k._endTimers[f[z]]&&x._paused||(k._clearTimer(f[z]),k._endTimers[f[z]]=setTimeout(k._ended.bind(k,x),I));k._emit("rate",x._id)}return k},seek:function(){var c,f,k=this,v=arguments;0===v.length?k._sounds.length&&(f=k._sounds[0]._id):1===v.length?0<=k._getSoundIds().indexOf(v[0])?f=parseInt(v[0],10):k._sounds.length&&(f=k._sounds[0]._id,c=parseFloat(v[0])):2===v.length&&(c=parseFloat(v[0]),f=parseInt(v[1],10));if(void 0===f)return 0;if("number"==typeof c&&
("loaded"!==k._state||k._playLock))return k._queue.push({event:"seek",action:function(){k.seek.apply(k,v)}}),k;var x=k._soundById(f);if(x){if(!("number"==typeof c&&0<=c))return k._webAudio?(c=k.playing(f)?n.ctx.currentTime-x._playStart:0,x._seek+((x._rateSeek?x._rateSeek-x._seek:0)+c*Math.abs(x._rate))):x._node.currentTime;var z=k.playing(f);z&&k.pause(f,!0);x._seek=c;x._ended=!1;k._clearTimer(f);k._webAudio||!x._node||isNaN(x._node.duration)||(x._node.currentTime=c);var I=function(){z&&k.play(f,
!0);k._emit("seek",f)};if(z&&!k._webAudio){var B=function(){k._playLock?setTimeout(B,0):I()};setTimeout(B,0)}else I()}return k},playing:function(c){if("number"==typeof c)return c=this._soundById(c),!!c&&!c._paused;for(c=0;c<this._sounds.length;c++)if(!this._sounds[c]._paused)return!0;return!1},duration:function(c){var f=this._duration;c=this._soundById(c);return c&&(f=this._sprite[c._sprite][1]/1E3),f},state:function(){return this._state},unload:function(){for(var c=this._sounds,f=0;f<c.length;f++)c[f]._paused||
this.stop(c[f]._id),this._webAudio||(this._clearSound(c[f]._node),c[f]._node.removeEventListener("error",c[f]._errorFn,!1),c[f]._node.removeEventListener(n._canPlayEvent,c[f]._loadFn,!1),c[f]._node.removeEventListener("ended",c[f]._endFn,!1),n._releaseHtml5Audio(c[f]._node)),delete c[f]._node,this._clearTimer(c[f]._id);f=n._howls.indexOf(this);0<=f&&n._howls.splice(f,1);c=!0;for(f=0;f<n._howls.length;f++)if(n._howls[f]._src===this._src||0<=this._src.indexOf(n._howls[f]._src)){c=!1;break}return x&&
c&&delete x[this._src],n.noAudio=!1,this._state="unloaded",this._sounds=[],null},on:function(c,f,k,n){c=this["_on"+c];return"function"==typeof f&&c.push(n?{id:k,fn:f,once:n}:{id:k,fn:f}),this},off:function(c,f,k){var n=this["_on"+c];if("number"==typeof f&&(k=f,f=null),f||k)for(c=0;c<n.length;c++){var r=k===n[c].id;if(f===n[c].fn&&r||!f&&r){n.splice(c,1);break}}else if(c)this["_on"+c]=[];else for(f=Object.keys(this),c=0;c<f.length;c++)0===f[c].indexOf("_on")&&Array.isArray(this[f[c]])&&(this[f[c]]=
[]);return this},once:function(c,f,k){return this.on(c,f,k,1),this},_emit:function(c,f,k){for(var n=this["_on"+c],r=n.length-1;0<=r;r--)n[r].id&&n[r].id!==f&&"load"!==c||(setTimeout(function(c){c.call(this,f,k)}.bind(this,n[r].fn),0),n[r].once&&this.off(c,n[r].fn,n[r].id));return this._loadQueue(c),this},_loadQueue:function(c){if(0<this._queue.length){var f=this._queue[0];f.event===c&&(this._queue.shift(),this._loadQueue());c||f.action()}return this},_ended:function(c){var f=c._sprite;if(!this._webAudio&&
c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(this._ended.bind(this,c),100),this;f=!(!c._loop&&!this._sprite[f][2]);if(this._emit("end",c._id),!this._webAudio&&f&&this.stop(c._id,!0).play(c._id),this._webAudio&&f){this._emit("play",c._id);c._seek=c._start||0;c._rateSeek=0;c._playStart=n.ctx.currentTime;var k=1E3*(c._stop-c._start)/Math.abs(c._rate);this._endTimers[c._id]=setTimeout(this._ended.bind(this,c),k)}return this._webAudio&&!f&&(c._paused=!0,c._ended=
!0,c._seek=c._start||0,c._rateSeek=0,this._clearTimer(c._id),this._cleanBuffer(c._node),n._autoSuspend()),this._webAudio||f||this.stop(c._id,!0),this},_clearTimer:function(c){if(this._endTimers[c]){if("function"!=typeof this._endTimers[c])clearTimeout(this._endTimers[c]);else{var f=this._soundById(c);f&&f._node&&f._node.removeEventListener("ended",this._endTimers[c],!1)}delete this._endTimers[c]}return this},_soundById:function(c){for(var f=0;f<this._sounds.length;f++)if(c===this._sounds[f]._id)return this._sounds[f];
return null},_inactiveSound:function(){this._drain();for(var c=0;c<this._sounds.length;c++)if(this._sounds[c]._ended)return this._sounds[c].reset();return new B(this)},_drain:function(){var c=this._pool,f=0,k;if(!(this._sounds.length<c)){for(k=0;k<this._sounds.length;k++)this._sounds[k]._ended&&f++;for(k=this._sounds.length-1;0<=k&&!(f<=c);k--)this._sounds[k]._ended&&(this._webAudio&&this._sounds[k]._node&&this._sounds[k]._node.disconnect(0),this._sounds.splice(k,1),f--)}},_getSoundIds:function(c){if(void 0===
c){c=[];for(var f=0;f<this._sounds.length;f++)c.push(this._sounds[f]._id);return c}return[c]},_refreshBuffer:function(c){return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=x[this._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),
this},_cleanBuffer:function(c){var f=n._navigator&&0<=n._navigator.vendor.indexOf("Apple");if(!c.bufferSource)return this;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),f))try{c.bufferSource.buffer=n._scratchBuffer}catch(r){}return c.bufferSource=null,this},_clearSound:function(c){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var B=function(c){this._parent=
c;this.init()};B.prototype={init:function(){var c=this._parent;return this._muted=c._muted,this._loop=c._loop,this._volume=c._volume,this._rate=c._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++n._counter,c._sounds.push(this),this.create(),this},create:function(){var c=this._parent,f=n._muted||this._muted||this._parent._muted?0:this._volume;return c._webAudio?(this._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),this._node.gain.setValueAtTime(f,
n.ctx.currentTime),this._node.paused=!0,this._node.connect(n.masterGain)):n.noAudio||(this._node=n._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(n._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=c._src,this._node.preload=!0===c._preload?"auto":c._preload,this._node.volume=
f*n.volume(),this._node.load()),this},reset:function(){var c=this._parent;return this._muted=c._muted,this._loop=c._loop,this._volume=c._volume,this._rate=c._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++n._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var c=this._parent;c._duration=Math.ceil(10*
this._node.duration)/10;0===Object.keys(c._sprite).length&&(c._sprite={__default:[0,1E3*c._duration]});"loaded"!==c._state&&(c._state="loaded",c._emit("load"),c._loadQueue());this._node.removeEventListener(n._canPlayEvent,this._loadFn,!1)},_endListener:function(){var c=this._parent;c._duration===1/0&&(c._duration=Math.ceil(10*this._node.duration)/10,c._sprite.__default[1]===1/0&&(c._sprite.__default[1]=1E3*c._duration),c._ended(this));this._node.removeEventListener("ended",this._endFn,!1)}};var x=
{},v=function(c){var f=c._src;if(x[f])return c._duration=x[f].duration,void W(c);if(/^data:[^;]+;base64,/.test(f)){for(var n=atob(f.split(",")[1]),v=new Uint8Array(n.length),z=0;z<n.length;++z)v[z]=n.charCodeAt(z);ma(v.buffer,c)}else{var I=new XMLHttpRequest;I.open(c._xhr.method,f,!0);I.withCredentials=c._xhr.withCredentials;I.responseType="arraybuffer";c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(f){I.setRequestHeader(f,c._xhr.headers[f])});I.onload=function(){var f=(I.status+"")[0];
if("0"!==f&&"2"!==f&&"3"!==f)return void c._emit("loaderror",null,"Failed loading audio file with status: "+I.status+".");ma(I.response,c)};I.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete x[f],c.load())};k(I)}},k=function(c){try{c.send()}catch(f){c.onerror()}},ma=function(c,f){var k=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(c){c&&0<f._sounds.length?(x[f._src]=c,W(f,c)):k()};"undefined"!=typeof Promise&&1===n.ctx.decodeAudioData.length?
n.ctx.decodeAudioData(c).then(v).catch(k):n.ctx.decodeAudioData(c,v,k)},W=function(c,f){f&&!c._duration&&(c._duration=f.duration);0===Object.keys(c._sprite).length&&(c._sprite={__default:[0,1E3*c._duration]});"loaded"!==c._state&&(c._state="loaded",c._emit("load"),c._loadQueue())},na=function(){if(n.usingWebAudio){try{"undefined"!=typeof AudioContext?n.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(r){n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=
!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);f=f?parseInt(f[1],10):null;c&&f&&9>f&&(c=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase()),n._navigator&&!c&&(n.usingWebAudio=!1));n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination));
n._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:z}});"undefined"!=typeof exports&&(exports.Howler=n,exports.Howl=z);"undefined"!=typeof global?(global.HowlerGlobal=I,global.Howler=n,global.Howl=z,global.Sound=B):"undefined"!=typeof window&&(window.HowlerGlobal=I,window.Howler=n,window.Howl=z,window.Sound=B)}();
!function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(n){if(!this.ctx||!this.ctx.listener)return this;for(var z=this._howls.length-1;0<=z;z--)this._howls[z].stereo(n);return this};HowlerGlobal.prototype.pos=function(n,z,I){return this.ctx&&this.ctx.listener?(z="number"!=typeof z?this._pos[1]:z,I="number"!=typeof I?this._pos[2]:I,"number"!=typeof n?this._pos:(this._pos=[n,z,I],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],
Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this};HowlerGlobal.prototype.orientation=function(n,z,I,x,v,k){if(!this.ctx||!this.ctx.listener)return this;var B=this._orientation;return z="number"!=typeof z?B[1]:z,I="number"!=typeof I?B[2]:I,x="number"!=typeof x?B[3]:x,v="number"!=
typeof v?B[4]:v,k="number"!=typeof k?B[5]:k,"number"!=typeof n?B:(this._orientation=[n,z,I,x,v,k],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(z,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(I,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(x,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(v,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(k,
Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(n,z,I,x,v,k),this)};Howl.prototype.init=function(n){return function(z){return this._orientation=z.orientation||[1,0,0],this._stereo=z.stereo||null,this._pos=z.pos||null,this._pannerAttr={coneInnerAngle:void 0!==z.coneInnerAngle?z.coneInnerAngle:360,coneOuterAngle:void 0!==z.coneOuterAngle?z.coneOuterAngle:360,coneOuterGain:void 0!==z.coneOuterGain?z.coneOuterGain:0,distanceModel:void 0!==z.distanceModel?z.distanceModel:"inverse",maxDistance:void 0!==
z.maxDistance?z.maxDistance:1E4,panningModel:void 0!==z.panningModel?z.panningModel:"HRTF",refDistance:void 0!==z.refDistance?z.refDistance:1,rolloffFactor:void 0!==z.rolloffFactor?z.rolloffFactor:1},this._onstereo=z.onstereo?[{fn:z.onstereo}]:[],this._onpos=z.onpos?[{fn:z.onpos}]:[],this._onorientation=z.onorientation?[{fn:z.onorientation}]:[],n.call(this,z)}}(Howl.prototype.init);Howl.prototype.stereo=function(n,z){var B=this;if(!B._webAudio)return B;if("loaded"!==B._state)return B._queue.push({event:"stereo",
action:function(){B.stereo(n,z)}}),B;var x=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===z){if("number"!=typeof n)return B._stereo;B._stereo=n;B._pos=[n,0,0]}for(var v=B._getSoundIds(z),k=0;k<v.length;k++){var ma=B._soundById(v[k]);if(ma){if("number"!=typeof n)return ma._stereo;ma._stereo=n;ma._pos=[n,0,0];ma._node&&(ma._pannerAttr.panningModel="equalpower",ma._panner&&ma._panner.pan||I(ma,x),"spatial"===x?void 0!==ma._panner.positionX?(ma._panner.positionX.setValueAtTime(n,
Howler.ctx.currentTime),ma._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),ma._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):ma._panner.setPosition(n,0,0):ma._panner.pan.setValueAtTime(n,Howler.ctx.currentTime));B._emit("stereo",ma._id)}}return B};Howl.prototype.pos=function(n,z,B,x){var v=this;if(!v._webAudio)return v;if("loaded"!==v._state)return v._queue.push({event:"pos",action:function(){v.pos(n,z,B,x)}}),v;if(z="number"!=typeof z?0:z,B="number"!=typeof B?-.5:B,void 0===
x){if("number"!=typeof n)return v._pos;v._pos=[n,z,B]}for(var k=v._getSoundIds(x),ma=0;ma<k.length;ma++){var W=v._soundById(k[ma]);if(W){if("number"!=typeof n)return W._pos;W._pos=[n,z,B];W._node&&(W._panner&&!W._panner.pan||I(W,"spatial"),void 0!==W._panner.positionX?(W._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),W._panner.positionY.setValueAtTime(z,Howler.ctx.currentTime),W._panner.positionZ.setValueAtTime(B,Howler.ctx.currentTime)):W._panner.setPosition(n,z,B));v._emit("pos",W._id)}}return v};
Howl.prototype.orientation=function(n,z,B,x){var v=this;if(!v._webAudio)return v;if("loaded"!==v._state)return v._queue.push({event:"orientation",action:function(){v.orientation(n,z,B,x)}}),v;if(z="number"!=typeof z?v._orientation[1]:z,B="number"!=typeof B?v._orientation[2]:B,void 0===x){if("number"!=typeof n)return v._orientation;v._orientation=[n,z,B]}for(var k=v._getSoundIds(x),ma=0;ma<k.length;ma++){var W=v._soundById(k[ma]);if(W){if("number"!=typeof n)return W._orientation;W._orientation=[n,
z,B];W._node&&(W._panner||(W._pos||(W._pos=v._pos||[0,0,-.5]),I(W,"spatial")),void 0!==W._panner.orientationX?(W._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),W._panner.orientationY.setValueAtTime(z,Howler.ctx.currentTime),W._panner.orientationZ.setValueAtTime(B,Howler.ctx.currentTime)):W._panner.setOrientation(n,z,B));v._emit("orientation",W._id)}}return v};Howl.prototype.pannerAttr=function(){var n,z,B=arguments;if(!this._webAudio)return this;if(0===B.length)return this._pannerAttr;
if(1===B.length){if("object"!=typeof B[0])return z=this._soundById(parseInt(B[0],10)),z?z._pannerAttr:this._pannerAttr;var x=B[0];void 0===n&&(x.pannerAttr||(x.pannerAttr={coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor,panningModel:x.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==x.pannerAttr.coneInnerAngle?x.pannerAttr.coneInnerAngle:
this._coneInnerAngle,coneOuterAngle:void 0!==x.pannerAttr.coneOuterAngle?x.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==x.pannerAttr.coneOuterGain?x.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==x.pannerAttr.distanceModel?x.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==x.pannerAttr.maxDistance?x.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==x.pannerAttr.refDistance?x.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==
x.pannerAttr.rolloffFactor?x.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==x.pannerAttr.panningModel?x.pannerAttr.panningModel:this._panningModel})}else 2===B.length&&(x=B[0],n=parseInt(B[1],10));n=this._getSoundIds(n);for(B=0;B<n.length;B++)if(z=this._soundById(n[B])){var v=z._pannerAttr;v={coneInnerAngle:void 0!==x.coneInnerAngle?x.coneInnerAngle:v.coneInnerAngle,coneOuterAngle:void 0!==x.coneOuterAngle?x.coneOuterAngle:v.coneOuterAngle,coneOuterGain:void 0!==x.coneOuterGain?
x.coneOuterGain:v.coneOuterGain,distanceModel:void 0!==x.distanceModel?x.distanceModel:v.distanceModel,maxDistance:void 0!==x.maxDistance?x.maxDistance:v.maxDistance,refDistance:void 0!==x.refDistance?x.refDistance:v.refDistance,rolloffFactor:void 0!==x.rolloffFactor?x.rolloffFactor:v.rolloffFactor,panningModel:void 0!==x.panningModel?x.panningModel:v.panningModel};var k=z._panner;k||(z._pos||(z._pos=this._pos||[0,0,-.5]),I(z,"spatial"),k=z._panner);k.coneInnerAngle=v.coneInnerAngle;k.coneOuterAngle=
v.coneOuterAngle;k.coneOuterGain=v.coneOuterGain;k.distanceModel=v.distanceModel;k.maxDistance=v.maxDistance;k.refDistance=v.refDistance;k.rolloffFactor=v.rolloffFactor;k.panningModel=v.panningModel}return this};Sound.prototype.init=function(n){return function(){var z=this._parent;this._orientation=z._orientation;this._stereo=z._stereo;this._pos=z._pos;this._pannerAttr=z._pannerAttr;n.call(this);this._stereo?z.stereo(this._stereo):this._pos&&z.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init);
Sound.prototype.reset=function(n){return function(){var z=this._parent;return this._orientation=z._orientation,this._stereo=z._stereo,this._pos=z._pos,this._pannerAttr=z._pannerAttr,this._stereo?z.stereo(this._stereo):this._pos?z.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,z._refreshBuffer(this)),n.call(this)}}(Sound.prototype.reset);var I=function(n,z){"spatial"===(z||"spatial")?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=
n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,void 0!==n._panner.positionX?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],
Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),void 0!==n._panner.orientationX?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):
(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime));n._panner.connect(n._node);n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}}();
!function(I){"object"==typeof exports&&"undefined"!=typeof module?module.exports=I():"function"==typeof define&&define.amd?define([],I):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=I()}(function(){return function x(n,z,B){function v(W,na){if(!z[W]){if(!n[W]){var c="function"==typeof require&&require;if(!na&&c)return c(W,!0);if(k)return k(W,!0);na=Error("Cannot find module '"+W+"'");throw na.code="MODULE_NOT_FOUND",na;}na=z[W]={exports:{}};
n[W][0].call(na.exports,function(c){var f=n[W][1][c];return v(f?f:c)},na,na.exports,x,n,z,B)}return z[W].exports}for(var k="function"==typeof require&&require,ma=0;ma<B.length;ma++)v(B[ma]);return v}({1:[function(n,z,B){function x(n){if(!(this instanceof x))return new x(n);n=this.options=ma.assign({level:ra,method:fa,chunkSize:16384,windowBits:15,memLevel:8,strategy:sa,to:""},n||{});n.raw&&0<n.windowBits?n.windowBits=-n.windowBits:n.gzip&&0<n.windowBits&&16>n.windowBits&&(n.windowBits+=16);this.err=
0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new c;this.strm.avail_out=0;var v=k.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(v!==r)throw Error(na[v]);if(n.header&&k.deflateSetHeader(this.strm,n.header),n.dictionary){var z;if(z="string"==typeof n.dictionary?W.string2buf(n.dictionary):"[object ArrayBuffer]"===f.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,v=k.deflateSetDictionary(this.strm,z),v!==r)throw Error(na[v]);this._dict_set=!0}}function v(c,
f){f=new x(f);if(f.push(c,!0),f.err)throw f.msg;return f.result}var k=n("./zlib/deflate"),ma=n("./utils/common"),W=n("./utils/strings"),na=n("./zlib/messages"),c=n("./zlib/zstream"),f=Object.prototype.toString,r=0,ra=-1,sa=0,fa=8;x.prototype.push=function(c,n){var v,x=this.strm,z=this.options.chunkSize;if(this.ended)return!1;n=n===~~n?n:!0===n?4:0;"string"==typeof c?x.input=W.string2buf(c):"[object ArrayBuffer]"===f.call(c)?x.input=new Uint8Array(c):x.input=c;x.next_in=0;x.avail_in=x.input.length;
do{if(0===x.avail_out&&(x.output=new ma.Buf8(z),x.next_out=0,x.avail_out=z),v=k.deflate(x,n),1!==v&&v!==r)return this.onEnd(v),this.ended=!0,!1;0!==x.avail_out&&(0!==x.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(W.buf2binstring(ma.shrinkBuf(x.output,x.next_out))):this.onData(ma.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||0===x.avail_out)&&1!==v);return 4===n?(v=k.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===r):2!==n||(this.onEnd(r),x.avail_out=0,!0)};x.prototype.onData=
function(c){this.chunks.push(c)};x.prototype.onEnd=function(c){c===r&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ma.flattenChunks(this.chunks));this.chunks=[];this.err=c;this.msg=this.strm.msg};B.Deflate=x;B.deflate=v;B.deflateRaw=function(c,f){return f=f||{},f.raw=!0,v(c,f)};B.gzip=function(c,f){return f=f||{},f.gzip=!0,v(c,f)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(n,z,B){function x(n){if(!(this instanceof
x))return new x(n);var v=this.options=ma.assign({chunkSize:16384,windowBits:0,to:""},n||{});v.raw&&0<=v.windowBits&&16>v.windowBits&&(v.windowBits=-v.windowBits,0===v.windowBits&&(v.windowBits=-15));!(0<=v.windowBits&&16>v.windowBits)||n&&n.windowBits||(v.windowBits+=32);15<v.windowBits&&48>v.windowBits&&0===(15&v.windowBits)&&(v.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new f;this.strm.avail_out=0;n=k.inflateInit2(this.strm,v.windowBits);if(n!==na.Z_OK)throw Error(c[n]);
this.header=new r;k.inflateGetHeader(this.strm,this.header)}function v(c,f){f=new x(f);if(f.push(c,!0),f.err)throw f.msg;return f.result}var k=n("./zlib/inflate"),ma=n("./utils/common"),W=n("./utils/strings"),na=n("./zlib/constants"),c=n("./zlib/messages"),f=n("./zlib/zstream"),r=n("./zlib/gzheader"),ra=Object.prototype.toString;x.prototype.push=function(c,f){var n,r,v,x,z,B=this.strm,fa=this.options.chunkSize,E=this.options.dictionary,ta=!1;if(this.ended)return!1;f=f===~~f?f:!0===f?na.Z_FINISH:na.Z_NO_FLUSH;
"string"==typeof c?B.input=W.binstring2buf(c):"[object ArrayBuffer]"===ra.call(c)?B.input=new Uint8Array(c):B.input=c;B.next_in=0;B.avail_in=B.input.length;do{if(0===B.avail_out&&(B.output=new ma.Buf8(fa),B.next_out=0,B.avail_out=fa),n=k.inflate(B,na.Z_NO_FLUSH),n===na.Z_NEED_DICT&&E&&(z="string"==typeof E?W.string2buf(E):"[object ArrayBuffer]"===ra.call(E)?new Uint8Array(E):E,n=k.inflateSetDictionary(this.strm,z)),n===na.Z_BUF_ERROR&&!0===ta&&(n=na.Z_OK,ta=!1),n!==na.Z_STREAM_END&&n!==na.Z_OK)return this.onEnd(n),
this.ended=!0,!1;B.next_out&&(0!==B.avail_out&&n!==na.Z_STREAM_END&&(0!==B.avail_in||f!==na.Z_FINISH&&f!==na.Z_SYNC_FLUSH)||("string"===this.options.to?(r=W.utf8border(B.output,B.next_out),v=B.next_out-r,x=W.buf2string(B.output,r),B.next_out=v,B.avail_out=fa-v,v&&ma.arraySet(B.output,B.output,r,v,0),this.onData(x)):this.onData(ma.shrinkBuf(B.output,B.next_out))));0===B.avail_in&&0===B.avail_out&&(ta=!0)}while((0<B.avail_in||0===B.avail_out)&&n!==na.Z_STREAM_END);return n===na.Z_STREAM_END&&(f=na.Z_FINISH),
f===na.Z_FINISH?(n=k.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===na.Z_OK):f!==na.Z_SYNC_FLUSH||(this.onEnd(na.Z_OK),B.avail_out=0,!0)};x.prototype.onData=function(c){this.chunks.push(c)};x.prototype.onEnd=function(c){c===na.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ma.flattenChunks(this.chunks));this.chunks=[];this.err=c;this.msg=this.strm.msg};B.Inflate=x;B.inflate=v;B.inflateRaw=function(c,f){return f=f||{},f.raw=!0,v(c,f)};B.ungzip=v},{"./utils/common":3,
"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(n,z,B){n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;B.assign=function(k){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var v=n.shift();if(v){if("object"!=typeof v)throw new TypeError(v+"must be non-object");for(var x in v)v.hasOwnProperty(x)&&(k[x]=v[x])}}return k};B.shrinkBuf=function(k,n){return k.length===
n?k:k.subarray?k.subarray(0,n):(k.length=n,k)};var x={arraySet:function(k,n,v,x,c){if(n.subarray&&k.subarray)return void k.set(n.subarray(v,v+x),c);for(var f=0;f<x;f++)k[c+f]=n[v+f]},flattenChunks:function(k){var n,v;var x=v=0;for(n=k.length;x<n;x++)v+=k[x].length;var c=new Uint8Array(v);x=v=0;for(n=k.length;x<n;x++){var f=k[x];c.set(f,v);v+=f.length}return c}},v={arraySet:function(k,n,v,x,c){for(var f=0;f<x;f++)k[c+f]=n[v+f]},flattenChunks:function(k){return[].concat.apply([],k)}};B.setTyped=function(k){k?
(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,x)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,v))};B.setTyped(n)},{}],4:[function(n,z,B){function x(n,c){if(65537>c&&(n.subarray&&ma||!n.subarray&&k))return String.fromCharCode.apply(null,v.shrinkBuf(n,c));for(var f="",r=0;r<c;r++)f+=String.fromCharCode(n[r]);return f}var v=n("./common"),k=!0,ma=!0;try{String.fromCharCode.apply(null,[0])}catch(na){k=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(na){ma=
!1}var W=new v.Buf8(256);for(n=0;256>n;n++)W[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;W[254]=W[254]=1;B.string2buf=function(k){var c,f,n,x=k.length,z=0;for(f=0;f<x;f++){var B=k.charCodeAt(f);55296===(64512&B)&&f+1<x&&(c=k.charCodeAt(f+1),56320===(64512&c)&&(B=65536+(B-55296<<10)+(c-56320),f++));z+=128>B?1:2048>B?2:65536>B?3:4}var W=new v.Buf8(z);for(f=n=0;n<z;f++)B=k.charCodeAt(f),55296===(64512&B)&&f+1<x&&(c=k.charCodeAt(f+1),56320===(64512&c)&&(B=65536+(B-55296<<10)+(c-56320),f++)),128>
B?W[n++]=B:2048>B?(W[n++]=192|B>>>6,W[n++]=128|63&B):65536>B?(W[n++]=224|B>>>12,W[n++]=128|B>>>6&63,W[n++]=128|63&B):(W[n++]=240|B>>>18,W[n++]=128|B>>>12&63,W[n++]=128|B>>>6&63,W[n++]=128|63&B);return W};B.buf2binstring=function(k){return x(k,k.length)};B.binstring2buf=function(k){for(var c=new v.Buf8(k.length),f=0,n=c.length;f<n;f++)c[f]=k.charCodeAt(f);return c};B.buf2string=function(k,c){var f,n,v,z=c||k.length,B=Array(2*z);for(c=f=0;c<z;)if(n=k[c++],128>n)B[f++]=n;else if(v=W[n],4<v)B[f++]=65533,
c+=v-1;else{for(n&=2===v?31:3===v?15:7;1<v&&c<z;)n=n<<6|63&k[c++],v--;1<v?B[f++]=65533:65536>n?B[f++]=n:(n-=65536,B[f++]=55296|n>>10&1023,B[f++]=56320|1023&n)}return x(B,f)};B.utf8border=function(k,c){var f;c=c||k.length;c>k.length&&(c=k.length);for(f=c-1;0<=f&&128===(192&k[f]);)f--;return 0>f?c:0===f?c:f+W[k[f]]>c?f:c}},{"./common":3}],5:[function(n,z,B){z.exports=function(n,v,k,z){var x=65535&n|0;n=n>>>16&65535|0;for(var B;0!==k;){B=2E3<k?2E3:k;k-=B;do x=x+v[z++]|0,n=n+x|0;while(--B);x%=65521;n%=
65521}return x|n<<16|0}},{}],6:[function(n,z,B){z.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(n,z,B){var x=function(){for(var n,k=[],x=0;256>
x;x++){n=x;for(var z=0;8>z;z++)n=1&n?3988292384^n>>>1:n>>>1;k[x]=n}return k}();z.exports=function(n,k,z,B){z=B+z;for(n^=-1;B<z;B++)n=n>>>8^x[255&(n^k[B])];return n^-1}},{}],8:[function(n,z,B){function x(c,f){return c.msg=E[f],f}function v(c){for(var f=c.length;0<=--f;)c[f]=0}function k(c){var f=c.state,h=f.pending;h>c.avail_out&&(h=c.avail_out);0!==h&&(J.arraySet(c.output,f.pending_buf,f.pending_out,h,c.next_out),c.next_out+=h,f.pending_out+=h,c.total_out+=h,c.avail_out-=h,f.pending-=h,0===f.pending&&
(f.pending_out=0))}function ma(c,f){fb._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,f);c.block_start=c.strstart;k(c.strm)}function W(c,f){c.pending_buf[c.pending++]=f}function na(c,f){c.pending_buf[c.pending++]=f>>>8&255;c.pending_buf[c.pending++]=255&f}function c(c,f){var h,k,n=c.max_chain_length,r=c.strstart,v=c.prev_length,g=c.nice_match,x=c.strstart>c.w_size-kb?c.strstart-(c.w_size-kb):0,w=c.window,A=c.w_mask,z=c.prev,E=c.strstart+Fa,B=w[r+v-1],H=w[r+v];c.prev_length>=
c.good_match&&(n>>=2);g>c.lookahead&&(g=c.lookahead);do if(h=f,w[h+v]===H&&w[h+v-1]===B&&w[h]===w[r]&&w[++h]===w[r+1]){r+=2;for(h++;w[++r]===w[++h]&&w[++r]===w[++h]&&w[++r]===w[++h]&&w[++r]===w[++h]&&w[++r]===w[++h]&&w[++r]===w[++h]&&w[++r]===w[++h]&&w[++r]===w[++h]&&r<E;);if(k=Fa-(E-r),r=E-Fa,k>v){if(c.match_start=f,v=k,k>=g)break;B=w[r+v-1];H=w[r+v]}}while((f=z[f&A])>x&&0!==--n);return v<=c.lookahead?v:c.lookahead}function f(c){var f,h,k=c.w_size;do{if(h=c.window_size-c.lookahead-c.strstart,c.strstart>=
k+(k-kb)){J.arraySet(c.window,c.window,k,k,0);c.match_start-=k;c.strstart-=k;c.block_start-=k;var n=f=c.hash_size;do{var r=c.head[--n];c.head[n]=r>=k?r-k:0}while(--f);n=f=k;do r=c.prev[--n],c.prev[n]=r>=k?r-k:0;while(--f);h+=k}if(0===c.strm.avail_in)break;n=c.strm;r=c.window;var v=c.strstart+c.lookahead,g=n.avail_in;if(f=(g>h&&(g=h),0===g?0:(n.avail_in-=g,J.arraySet(r,n.input,n.next_in,g,v),1===n.state.wrap?n.adler=ya(n.adler,r,g,v):2===n.state.wrap&&(n.adler=Ka(n.adler,r,g,v)),n.next_in+=g,n.total_in+=
g,g)),c.lookahead+=f,c.lookahead+c.insert>=Ha)for(h=c.strstart-c.insert,c.ins_h=c.window[h],c.ins_h=(c.ins_h<<c.hash_shift^c.window[h+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[h+Ha-1])&c.hash_mask,c.prev[h&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=h,h++,c.insert--,!(c.lookahead+c.insert<Ha)););}while(c.lookahead<kb&&0!==c.strm.avail_in)}function r(h,k){for(var n,r;;){if(h.lookahead<kb){if(f(h),h.lookahead<kb&&k===ta)return Y;if(0===h.lookahead)break}if(n=0,h.lookahead>=Ha&&
(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+Ha-1])&h.hash_mask,n=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),0!==n&&h.strstart-n<=h.w_size-kb&&(h.match_length=c(h,n)),h.match_length>=Ha)if(r=fb._tr_tally(h,h.strstart-h.match_start,h.match_length-Ha),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=Ha){h.match_length--;do h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+Ha-1])&h.hash_mask,n=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],
h.head[h.ins_h]=h.strstart;while(0!==--h.match_length);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else r=fb._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(r&&(ma(h,!1),0===h.strm.avail_out))return Y}return h.insert=h.strstart<Ha-1?h.strstart:Ha-1,k===Da?(ma(h,!0),0===h.strm.avail_out?sb:Va):h.last_lit&&(ma(h,!1),0===h.strm.avail_out)?Y:Db}function ra(h,k){for(var n,
r,v;;){if(h.lookahead<kb){if(f(h),h.lookahead<kb&&k===ta)return Y;if(0===h.lookahead)break}if(n=0,h.lookahead>=Ha&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+Ha-1])&h.hash_mask,n=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=Ha-1,0!==n&&h.prev_length<h.max_lazy_match&&h.strstart-n<=h.w_size-kb&&(h.match_length=c(h,n),5>=h.match_length&&(h.strategy===R||h.match_length===Ha&&4096<h.strstart-h.match_start)&&
(h.match_length=Ha-1)),h.prev_length>=Ha&&h.match_length<=h.prev_length){v=h.strstart+h.lookahead-Ha;r=fb._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-Ha);h.lookahead-=h.prev_length-1;h.prev_length-=2;do++h.strstart<=v&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+Ha-1])&h.hash_mask,n=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart);while(0!==--h.prev_length);if(h.match_available=0,h.match_length=Ha-1,h.strstart++,r&&(ma(h,!1),0===h.strm.avail_out))return Y}else if(h.match_available){if(r=
fb._tr_tally(h,0,h.window[h.strstart-1]),r&&ma(h,!1),h.strstart++,h.lookahead--,0===h.strm.avail_out)return Y}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(fb._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<Ha-1?h.strstart:Ha-1,k===Da?(ma(h,!0),0===h.strm.avail_out?sb:Va):h.last_lit&&(ma(h,!1),0===h.strm.avail_out)?Y:Db}function sa(c,f,k,n,r){this.good_length=c;this.max_lazy=f;this.nice_length=k;this.max_chain=n;this.func=r}function fa(){this.strm=
null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=ka;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=
this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new J.Buf16(2*Q);this.dyn_dtree=new J.Buf16(2*(2*U+1));this.bl_tree=new J.Buf16(2*(2*A+1));v(this.dyn_ltree);v(this.dyn_dtree);v(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new J.Buf16(wb+1);this.heap=new J.Buf16(2*Ca+1);v(this.heap);this.heap_max=this.heap_len=0;this.depth=new J.Buf16(2*Ca+1);v(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=
this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function ad(c){var f;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=Gb,f=c.state,f.pending=0,f.pending_out=0,0>f.wrap&&(f.wrap=-f.wrap),f.status=f.wrap?ja:H,c.adler=2===f.wrap?0:1,f.last_flush=ta,fb._tr_init(f),$a):x(c,da)}function vb(c){var f=ad(c);f===$a&&(c=c.state,c.window_size=2*c.w_size,v(c.head),c.max_lazy_match=gb[c.level].max_lazy,c.good_match=gb[c.level].good_length,c.nice_match=gb[c.level].nice_length,c.max_chain_length=gb[c.level].max_chain,
c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=Ha-1,c.match_available=0,c.ins_h=0);return f}function db(c,f,k,n,r,v){if(!c)return da;var h=1;if(f===w&&(f=6),0>n?(h=0,n=-n):15<n&&(h=2,n-=16),1>r||r>jb||k!==ka||8>n||15<n||0>f||9<f||0>v||v>Pb)return x(c,da);8===n&&(n=9);var g=new fa;return c.state=g,g.strm=c,g.wrap=h,g.gzhead=null,g.w_bits=n,g.w_size=1<<g.w_bits,g.w_mask=g.w_size-1,g.hash_bits=r+7,g.hash_size=1<<g.hash_bits,g.hash_mask=g.hash_size-1,g.hash_shift=~~((g.hash_bits+
Ha-1)/Ha),g.window=new J.Buf8(2*g.w_size),g.head=new J.Buf16(g.hash_size),g.prev=new J.Buf16(g.w_size),g.lit_bufsize=1<<r+6,g.pending_buf_size=4*g.lit_bufsize,g.pending_buf=new J.Buf8(g.pending_buf_size),g.d_buf=1*g.lit_bufsize,g.l_buf=3*g.lit_bufsize,g.level=f,g.strategy=v,g.method=k,vb(c)}var J=n("../utils/common"),fb=n("./trees"),ya=n("./adler32"),Ka=n("./crc32"),E=n("./messages"),ta=0,Da=4,$a=0,da=-2,w=-1,R=1,Pb=4,Gb=2,ka=8,jb=9,Ca=286,U=30,A=19,Q=2*Ca+1,wb=15,Ha=3,Fa=258,kb=Fa+Ha+1,ja=42,H=113,
Y=1,Db=2,sb=3,Va=4;var gb=[new sa(0,0,0,0,function(c,k){var h=65535;for(h>c.pending_buf_size-5&&(h=c.pending_buf_size-5);;){if(1>=c.lookahead){if(f(c),0===c.lookahead&&k===ta)return Y;if(0===c.lookahead)break}c.strstart+=c.lookahead;c.lookahead=0;var n=c.block_start+h;if((0===c.strstart||c.strstart>=n)&&(c.lookahead=c.strstart-n,c.strstart=n,ma(c,!1),0===c.strm.avail_out)||c.strstart-c.block_start>=c.w_size-kb&&(ma(c,!1),0===c.strm.avail_out))return Y}return c.insert=0,k===Da?(ma(c,!0),0===c.strm.avail_out?
sb:Va):(c.strstart>c.block_start&&ma(c,!1),Y)}),new sa(4,4,8,4,r),new sa(4,5,16,8,r),new sa(4,6,32,32,r),new sa(4,4,16,16,ra),new sa(8,16,32,32,ra),new sa(8,16,128,128,ra),new sa(8,32,128,256,ra),new sa(32,128,258,1024,ra),new sa(32,258,258,4096,ra)];B.deflateInit=function(c,f){return db(c,f,ka,15,8,0)};B.deflateInit2=db;B.deflateReset=vb;B.deflateResetKeep=ad;B.deflateSetHeader=function(c,f){return c&&c.state?2!==c.state.wrap?da:(c.state.gzhead=f,$a):da};B.deflate=function(c,n){var h,r;if(!c||!c.state||
5<n||0>n)return c?x(c,da):da;if(r=c.state,!c.output||!c.input&&0!==c.avail_in||666===r.status&&n!==Da)return x(c,0===c.avail_out?-5:da);if(r.strm=c,h=r.last_flush,r.last_flush=n,r.status===ja)if(2===r.wrap)c.adler=0,W(r,31),W(r,139),W(r,8),r.gzhead?(W(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),W(r,255&r.gzhead.time),W(r,r.gzhead.time>>8&255),W(r,r.gzhead.time>>16&255),W(r,r.gzhead.time>>24&255),W(r,9===r.level?2:2<=r.strategy||2>r.level?
4:0),W(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(W(r,255&r.gzhead.extra.length),W(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(c.adler=Ka(c.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(W(r,0),W(r,0),W(r,0),W(r,0),W(r,0),W(r,9===r.level?2:2<=r.strategy||2>r.level?4:0),W(r,3),r.status=H);else{var w=ka+(r.w_bits-8<<4)<<8;w|=(2<=r.strategy||2>r.level?0:6>r.level?1:6===r.level?2:3)<<6;0!==r.strstart&&(w|=32);r.status=H;na(r,w+(31-w%31));0!==r.strstart&&(na(r,c.adler>>>
16),na(r,65535&c.adler));c.adler=1}if(69===r.status)if(r.gzhead.extra){for(w=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>w&&(c.adler=Ka(c.adler,r.pending_buf,r.pending-w,w)),k(c),w=r.pending,r.pending!==r.pending_buf_size));)W(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>w&&(c.adler=Ka(c.adler,r.pending_buf,r.pending-w,w));r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===
r.status)if(r.gzhead.name){w=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>w&&(c.adler=Ka(c.adler,r.pending_buf,r.pending-w,w)),k(c),w=r.pending,r.pending===r.pending_buf_size)){var A=1;break}A=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0;W(r,A)}while(0!==A);r.gzhead.hcrc&&r.pending>w&&(c.adler=Ka(c.adler,r.pending_buf,r.pending-w,w));0===A&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){w=r.pending;do{if(r.pending===
r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>w&&(c.adler=Ka(c.adler,r.pending_buf,r.pending-w,w)),k(c),w=r.pending,r.pending===r.pending_buf_size)){A=1;break}A=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0;W(r,A)}while(0!==A);r.gzhead.hcrc&&r.pending>w&&(c.adler=Ka(c.adler,r.pending_buf,r.pending-w,w));0===A&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&k(c),r.pending+2<=r.pending_buf_size&&(W(r,255&c.adler),
W(r,c.adler>>8&255),c.adler=0,r.status=H)):r.status=H),0!==r.pending){if(k(c),0===c.avail_out)return r.last_flush=-1,$a}else if(0===c.avail_in&&(n<<1)-(4<n?9:0)<=(h<<1)-(4<h?9:0)&&n!==Da)return x(c,-5);if(666===r.status&&0!==c.avail_in)return x(c,-5);if(0!==c.avail_in||0!==r.lookahead||n!==ta&&666!==r.status){if(2===r.strategy)a:{for(var z;;){if(0===r.lookahead&&(f(r),0===r.lookahead)){if(n===ta){var g=Y;break a}break}if(r.match_length=0,z=fb._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,
z&&(ma(r,!1),0===r.strm.avail_out)){g=Y;break a}}g=(r.insert=0,n===Da?(ma(r,!0),0===r.strm.avail_out?sb:Va):r.last_lit&&(ma(r,!1),0===r.strm.avail_out)?Y:Db)}else if(3===r.strategy)a:{var E,B;for(z=r.window;;){if(r.lookahead<=Fa){if(f(r),r.lookahead<=Fa&&n===ta){g=Y;break a}if(0===r.lookahead)break}if(r.match_length=0,r.lookahead>=Ha&&0<r.strstart&&(B=r.strstart-1,E=z[B],E===z[++B]&&E===z[++B]&&E===z[++B])){for(h=r.strstart+Fa;E===z[++B]&&E===z[++B]&&E===z[++B]&&E===z[++B]&&E===z[++B]&&E===z[++B]&&
E===z[++B]&&E===z[++B]&&B<h;);r.match_length=Fa-(h-B);r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=Ha?(g=fb._tr_tally(r,1,r.match_length-Ha),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(g=fb._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),g&&(ma(r,!1),0===r.strm.avail_out)){g=Y;break a}}g=(r.insert=0,n===Da?(ma(r,!0),0===r.strm.avail_out?sb:Va):r.last_lit&&(ma(r,!1),0===r.strm.avail_out)?Y:Db)}else g=gb[r.level].func(r,n);
if(g!==sb&&g!==Va||(r.status=666),g===Y||g===sb)return 0===c.avail_out&&(r.last_flush=-1),$a;if(g===Db&&(1===n?fb._tr_align(r):5!==n&&(fb._tr_stored_block(r,0,0,!1),3===n&&(v(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),k(c),0===c.avail_out))return r.last_flush=-1,$a}return n!==Da?$a:0>=r.wrap?1:(2===r.wrap?(W(r,255&c.adler),W(r,c.adler>>8&255),W(r,c.adler>>16&255),W(r,c.adler>>24&255),W(r,255&c.total_in),W(r,c.total_in>>8&255),W(r,c.total_in>>16&255),W(r,c.total_in>>24&255)):
(na(r,c.adler>>>16),na(r,65535&c.adler)),k(c),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?$a:1)};B.deflateEnd=function(c){var f;return c&&c.state?(f=c.state.status,f!==ja&&69!==f&&73!==f&&91!==f&&103!==f&&f!==H&&666!==f?x(c,da):(c.state=null,f===H?x(c,-3):$a)):da};B.deflateSetDictionary=function(c,k){var h,n,r;var w=k.length;if(!c||!c.state||(h=c.state,n=h.wrap,2===n||1===n&&h.status!==ja||h.lookahead))return da;1===n&&(c.adler=ya(c.adler,k,w,0));h.wrap=0;w>=h.w_size&&(0===n&&(v(h.head),h.strstart=0,
h.block_start=0,h.insert=0),r=new J.Buf8(h.w_size),J.arraySet(r,k,w-h.w_size,h.w_size,0),k=r,w=h.w_size);r=c.avail_in;var x=c.next_in;var g=c.input;c.avail_in=w;c.next_in=0;c.input=k;for(f(h);h.lookahead>=Ha;){k=h.strstart;w=h.lookahead-(Ha-1);do h.ins_h=(h.ins_h<<h.hash_shift^h.window[k+Ha-1])&h.hash_mask,h.prev[k&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=k,k++;while(--w);h.strstart=k;h.lookahead=Ha-1;f(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,
h.match_length=h.prev_length=Ha-1,h.match_available=0,c.next_in=x,c.input=g,c.avail_in=r,h.wrap=n,$a};B.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(n,z,B){z.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(n,z,B){z.exports=function(n,v){var k,x,z;var B=n.state;var c=n.next_in;var f=n.input;
var r=c+(n.avail_in-5);var ra=n.next_out;var sa=n.output;v=ra-(v-n.avail_out);var fa=ra+(n.avail_out-257);var ad=B.dmax;var vb=B.wsize;var db=B.whave;var J=B.wnext;var fb=B.window;var ya=B.hold;var Ka=B.bits;var E=B.lencode;var ta=B.distcode;var Da=(1<<B.lenbits)-1;var $a=(1<<B.distbits)-1;a:do{15>Ka&&(ya+=f[c++]<<Ka,Ka+=8,ya+=f[c++]<<Ka,Ka+=8);var da=E[ya&Da];b:for(;;){if(k=da>>>24,ya>>>=k,Ka-=k,k=da>>>16&255,0===k)sa[ra++]=65535&da;else{if(!(16&k)){if(0===(64&k)){da=E[(65535&da)+(ya&(1<<k)-1)];
continue b}if(32&k){B.mode=12;break a}n.msg="invalid literal/length code";B.mode=30;break a}var w=65535&da;(k&=15)&&(Ka<k&&(ya+=f[c++]<<Ka,Ka+=8),w+=ya&(1<<k)-1,ya>>>=k,Ka-=k);15>Ka&&(ya+=f[c++]<<Ka,Ka+=8,ya+=f[c++]<<Ka,Ka+=8);da=ta[ya&$a];c:for(;;){if(k=da>>>24,ya>>>=k,Ka-=k,k=da>>>16&255,!(16&k)){if(0===(64&k)){da=ta[(65535&da)+(ya&(1<<k)-1)];continue c}n.msg="invalid distance code";B.mode=30;break a}if(x=65535&da,k&=15,Ka<k&&(ya+=f[c++]<<Ka,Ka+=8,Ka<k&&(ya+=f[c++]<<Ka,Ka+=8)),x+=ya&(1<<k)-1,x>
ad){n.msg="invalid distance too far back";B.mode=30;break a}if(ya>>>=k,Ka-=k,k=ra-v,x>k){if(k=x-k,k>db&&B.sane){n.msg="invalid distance too far back";B.mode=30;break a}if(da=0,z=fb,0===J){if(da+=vb-k,k<w){w-=k;do sa[ra++]=fb[da++];while(--k);da=ra-x;z=sa}}else if(J<k){if(da+=vb+J-k,k-=J,k<w){w-=k;do sa[ra++]=fb[da++];while(--k);if(da=0,J<w){k=J;w-=k;do sa[ra++]=fb[da++];while(--k);da=ra-x;z=sa}}}else if(da+=J-k,k<w){w-=k;do sa[ra++]=fb[da++];while(--k);da=ra-x;z=sa}for(;2<w;)sa[ra++]=z[da++],sa[ra++]=
z[da++],sa[ra++]=z[da++],w-=3;w&&(sa[ra++]=z[da++],1<w&&(sa[ra++]=z[da++]))}else{da=ra-x;do sa[ra++]=sa[da++],sa[ra++]=sa[da++],sa[ra++]=sa[da++],w-=3;while(2<w);w&&(sa[ra++]=sa[da++],1<w&&(sa[ra++]=sa[da++]))}break}}break}}while(c<r&&ra<fa);w=Ka>>3;c-=w;Ka-=w<<3;n.next_in=c;n.next_out=ra;n.avail_in=c<r?5+(r-c):5-(c-r);n.avail_out=ra<fa?257+(fa-ra):257-(ra-fa);B.hold=ya&(1<<Ka)-1;B.bits=Ka}},{}],11:[function(n,z,B){function x(c){return(c>>>24&255)+(c>>>8&65280)+((65280&c)<<8)+((255&c)<<24)}function v(){this.mode=
0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new ra.Buf16(320);this.work=new ra.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function k(c){var f;return c&&c.state?(f=c.state,
c.total_in=c.total_out=f.total=0,c.msg="",f.wrap&&(c.adler=1&f.wrap),f.mode=fb,f.last=0,f.havedict=0,f.dmax=32768,f.head=null,f.hold=0,f.bits=0,f.lencode=f.lendyn=new ra.Buf32(ya),f.distcode=f.distdyn=new ra.Buf32(Ka),f.sane=1,f.back=-1,db):J}function ma(c){var f;return c&&c.state?(f=c.state,f.wsize=0,f.whave=0,f.wnext=0,k(c)):J}function W(c,f){var k,n;return c&&c.state?(n=c.state,0>f?(k=0,f=-f):(k=(f>>4)+1,48>f&&(f&=15)),f&&(8>f||15<f)?J:(null!==n.window&&n.wbits!==f&&(n.window=null),n.wrap=k,n.wbits=
f,ma(c))):J}function na(c,f){var k,n;return c?(n=new v,c.state=n,n.window=null,k=W(c,f),k!==db&&(c.state=null),k):J}function c(c,f,k,n){var r;c=c.state;return null===c.window&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new ra.Buf8(c.wsize)),n>=c.wsize?(ra.arraySet(c.window,f,k-c.wsize,c.wsize,0),c.wnext=0,c.whave=c.wsize):(r=c.wsize-c.wnext,r>n&&(r=n),ra.arraySet(c.window,f,k-n,r,c.wnext),n-=r,n?(ra.arraySet(c.window,f,k-n,n,0),c.wnext=n,c.whave=c.wsize):(c.wnext+=r,c.wnext===c.wsize&&(c.wnext=
0),c.whave<c.wsize&&(c.whave+=r))),0}var f,r,ra=n("../utils/common"),sa=n("./adler32"),fa=n("./crc32"),ad=n("./inffast"),vb=n("./inftrees"),db=0,J=-2,fb=1,ya=852,Ka=592,E=!0;B.inflateReset=ma;B.inflateReset2=W;B.inflateResetKeep=k;B.inflateInit=function(c){return na(c,15)};B.inflateInit2=na;B.inflate=function(k,n){var v,z,w,B,W,ta,ka,na=0,Ca=new ra.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&0!==k.avail_in)return J;var A=k.state;12===A.mode&&(A.mode=
13);var Q=k.next_out;var ya=k.output;var Ha=k.avail_out;var Fa=k.next_in;var ma=k.input;var ja=k.avail_in;var H=A.hold;var Y=A.bits;var Ka=ja;var Da=Ha;var Va=db;a:for(;;)switch(A.mode){case fb:if(0===A.wrap){A.mode=13;break}for(;16>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(2&A.wrap&&35615===H){A.check=0;Ca[0]=255&H;Ca[1]=H>>>8&255;A.check=fa(A.check,Ca,2,0);Y=H=0;A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&H)<<8)+(H>>8))%31){k.msg="incorrect header check";A.mode=
30;break}if(8!==(15&H)){k.msg="unknown compression method";A.mode=30;break}if(H>>>=4,Y-=4,ta=(15&H)+8,0===A.wbits)A.wbits=ta;else if(ta>A.wbits){k.msg="invalid window size";A.mode=30;break}A.dmax=1<<ta;k.adler=A.check=1;A.mode=512&H?10:12;Y=H=0;break;case 2:for(;16>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(A.flags=H,8!==(255&A.flags)){k.msg="unknown compression method";A.mode=30;break}if(57344&A.flags){k.msg="unknown header flags set";A.mode=30;break}A.head&&(A.head.text=H>>8&1);512&A.flags&&
(Ca[0]=255&H,Ca[1]=H>>>8&255,A.check=fa(A.check,Ca,2,0));Y=H=0;A.mode=3;case 3:for(;32>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}A.head&&(A.head.time=H);512&A.flags&&(Ca[0]=255&H,Ca[1]=H>>>8&255,Ca[2]=H>>>16&255,Ca[3]=H>>>24&255,A.check=fa(A.check,Ca,4,0));Y=H=0;A.mode=4;case 4:for(;16>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}A.head&&(A.head.xflags=255&H,A.head.os=H>>8);512&A.flags&&(Ca[0]=255&H,Ca[1]=H>>>8&255,A.check=fa(A.check,Ca,2,0));Y=H=0;A.mode=5;case 5:if(1024&A.flags){for(;16>
Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}A.length=H;A.head&&(A.head.extra_len=H);512&A.flags&&(Ca[0]=255&H,Ca[1]=H>>>8&255,A.check=fa(A.check,Ca,2,0));Y=H=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(v=A.length,v>ja&&(v=ja),v&&(A.head&&(ta=A.head.extra_len-A.length,A.head.extra||(A.head.extra=Array(A.head.extra_len)),ra.arraySet(A.head.extra,ma,Fa,v,ta)),512&A.flags&&(A.check=fa(A.check,ma,v,Fa)),ja-=v,Fa+=v,A.length-=v),A.length))break a;A.length=0;A.mode=7;case 7:if(2048&
A.flags){if(0===ja)break a;v=0;do ta=ma[Fa+v++],A.head&&ta&&65536>A.length&&(A.head.name+=String.fromCharCode(ta));while(ta&&v<ja);if(512&A.flags&&(A.check=fa(A.check,ma,v,Fa)),ja-=v,Fa+=v,ta)break a}else A.head&&(A.head.name=null);A.length=0;A.mode=8;case 8:if(4096&A.flags){if(0===ja)break a;v=0;do ta=ma[Fa+v++],A.head&&ta&&65536>A.length&&(A.head.comment+=String.fromCharCode(ta));while(ta&&v<ja);if(512&A.flags&&(A.check=fa(A.check,ma,v,Fa)),ja-=v,Fa+=v,ta)break a}else A.head&&(A.head.comment=null);
A.mode=9;case 9:if(512&A.flags){for(;16>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(H!==(65535&A.check)){k.msg="header crc mismatch";A.mode=30;break}Y=H=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0);k.adler=A.check=0;A.mode=12;break;case 10:for(;32>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}k.adler=A.check=x(H);Y=H=0;A.mode=11;case 11:if(0===A.havedict)return k.next_out=Q,k.avail_out=Ha,k.next_in=Fa,k.avail_in=ja,A.hold=H,A.bits=Y,2;k.adler=A.check=1;A.mode=12;case 12:if(5===n||6===
n)break a;case 13:if(A.last){H>>>=7&Y;Y-=7&Y;A.mode=27;break}for(;3>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}switch(A.last=1&H,H>>>=1,--Y,3&H){case 0:A.mode=14;break;case 1:var gb=A;if(E){f=new ra.Buf32(512);r=new ra.Buf32(32);for(w=0;144>w;)gb.lens[w++]=8;for(;256>w;)gb.lens[w++]=9;for(;280>w;)gb.lens[w++]=7;for(;288>w;)gb.lens[w++]=8;vb(1,gb.lens,0,288,f,0,gb.work,{bits:9});for(w=0;32>w;)gb.lens[w++]=5;vb(2,gb.lens,0,32,r,0,gb.work,{bits:5});E=!1}gb.lencode=f;gb.lenbits=9;gb.distcode=r;gb.distbits=
5;if(A.mode=20,6===n){H>>>=2;Y-=2;break a}break;case 2:A.mode=17;break;case 3:k.msg="invalid block type",A.mode=30}H>>>=2;Y-=2;break;case 14:H>>>=7&Y;for(Y-=7&Y;32>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if((65535&H)!==(H>>>16^65535)){k.msg="invalid stored block lengths";A.mode=30;break}if(A.length=65535&H,H=0,Y=0,A.mode=15,6===n)break a;case 15:A.mode=16;case 16:if(v=A.length){if(v>ja&&(v=ja),v>Ha&&(v=Ha),0===v)break a;ra.arraySet(ya,ma,Fa,v,Q);ja-=v;Fa+=v;Ha-=v;Q+=v;A.length-=v;break}A.mode=
12;break;case 17:for(;14>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(A.nlen=(31&H)+257,H>>>=5,Y-=5,A.ndist=(31&H)+1,H>>>=5,Y-=5,A.ncode=(15&H)+4,H>>>=4,Y-=4,286<A.nlen||30<A.ndist){k.msg="too many length or distance symbols";A.mode=30;break}A.have=0;A.mode=18;case 18:for(;A.have<A.ncode;){for(;3>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}A.lens[U[A.have++]]=7&H;H>>>=3;Y-=3}for(;19>A.have;)A.lens[U[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,ka={bits:A.lenbits},Va=vb(0,A.lens,0,19,A.lencode,
0,A.work,ka),A.lenbits=ka.bits,Va){k.msg="invalid code lengths set";A.mode=30;break}A.have=0;A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;na=A.lencode[H&(1<<A.lenbits)-1],B=na>>>24,gb=65535&na,!(B<=Y);){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(16>gb)H>>>=B,Y-=B,A.lens[A.have++]=gb;else{if(16===gb){for(w=B+2;Y<w;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(H>>>=B,Y-=B,0===A.have){k.msg="invalid bit length repeat";A.mode=30;break}ta=A.lens[A.have-1];v=3+(3&H);H>>>=2;Y-=2}else if(17===
gb){for(w=B+3;Y<w;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}H>>>=B;Y-=B;ta=0;v=3+(7&H);H>>>=3;Y-=3}else{for(w=B+7;Y<w;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}H>>>=B;Y-=B;ta=0;v=11+(127&H);H>>>=7;Y-=7}if(A.have+v>A.nlen+A.ndist){k.msg="invalid bit length repeat";A.mode=30;break}for(;v--;)A.lens[A.have++]=ta}}if(30===A.mode)break;if(0===A.lens[256]){k.msg="invalid code -- missing end-of-block";A.mode=30;break}if(A.lenbits=9,ka={bits:A.lenbits},Va=vb(1,A.lens,0,A.nlen,A.lencode,0,A.work,ka),
A.lenbits=ka.bits,Va){k.msg="invalid literal/lengths set";A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,ka={bits:A.distbits},Va=vb(2,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,ka),A.distbits=ka.bits,Va){k.msg="invalid distances set";A.mode=30;break}if(A.mode=20,6===n)break a;case 20:A.mode=21;case 21:if(6<=ja&&258<=Ha){k.next_out=Q;k.avail_out=Ha;k.next_in=Fa;k.avail_in=ja;A.hold=H;A.bits=Y;ad(k,Da);Q=k.next_out;ya=k.output;Ha=k.avail_out;Fa=k.next_in;ma=k.input;ja=k.avail_in;H=A.hold;Y=A.bits;
12===A.mode&&(A.back=-1);break}for(A.back=0;na=A.lencode[H&(1<<A.lenbits)-1],B=na>>>24,w=na>>>16&255,gb=65535&na,!(B<=Y);){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(w&&0===(240&w)){var h=B;var Jb=w;for(W=gb;na=A.lencode[W+((H&(1<<h+Jb)-1)>>h)],B=na>>>24,w=na>>>16&255,gb=65535&na,!(h+B<=Y);){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}H>>>=h;Y-=h;A.back+=h}if(H>>>=B,Y-=B,A.back+=B,A.length=gb,0===w){A.mode=26;break}if(32&w){A.back=-1;A.mode=12;break}if(64&w){k.msg="invalid literal/length code";
A.mode=30;break}A.extra=15&w;A.mode=22;case 22:if(A.extra){for(w=A.extra;Y<w;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}A.length+=H&(1<<A.extra)-1;H>>>=A.extra;Y-=A.extra;A.back+=A.extra}A.was=A.length;A.mode=23;case 23:for(;na=A.distcode[H&(1<<A.distbits)-1],B=na>>>24,w=na>>>16&255,gb=65535&na,!(B<=Y);){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(0===(240&w)){h=B;Jb=w;for(W=gb;na=A.distcode[W+((H&(1<<h+Jb)-1)>>h)],B=na>>>24,w=na>>>16&255,gb=65535&na,!(h+B<=Y);){if(0===ja)break a;ja--;H+=ma[Fa++]<<
Y;Y+=8}H>>>=h;Y-=h;A.back+=h}if(H>>>=B,Y-=B,A.back+=B,64&w){k.msg="invalid distance code";A.mode=30;break}A.offset=gb;A.extra=15&w;A.mode=24;case 24:if(A.extra){for(w=A.extra;Y<w;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}A.offset+=H&(1<<A.extra)-1;H>>>=A.extra;Y-=A.extra;A.back+=A.extra}if(A.offset>A.dmax){k.msg="invalid distance too far back";A.mode=30;break}A.mode=25;case 25:if(0===Ha)break a;if(v=Da-Ha,A.offset>v){if(v=A.offset-v,v>A.whave&&A.sane){k.msg="invalid distance too far back";A.mode=
30;break}v>A.wnext?(v-=A.wnext,z=A.wsize-v):z=A.wnext-v;v>A.length&&(v=A.length);w=A.window}else w=ya,z=Q-A.offset,v=A.length;v>Ha&&(v=Ha);Ha-=v;A.length-=v;do ya[Q++]=w[z++];while(--v);0===A.length&&(A.mode=21);break;case 26:if(0===Ha)break a;ya[Q++]=A.length;Ha--;A.mode=21;break;case 27:if(A.wrap){for(;32>Y;){if(0===ja)break a;ja--;H|=ma[Fa++]<<Y;Y+=8}if(Da-=Ha,k.total_out+=Da,A.total+=Da,Da&&(k.adler=A.check=A.flags?fa(A.check,ya,Da,Q-Da):sa(A.check,ya,Da,Q-Da)),Da=Ha,(A.flags?H:x(H))!==A.check){k.msg=
"incorrect data check";A.mode=30;break}Y=H=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;32>Y;){if(0===ja)break a;ja--;H+=ma[Fa++]<<Y;Y+=8}if(H!==(4294967295&A.total)){k.msg="incorrect length check";A.mode=30;break}Y=H=0}A.mode=29;case 29:Va=1;break a;case 30:Va=-3;break a;case 31:return-4;default:return J}return k.next_out=Q,k.avail_out=Ha,k.next_in=Fa,k.avail_in=ja,A.hold=H,A.bits=Y,(A.wsize||Da!==k.avail_out&&30>A.mode&&(27>A.mode||4!==n))&&c(k,k.output,k.next_out,Da-k.avail_out)?(A.mode=31,-4):
(Ka-=k.avail_in,Da-=k.avail_out,k.total_in+=Ka,k.total_out+=Da,A.total+=Da,A.wrap&&Da&&(k.adler=A.check=A.flags?fa(A.check,ya,Da,k.next_out-Da):sa(A.check,ya,Da,k.next_out-Da)),k.data_type=A.bits+(A.last?64:0)+(12===A.mode?128:0)+(20===A.mode||15===A.mode?256:0),(0===Ka&&0===Da||4===n)&&Va===db&&(Va=-5),Va)};B.inflateEnd=function(c){if(!c||!c.state)return J;var f=c.state;return f.window&&(f.window=null),c.state=null,db};B.inflateGetHeader=function(c,f){var k;return c&&c.state?(k=c.state,0===(2&k.wrap)?
J:(k.head=f,f.done=!1,db)):J};B.inflateSetDictionary=function(f,k){var n,r,v=k.length;return f&&f.state?(n=f.state,0!==n.wrap&&11!==n.mode?J:11===n.mode&&(r=1,r=sa(r,k,v,0),r!==n.check)?-3:c(f,k,v,v)?(n.mode=31,-4):(n.havedict=1,db)):J};B.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(n,z,B){var x=n("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,
258,0,0],k=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ma=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],W=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];z.exports=function(n,c,f,r,z,B,fa,ad){var ra,sa,J,na,ya,Ka,E=ad.bits,ta,Da,$a,da,w,R=0,Pb,Gb=null,ka=0,jb=new x.Buf16(16);var Ca=new x.Buf16(16);var U=null,A=0;for(ta=0;15>=ta;ta++)jb[ta]=
0;for(Da=0;Da<r;Da++)jb[c[f+Da]]++;var Q=E;for($a=15;1<=$a&&0===jb[$a];$a--);if(Q>$a&&(Q=$a),0===$a)return z[B++]=20971520,z[B++]=20971520,ad.bits=1,0;for(E=1;E<$a&&0===jb[E];E++);Q<E&&(Q=E);for(ta=ra=1;15>=ta;ta++)if(ra<<=1,ra-=jb[ta],0>ra)return-1;if(0<ra&&(0===n||1!==$a))return-1;Ca[1]=0;for(ta=1;15>ta;ta++)Ca[ta+1]=Ca[ta]+jb[ta];for(Da=0;Da<r;Da++)0!==c[f+Da]&&(fa[Ca[c[f+Da]]++]=Da);if(0===n?(Gb=U=fa,na=19):1===n?(Gb=v,ka-=257,U=k,A-=257,na=256):(Gb=ma,U=W,na=-1),Pb=0,Da=0,ta=E,Ca=B,da=Q,w=0,
J=-1,R=1<<Q,r=R-1,1===n&&852<R||2===n&&592<R)return 1;for(var wb=0;;){wb++;var Ha=ta-w;fa[Da]<na?(ya=0,Ka=fa[Da]):fa[Da]>na?(ya=U[A+fa[Da]],Ka=Gb[ka+fa[Da]]):(ya=96,Ka=0);ra=1<<ta-w;E=sa=1<<da;do sa-=ra,z[Ca+(Pb>>w)+sa]=Ha<<24|ya<<16|Ka|0;while(0!==sa);for(ra=1<<ta-1;Pb&ra;)ra>>=1;if(0!==ra?(Pb&=ra-1,Pb+=ra):Pb=0,Da++,0===--jb[ta]){if(ta===$a)break;ta=c[f+fa[Da]]}if(ta>Q&&(Pb&r)!==J){0===w&&(w=Q);Ca+=E;da=ta-w;for(ra=1<<da;da+w<$a&&(ra-=jb[da+w],!(0>=ra));)da++,ra<<=1;if(R+=1<<da,1===n&&852<R||2===
n&&592<R)return 1;J=Pb&r;z[J]=Q<<24|da<<16|Ca-B|0}}return 0!==Pb&&(z[Ca+Pb]=ta-w<<24|4194304),ad.bits=Q,0}},{"../utils/common":3}],13:[function(n,z,B){z.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(n,z,B){function x(c){for(var f=c.length;0<=--f;)c[f]=0}function v(c,f,h,k,n){this.static_tree=c;this.extra_bits=f;this.extra_base=h;this.elems=k;this.max_length=
n;this.has_stree=c&&c.length}function k(c,f){this.dyn_tree=c;this.max_code=0;this.stat_desc=f}function ma(c,f){c.pending_buf[c.pending++]=255&f;c.pending_buf[c.pending++]=f>>>8&255}function W(c,f,h){c.bi_valid>ka-h?(c.bi_buf|=f<<c.bi_valid&65535,ma(c,c.bi_buf),c.bi_buf=f>>ka-c.bi_valid,c.bi_valid+=h-ka):(c.bi_buf|=f<<c.bi_valid&65535,c.bi_valid+=h)}function na(c,f,h){W(c,h[2*f],h[2*f+1])}function c(c,f){var h=0;do h|=1&c,c>>>=1,h<<=1;while(0<--f);return h>>>1}function f(f,h,k){var n,r=Array(Gb+1),
g=0;for(n=1;n<=Gb;n++)r[n]=g=g+k[n-1]<<1;for(k=0;k<=h;k++)n=f[2*k+1],0!==n&&(f[2*k]=c(r[n]++,n))}function r(c){var f;for(f=0;f<da;f++)c.dyn_ltree[2*f]=0;for(f=0;f<w;f++)c.dyn_dtree[2*f]=0;for(f=0;f<R;f++)c.bl_tree[2*f]=0;c.dyn_ltree[2*jb]=1;c.opt_len=c.static_len=0;c.last_lit=c.matches=0}function ra(c){8<c.bi_valid?ma(c,c.bi_buf):0<c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf);c.bi_buf=0;c.bi_valid=0}function sa(c,f,h,k){var n=2*f,g=2*h;return c[n]<c[g]||c[n]===c[g]&&k[f]<=k[h]}function fa(c,
f,h){for(var k=c.heap[h],n=h<<1;n<=c.heap_len&&(n<c.heap_len&&sa(f,c.heap[n+1],c.heap[n],c.depth)&&n++,!sa(f,k,c.heap[n],c.depth));)c.heap[h]=c.heap[n],h=n,n<<=1;c.heap[h]=k}function ad(c,f,h){var k,n,g=0;if(0!==c.last_lit){do{var r=c.pending_buf[c.d_buf+2*g]<<8|c.pending_buf[c.d_buf+2*g+1];var v=c.pending_buf[c.l_buf+g];g++;0===r?na(c,v,f):(k=Y[v],na(c,k+$a+1,f),n=Q[k],0!==n&&(v-=Db[k],W(c,v,n)),r--,k=256>r?H[r]:H[256+(r>>>7)],na(c,k,h),n=wb[k],0!==n&&(r-=sb[k],W(c,r,n)))}while(g<c.last_lit)}na(c,
jb,f)}function vb(c,h){var k,n=h.dyn_tree;var r=h.stat_desc.static_tree;var g=h.stat_desc.has_stree,v=h.stat_desc.elems,w=-1;c.heap_len=0;c.heap_max=Pb;for(k=0;k<v;k++)0!==n[2*k]?(c.heap[++c.heap_len]=w=k,c.depth[k]=0):n[2*k+1]=0;for(;2>c.heap_len;){var x=c.heap[++c.heap_len]=2>w?++w:0;n[2*x]=1;c.depth[x]=0;c.opt_len--;g&&(c.static_len-=r[2*x+1])}h.max_code=w;for(k=c.heap_len>>1;1<=k;k--)fa(c,n,k);x=v;do k=c.heap[1],c.heap[1]=c.heap[c.heap_len--],fa(c,n,1),r=c.heap[1],c.heap[--c.heap_max]=k,c.heap[--c.heap_max]=
r,n[2*x]=n[2*k]+n[2*r],c.depth[x]=(c.depth[k]>=c.depth[r]?c.depth[k]:c.depth[r])+1,n[2*k+1]=n[2*r+1]=x,c.heap[1]=x++,fa(c,n,1);while(2<=c.heap_len);c.heap[--c.heap_max]=c.heap[1];var z,A;k=h.dyn_tree;x=h.max_code;v=h.stat_desc.static_tree;var B=h.stat_desc.has_stree,M=h.stat_desc.extra_bits,E=h.stat_desc.extra_base,H=h.stat_desc.max_length,J=0;for(g=0;g<=Gb;g++)c.bl_count[g]=0;k[2*c.heap[c.heap_max]+1]=0;for(h=c.heap_max+1;h<Pb;h++)r=c.heap[h],g=k[2*k[2*r+1]+1]+1,g>H&&(g=H,J++),k[2*r+1]=g,r>x||(c.bl_count[g]++,
z=0,r>=E&&(z=M[r-E]),A=k[2*r],c.opt_len+=A*(g+z),B&&(c.static_len+=A*(v[2*r+1]+z)));if(0!==J){do{for(g=H-1;0===c.bl_count[g];)g--;c.bl_count[g]--;c.bl_count[g+1]+=2;c.bl_count[H]--;J-=2}while(0<J);for(g=H;0!==g;g--)for(r=c.bl_count[g];0!==r;)z=c.heap[--h],z>x||(k[2*z+1]!==g&&(c.opt_len+=(g-k[2*z+1])*k[2*z],k[2*z+1]=g),r--)}f(n,w,c.bl_count)}function db(c,f,h){var k,n=-1,g=f[1],r=0,v=7,w=4;0===g&&(v=138,w=3);f[2*(h+1)+1]=65535;for(k=0;k<=h;k++){var x=g;g=f[2*(k+1)+1];++r<v&&x===g||(r<w?c.bl_tree[2*
x]+=r:0!==x?(x!==n&&c.bl_tree[2*x]++,c.bl_tree[2*Ca]++):10>=r?c.bl_tree[2*U]++:c.bl_tree[2*A]++,r=0,n=x,0===g?(v=138,w=3):x===g?(v=6,w=3):(v=7,w=4))}}function J(c,f,h){var k,n,g=-1,r=f[1],v=0,w=7,x=4;0===r&&(w=138,x=3);for(k=0;k<=h;k++)if(n=r,r=f[2*(k+1)+1],!(++v<w&&n===r)){if(v<x){do na(c,n,c.bl_tree);while(0!==--v)}else 0!==n?(n!==g&&(na(c,n,c.bl_tree),v--),na(c,Ca,c.bl_tree),W(c,v-3,2)):10>=v?(na(c,U,c.bl_tree),W(c,v-3,3)):(na(c,A,c.bl_tree),W(c,v-11,7));v=0;g=n;0===r?(w=138,x=3):n===r?(w=6,x=
3):(w=7,x=4)}}function fb(c){var f,h=4093624447;for(f=0;31>=f;f++,h>>>=1)if(1&h&&0!==c.dyn_ltree[2*f])return E;if(0!==c.dyn_ltree[18]||0!==c.dyn_ltree[20]||0!==c.dyn_ltree[26])return ta;for(f=32;f<$a;f++)if(0!==c.dyn_ltree[2*f])return ta;return E}function ya(c,f,h,k){W(c,(Da<<1)+(k?1:0),3);ra(c);ma(c,h);ma(c,~h);Ka.arraySet(c.pending_buf,c.window,f,h,c.pending);c.pending+=h}var Ka=n("../utils/common"),E=0,ta=1,Da=0,$a=256,da=$a+1+29,w=30,R=19,Pb=2*da+1,Gb=15,ka=16,jb=256,Ca=16,U=17,A=18,Q=[0,0,0,
0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],wb=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ha=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Fa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],kb=Array(2*(da+2));x(kb);var ja=Array(2*w);x(ja);var H=Array(512);x(H);var Y=Array(256);x(Y);var Db=Array(29);x(Db);var sb=Array(w);x(sb);var Va,gb,h,Jb=!1;B._tr_init=function(n){if(!Jb){var x,z,A,B=Array(Gb+1);for(A=z=0;28>A;A++)for(Db[A]=z,x=0;x<1<<Q[A];x++)Y[z++]=A;Y[z-1]=A;for(A=
z=0;16>A;A++)for(sb[A]=z,x=0;x<1<<wb[A];x++)H[z++]=A;for(z>>=7;A<w;A++)for(sb[A]=z<<7,x=0;x<1<<wb[A]-7;x++)H[256+z++]=A;for(x=0;x<=Gb;x++)B[x]=0;for(x=0;143>=x;)kb[2*x+1]=8,x++,B[8]++;for(;255>=x;)kb[2*x+1]=9,x++,B[9]++;for(;279>=x;)kb[2*x+1]=7,x++,B[7]++;for(;287>=x;)kb[2*x+1]=8,x++,B[8]++;f(kb,da+1,B);for(x=0;x<w;x++)ja[2*x+1]=5,ja[2*x]=c(x,5);Va=new v(kb,Q,$a+1,da,Gb);gb=new v(ja,wb,0,w,Gb);h=new v([],Ha,0,R,7);Jb=!0}n.l_desc=new k(n.dyn_ltree,Va);n.d_desc=new k(n.dyn_dtree,gb);n.bl_desc=new k(n.bl_tree,
h);n.bi_buf=0;n.bi_valid=0;r(n)};B._tr_stored_block=ya;B._tr_flush_block=function(c,f,h,k){var n=0;if(0<c.level){2===c.strm.data_type&&(c.strm.data_type=fb(c));vb(c,c.l_desc);vb(c,c.d_desc);db(c,c.dyn_ltree,c.l_desc.max_code);db(c,c.dyn_dtree,c.d_desc.max_code);vb(c,c.bl_desc);for(n=R-1;3<=n&&0===c.bl_tree[2*Fa[n]+1];n--);n=(c.opt_len+=3*(n+1)+14,n);var g=c.opt_len+3+7>>>3;var v=c.static_len+3+7>>>3;v<=g&&(g=v)}else g=v=h+5;if(h+4<=g&&-1!==f)ya(c,f,h,k);else if(4===c.strategy||v===g)W(c,2+(k?1:0),
3),ad(c,kb,ja);else{W(c,4+(k?1:0),3);f=c.l_desc.max_code+1;h=c.d_desc.max_code+1;n+=1;W(c,f-257,5);W(c,h-1,5);W(c,n-4,4);for(g=0;g<n;g++)W(c,c.bl_tree[2*Fa[g]+1],3);J(c,c.dyn_ltree,f-1);J(c,c.dyn_dtree,h-1);ad(c,c.dyn_ltree,c.dyn_dtree)}r(c);k&&ra(c)};B._tr_tally=function(c,f,h){return c.pending_buf[c.d_buf+2*c.last_lit]=f>>>8&255,c.pending_buf[c.d_buf+2*c.last_lit+1]=255&f,c.pending_buf[c.l_buf+c.last_lit]=255&h,c.last_lit++,0===f?c.dyn_ltree[2*h]++:(c.matches++,f--,c.dyn_ltree[2*(Y[h]+$a+1)]++,
c.dyn_dtree[2*(256>f?H[f]:H[256+(f>>>7)])]++),c.last_lit===c.lit_bufsize-1};B._tr_align=function(c){W(c,2,3);na(c,jb,kb);16===c.bi_valid?(ma(c,c.bi_buf),c.bi_buf=0,c.bi_valid=0):8<=c.bi_valid&&(c.pending_buf[c.pending++]=255&c.bi_buf,c.bi_buf>>=8,c.bi_valid-=8)}},{"../utils/common":3}],15:[function(n,z,B){z.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=
0}},{}],"/":[function(n,z,B){B=n("./lib/utils/common").assign;var x=n("./lib/deflate"),v=n("./lib/inflate");n=n("./lib/zlib/constants");var k={};B(k,x,v,n);z.exports=k},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});
var saveAs=saveAs||function(I){if(!("undefined"===typeof I||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var n=I.document.createElementNS("http://www.w3.org/1999/xhtml","a"),z="download"in n,B=/constructor/i.test(I.HTMLElement)||I.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent),v=function(c){(I.setImmediate||I.setTimeout)(function(){throw c;},0)},k=function(c){setTimeout(function(){"string"===typeof c?(I.URL||I.webkitURL||I).revokeObjectURL(c):c.remove()},4E4)},ma=
function(c){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob([String.fromCharCode(65279),c],{type:c.type}):c},W=function(c,f,r){r||(c=ma(c));var W=this,sa="application/octet-stream"===c.type,fa=function(){var c=["writestart","progress","write","writeend"];c=[].concat(c);for(var f=c.length;f--;){var k=W["on"+c[f]];if("function"===typeof k)try{k.call(W,W)}catch(fb){v(fb)}}};W.readyState=W.INIT;if(z){var na=(I.URL||I.webkitURL||I).createObjectURL(c);
setTimeout(function(){n.href=na;n.download=f;var c=new MouseEvent("click");n.dispatchEvent(c);fa();k(na);W.readyState=W.DONE})}else(function(){if((x||sa&&B)&&I.FileReader){var f=new FileReader;f.onloadend=function(){var c=x?f.result:f.result.replace(/^data:[^;]*;/,"data:attachment/file;");I.open(c,"_blank")||(I.location.href=c);W.readyState=W.DONE;fa()};f.readAsDataURL(c);W.readyState=W.INIT}else na||(na=(I.URL||I.webkitURL||I).createObjectURL(c)),sa?I.location.href=na:I.open(na,"_blank")||(I.location.href=
na),W.readyState=W.DONE,fa(),k(na)})()},na=W.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(c,f,k){f=f||c.name||"download";k||(c=ma(c));return navigator.msSaveOrOpenBlob(c,f)};na.abort=function(){};na.readyState=na.INIT=0;na.WRITING=1;na.DONE=2;na.error=na.onwritestart=na.onprogress=na.onwrite=na.onabort=na.onerror=na.onwriteend=null;return function(c,f,k){return new W(c,f||c.name||"download",k)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&
window||this.content);"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});"function"==typeof define&&define.__amd&&(define.amd=define.__amd,delete define.__amd);
